(this["webpackJsonp"] = this["webpackJsonp"] || []).push([
  ["mg-file"],
  {
    "00b4": function (e, t, i) {
      "use strict";
      i("92ca");
    },
    "00b8": function (e, t, i) {},
    "02ea": function (e, t, i) {},
    "031b": function (e, t, i) {
      "use strict";
      i("af59");
    },
    "041e": function (e, t, i) {
      e.exports = i.p + "static/img/use-team-library.c8a4ab5e.gif";
    },
    "0436": function (e, t, i) {
      "use strict";
      i("4336");
    },
    "04b9": function (e, t, i) {
      "use strict";
      i.d(t, "b", function () {
        return o;
      }),
        i.d(t, "a", function () {
          return a;
        }),
        i.d(t, "c", function () {
          return n;
        });
      var s = i("9a7c");
      const o = {
          fill: "paint",
          stroke: "paint",
          paint: "paint",
          effect: "effect",
          text: "text",
          grid: "grid",
        },
        a = {
          fill: "颜色",
          stroke: "颜色",
          text: "文字",
          effect: "特效",
          grid: "网格",
        },
        n = {
          [s["I"].PAINT]: "颜色",
          [s["I"].EFFECT]: "特效",
          [s["I"].TEXT]: "文字",
          [s["I"].GRID]: "网格",
        };
    },
    "0598": function (e, t, i) {},
    "0679": function (e, t, i) {
      "use strict";
      i("1e58");
    },
    "06bb": function (e, t, i) {},
    "06f5": function (e, t, i) {
      "use strict";
      i("adbc");
    },
    "073e": function (e, t, i) {
      "use strict";
      i("6cac");
    },
    "0761": function (e, t, i) {
      "use strict";
      i("0769");
    },
    "0769": function (e, t, i) {},
    "07d3": function (e, t, i) {
      "use strict";
      i("9ea6");
    },
    "080c": function (e, t, i) {
      "use strict";
      i("38ff");
    },
    "0862": function (e, t, i) {},
    "0aa3": function (e, t, i) {},
    "0b34": function (e, t, i) {
      "use strict";
      i("93e6");
    },
    "0c95": function (e, t, i) {
      "use strict";
      i("aa8e");
    },
    "0de5": function (e, t, i) {
      "use strict";
      i("bf05");
    },
    "0e0c": function (module, __webpack_exports__, __webpack_require__) {
      "use strict";
      __webpack_require__.r(__webpack_exports__),
        __webpack_require__.d(
          __webpack_exports__,
          "checkOperation",
          function () {
            return checkOperation;
          }
        ),
        __webpack_require__.d(
          __webpack_exports__,
          "checkPosition",
          function () {
            return checkPosition;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkRatio", function () {
          return checkRatio;
        }),
        __webpack_require__.d(__webpack_exports__, "_checkWH", function () {
          return _checkWH;
        }),
        __webpack_require__.d(__webpack_exports__, "checkWH", function () {
          return checkWH;
        }),
        __webpack_require__.d(__webpack_exports__, "checkStroke", function () {
          return checkStroke;
        }),
        __webpack_require__.d(__webpack_exports__, "checkRadius", function () {
          return checkRadius;
        }),
        __webpack_require__.d(__webpack_exports__, "checkAngle", function () {
          return checkAngle;
        }),
        __webpack_require__.d(__webpack_exports__, "checkSecond", function () {
          return checkSecond;
        }),
        __webpack_require__.d(__webpack_exports__, "checkEdge", function () {
          return checkEdge;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkLayerPacity",
          function () {
            return checkLayerPacity;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkScale", function () {
          return checkScale;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkLetterSpacing",
          function () {
            return checkLetterSpacing;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkCalline", function () {
          return checkCalline;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkFontSize",
          function () {
            return checkFontSize;
          }
        ),
        __webpack_require__.d(
          __webpack_exports__,
          "colorValidate",
          function () {
            return colorValidate;
          }
        ),
        __webpack_require__.d(
          __webpack_exports__,
          "ratioValidate",
          function () {
            return ratioValidate;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkSweep", function () {
          return checkSweep;
        }),
        __webpack_require__.d(__webpack_exports__, "checkGaussi", function () {
          return checkGaussi;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkEffectRadius",
          function () {
            return checkEffectRadius;
          }
        ),
        __webpack_require__.d(
          __webpack_exports__,
          "checkShadowPos",
          function () {
            return checkShadowPos;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkSpacing", function () {
          return checkSpacing;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkHorizontalOrVerticalSpacing",
          function () {
            return checkHorizontalOrVerticalSpacing;
          }
        ),
        __webpack_require__.d(__webpack_exports__, "checkDashes", function () {
          return checkDashes;
        }),
        __webpack_require__.d(__webpack_exports__, "checkDashLen", function () {
          return checkDashLen;
        }),
        __webpack_require__.d(__webpack_exports__, "checkDashGap", function () {
          return checkDashGap;
        }),
        __webpack_require__.d(__webpack_exports__, "checkDigit", function () {
          return checkDigit;
        }),
        __webpack_require__.d(__webpack_exports__, "checkDecimal", function () {
          return checkDecimal;
        }),
        __webpack_require__.d(__webpack_exports__, "checkResize", function () {
          return checkResize;
        }),
        __webpack_require__.d(__webpack_exports__, "checkInteger", function () {
          return checkInteger;
        }),
        __webpack_require__.d(__webpack_exports__, "checkPadding", function () {
          return checkPadding;
        }),
        __webpack_require__.d(
          __webpack_exports__,
          "checkFilterProps",
          function () {
            return checkFilterProps;
          }
        ),
        __webpack_require__.d(
          __webpack_exports__,
          "checkAutolayoutSpacing",
          function () {
            return checkAutolayoutSpacing;
          }
        );
      var _manager_feature_toggle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__("1320"),
        lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("2ef0"),
        lodash__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(
          lodash__WEBPACK_IMPORTED_MODULE_1__
        ),
        tinycolor2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("66cb"),
        tinycolor2__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(
          tinycolor2__WEBPACK_IMPORTED_MODULE_2__
        );
      const checkDecorator = function (...e) {
          return function (t) {
            return function (i, ...s) {
              let o = i;
              return (
                e.forEach((e) => {
                  o = e(o, ...s);
                }),
                t(o, ...s)
              );
            };
          };
        },
        checkOperation = function checkOperation(next) {
          let nextVal = next,
            result;
          if (
            (/。/.test(nextVal) && (nextVal = nextVal.replace(/。/g, ".")),
            /[^\(|\)|\.|\d|\+|\-|\*|\/|\s]/.test(nextVal))
          )
            return nextVal;
          try {
            result = eval(String(nextVal.replace(/([^\d|\.])(0+)/g, "$1")));
          } catch (e) {
            result = nextVal;
          }
          return result;
        },
        _checkPosition = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 256e3
              ? (i = "256000")
              : e < -256e3 && (i = "-256000"),
            Number(Number(i).toFixed(2))
          );
        },
        checkPosition = checkDecorator(checkOperation)(_checkPosition),
        checkRatio = checkDecorator(checkOperation),
        _checkWH = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 256e3
              ? (i = "256000")
              : e < 0.01 && (i = "0.01"),
            Number(Number(i).toFixed(2))
          );
        },
        checkWH = checkDecorator(checkOperation)(_checkWH),
        _checkStroke = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 1e3
              ? (i = "1000")
              : e < 0 && (i = "0"),
            Number(i).toFixed(2)
          );
        },
        checkStroke = checkDecorator(checkOperation)(_checkStroke),
        _checkRadius = function (e, t, i) {
          let s = e;
          return (
            Number.isNaN(+e)
              ? (s = i ? t[i] : t)
              : e > 256e3
              ? (s = "256000")
              : e < 0 && (s = "0"),
            Number(Number(s).toFixed(2))
          );
        },
        checkRadius = checkDecorator(checkOperation)(_checkRadius),
        _checkAngle = function (e, t) {
          let i = e;
          return (
            /^-?\d*(?:\.\d*)?°$/.test(String(e)) &&
              (i = e.match(/^(-?\d*(?:\.\d*)?)°$/)[1]),
            (i = Number.isNaN(+i) ? t : ((+i + 180) % 360) - 180),
            Number(Number(i).toFixed(2))
          );
        },
        checkAngle = checkDecorator(checkOperation)(_checkAngle),
        _checkSecond = function (e, t) {
          let i = e;
          return (
            /^-?\d*(?:\.\d*)?s$/.test(String(e)) &&
              (i = 1e3 * e.match(/^(-?\d*(?:\.\d*)?)s$/)[1]),
            /^-?\d*(?:\.\d*)?ms$/.test(String(e)) &&
              (i = e.match(/^(-?\d*(?:\.\d*)?)ms$/)[1]),
            Number.isNaN(+i) && (i = t),
            i > 2e4 ? (i = 2e4) : i < 0 && (i = 0),
            parseInt(i, 10)
          );
        },
        checkSecond = checkDecorator(checkOperation)(_checkSecond),
        _checkEdge = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 60
              ? (i = "60")
              : e < 3 && (i = "3"),
            Math.round(i)
          );
        },
        checkEdge = checkDecorator(checkOperation)(_checkEdge),
        _checkLayerPacity = function (e, t) {
          if (void 0 === e) return t;
          let i = e;
          return (
            /^(\d*(?:\.\d*)?)%$/.test(String(e)) &&
              (i = e.match(/^(\d*(?:\.\d*)?)%$/)[1]),
            "string" === typeof e && (i = parseFloat(e)),
            Number.isNaN(i)
              ? t
              : (Number.isNaN(+i)
                  ? (i = 100 * t)
                  : i > 100
                  ? (i = 100)
                  : i < 0 && (i = 0),
                Number(i / 100))
          );
        },
        checkLayerPacity = checkDecorator(checkOperation)(_checkLayerPacity),
        _checkScale = function (e, t) {
          if (void 0 === e) return t;
          let i = e;
          return (
            /^(\d*(?:\.\d*)?)%$/.test(String(e)) &&
              (i = e.match(/^(\d*(?:\.\d*)?)%$/)[1]),
            "string" === typeof e && (i = parseFloat(e)),
            Number.isNaN(i)
              ? t
              : (Number.isNaN(+i)
                  ? (i = 100 * t)
                  : i > 1e4
                  ? (i = 1e4)
                  : i <= 0 && (i = 100),
                Number(i / 100))
          );
        },
        checkScale = checkDecorator(checkOperation)(_checkScale),
        _checkLetterSpacing = function (e, t) {
          let i = e;
          const s = /%/.test(i),
            o = /px/.test(i);
          let a = "%";
          return s || o
            ? (o
                ? ((i = i.replaceAll("px", "")), (a = "px"))
                : s && (i = i.replaceAll("%", "")),
              (i = checkOperation(i)),
              Number.isNaN(+i) ? (i = t) : (i += a),
              i)
            : i;
        },
        checkLetterSpacing = _checkLetterSpacing,
        _checkCalline = function (e = "", t) {
          const i = e + "";
          if (!/%/.test(i)) {
            let i = e;
            return (
              Number.isNaN(+i) && (i = t),
              "" === i ? i : (e < 0 && (i = "0"), String(i))
            );
          }
          if (
            !Object(
              _manager_feature_toggle__WEBPACK_IMPORTED_MODULE_0__[
                "isFeatureEnabled"
              ]
            )("textPercentLineHeight")
          )
            return t;
          const s = i.split("%")[0],
            o = +s;
          if ("" === s) return "";
          if (o < 0) return "0%";
          const a = Math.round(100 * o) / 100;
          return a + "%";
        },
        checkCalline = checkDecorator(checkOperation)(_checkCalline),
        _checkFontSize = function (e = "", t) {
          let i = e;
          return Number.isNaN(+i) && (i = t), e < 1 && (i = "1"), Number(i);
        },
        checkFontSize = checkDecorator(checkOperation)(_checkFontSize),
        colorValidate = function (e, t, i) {
          let s = e;
          if ("undefined" === typeof i) return checkLayerPacity(s, t);
          if (1 === i) return checkLayerPacity(s, t);
          switch (("#" === s[0] && (s = s.substring(1)), s.length)) {
            case 1:
              s = s.replace(/(.*)/, "$1$1$1$1$1$1");
              break;
            case 2:
              s = s.replace(/(.*)/, "$1$1$1");
              break;
            case 3:
              s = s.replace(/(.*)/, "$1$1");
              break;
            case 4:
              s = s.replace(/(.{3})./, "$1$1");
              break;
            case 5:
              s = s.replace(/(.{4})(.)/, "$1$2$2");
              break;
            default:
              break;
          }
          return tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(s).isValid()
            ? s
            : t;
        },
        _ratioValidate = function (e, t) {
          let i = e;
          return (
            /^(\d*(?:\.\d*)?)%$/.test(String(e)) &&
              (i = e.match(/^(\d*(?:\.\d*)?)%$/)[1]),
            Number.isNaN(+i)
              ? (i = 100 * t)
              : e > 100
              ? (i = "100")
              : e < 0 && (i = "0"),
            i / 100
          );
        },
        ratioValidate = checkDecorator(checkOperation)(_ratioValidate),
        _checkSweep = function (e, t) {
          let i = e;
          return (
            /^(-?\d*(?:\.\d*)?)%$/.test(String(e)) &&
              (i = e.match(/^(-?\d*(?:\.\d*)?)%$/)[1]),
            Number.isNaN(+i)
              ? (i = 100 * t)
              : (e > 100 || e < -100) && (i = "100"),
            i / 100
          );
        },
        checkSweep = checkDecorator(checkOperation)(_checkSweep),
        _checkGaussi = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 200
              ? (i = "200")
              : e < 0 && (i = "0"),
            Number(i).toFixed(2)
          );
        },
        checkGaussi = checkDecorator(checkOperation)(_checkGaussi),
        _checkEffectRadius = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 1e3
              ? (i = "1000")
              : e < 0 && (i = "0"),
            Number(i).toFixed(2)
          );
        },
        checkEffectRadius = checkDecorator(checkOperation)(_checkEffectRadius),
        _checkShadowPos = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 3e3
              ? (i = "3000")
              : e < -3e3 && (i = "-3000"),
            Number(i).toFixed(2)
          );
        },
        checkShadowPos = checkDecorator(checkOperation)(_checkShadowPos),
        _checkSpacing = function (e, t) {
          let i = e;
          return Number.isNaN(+e) ? (i = t) : e < 0 && (i = "0"), Number(i);
        },
        checkSpacing = checkDecorator(checkOperation)(_checkSpacing),
        _checkHorizontalOrVerticalSpacing = function (e, t) {
          let i = e;
          return Number.isNaN(+e) && (i = t), Number(i);
        },
        checkHorizontalOrVerticalSpacing = checkDecorator(checkOperation)(
          _checkHorizontalOrVerticalSpacing
        ),
        checkDashes = function (e, t) {
          const i = e.split(/[,，]/g);
          if (~i.findIndex((e) => Number.isNaN(+e))) return t;
          const s = i
            .filter((e) => !Number.isNaN(+e) && +e > 0)
            .map((e) => Math.round(e));
          return s.length % 2 === 1 && s.push(...s), s.slice(0, 10);
        },
        checkDashLen = function (e = "", t) {
          return Number.isNaN(+e) || +e <= 0 ? t : String(Math.round(e));
        },
        checkDashGap = function (e = "", t) {
          return Number.isNaN(+e)
            ? t || "NaN"
            : "" === e
            ? ""
            : +e <= 0
            ? t || "NaN"
            : String(Math.round(e));
        },
        _checkDigit = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 20
              ? (i = "20")
              : e < 1 && (i = "1"),
            parseInt(i, 10)
          );
        },
        checkDigit = checkDecorator(checkOperation)(_checkDigit),
        _checkDecimal = function (e, t) {
          let i = e;
          return (
            Number.isNaN(+e)
              ? (i = t)
              : e > 20
              ? (i = "20")
              : e < 0 && (i = "0"),
            parseInt(i, 10)
          );
        },
        checkDecimal = checkDecorator(checkOperation)(_checkDecimal),
        _checkResize = function (e, t) {
          var i;
          try {
            const s = String(e),
              o =
                null === (i = s.match(/^\d+\.?\d*/)) || void 0 === i
                  ? void 0
                  : i[0];
            return o && 0 !== Math.round(+o)
              ? +o < 2
                ? "2%"
                : +o > 25600
                ? "25600%"
                : Math.round(+o) + "%"
              : t;
          } catch (s) {
            return t;
          }
        },
        checkResize = checkDecorator((e) => e)(_checkResize),
        _checkInteger = function (e = "", t) {
          let i = e;
          return (
            Number.isNaN(+i) && (i = t),
            "" === i
              ? i
              : (e < 0 && (i = "0"), e > 1e6 && (i = 1e6), Math.round(i))
          );
        },
        checkInteger = checkDecorator(checkOperation)(_checkInteger),
        checkPadding = function (e) {
          if ("" === e) return [];
          const t = e.replace(/\s+/, " ").split(/[,，\s]/g),
            i = [];
          t.forEach((e) => {
            const t = e.trim();
            "" !== t && i.push(t);
          });
          const s = i.map((e) => checkOperation(e));
          return ~s.findIndex((e) => Number.isNaN(+e))
            ? []
            : s.map((e) =>
                +e < 0
                  ? 0
                  : "string" === typeof e
                  ? parseFloat(e).toFixed(2)
                  : e.toFixed(2)
              );
        },
        _checkFilterProps = function (e, t) {
          try {
            const i = +e;
            return Object(lodash__WEBPACK_IMPORTED_MODULE_1__["isNumber"])(i)
              ? e <= 100 && e >= -100
                ? Math.round(e)
                : e > 100
                ? 100
                : e < -100
                ? -100
                : t
              : t;
          } catch (i) {
            return t;
          }
        },
        checkFilterProps = checkDecorator((e) => e)(_checkFilterProps),
        _checkAutolayoutSpacing = function (e, t) {
          let i = e;
          Number.isNaN(+e) && (i = t);
          let s = +i;
          return (s = s > 256e3 ? 256e3 : s < -256e3 ? -256e3 : s), s;
        },
        checkAutolayoutSpacing = checkDecorator(checkOperation)(
          _checkAutolayoutSpacing
        );
    },
    "0e41": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right-export-item",
            },
            [
              i("MasterSelector", {
                attrs: {
                  "allow-input": "",
                  options: e.EXPORT_SIZE_LIST,
                  value:
                    2 === +e.data.type || 3 === +e.data.type ? "1x" : e.size,
                  disabled: 2 === +e.data.type || 3 === +e.data.type,
                  mode: "masterPopover",
                },
                on: {
                  change: e.sizeInputHandle,
                },
              }),
              i(
                "master-input",
                {
                  class: e.data.isSuffix
                    ? "export-item--suffix"
                    : "export-item--prefix",
                  attrs: {
                    value: e.data.fileName,
                    placeholder: e.data.isSuffix ? "后缀" : "前缀",
                  },
                  on: {
                    change: e.fixChange,
                  },
                },
                [
                  i("MasterButtonIcon", {
                    staticClass: "export-item-icon",
                    class: e.data.isSuffix
                      ? "export-item-icon--suffix"
                      : "export-item-icon--prefix",
                    attrs: {
                      slot: e.data.isSuffix ? "header" : "footer",
                      icon: "EllipsisHIcon",
                    },
                    on: {
                      click: e.changeFixType,
                    },
                    slot: e.data.isSuffix ? "header" : "footer",
                  }),
                ],
                1
              ),
              i("MSelector", {
                attrs: {
                  options: e.EXPORTTYPE_LIST,
                  value: +e.data.type,
                },
                on: {
                  change: e.typeHandle,
                },
              }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d140");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.EXPORTTYPE_LIST = r["e"].dictionaries.EXPORTTYPE_LIST()),
            (this.EXPORT_SIZE_LIST = r["e"].dictionaries.EXPORT_SIZE_LIST()),
            (this.size = "1x");
        }
        handler() {
          this.size = this.data.size;
        }
        typeHandle(e) {
          this.$emit("change", {
            fileType: +e,
          });
        }
        valueHandle(e) {
          const t = e.match(/(.*)(x|h|w)/);
          t &&
            this.$emit("change", {
              type: {
                x: 0,
                w: 1,
                h: 2,
              }[t[2]],
              value: +t[1],
            });
        }
        sizeInputHandle(e) {
          const t = Number(e);
          if (0 === t) return;
          const i = e.toLocaleLowerCase();
          /^(?:(?:[1-9]\d*)|(?:\d*\.\d+))(?:x|w|h)$/.test(i)
            ? this.valueHandle(i)
            : /^(?:(?:[1-9]\d*)|(?:\d*\.\d+))$/.test(i) &&
              this.valueHandle(i + "x");
        }
        fixChange(e) {
          this.$emit("change", {
            fileName: e,
          });
        }
        changeFixType() {
          this.$emit("change", {
            isSuffix: !this.data.isSuffix,
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            default: () => ({
              size: "1x",
              type: 0,
            }),
            required: !0,
          }),
        ],
        c.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data.size", {
              immediate: !0,
            }),
          ],
          c.prototype,
          "handler",
          null
        ),
        (c = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterSelector: r["e"],
                MSelector: r["b"],
                MasterMenu: r["d"],
              },
              computed: {},
              methods: {},
            }),
          ],
          c
        ));
      var l = c,
        d = l,
        u = (i("1781"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "77e2b4c6", null);
      t["a"] = h.exports;
    },
    1049: function (e, t, i) {
      "use strict";
      i("02ea");
    },
    10490: function (e, t, i) {
      "use strict";
      i("0aa3");
    },
    1080: function (e, t, i) {
      "use strict";
      i("851b");
    },
    "113a": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "section",
            {
              staticClass: "emoji-box",
              class: ["emoji-box--size-" + e.size],
            },
            [
              i(
                "h3",
                {
                  staticClass: "emoji-box__title",
                },
                [e._v("常用表情")]
              ),
              i(
                "ul",
                {
                  staticClass: "emoji-box__line",
                },
                e._l(e.recentlyUsed, function (t, s) {
                  return i(
                    "li",
                    {
                      key: s + t,
                      staticClass: "emoji-box__emoji",
                      attrs: {
                        code: t,
                      },
                      on: {
                        click: function (i) {
                          return e.handleClickEmoji(t);
                        },
                      },
                    },
                    [e._v(e._s(e.getEmojiByCodepoint(t)))]
                  );
                }),
                0
              ),
              i(
                "h3",
                {
                  staticClass: "emoji-box__title",
                },
                [e._v("全部表情")]
              ),
              e._l(e.emojiLines, function (t) {
                return i(
                  "ul",
                  {
                    key: t.join(","),
                    staticClass: "emoji-box__line",
                  },
                  e._l(t, function (t, s) {
                    return i(
                      "li",
                      {
                        key: s + t,
                        staticClass: "emoji-box__emoji",
                        attrs: {
                          code: t,
                        },
                        on: {
                          click: function (i) {
                            return e.handleClickEmoji(t);
                          },
                        },
                      },
                      [
                        -1 !== t
                          ? i("span", [e._v(e._s(e.getEmojiByCodepoint(t)))])
                          : e._e(),
                      ]
                    );
                  }),
                  0
                );
              }),
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d257");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.emojiUnicodeStart = 128513),
            (this.emojiUnicodeEnd = 128741),
            (this.recentlyUsed = r["m"].slice(0, 6));
        }
        get emojis() {
          const e = r["m"];
          for (let t = this.emojiUnicodeStart; t <= this.emojiUnicodeEnd; t++)
            Object(r["bb"])(t) && !e.includes(t) && e.push(t);
          return e;
        }
        get emojiLines() {
          const e = [],
            t = this.emojis.length - 1;
          for (let i = 0; i <= t; i += 6) {
            const s = this.emojis[i],
              o = i + 1 <= t ? this.emojis[i + 1] : -1,
              a = i + 2 <= t ? this.emojis[i + 2] : -1,
              n = i + 3 <= t ? this.emojis[i + 3] : -1,
              r = i + 4 <= t ? this.emojis[i + 4] : -1,
              c = i + 5 <= t ? this.emojis[i + 5] : -1;
            e.push([s, o, a, n, r, c]);
          }
          return e;
        }
        handleClickEmoji(e) {
          this.$emit("click-emoji", this.getEmojiByCodepoint(e));
          const t = this.recentlyUsed.indexOf(e);
          if (0 !== t)
            if (t > 0) {
              const e = this.recentlyUsed.splice(t, 1);
              this.recentlyUsed.unshift(e[0]);
            } else this.recentlyUsed.unshift(e), this.recentlyUsed.pop();
        }
        getEmojiByCodepoint(e) {
          return 10084 === e ? "❤️" : String.fromCodePoint(e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "md",
          }),
        ],
        c.prototype,
        "size",
        void 0
      ),
        (c = Object(a["__decorate"])([n["a"]], c));
      var l = c,
        d = l,
        u = (i("7a1a"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "9bf6cd7a", null);
      t["a"] = h.exports;
    },
    1201: function (e, t, i) {
      "use strict";
      i("f4f3");
    },
    1216: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "org-logo",
            },
            [
              i("img", {
                attrs: {
                  src: e.src,
                },
                on: {
                  error: e.imgError,
                },
              }),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("3954");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments), (this.errSrc = !1);
        }
        imgError() {
          this.errSrc = !0;
        }
        get src() {
          return (!this.errSrc && this.logo) || r["a"];
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
          }),
        ],
        c.prototype,
        "logo",
        void 0
      ),
        (c = Object(a["__decorate"])([Object(n["a"])({})], c));
      var l = c,
        d = l,
        u = (i("d20a"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "5e4a4eb6", null);
      t["a"] = h.exports;
    },
    "12b3": function (e, t, i) {
      "use strict";
      i("b8ac");
    },
    "130b": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "label",
            {
              staticClass: "radio",
              class: {
                "radio--disabled": e.disabled,
              },
            },
            [
              i("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: e.isChecked,
                    expression: "isChecked",
                  },
                ],
                attrs: {
                  type: "radio",
                  name: e.name,
                  disabled: e.disabled,
                },
                domProps: {
                  value: !0,
                  checked: e._q(e.isChecked, !0),
                },
                on: {
                  change: function (t) {
                    e.isChecked = !0;
                  },
                },
              }),
              i("div", {
                staticClass: "radio__icon",
                class: {
                  "radio__icon--checked": e.isChecked,
                },
              }),
              i(
                "div",
                {
                  staticClass: "radio__text",
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3");
      let r = class extends n["g"] {
        get isChecked() {
          return void 0 === this.val ? !!this.value : this.value === this.val;
        }
        set isChecked(e) {
          void 0 !== this.val
            ? this.$emit("input", this.val)
            : this.$emit("input", e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["d"])("input", {
            default: !1,
          }),
        ],
        r.prototype,
        "value",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: void 0,
            }),
          ],
          r.prototype,
          "val",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          r.prototype,
          "name",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "disabled",
          void 0
        ),
        (r = Object(a["__decorate"])([n["a"]], r));
      var c = r,
        l = c,
        d = (i("d43f"), i("2877")),
        u = Object(d["a"])(l, s, o, !1, null, "5ac549f4", null);
      t["a"] = u.exports;
    },
    1362: function (e, t, i) {},
    1370: function (e, t, i) {},
    "13af": function (e, t, i) {
      "use strict";
      i("bcca");
    },
    "145c": function (e, t, i) {
      "use strict";
      i("0862");
    },
    "155d": function (e, t, i) {},
    1584: function (e, t, i) {
      "use strict";
      i("95c7");
    },
    1614: function (e, t, i) {
      "use strict";
      var s = i("9ab4"),
        o = i("60a3");
      let a = class extends o["g"] {
        genBottomTip(e, t, i) {
          return {
            content: e,
            offset: t || "6",
            delay: i || "10",
          };
        }
      };
      (a = Object(s["__decorate"])([o["a"]], a)), (t["a"] = a);
    },
    "162d": function (e, t, i) {},
    "163a": function (e, t, i) {
      "use strict";
      i("ba59");
    },
    "163b": function (e, t, i) {
      "use strict";
      var s;
      i.d(t, "a", function () {
        return s;
      }),
        (function (e) {
          (e[(e["DbClickFrameName"] = 0)] = "DbClickFrameName"),
            (e[(e["OpenFlow"] = 10)] = "OpenFlow"),
            (e[(e["LayerFillFailed"] = 11)] = "LayerFillFailed"),
            (e[(e["ClickMissingFontLayer"] = 101)] = "ClickMissingFontLayer"),
            (e[(e["OpenImageEdit"] = 100)] = "OpenImageEdit"),
            (e[(e["changeSetWarning"] = 102)] = "changeSetWarning"),
            (e[(e["OpenImageCrop"] = -1)] = "OpenImageCrop"),
            (e[(e["Autolayout"] = 103)] = "Autolayout"),
            (e[(e["ComponentSelect"] = 104)] = "ComponentSelect");
        })(s || (s = {}));
    },
    "16b5": function (e, t, i) {
      "use strict";
      i("bc94c");
    },
    1731: function (e, t, i) {},
    1781: function (e, t, i) {
      "use strict";
      i("fed5");
    },
    "179a": function (e, t, i) {
      "use strict";
      i("495d");
    },
    "182a": function (e, t, i) {
      "use strict";
      i.r(t);
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "center-page",
            },
            [
              i(
                "div",
                {
                  staticClass: "logo_container",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "logo",
                    },
                    [
                      i("MasterGoLogo", {
                        attrs: {
                          isDark: e.isDark,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "middle",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "middle-wrap",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "title t1",
                        },
                        [e._v("文件访问权限申请")]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "apply-wrap",
                        },
                        [
                          i("img", {
                            staticClass: "apply-wrap_img",
                            attrs: {
                              src: e.documentObj.cover,
                            },
                          }),
                          i(
                            "div",
                            {
                              staticClass: "apply-wrap_info",
                            },
                            [
                              i("li", [
                                i(
                                  "span",
                                  {
                                    staticClass: "apply-wrap_title",
                                  },
                                  [e._v("文件名称")]
                                ),
                                i(
                                  "span",
                                  {
                                    staticClass: "apply-wrap_name",
                                  },
                                  [e._v(e._s(e.documentObj.name))]
                                ),
                              ]),
                              i("li", [
                                i(
                                  "span",
                                  {
                                    staticClass: "apply-wrap_title",
                                  },
                                  [e._v("所有者")]
                                ),
                                i(
                                  "span",
                                  {
                                    staticClass: "apply-wrap_name",
                                  },
                                  [e._v(e._s(e.documentObj.owner))]
                                ),
                              ]),
                              i("li", [
                                i(
                                  "span",
                                  {
                                    staticClass: "apply-wrap_title",
                                  },
                                  [e._v("申请权限")]
                                ),
                                i(
                                  "span",
                                  [
                                    i(
                                      "master-dropdown",
                                      {
                                        staticClass: "dropdown",
                                        class: {
                                          disabled: e.isApplying,
                                        },
                                        attrs: {
                                          open: e.isShow,
                                        },
                                        on: {
                                          command: e.changeStatus,
                                          "update:open": function (t) {
                                            e.isShow = t;
                                          },
                                        },
                                      },
                                      [
                                        i(
                                          "div",
                                          {
                                            staticClass: "dropdown_val",
                                            attrs: {
                                              slot: "dropButton",
                                            },
                                            slot: "dropButton",
                                          },
                                          [
                                            i("span", [
                                              e._v(e._s(e.curDropDownName)),
                                            ]),
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "dropdown_icon transition",
                                              },
                                              [
                                                i("AngleDownIcon", {
                                                  attrs: {
                                                    size: "14",
                                                  },
                                                }),
                                              ],
                                              1
                                            ),
                                          ]
                                        ),
                                        i("MasterMenu", {
                                          attrs: {
                                            slot: "dropMenu",
                                            list: e.list,
                                          },
                                          slot: "dropMenu",
                                        }),
                                      ],
                                      1
                                    ),
                                  ],
                                  1
                                ),
                              ]),
                            ]
                          ),
                        ]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "btn-wrap",
                        },
                        [
                          e.isApplying
                            ? [
                                i(
                                  "span",
                                  {
                                    staticClass: "desc",
                                  },
                                  [
                                    i("svg-plugin", {
                                      staticClass: "icon",
                                      attrs: {
                                        name: "check-solid",
                                      },
                                    }),
                                    e._v("权限申请已提交，请耐心等待"),
                                  ],
                                  1
                                ),
                              ]
                            : [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "btn",
                                    attrs: {
                                      type: "gray",
                                      size: "md",
                                    },
                                    on: {
                                      click: e.handleCancel,
                                    },
                                  },
                                  [e._v("取消")]
                                ),
                                i(
                                  "MButton",
                                  {
                                    staticClass: "btn",
                                    attrs: {
                                      size: "md",
                                    },
                                    on: {
                                      click: e.handleApply,
                                    },
                                  },
                                  [e._v("提交")]
                                ),
                              ],
                        ],
                        2
                      ),
                    ]
                  ),
                ]
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("79f6c"),
        c = i("257a"),
        l = i("d140"),
        d = i("d91a"),
        u = i("1fc8");
      let h = class extends n["g"] {
        constructor() {
          var e;
          super(...arguments),
            (this.isDark = this.$store.state.main.isDark),
            (this.curDropDownName = "查看者"),
            (this.curDropDownVal = "onlooker"),
            (this.inviteTeamChecked = !0),
            (this.isApplying = !1),
            (this.documentObj = {
              cover: "",
              name: "",
              owner: "",
              requiested: !1,
            }),
            (this.documentId =
              null === (e = this.$route.query) || void 0 === e ? void 0 : e.id),
            (this.list = [
              {
                value: "member",
                label: "编辑者",
              },
              {
                value: "onlooker",
                label: "查看者",
              },
            ]),
            (this.isShow = !1);
        }
        created() {
          var e;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { code: t, data: i } = yield Object(r["O"])(this.documentId);
            "OK" === t &&
              ((this.documentObj = i),
              (null === (e = this.documentObj) || void 0 === e
                ? void 0
                : e.requiested) && (this.isApplying = !0));
          });
        }
        changeStatus(e) {
          (this.curDropDownName = e.label), (this.curDropDownVal = e.value);
        }
        handleCancel() {
          window.history.back();
        }
        handleApply() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = yield Object(r["C"])(this.documentId, {
              roleName: this.curDropDownVal,
            });
            "OK" === e.code ? (this.isApplying = !0) : (this.isApplying = !1),
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "permission_apply",
                action_parameter0: "file_permission_apply",
                action_type: "click",
                action_detail:
                  "member" === this.curDropDownVal ? "edit" : "view",
                action_success: this.isApplying ? "T" : "F",
              });
          });
        }
      };
      h = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterGoLogo: c["a"],
              MasterMenu: l["d"],
            },
          }),
        ],
        h
      );
      var p = h,
        m = p,
        g = (i("4705"), i("2877")),
        b = Object(g["a"])(m, s, o, !1, null, "39e8a91e", null);
      t["default"] = b.exports;
    },
    "182c": function (e, t, i) {
      "use strict";
      i("7e91");
    },
    1844: function (e, t, i) {
      "use strict";
      i("2cb6");
    },
    1890: function (e, t, i) {},
    "18d2": function (e, t, i) {
      "use strict";
      i("d33e");
    },
    "18e8": function (e, t, i) {
      "use strict";
      var s,
        o,
        a,
        n = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "share_menu_wrapper",
              class: {
                "share_menu_wrapper--hide-user": e.hideUserList,
                "publish-active": e.isPublishActive,
              },
            },
            [
              i("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: e.url,
                    expression: "url",
                  },
                ],
                ref: "url",
                staticClass: "shadowInput",
                attrs: {
                  type: "text",
                },
                domProps: {
                  value: e.url,
                },
                on: {
                  input: function (t) {
                    t.target.composing || (e.url = t.target.value);
                  },
                },
              }),
              i(
                "div",
                {
                  staticClass: "title_bar",
                  class: {
                    "title_bar--allowpub": e.allowPub,
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "title_info",
                      class: {
                        "title_info--allowpub": e.allowPub,
                      },
                    },
                    [
                      e.allowPub
                        ? [
                            i(
                              "h5",
                              {
                                class: {
                                  active: e.isInvateActive,
                                },
                                on: {
                                  click: function (t) {
                                    e.currentTab = e.Tab.Invate;
                                  },
                                },
                              },
                              [e._v("邀请")]
                            ),
                            i(
                              "h5",
                              {
                                class: {
                                  active: e.isPublishActive,
                                },
                                on: {
                                  click: e.handlePub,
                                },
                              },
                              [e._v("发布到社区")]
                            ),
                          ]
                        : [
                            i(
                              "div",
                              {
                                staticClass:
                                  "panel_name truncate h4 text-tran-85",
                              },
                              [e._v("邀请协作者")]
                            ),
                          ],
                    ],
                    2
                  ),
                  i(
                    "div",
                    {
                      staticClass: "panel_button",
                    },
                    [
                      e.isInvateActive
                        ? i("MasterButtonIcon", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: {
                                  content: "点击复制嵌入网页代码",
                                  offset: "3px",
                                },
                                expression:
                                  "{ content: '点击复制嵌入网页代码', offset: '3px' }",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              icon: "CodeIcon",
                            },
                            on: {
                              click: e.copyIframeSrc,
                            },
                          })
                        : e._e(),
                      !e.hideFliePageFunction && e.isInvateActive
                        ? i(
                            "master-dropdown",
                            {
                              on: {
                                command: e.changeStatus,
                                "update:open": e.changeStatusOpen,
                              },
                            },
                            [
                              i("MasterButtonIcon", {
                                attrs: {
                                  slot: "dropButton",
                                  icon: "SlidersHIcon",
                                },
                                slot: "dropButton",
                              }),
                              i("master-menu", {
                                attrs: {
                                  slot: "dropMenu",
                                  list: e.menuList,
                                  getChecked: e.getChecked,
                                },
                                slot: "dropMenu",
                              }),
                            ],
                            1
                          )
                        : e._e(),
                      i("MasterButtonIcon", {
                        attrs: {
                          icon: "TimesIcon",
                        },
                        on: {
                          click: e.closePannel,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              e.isInvateActive
                ? i(
                    "div",
                    {
                      staticClass: "share_menu_wrapper__content",
                      class: {
                        "share_menu_wrapper__content--allowpub": e.allowPub,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "invite_content",
                          class: {
                            invite_content_bottom: e.showConfrimList,
                          },
                        },
                        [
                          i("Invatedialog", {
                            attrs: {
                              list: e.roleHandler("invite"),
                              fileInfo: e.fileInfo,
                              role: e.fileInfo.userRole,
                              showMembers: !1,
                              shareMembersList: e.shareMembersList,
                              open: e.open,
                            },
                            on: {
                              send: e.sendMail,
                            },
                          }),
                        ],
                        1
                      ),
                      !e.hideUserList && e.showConfrimList
                        ? [
                            e.fileOwner || e.shareMembersList.length
                              ? i(
                                  "ul",
                                  [
                                    e.fileDescribe && !e.isDraftFile
                                      ? i(
                                          "li",
                                          [
                                            i("svg-plugin", {
                                              staticClass: "desc-icon",
                                              attrs: {
                                                name: "people",
                                              },
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass: "desc_text",
                                              },
                                              [e._v(e._s(e.fileDescribe))]
                                            ),
                                          ],
                                          1
                                        )
                                      : e._e(),
                                    e.fileOwner
                                      ? i(
                                          "li",
                                          [
                                            i("portrait", {
                                              attrs: {
                                                info: e.fileOwner,
                                                size: "middle",
                                              },
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_name",
                                              },
                                              [
                                                i(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "name truncate h4",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.fileOwner.name +
                                                          (e.userInfo.id ===
                                                          e.fileOwner.id
                                                            ? "（我）"
                                                            : "")
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                i(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "mail truncate",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(e.fileOwner.email)
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_attr p5",
                                              },
                                              [e._v("所有者")]
                                            ),
                                          ],
                                          1
                                        )
                                      : e._e(),
                                    e._l(e.shareList.members, function (t, s) {
                                      return i(
                                        "li",
                                        {
                                          key: s + "ha",
                                        },
                                        [
                                          i("portrait", {
                                            attrs: {
                                              info: t,
                                              size: "middle",
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              staticClass: "user_name",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass: "info",
                                                },
                                                [
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "name h5 truncate",
                                                    },
                                                    [
                                                      e._v(
                                                        e._s(
                                                          (t.name || "未命名") +
                                                            (e.userInfo.id ===
                                                            t.id
                                                              ? "（我）"
                                                              : "")
                                                        )
                                                      ),
                                                    ]
                                                  ),
                                                  t.isInTeam || e.isDraftFile
                                                    ? e._e()
                                                    : i(
                                                        "div",
                                                        {
                                                          staticClass: "type",
                                                        },
                                                        [e._v("外部")]
                                                      ),
                                                ]
                                              ),
                                              t.email || t.phoneNumber
                                                ? i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "mail truncate",
                                                    },
                                                    [
                                                      e._v(
                                                        e._s(
                                                          t.email ||
                                                            t.phoneNumber
                                                        )
                                                      ),
                                                    ]
                                                  )
                                                : e._e(),
                                            ]
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass: "user_attr p5",
                                            },
                                            [
                                              e.isUserAccessTip(t)
                                                ? i("InfoColorIcon", {
                                                    directives: [
                                                      {
                                                        name: "tip",
                                                        rawName: "v-tip.bottom",
                                                        value: {
                                                          content:
                                                            e.getUserAccessTip(),
                                                        },
                                                        expression:
                                                          "{\n                content: getUserAccessTip(),\n              }",
                                                        modifiers: {
                                                          bottom: !0,
                                                        },
                                                      },
                                                    ],
                                                    staticStyle: {
                                                      "margin-right": "6px",
                                                    },
                                                    attrs: {
                                                      size: "13",
                                                    },
                                                  })
                                                : e._e(),
                                              t.hideSelector
                                                ? e._e()
                                                : [
                                                    "string" !==
                                                    typeof e.roleHandler(
                                                      null,
                                                      t
                                                    )
                                                      ? i("MasterSelector", {
                                                          attrs: {
                                                            theme: "simple",
                                                            size: "middle",
                                                            options:
                                                              e.roleHandler(
                                                                null,
                                                                t
                                                              ),
                                                            value:
                                                              t.documentRole,
                                                          },
                                                          on: {
                                                            change: function (
                                                              i
                                                            ) {
                                                              e.changeVal(i, t);
                                                            },
                                                          },
                                                        })
                                                      : i("div", [
                                                          e._v(
                                                            e._s(
                                                              e.roleHandler(
                                                                null,
                                                                t
                                                              )
                                                            )
                                                          ),
                                                        ]),
                                                  ],
                                            ],
                                            2
                                          ),
                                        ],
                                        1
                                      );
                                    }),
                                    e._l(
                                      e.shareList.confirmList,
                                      function (t, s) {
                                        return i(
                                          "li",
                                          {
                                            key: s + "fa",
                                          },
                                          [
                                            i("div", {
                                              staticClass: "confirm_icon",
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "confirm_name truncate",
                                              },
                                              [
                                                e._v(
                                                  e._s(
                                                    t.email ||
                                                      t.name ||
                                                      t.phoneNumber
                                                  )
                                                ),
                                              ]
                                            ),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_attr p5",
                                              },
                                              [
                                                "string" !==
                                                typeof e.roleHandler(
                                                  "confirm",
                                                  t
                                                )
                                                  ? i("MasterSelector", {
                                                      attrs: {
                                                        theme: "simple",
                                                        size: "middle",
                                                        options: e.roleHandler(
                                                          "confirm",
                                                          t
                                                        ),
                                                        value: t.roleName,
                                                      },
                                                      on: {
                                                        change: function (i) {
                                                          e.changeVal(i, t);
                                                        },
                                                      },
                                                    })
                                                  : i("div", [
                                                      e._v(
                                                        " " +
                                                          e._s(
                                                            e.roleHandler(
                                                              "confirm",
                                                              t
                                                            )
                                                          ) +
                                                          " "
                                                      ),
                                                    ]),
                                              ],
                                              1
                                            ),
                                          ]
                                        );
                                      }
                                    ),
                                  ],
                                  2
                                )
                              : i(
                                  "ul",
                                  e._l(4, function (t) {
                                    return i(
                                      "li",
                                      {
                                        key: "skeleton_" + t,
                                        staticClass: "skeleton-item",
                                      },
                                      [
                                        i("div", {
                                          staticClass: "skeleton-left",
                                        }),
                                        e._m(0, !0),
                                        i("div", {
                                          staticClass: "skeleton-right",
                                        }),
                                      ]
                                    );
                                  }),
                                  0
                                ),
                          ]
                        : e._e(),
                    ],
                    2
                  )
                : e._e(),
              e.isInvateActive && e.showConfrimList
                ? i(
                    "div",
                    {
                      staticClass: "line_container",
                    },
                    [
                      i("div", [
                        i(
                          "div",
                          {
                            staticClass: "share-panel-toggle",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "share-panel-title",
                              },
                              [
                                e._v(
                                  " 链接分享（" +
                                    e._s(e.shareStatus ? "已" : "未") +
                                    "开启） "
                                ),
                                i("InfoIcon", {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip",
                                      value: {
                                        content:
                                          "通过分享链接方式邀请协作人，可选<br />择私密邀请和公开邀请两种方式",
                                        offset: 2,
                                        placement: "right",
                                      },
                                      expression:
                                        "{\n              content: '通过分享链接方式邀请协作人，可选<br />择私密邀请和公开邀请两种方式',\n              offset: 2,\n              placement: 'right'\n            }",
                                    },
                                  ],
                                  attrs: {
                                    size: "14px",
                                  },
                                }),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                on: {
                                  click: e.disabledChagne,
                                },
                              },
                              [
                                i("toggle", {
                                  attrs: {
                                    defaultOpen: e.shareStatus,
                                    disable: !e.newOpenPublicPermisson,
                                  },
                                  on: {
                                    change: e.changeShareStatus,
                                  },
                                }),
                              ],
                              1
                            ),
                          ]
                        ),
                        e.shareStatus
                          ? e._e()
                          : i(
                              "div",
                              {
                                staticClass: "share-panel-desc",
                              },
                              [e._v("只有已添加的协作者可访问此文档")]
                            ),
                      ]),
                      e.shareStatus
                        ? [
                            i(
                              "div",
                              {
                                staticClass: "access_role",
                              },
                              [
                                e.newOpenPublicPermisson
                                  ? i(
                                      "div",
                                      {
                                        staticClass: "share-panel__static",
                                      },
                                      [
                                        i(
                                          "Radio",
                                          {
                                            staticStyle: {
                                              "margin-right": "30px",
                                            },
                                            attrs: {
                                              name: "displaymode",
                                              val: e.ShareMode.Time,
                                            },
                                            model: {
                                              value: e.shareMode,
                                              callback: function (t) {
                                                e.shareMode = t;
                                              },
                                              expression: "shareMode",
                                            },
                                          },
                                          [e._v("私密邀请")]
                                        ),
                                        i(
                                          "Radio",
                                          {
                                            attrs: {
                                              name: "displaymode",
                                              val: e.ShareMode.Public,
                                            },
                                            model: {
                                              value: e.shareMode,
                                              callback: function (t) {
                                                e.shareMode = t;
                                              },
                                              expression: "shareMode",
                                            },
                                          },
                                          [e._v("公开邀请")]
                                        ),
                                      ],
                                      1
                                    )
                                  : e._e(),
                                i(
                                  "div",
                                  {
                                    staticClass: "access_role__tips",
                                    class: {
                                      access_role__tips_12:
                                        e.newOpenPublicPermisson,
                                    },
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass: "share-panel-select-wrap",
                                      },
                                      [
                                        e.isTimingShare &&
                                        e.newOpenPublicPermisson
                                          ? i(
                                              "div",
                                              {
                                                staticClass:
                                                  "share-panel-select-item",
                                              },
                                              [
                                                i("MasterSelector", {
                                                  staticClass:
                                                    "access_role__tips_selector",
                                                  attrs: {
                                                    theme: "simple",
                                                    size: "middle",
                                                    value: e.shareTiming,
                                                    options: e.shareTimingList,
                                                  },
                                                  on: {
                                                    change: e.changeShareTiming,
                                                  },
                                                }),
                                              ],
                                              1
                                            )
                                          : e._e(),
                                        e.isDraftFile
                                          ? [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "share-panel-select-item",
                                                },
                                                [
                                                  i("MasterSelector", {
                                                    staticClass:
                                                      "access_role__tips_selector",
                                                    attrs: {
                                                      disable:
                                                        !e.newOpenPublicPermisson,
                                                      theme: "simple",
                                                      size: "middle",
                                                      value:
                                                        e.fileInfo
                                                          .publicFileRole,
                                                      options:
                                                        e.draftPublicFileRoleOptions,
                                                    },
                                                    on: {
                                                      change: e.changeFileRole,
                                                    },
                                                  }),
                                                ],
                                                1
                                              ),
                                            ]
                                          : [
                                              e.newOpenPublicPermisson &&
                                              e.fileInfo.isTeamMember &&
                                              "onlooker" !== e.fileInfo.teamRole
                                                ? [
                                                    i(
                                                      "div",
                                                      {
                                                        staticClass:
                                                          "share-panel-select-item",
                                                      },
                                                      [
                                                        e.newOpenPublicPermisson &&
                                                        e.fileInfo
                                                          .isTeamMember &&
                                                        "onlooker" !==
                                                          e.fileInfo.teamRole
                                                          ? i(
                                                              "MasterSelector",
                                                              {
                                                                staticClass:
                                                                  "access_role__tips_selector",
                                                                attrs: {
                                                                  disable:
                                                                    !e.newOpenPublicPermisson,
                                                                  theme:
                                                                    "simple",
                                                                  size: "middle",
                                                                  value:
                                                                    "onlooker",
                                                                  options:
                                                                    e.roleOptions,
                                                                },
                                                                on: {
                                                                  change:
                                                                    e.getRoleChecked,
                                                                },
                                                              }
                                                            )
                                                          : e._e(),
                                                      ],
                                                      1
                                                    ),
                                                  ]
                                                : i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "share-panel-select-item-onlooker",
                                                    },
                                                    [
                                                      i("span", [
                                                        e._v(
                                                          " " +
                                                            e._s(
                                                              "member" ===
                                                                e.fileInfo
                                                                  .userRole &&
                                                                "member" ===
                                                                  e.fileInfo
                                                                    .publicFileRole
                                                                ? "可编辑"
                                                                : "可查看"
                                                            ) +
                                                            " "
                                                        ),
                                                      ]),
                                                    ]
                                                  ),
                                            ],
                                      ],
                                      2
                                    ),
                                    i(
                                      "div",
                                      {
                                        staticClass: "copy_link",
                                      },
                                      [
                                        i(
                                          "MButton",
                                          {
                                            attrs: {
                                              width: "90",
                                              size: "sm",
                                            },
                                            on: {
                                              click: function (t) {
                                                return e.copyLink("copy");
                                              },
                                            },
                                          },
                                          [e._v("复制链接")]
                                        ),
                                      ],
                                      1
                                    ),
                                  ]
                                ),
                                e.newOpenPublicPermisson &&
                                e.isTimingShare &&
                                e.cutTime &&
                                5 !== e.shareTiming
                                  ? i(
                                      "div",
                                      {
                                        staticClass: "share-panel-cut-time",
                                      },
                                      [
                                        e._v(
                                          " 链接有效期（" +
                                            e._s(e.cutTime) +
                                            "前有效） "
                                        ),
                                      ]
                                    )
                                  : e._e(),
                              ]
                            ),
                          ]
                        : e._e(),
                    ],
                    2
                  )
                : e._e(),
              e.isPublishActive
                ? i("PubResource", {
                    attrs: {
                      pubState: e.pubState,
                    },
                    on: {
                      publish: function (t) {
                        return e.$emit("publish");
                      },
                      unpublish: e.handleUnPublish,
                    },
                  })
                : e._e(),
              i(
                "MasterDialog",
                {
                  staticClass: "transferOwnership_dialog",
                  attrs: {
                    visible: e.transferOwnership,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.transferOwnership = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v(" 转交文件所有者 ")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "transfer-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    size: "sm",
                                    padding: "24",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.transferOwnership = !1;
                                    },
                                  },
                                },
                                [e._v("取消")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "destructive",
                                    size: "sm",
                                    width: "84",
                                  },
                                  on: {
                                    click: e.changeOwner,
                                  },
                                },
                                [e._v("确认转交")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(
                      " 你正将文件 " +
                        e._s(this.fileInfo.fileName) +
                        " 的所有者转交给 " +
                        e._s(this.selectedUsername) +
                        " "
                    ),
                  ]),
                ]
              ),
            ],
            1
          );
        },
        r = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton-middle",
              },
              [
                i("div", {
                  staticClass: "skeleton-middle-1",
                }),
                i("div", {
                  staticClass: "skeleton-middle-2",
                }),
              ]
            );
          },
        ],
        c = i("9ab4"),
        l = i("60a3"),
        d = i("2f62"),
        u = i("2ef0"),
        h = i("79e4"),
        p = i("d140"),
        m = i("3dfc"),
        g = i("bbf1"),
        b = i("b29f"),
        v = i("9039"),
        f = i("dc743"),
        y = i("130b"),
        _ = i("79f6c"),
        C = i("1fc8"),
        S = i("d257"),
        I = i("d91a"),
        O = i("0613"),
        k = i("1fe8"),
        w = i("d48d"),
        x = i("6bc0"),
        L = i("dc0f"),
        A = i("ed7e");
      (function (e) {
        (e[(e["Invate"] = 0)] = "Invate"), (e[(e["Publish"] = 1)] = "Publish");
      })(s || (s = {})),
        (function (e) {
          (e[(e["Time"] = 0)] = "Time"),
            (e[(e["Public"] = 1)] = "Public"),
            (e[(e["unSet"] = 2)] = "unSet");
        })(o || (o = {})),
        (function (e) {
          (e[(e["Close"] = 1)] = "Close"),
            (e[(e["Public"] = 2)] = "Public"),
            (e[(e["Timing"] = 3)] = "Timing");
        })(a || (a = {}));
      let T = class extends l["g"] {
        constructor() {
          super(...arguments),
            (this.url = ""),
            (this.userOptions = {}),
            (this.selectedData = {}),
            (this.selectedUsername = ""),
            (this.transferOwnership = !1),
            (this.gettingList = !1),
            (this.showRoleSelector = !1),
            (this.inviteTeam = !1),
            (this.roleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
            ]),
            (this.draftPublicFileRoleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
              {
                label: "可编辑",
                value: "member",
              },
            ]),
            (this.shareTimingList = [
              {
                label: "1小时",
                value: 1,
              },
              {
                label: "1天",
                value: 2,
              },
              {
                label: "7天",
                value: 3,
              },
              {
                label: "30天",
                value: 4,
              },
            ]),
            (this.fileOwner = null),
            (this.menuList = [
              {
                label: "允许查看者创建副本",
                checked: !1,
                disabled: !1,
                value: "allowOnlookerCopy",
              },
              {
                label: "隐藏协作者信息",
                checked: !1,
                disabled: !1,
                value: "hideCollabInfo",
              },
            ]),
            (this.shareList = {
              members: [],
              confirmList: [],
            }),
            (this.shareTiming = 2),
            (this.shareStatus = !1),
            (this.shareMode = o.unSet),
            (this.ShareMode = o),
            (this.cutTime = ""),
            (this.secretKey = ""),
            (this.Tab = s),
            (this.currentTab = s.Invate),
            (this.trackingMap = {
              [k["b"].Draft]: "draft",
              [k["b"].Reviewing]: "under_review",
              [k["b"].Reject]: "failed",
              [k["b"].Published]: "approved",
            }),
            (this.panelRoleMap = {
              owner: "所有者",
              member: "编辑者",
              onlooker: "查看者",
              delete: "移出",
            }),
            (this.isUnPublishing = !1);
        }
        changeFileRole(e) {
          this.setShareStatus({
            isPublic: !0,
            publicFileRole: e,
          });
        }
        resetShareTimingList() {
          this.shareTimingList.length > 4 &&
            (this.shareTimingList = this.shareTimingList.slice(1));
        }
        changeShareTiming(e) {
          (this.shareTiming = e),
            this.resetShareTimingList(),
            this.setShareStatus(),
            this.$toast({
              content: "有效期更改成功",
              timeout: 3e3,
              position: "top",
            });
        }
        disabledChagne() {
          this.newOpenPublicPermisson ||
            this.$toast({
              content: "仅文件所有者可更改分享设置",
              timeout: 3e3,
              position: "top",
            });
        }
        changeShareStatus(e = !1) {
          (this.shareStatus = e),
            (this.shareMode = o.Time),
            this.setShareStatus({
              isPublic: e,
            });
        }
        listenShareMode(e, t) {
          t !== o.unSet && this.setShareStatus();
        }
        get isTimingShare() {
          return this.shareMode === o.Time;
        }
        setShareStatus(
          e = {
            isPublic: !0,
          }
        ) {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            let t = {};
            const i =
              e.publicFileRole || this.draftPublicFileRoleOptions[0].value;
            this.$emit(
              "update:fileInfo",
              Object.assign(
                Object.assign(Object.assign({}, this.fileInfo), e),
                {
                  publicFileRole: i,
                }
              )
            ),
              this.shareStatus
                ? (t = this.isTimingShare
                    ? {
                        operate: a.Timing,
                        roleName: i,
                        shareTimeType: this.shareTiming,
                      }
                    : {
                        operate: a.Public,
                        roleName: i,
                      })
                : (t.operate = a.Close);
            try {
              const e = yield Object(_["kd"])(
                Object.assign(Object.assign({}, t), {
                  documentID: this.fileInfo.id,
                })
              );
              e.data &&
                e.data.secretKey &&
                ((this.secretKey = e.data.secretKey),
                (this.cutTime = e.data.expireAt));
            } catch (s) {
              this.$toast({
                content: "文件属性修改失败",
                timeout: 3e3,
                position: "top",
              });
            }
          });
        }
        getFileShareInfo() {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            this.resetShareTimingList();
            try {
              const e = yield Object(_["P"])(this.fileInfo.id),
                {
                  operate: t,
                  secretKey: i,
                  shareTimeType: s,
                  roleName: n,
                  expiredAt: r,
                } = e.data;
              if (t === a.Close) return void (this.shareStatus = !1);
              (this.shareStatus = !0),
                (this.shareMode = 2 === t ? o.Public : o.Time),
                (this.secretKey = i || this.secretKey),
                (this.shareTiming = s || this.shareTiming),
                (this.fileInfo.publicFileRole =
                  n || this.fileInfo.publicFileRole),
                (this.cutTime = r);
              const c = new Date(r).getTime();
              Date.now() > c &&
                ((this.shareTiming = 5),
                this.shareTimingList.unshift({
                  label: "请重新选择",
                  value: 5,
                  disabled: !0,
                }));
            } catch (e) {
              this.shareStatus = !1;
            }
          });
        }
        changeStatus(e) {
          (e.checked = !e.checked),
            "allowOnlookerCopy" === e.value &&
              this.modifyHandler({
                allowOnlookerCopy: e.checked,
              }),
            "hideCollabInfo" === e.value &&
              this.modifyHandler({
                hidePartner: e.checked,
              });
        }
        closePannel() {
          this.$emit("update:show", !1);
        }
        get isInvateActive() {
          const e = this.currentTab === s.Invate;
          return (
            e &&
              this.sensorsTrack &&
              I["a"].track(C["b"].SHARE_POPOUT, {
                action_type: "share",
              }),
            e
          );
        }
        get isPublishActive() {
          const e = this.currentTab === s.Publish;
          return (
            e &&
              this.sensorsTrack &&
              I["a"].track(C["b"].SHARE_POPOUT, {
                action_type: "publish",
                action_detail: this.trackingMap[this.pubState],
              }),
            e
          );
        }
        showHandler() {
          this.show && (this.getList(), this.getFileShareInfo());
        }
        userListHandler() {
          this.show && this.getList();
        }
        selectItemHandler() {
          9 === this.type &&
          !0 === this.selectItem.isFrame &&
          "positionFrame" === this.menuList[0].value
            ? ((this.menuList[0].disabled = !1),
              (this.menuList[0].checked = !0))
            : ("positionFrame" === this.menuList[0].value &&
                ((this.menuList[0].disabled = !0),
                (this.menuList[0].checked = !1)),
              (this.disableStatus = !0)),
            this.copyLink("init");
        }
        handleSelectChange() {
          0 === this.selectIds.length
            ? ("positionFrame" === this.menuList[0].value &&
                ((this.menuList[0].disabled = !0),
                (this.menuList[0].checked = !1)),
              (this.disableStatus = !0))
            : this.selectItemHandler();
        }
        updateMenuList(e) {
          for (const t of this.menuList)
            if ("allowOnlookerCopy" === t.value) {
              t.disabled = e;
              break;
            }
        }
        get isTeamFile() {
          return !this.fileInfo.isPersonal;
        }
        isUserAccessTip(e) {
          return (
            this.fileInfo.isPublic &&
            "member" === this.fileInfo.publicFileRole &&
            "onlooker" === e.documentRole
          );
        }
        getUserAccessTip() {
          return this.fileInfo.isPublic &&
            "member" === this.fileInfo.publicFileRole
            ? "<p>此成员依然可以编辑文</br>件，因为文件被设置为</br>公开访问且获得链接的</br>人都可以编辑</p>"
            : "";
        }
        getChecked(e) {
          return e.checked;
        }
        changeStatusOpen(e) {
          if (e)
            for (const t of this.menuList) {
              const { userRole: e } = this.fileInfo;
              "allowOnlookerCopy" === t.value
                ? ((t.checked = this.fileInfo.allowOnlookerCopy),
                  (t.disabled = "owner" !== e && "admin" !== e))
                : "hideCollabInfo" === t.value &&
                  ((t.checked = this.fileInfo.hidePartner),
                  (t.disabled = "owner" !== e));
            }
        }
        initInviteTeam(e) {
          (this.inviteTeam = e),
            this.isPersonal,
            (this.roleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
            ]);
        }
        modifyHandler(e) {
          L["n"].setLog(
            "INFO",
            "userAction",
            "change document info",
            Object.assign(
              {
                documentId: this.fileInfo.id,
              },
              e
            )
          );
          const t =
            "boolean" === typeof e.hidePartner
              ? Object(_["Ac"])(this.fileInfo.id, e.hidePartner)
              : Object(_["zc"])(
                  this.fileInfo.id,
                  Object.assign(
                    {
                      teamId: this.fileInfo.teamId,
                      projectId: this.fileInfo.projectId,
                    },
                    e
                  )
                );
          t.then(() => {
            this.$emit(
              "update:fileInfo",
              Object.assign(Object.assign({}, this.fileInfo), e)
            );
          }).catch(() => {
            L["n"].setLog(
              "ERROR",
              "userAction",
              "change document info",
              Object.assign(
                {
                  documentId: this.fileInfo.id,
                },
                e
              )
            ),
              this.$toast({
                content: "文件属性修改失败",
                timeout: 3e3,
                position: "top",
              });
          });
        }
        getList() {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.gettingList) {
              if (((this.gettingList = !0), !this.hideUserList)) {
                let e;
                try {
                  e = yield Object(_["Pb"])({
                    documentId: this.fileInfo.id,
                    teamId: this.fileInfo.teamId,
                    projectId: this.fileInfo.projectId,
                  });
                } finally {
                  this.gettingList = !1;
                }
                this.$set(this.shareList, "confirmList", e.data.confirmList),
                  this.$set(this.shareList, "members", e.data.members),
                  this.$set(this, "fileOwner", e.data.owner);
              }
              if (this.isTeamFile) {
                const e = yield Object(_["Yb"])(this.fileInfo.teamId);
                this.setCurrentTeam(e.data);
              }
            }
          });
        }
        copyLink(e) {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            const { query: t } = this.$route;
            let i = "";
            const s = Object(u["clone"])(t);
            this.secretKey && this.shareMode === o.Time
              ? (i = `${window.location.origin}/files/share-middle/${this.secretKey}`)
              : ((i = `${window.location.origin}/${this.pathName}/${this.fileInfo.id}`),
                "positionFrame" === this.menuList[0].value &&
                  !this.menuList[0].checked &&
                  this.selectIds &&
                  delete s.layer_id),
              (s.source = "link_share"),
              (i += "?" + Object(u["map"])(s, (e, t) => `${t}=${e}`).join("&")),
              this.$nextTick(() =>
                Object(c["__awaiter"])(this, void 0, void 0, function* () {
                  if ("init" !== e) {
                    const e = Boolean(
                      "file" === this.$route.name && this.$route.params.id
                    );
                    yield L["p"].shareCurrentDocumentLink({
                      link: i,
                      fileInfo: {
                        id: this.fileInfo.id,
                        name: this.fileInfo.fileName,
                        isPublic: this.fileInfo.isPublic,
                        publicFileRole: this.fileInfo.publicFileRole,
                      },
                      eventParams: {
                        action_position: "file",
                        t_doc_id: this.fileInfo.id,
                      },
                      params: {
                        scene: "pri_dialog",
                        short: !0,
                        getShareInviter: !1,
                        reserveFileId: e,
                      },
                    }),
                      L["n"].setLog("INFO", "userAction", "copy link", {
                        documentId: this.fileInfo.id,
                      });
                  }
                })
              );
          });
        }
        copyIframeSrc() {
          const { query: e } = this.$route,
            t = Object(u["clone"])(e);
          t.source = "iframe_share";
          const i = `${window.location.origin}/${this.pathName}/${
            this.fileInfo.id
          }?${Object(u["map"])(t, (e, t) => `${t}=${e}`).join("&")}`;
          L["n"].setLog("INFO", "userAction", "copy iframe", {
            documentId: this.fileInfo.id,
          }),
            Object(S["t"])(
              `<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="${i}" allowfullscreen></iframe>`
            ),
            this.$toast({
              content: "已成功复制嵌入网页代码",
              timeout: 2e3,
              position: "top-right",
              type: "highlight",
            });
        }
        sendMail(e) {
          const t = this.shareTags.map((e) => {
            let t = "",
              i = "";
            return (
              e.userId
                ? ((t = "userid"), (i = e.userId))
                : e.email
                ? ((t = "email"), (i = e.email))
                : e.phone_number
                ? ((t = "phone"), (i = e.phone_number))
                : (i = e.text),
              t ||
                (w["f"].PHONE_NUMBER.test(i) && (t = "phone"),
                w["f"].EMAILREG.test(i) && (t = "email")),
              {
                type: t,
                identity: "" + i,
              }
            );
          });
          Object(_["qc"])({
            documentId: this.fileInfo.id,
            roleName: e.role,
            inviteTeam: e.inviteTeam,
            details: t,
          })
            .then(() => {
              var t, i;
              Object(x["b"])()
                ? null ===
                    (i =
                      null === (t = Object(x["b"])()) || void 0 === t
                        ? void 0
                        : t.instanceStore.fileWssBusiness) ||
                  void 0 === i ||
                  i.send({
                    type: h["f"].WSSWebDocument,
                    msg: {
                      email: e.mail,
                    },
                  })
                : L["c"].send({
                    type: h["f"].WSSWebDocument,
                    msg: {
                      email: e.mail,
                    },
                  }),
                this.getList(),
                this.$store.commit("invite/CLEAR_MEMBERS"),
                this.$toast({
                  content: "邀请成功",
                  timeout: 3e3,
                  position: "top",
                });
            })
            .catch((e) => {
              e &&
                "You can't invite yourself" === e.data.error &&
                this.$toast({
                  content: "您不能邀请自己",
                  timeout: 1e3,
                  position: "top",
                });
            });
        }
        roleHandler(e, t) {
          var i, s;
          let o = {
            title: "",
            notSend: !1,
          };
          const { docRole: a, isTeamMember: n } = this.fileInfo,
            r = {};
          if ("invite" === e) {
            const e =
              null ===
                (s =
                  null === (i = this.fileInfo) || void 0 === i
                    ? void 0
                    : i.permissions) || void 0 === s
                ? void 0
                : s["invite-member"];
            for (let t = 0; t < e.length; t++) {
              const i = e[t];
              r[i] = {
                title: this.panelRoleMap[i],
              };
            }
          } else {
            const i = null === t || void 0 === t ? void 0 : t.permissions;
            if (i) {
              const e = i.canSetRoles;
              if (e.length)
                for (let t = 0; t < e.length; t++)
                  r[e[t]] = {
                    title: this.panelRoleMap[e[t]],
                  };
              i.deleteMember
                ? (r.delete = {
                    title: "移出",
                  })
                : t.id !== this.userInfo.id ||
                  n ||
                  ((r[t.role] = {
                    title: this.panelRoleMap[t.role],
                  }),
                  (r.delete = {
                    title: "离开文件",
                  }));
            }
            if (!Object.keys(r).length) return this.panelRoleMap[a];
            if ("confirm" === e) {
              const { email: e } = t;
              e &&
                ("undefined" === typeof this.userOptions[e] &&
                  this.$set(this.userOptions, e, {
                    notSend: !1,
                    title: "重新发送邀请",
                  }),
                (o = this.userOptions[e])),
                o.title &&
                  (r.reInvite = {
                    title: o.title,
                    disabled: o.notSend,
                  });
            }
          }
          return Object.keys(r).map((e) => {
            const t = r[e];
            return Object.assign(
              Object.assign(
                {
                  value: e,
                },
                t
              ),
              {
                label: t.title,
              }
            );
          });
        }
        fileInfoChange() {
          var e;
          this.initInviteTeam(
            (null === (e = O["a"].getters.document) || void 0 === e
              ? void 0
              : e.inviteTeam) || this.inviteTeam
          );
        }
        changeRoleStatus(e) {
          "inviteTeam" === e.value &&
            ((this.inviteTeam = !this.inviteTeam),
            this.initInviteTeam(this.inviteTeam),
            Object(_["rc"])(this.fileInfo.id, this.inviteTeam));
        }
        disabledRmvPermisson(e, t, i) {
          return "onlooker" === t || s(e) <= s(i);
          function s(e) {
            return ["onlooker", "member", "admin", "owner"].indexOf(e);
          }
        }
        getRoleChecked(e) {
          return "onlooker" === e.value || e.checked;
        }
        changeOwner() {
          (this.transferOwnership = !1),
            Object(_["wd"])({
              teamId: this.fileInfo.teamId,
              documentId: this.fileInfo.id,
              userId: this.selectedData.id,
            })
              .then(() => {
                this.getList();
              })
              .catch((e) => {
                console.error(e);
              });
        }
        changeVal(e, t) {
          (this.selectedData = t),
            (this.selectedUsername = t.name),
            "delete" === e
              ? t.inviteId
                ? Object(_["z"])({
                    teamId: this.fileInfo.teamId,
                    documentId: this.fileInfo.id,
                    inviteId: t.inviteId,
                  })
                    .then(() => {
                      this.getList(),
                        this.$toast({
                          content: "成员已删除",
                          timeout: 1e3,
                          position: "top",
                        });
                    })
                    .catch((e) => {
                      console.error(e);
                    })
                : Object(_["z"])({
                    teamId: this.fileInfo.teamId,
                    documentId: this.fileInfo.id,
                    userId: t.id,
                  })
                    .then(() => {
                      t.id === this.userInfo.id
                        ? this.$router.push("/files/home")
                        : (this.$toast({
                            content: "成员已删除",
                            timeout: 1e3,
                            position: "top",
                          }),
                          this.getList());
                    })
                    .catch((e) => {
                      console.error(e);
                    })
              : "owner" === e
              ? (this.transferOwnership = !0)
              : "reInvite" === e
              ? this.userOptions[t.email].notSend ||
                Object(_["pc"])({
                  documentId: this.fileInfo.id,
                  roleName: t.roleName,
                  inviteTeam: t.inviteTeam,
                  details: [
                    {
                      type: "email",
                      identity: t.email,
                    },
                  ],
                }).then(() => {
                  this.$toast({
                    content: t.email ? "已发送邀请到 " + t.email : "邀请已发送",
                    timeout: 1e3,
                    position: "top",
                  });
                  let e = 60;
                  this.userOptions[t.email].notSend = !0;
                  const i = setInterval(() => {
                    (e -= 1),
                      (this.userOptions[
                        t.email
                      ].title = `重新发送邀请（${e}s）`),
                      0 === e &&
                        ((this.userOptions[t.email].title = "重新发送邀请"),
                        (this.userOptions[t.email].notSend = !1),
                        clearInterval(i));
                  }, 1e3);
                })
              : t.id
              ? Object(_["Rd"])({
                  teamId: this.fileInfo.teamId,
                  documentId: this.fileInfo.id,
                  projectId: this.fileInfo.projectId,
                  roleName: e,
                  userId: t.id,
                })
                  .then(() => {
                    this.getList(),
                      this.$toast({
                        content: "文件访问权限已修改",
                        timeout: 1e3,
                        position: "top",
                      });
                  })
                  .catch((e) => {
                    console.error(e);
                  })
              : Object(_["Ed"])({
                  teamId: this.fileInfo.teamId,
                  documentId: this.fileInfo.id,
                  projectId: this.fileInfo.projectId,
                  roleName: e,
                  inviteId: t.inviteId,
                })
                  .then(() => {
                    this.getList(),
                      this.$toast({
                        content: "文件访问权限已修改",
                        timeout: 1e3,
                        position: "top",
                      });
                  })
                  .catch((e) => {
                    console.error(e);
                  });
        }
        get pubState() {
          return O["a"].state.community.pubState;
        }
        handleUnPublish() {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.isUnPublishing) {
              this.isUnPublishing = !0;
              try {
                let e = O["a"].state.community.currentPubInfo.res_id;
                if (!e) {
                  const t = yield this.$store.dispatch(
                    "community/getPubResourceByDocId",
                    O["a"].state.app.currentDocument.id
                  );
                  e = t.res_id;
                }
                yield this.$store.dispatch("community/unPubResources", {
                  documentId: O["a"].state.app.currentDocument.id,
                  resId: e,
                });
              } finally {
                this.isUnPublishing = !1;
              }
            }
          });
        }
        handlePub() {
          return Object(c["__awaiter"])(this, void 0, void 0, function* () {
            (this.currentTab = s.Publish),
              this.$store.dispatch(
                "community/getPubResourceByDocId",
                O["a"].state.app.currentDocument.id
              ),
              I["a"].track(C["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter1: "share_popout",
                action_parameter2: "contribute",
              });
          });
        }
      };
      Object(c["__decorate"])(
        [Object(l["h"])("shareMode")],
        T.prototype,
        "listenShareMode",
        null
      ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          T.prototype,
          "allowPub",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          T.prototype,
          "sensorsTrack",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Object,
              default: () => ({
                id: "",
                teamId: "",
                projectId: "",
                teamName: "",
                fileName: "",
                isPublic: !1,
                userRole: "onlooker",
                docRole: "onlooker",
                teamRole: "onlooker",
                isPersonal: !1,
                isTeamMember: !1,
                hidePartner: !1,
                users: [],
                docType: 0,
                allowOnlookerCopy: !1,
                publicFileRole: "onlooker",
              }),
              required: !0,
            }),
          ],
          T.prototype,
          "fileInfo",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Boolean,
              default: !1,
              required: !0,
            }),
          ],
          T.prototype,
          "show",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          T.prototype,
          "hideFliePageFunction",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: String,
              default: "file",
              required: !1,
            }),
          ],
          T.prototype,
          "pathName",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["e"])({
              type: Boolean,
              required: !1,
            }),
          ],
          T.prototype,
          "open",
          void 0
        ),
        Object(c["__decorate"])(
          [
            Object(l["h"])("show", {
              immediate: !0,
            }),
          ],
          T.prototype,
          "showHandler",
          null
        ),
        Object(c["__decorate"])(
          [
            Object(l["h"])("userList", {
              deep: !0,
              immediate: !0,
            }),
          ],
          T.prototype,
          "userListHandler",
          null
        ),
        Object(c["__decorate"])(
          [
            Object(l["h"])("selectItem", {
              deep: !0,
              immediate: !0,
            }),
          ],
          T.prototype,
          "selectItemHandler",
          null
        ),
        Object(c["__decorate"])(
          [Object(l["h"])("selectIds.length")],
          T.prototype,
          "handleSelectChange",
          null
        ),
        Object(c["__decorate"])(
          [
            Object(l["h"])("isOnlooker", {
              immediate: !0,
            }),
          ],
          T.prototype,
          "updateMenuList",
          null
        ),
        Object(c["__decorate"])(
          [
            Object(l["h"])("fileInfo", {
              deep: !0,
            }),
          ],
          T.prototype,
          "fileInfoChange",
          null
        ),
        (T = Object(c["__decorate"])(
          [
            Object(l["a"])({
              components: {
                MasterSelector: p["e"],
                MSelector: p["b"],
                Invatedialog: m["a"],
                portrait: g["a"],
                MasterMenu: p["d"],
                MasterButtonIcon: b["a"],
                toggle: f["a"],
                Radio: y["a"],
                MasterDialog: v["a"],
                PubResource: A["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(d["e"])({
                    userInfo: (e) => e.main.userInfo,
                    selectItem: (e) => e.basicProps.item,
                    selectIds: (e) => e.basicState.selectIds,
                    groupType: (e) => e.basicProps.item.groupType,
                    type: (e) => e.basicProps.item.type,
                    isPersonal: (e) => e.file.isPersonal,
                    userList: (e) => e.app.userList,
                    currentTeam: (e) => e.app.currentTeam,
                    shareMembers: (e) => e.invite.shareMembers,
                    shareTags: (e) => e.invite.shareTags,
                  })
                ),
                {
                  shareMembersList() {
                    const e = [
                      ...this.shareList.members,
                      ...this.shareList.confirmList,
                    ];
                    return this.fileOwner && e.push(this.fileOwner), e;
                  },
                  hideUserList() {
                    const e = this.fileInfo.hidePartner,
                      t = "owner" === this.fileInfo.userRole;
                    return e && !t;
                  },
                  newOpenPublicPermisson() {
                    const { teamRole: e, docRole: t } = this.fileInfo;
                    return ["owner", "admin"].includes(e)
                      ? ["owner", "member"].includes(t)
                      : !!["member", "onlooker"].includes(e) &&
                          ["owner"].includes(t);
                  },
                  fileDescribe() {
                    return this.isTeamFile
                      ? this.fileInfo.teamName
                        ? this.fileInfo.teamName + " 的所有成员都可以访问此文件"
                        : "你可以访问此文件"
                      : this.isPersonal
                      ? "只有下方被邀请的成员才可以访问此文件"
                      : "";
                  },
                  isDraftFile() {
                    return (
                      this.fileInfo.projectId ===
                      this.$store.getters.userdraft.projectId
                    );
                  },
                  isUserInTeam() {
                    let e = !1;
                    for (const t of this.fileInfo.users)
                      t.id === this.userInfo.id && (e = !0);
                    return e;
                  },
                  isOnlooker() {
                    const e = "onlooker" === this.fileInfo.userRole;
                    if (!this.isTeamFile) return e;
                    let t = !1,
                      i = !1;
                    for (const s of this.fileInfo.users)
                      s.id === this.userInfo.id &&
                        ((t = !0), "onlooker" === s.role && (i = !0));
                    return t ? e && i : e;
                  },
                  showConfrimList: {
                    get() {
                      return this.shareMembers && !this.shareMembers.length;
                    },
                    set: (e) => e,
                  },
                }
              ),
              methods: Object.assign({}, Object(d["b"])(["setCurrentTeam"])),
              mounted() {
                var e;
                this.initInviteTeam(
                  (null === (e = O["a"].getters.document) || void 0 === e
                    ? void 0
                    : e.inviteTeam) || this.inviteTeam
                );
              },
              created() {
                this.$route.query.params &&
                  Object(_["d"])({
                    dataCode: this.$route.query.params,
                  });
                let e = !1,
                  t = !0;
                0 !== this.selectIds.length &&
                  9 === this.type &&
                  this.selectItem.isFrame &&
                  ((e = !0), (t = !1)),
                  !this.fileInfo.from &&
                    this.menuList.unshift({
                      label: "定位到当前选中容器",
                      checked: e,
                      disabled: t,
                      value: "positionFrame",
                    });
              },
            }),
          ],
          T
        ));
      var j = T,
        M = j,
        E = (i("344b"), i("2877")),
        P = Object(E["a"])(M, n, r, !1, null, "c991df5e", null);
      t["a"] = P.exports;
    },
    "18f1": function (e, t, i) {},
    "192a": function (e, t, i) {
      "use strict";
      i("9651");
    },
    1945: function (e, t, i) {},
    "198b": function (e, t, i) {},
    "1a7d": function (e, t, i) {
      "use strict";
      i("882b");
    },
    "1af6": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-random.2634a2c5.jpg";
    },
    "1b93": function (e, t, i) {
      "use strict";
      i("2de9");
    },
    "1be5": function (e, t, i) {},
    "1c04": function (e, t, i) {
      "use strict";
      i("742e");
    },
    "1c13": function (e, t, i) {},
    "1c63": function (e, t, i) {},
    "1d8d": function (e, t, i) {},
    "1df5": function (e, t, i) {},
    "1e58": function (e, t, i) {},
    "1f47": function (e, t, i) {},
    "1f72": function (e, t, i) {
      "use strict";
      i("f73b");
    },
    "206b": function (e, t, i) {},
    "20ea": function (e, t, i) {
      "use strict";
      i("5c8b");
    },
    2110: function (e, t, i) {},
    2160: function (e, t, i) {},
    "22b9": function (e, t, i) {},
    "231c": function (e, t, i) {},
    "237d": function (e, t, i) {},
    "23e8": function (e, t, i) {
      "use strict";
      i("53af");
    },
    "24f7": function (e, t, i) {},
    "257a": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            e.logoSrc
              ? i("img", {
                  staticClass: "logo-img",
                  attrs: {
                    src: e.logoSrc,
                    alt: "",
                    srcset: "",
                  },
                })
              : i(
                  "svg",
                  {
                    attrs: {
                      xmlns: "http://www.w3.org/2000/svg",
                      "xmlns:xlink": "http://www.w3.org/1999/xlink",
                      fill: "none",
                      version: "1.1",
                      width: "107.5791015625",
                      height: "28",
                      viewBox: "0 0 107.5791015625 28",
                    },
                  },
                  [
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i(
                              "g",
                              {
                                staticStyle: {
                                  "mix-blend-mode": "passthrough",
                                },
                              },
                              [
                                i(
                                  "g",
                                  {
                                    staticStyle: {
                                      "mix-blend-mode": "passthrough",
                                    },
                                  },
                                  [
                                    i("path", {
                                      attrs: {
                                        d: "M0.213578,20.352586784362792C0.213578,20.352586784362792,7.67479,5.830666784362793,7.67479,5.830666784362793C8.35973,4.497576784362793,10.2485,4.467219784362793,10.9756,5.777610784362793C10.9756,5.777610784362793,19.0025,20.243286784362795,19.0025,20.243286784362795C19.8147,21.706986784362794,18.4564,23.424886784362794,16.8512,22.96418678436279C16.8512,22.96418678436279,10.2395,21.06628678436279,10.2395,21.06628678436279C9.90303,20.969686784362793,9.54637,20.969686784362793,9.20993,21.06618678436279C9.20993,21.06618678436279,2.39264,23.02058678436279,2.39264,23.02058678436279C0.815232,23.472786784362793,-0.53817,21.815786784362793,0.213578,20.352586784362792C0.213578,20.352586784362792,0.213578,20.352586784362792,0.213578,20.352586784362792Z",
                                        fill: "#3970E3",
                                        "fill-opacity": "1",
                                      },
                                    }),
                                  ]
                                ),
                                i(
                                  "g",
                                  {
                                    staticStyle: {
                                      opacity: "0.5",
                                      "mix-blend-mode": "passthrough",
                                    },
                                  },
                                  [
                                    i("path", {
                                      attrs: {
                                        d: "M22.42890359375,22.079364714050293C22.42890359375,22.079364714050293,25.510683593750002,22.96406471405029,25.510683593750002,22.96406471405029C27.11588359375,23.424764714050294,28.47418359375,21.706864714050294,27.66198359375,20.243164714050295C27.66198359375,20.243164714050295,19.63511359375,5.777488714050293,19.63511359375,5.777488714050293C18.90798359375,4.467097714050293,17.01922359375,4.497454714050293,16.33430359375,5.830544714050293C16.33430359375,5.830544714050293,15.01318359375,8.401864714050292,15.01318359375,8.401864714050292C15.01318359375,8.401864714050292,22.42890359375,22.079364714050293,22.42890359375,22.079364714050293C22.42890359375,22.079364714050293,22.42890359375,22.079364714050293,22.42890359375,22.079364714050293Z",
                                        fill: "#3970E3",
                                        "fill-opacity": "1",
                                      },
                                    }),
                                  ]
                                ),
                              ]
                            ),
                          ]
                        ),
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("path", {
                              attrs: {
                                d: "M86.672196875,19.52638564453125C85.826596875,19.52638564453125,85.081196875,19.35618564453125,84.436496875,19.015885644531252C83.802396875,18.67558564453125,83.30559687499999,18.19708564453125,82.946196875,17.58030564453125C82.597396875,16.963525644531252,82.422996875,16.25103564453125,82.422996875,15.44283564453125L82.422996875,12.17283564453125C82.422996875,11.364645644531251,82.597396875,10.65747564453125,82.946196875,10.05132564453125C83.30559687499999,9.43455564453125,83.802396875,8.95601364453125,84.436496875,8.61572164453125C85.081196875,8.27543164453125,85.826596875,8.10528564453125,86.672196875,8.10528564453125C87.507096875,8.10528564453125,88.246896875,8.27011464453125,88.89169687500001,8.59977264453125C89.53639687500001,8.91879664453125,90.033196875,9.36011564453125,90.381996875,9.92371564453125C90.74139687499999,10.48732564453125,90.920996875,11.10942564453125,90.920996875,11.79001564453125L90.920996875,11.86977564453125C90.920996875,11.92293564453125,90.899996875,11.97079564453125,90.85779687499999,12.01331564453125C90.825896875,12.04521564453125,90.783696875,12.06116564453125,90.73079687500001,12.06116564453125L88.479296875,12.06116564453125C88.42679687500001,12.06116564453125,88.379096875,12.04521564453125,88.33689687500001,12.01331564453125C88.30529687500001,11.97079564453125,88.289096875,11.92293564453125,88.289096875,11.86977564453125C88.289096875,11.45503564453125,88.14119687499999,11.10410564453125,87.845196875,10.81698564453125C87.559996875,10.51923564453125,87.168896875,10.37035564453125,86.672196875,10.37035564453125C86.185996875,10.37035564453125,85.794596875,10.52986564453125,85.49869687500001,10.84889564453125Q85.054796875,11.32742564453125,85.054796875,12.09307564453125L85.054796875,15.52259564453125C85.054796875,16.03304564453125,85.218896875,16.447775644531248,85.546396875,16.76678564453125C85.873896875,17.08580564453125,86.286296875,17.245335644531252,86.78299687500001,17.245335644531252C87.24819687499999,17.245335644531252,87.623496875,17.12301564453125,87.90879687500001,16.878425644531248C88.194096875,16.62321564453125,88.33689687500001,16.272295644531248,88.33689687500001,15.825655644531249L88.33689687500001,15.37902564453125C88.33689687500001,15.32585564453125,88.31039687500001,15.29925564453125,88.25759687499999,15.29925564453125L86.672196875,15.29925564453125C86.619296875,15.29925564453125,86.571596875,15.28330564453125,86.529296875,15.25140564453125C86.497696875,15.20888564453125,86.481996875,15.16102564453125,86.481996875,15.10786564453125L86.481996875,13.35322564453125C86.481996875,13.30005564453125,86.497696875,13.25750564453125,86.529296875,13.22560564453125C86.571596875,13.18308564453125,86.619296875,13.16182564453125,86.672196875,13.16182564453125L90.73079687500001,13.16182564453125C90.783696875,13.16182564453125,90.825896875,13.18308564453125,90.85779687499999,13.22560564453125C90.899996875,13.25750564453125,90.920996875,13.30005564453125,90.920996875,13.35322564453125L90.920996875,15.52259564453125C90.920996875,16.320155644531248,90.74139687499999,17.021995644531252,90.381996875,17.628155644531248C90.033196875,18.234285644531248,89.53639687500001,18.702185644531248,88.89169687500001,19.03188564453125C88.25759687499999,19.36148564453125,87.517696875,19.52638564453125,86.672196875,19.52638564453125ZM41.119996875,8.23289464453125C41.014326875,8.23289464453125,40.940306875,8.27543064453125,40.898046875,8.36050364453125L38.725946875,11.83786564453125C38.694256875,11.90167564453125,38.662536875,11.90167564453125,38.630816875,11.83786564453125L36.427026875,8.36050364453125C36.374176875,8.27543064453125,36.300186875,8.23289464453125,36.205066875,8.23289464453125L33.969552875,8.23289464453125C33.916703875,8.23289464453125,33.869139975,8.25416264453125,33.826861075,8.29669964453125C33.795151575,8.32860164453125,33.779296875,8.37113864453125,33.779296875,8.42430964453125L33.779296875,19.20728564453125C33.779296875,19.26048564453125,33.795151575,19.30838564453125,33.826861075,19.35088564453125C33.869139975,19.38278564453125,33.916703875,19.39868564453125,33.969552875,19.39868564453125L36.220916875,19.39868564453125Q36.300186875,19.39868564453125,36.347756875,19.35088564453125C36.390036875,19.30838564453125,36.411176875,19.26048564453125,36.411176875,19.20728564453125L36.411176875,12.77900564453125C36.411176875,12.736445644531251,36.421736875,12.71519564453125,36.442876875,12.71519564453125C36.464026875,12.71519564453125,36.485156875,12.73114564453125,36.506306875,12.76304564453125L37.885656875,14.98024564453125C37.927956875,15.06531564453125,38.001936875,15.10786564453125,38.107606875,15.10786564453125L39.233296875,15.10786564453125C39.338996875,15.10786564453125,39.412986875,15.06531564453125,39.455276875,14.98024564453125L40.818776875,12.77900564453125C40.839926875,12.74709564453125,40.861036874999996,12.73114564453125,40.882186875,12.73114564453125C40.903336875,12.73114564453125,40.913906875,12.752405644531251,40.913906875,12.794915644531251L40.913906875,19.20728564453125C40.913906875,19.26048564453125,40.929766875,19.30838564453125,40.961456874999996,19.35088564453125C41.003756875,19.38278564453125,41.051306875,19.39868564453125,41.104136875,19.39868564453125L43.355506875,19.39868564453125C43.408386875,19.39868564453125,43.450646875000004,19.38278564453125,43.482366875,19.35088564453125C43.524626874999996,19.30838564453125,43.545776875,19.26048564453125,43.545776875,19.20728564453125L43.545776875,8.42430964453125C43.545776875,8.37113864453125,43.524626874999996,8.32860164453125,43.482366875,8.29669964453125C43.450646875000004,8.25416264453125,43.408386875,8.23289464453125,43.355506875,8.23289464453125L41.119996875,8.23289464453125ZM66.59549687500001,13.08206564453125C66.59549687500001,13.13522564453125,66.57439687499999,13.18308564453125,66.53209687500001,13.22560564453125C66.500396875,13.25750564453125,66.458096875,13.27345564453125,66.405196875,13.27345564453125L64.962496875,13.27345564453125C64.909596875,13.27345564453125,64.883196875,13.30005564453125,64.883196875,13.35322564453125L64.883196875,16.25634564453125C64.883196875,16.86250564453125,65.12629687500001,17.16556564453125,65.612496875,17.16556564453125L66.19909687500001,17.16556564453125C66.251996875,17.16556564453125,66.294196875,17.18682564453125,66.325996875,17.229375644531252C66.368196875,17.26128564453125,66.389396875,17.303805644531252,66.389396875,17.35696564453125L66.389396875,19.20728564453125C66.389396875,19.32428564453125,66.325996875,19.39338564453125,66.19909687500001,19.41468564453125C65.691796875,19.43598564453125,65.321796875,19.44658564453125,65.089296875,19.44658564453125C64.169696875,19.44658564453125,63.487996875,19.30308564453125,63.043996875000005,19.015885644531252C62.600096875,18.71808564453125,62.372896874999995,18.15988564453125,62.362296875,17.34101564453125L62.362296875,13.35322564453125C62.362296875,13.30005564453125,62.335896875,13.27345564453125,62.282996874999995,13.27345564453125L61.379296875,13.27345564453125C61.326396875,13.27345564453125,61.278896875,13.25750564453125,61.236596875000004,13.22560564453125C61.204896875,13.18308564453125,61.189096875000004,13.13522564453125,61.189096875000004,13.08206564453125L61.189096875000004,11.34337564453125C61.189096875000004,11.29020564453125,61.204896875,11.24766564453125,61.236596875000004,11.215765644531249C61.278896875,11.17323564453125,61.326396875,11.15196564453125,61.379296875,11.15196564453125L62.282996874999995,11.15196564453125C62.335896875,11.15196564453125,62.362296875,11.12537564453125,62.362296875,11.07220564453125L62.362296875,9.14211564453125C62.362296875,9.08894364453125,62.378196875,9.04640664453125,62.409896875,9.01450464453125C62.452096874999995,8.97196664453125,62.499696875,8.95069764453125,62.552596875,8.95069764453125L64.692896875,8.95069764453125C64.745796875,8.95069764453125,64.78809687500001,8.97196664453125,64.81979687500001,9.01450464453125C64.86209687499999,9.04640664453125,64.883196875,9.08894364453125,64.883196875,9.14211564453125L64.883196875,11.07220564453125C64.883196875,11.12537564453125,64.909596875,11.15196564453125,64.962496875,11.15196564453125L66.405196875,11.15196564453125C66.458096875,11.15196564453125,66.500396875,11.17323564453125,66.53209687500001,11.215765644531249C66.57439687499999,11.24766564453125,66.59549687500001,11.29020564453125,66.59549687500001,11.34337564453125L66.59549687500001,13.08206564453125ZM75.233496875,15.809705644531249C75.254796875,15.28864564453125,75.239096875,14.86857564453125,75.18619687500001,14.54955564453125C75.08039687499999,13.86897564453125,74.85319687500001,13.26284564453125,74.504396875,12.73114564453125C74.166196875,12.18879564453125,73.722296875,11.76874564453125,73.172696875,11.47098564453125C72.622996875,11.162595644531251,71.999196875,11.00840564453125,71.301596875,11.00840564453125C70.434996875,11.00840564453125,69.684596875,11.23703564453125,69.05039687499999,11.69430564453125C68.42679687500001,12.14093564453125,67.977496875,12.75770564453125,67.702696875,13.54465564453125Q67.44909687500001,14.310265644531249,67.44909687500001,15.13976564453125C67.44909687500001,15.93732564453125,67.559996875,16.60195564453125,67.781996875,17.13366564453125C68.077996875,17.88866564453125,68.558896875,18.47888564453125,69.22479687500001,18.90418564453125C69.901196875,19.31898564453125,70.720396875,19.52638564453125,71.68229687499999,19.52638564453125C72.327096875,19.52638564453125,72.918896875,19.419985644531252,73.457896875,19.20728564453125C74.00759687499999,18.99458564453125,74.467296875,18.68618564453125,74.837396875,18.28218564453125C74.879596875,18.23958564453125,74.900896875,18.19708564453125,74.900896875,18.15448564453125C74.900896875,18.10135564453125,74.879596875,18.05884564453125,74.837396875,18.02693564453125L73.616596875,16.62321564453125C73.584996875,16.58070564453125,73.54239687500001,16.55940564453125,73.489496875,16.55940564453125C73.436996875,16.55940564453125,73.389296875,16.586005644531248,73.347096875,16.63916564453125C72.966296875,17.07515564453125,72.44309687500001,17.29315564453125,71.777396875,17.29315564453125C71.407296875,17.29315564453125,71.095596875,17.22403564453125,70.841896875,17.08580564453125C70.588196875,16.94757564453125,70.39799687499999,16.76678564453125,70.271196875,16.54345564453125C70.18659687499999,16.352055644531248,70.133796875,16.19783564453125,70.11259687500001,16.08086564453125C70.102096875,16.05960564453125,70.107296875,16.04365564453125,70.128496875,16.03304564453125C70.149596875,16.01174564453125,70.17079687500001,16.00113564453125,70.191896875,16.00113564453125L75.027596875,16.00113564453125C75.154196875,16.00113564453125,75.223296875,15.93732564453125,75.233496875,15.809705644531249ZM48.411096875,11.02435564453125C49.119196875,11.02435564453125,49.758696875,11.146645644531251,50.329496875000004,11.39122564453125C50.900196875,11.62517564453125,51.349396875,11.95484564453125,51.677096875000004,12.380185644531249C52.004796875,12.794915644531251,52.168596875,13.25750564453125,52.168596875,13.76795564453125L52.168596875,19.20728564453125C52.168596875,19.26048564453125,52.147496875,19.30838564453125,52.105196875000004,19.35088564453125C52.073496875000004,19.38278564453125,52.031196875,19.39868564453125,51.978396875,19.39868564453125L49.726996875,19.39868564453125C49.674096875000004,19.39868564453125,49.626596875000004,19.38278564453125,49.584296875,19.35088564453125C49.552596875,19.30838564453125,49.536796875,19.26048564453125,49.536796875,19.20728564453125L49.536796875,18.64898564453125C49.536796875,18.60648564453125,49.526196875,18.58518564453125,49.504996875,18.58518564453125C49.483896875,18.57458564453125,49.462796875,18.590585644531252,49.441596875,18.63308564453125C49.039896875,19.22858564453125,48.352896875,19.52638564453125,47.380496875,19.52638564453125Q46.112096875,19.52638564453125,45.351096874999996,18.93608564453125C44.854296875,18.53208564453125,44.605896875,17.941865644531248,44.605896875,17.16556564453125C44.605896875,16.34671564453125,44.885996875000004,15.71399564453125,45.446196875,15.26735564453125C46.016996875000004,14.82075564453125,46.841396875,14.59741564453125,47.919596874999996,14.59741564453125L49.457496875000004,14.59741564453125C49.510296875,14.59741564453125,49.536796875,14.570815644531251,49.536796875,14.51765564453125L49.536796875,14.214585644531251C49.536796875,13.927475644531249,49.441596875,13.70414564453125,49.251396875,13.54465564453125C49.061096875000004,13.37447564453125,48.796796875,13.28941564453125,48.458596875,13.28941564453125C48.204896875,13.28941564453125,47.982996875,13.33726564453125,47.792696875000004,13.43298564453125C47.612996875,13.52870564453125,47.496796875,13.65097564453125,47.443896875,13.799855644531249C47.391096875,13.91683564453125,47.317096875000004,13.969995644531249,47.221996875,13.959385644531249L44.938896875,13.65628564453125C44.812096875,13.63502564453125,44.748596875000004,13.58716564453125,44.748596875000004,13.51274564453125C44.790896875,13.04485564453125,44.970596875,12.62478564453125,45.287696875,12.25260564453125C45.615296875,11.86977564453125,46.048696875,11.57200564453125,46.587796875,11.35932564453125C47.137396875,11.13601564453125,47.745196875,11.02435564453125,48.411096875,11.02435564453125ZM56.959196875,19.52638564453125C56.208696875,19.52638564453125,55.553396875000004,19.42528564453125,54.993196874999995,19.223285644531252C54.432996875,19.01058564453125,53.999696875,18.71808564453125,53.693196875,18.34598564453125C53.397196875,17.96312564453125,53.249196874999996,17.52713564453125,53.249196874999996,17.03794564453125L53.249196874999996,16.86250564453125C53.249196874999996,16.80930564453125,53.265096875,16.76678564453125,53.296796875,16.73488564453125C53.339096874999996,16.692335644531248,53.386596874999995,16.67107564453125,53.439496875,16.67107564453125L55.579896875,16.67107564453125C55.632696875,16.67107564453125,55.674996875000005,16.692335644531248,55.706696875,16.73488564453125C55.748996875,16.76678564453125,55.770096875,16.80930564453125,55.770096875,16.86250564453125C55.770096875,17.06454564453125,55.881096875,17.23468564453125,56.102996875,17.37291564453125C56.324996875,17.50053564453125,56.605096875,17.56434564453125,56.943396875000005,17.56434564453125C57.239296875,17.56434564453125,57.471796874999995,17.51649564453125,57.640996875,17.42077564453125C57.820596875,17.31444564453125,57.910496875,17.17618564453125,57.910496875,17.00604564453125C57.910496875,16.835905644531252,57.815296875,16.71362564453125,57.625096875,16.63916564453125C57.445396875,16.554105644531248,57.149396875,16.47433564453125,56.737196874999995,16.399915644531248C56.071296875,16.272295644531248,55.532296875,16.11811564453125,55.120096875,15.93732564453125C54.580996875,15.71399564453125,54.152896874999996,15.437525644531249,53.835796875,15.10786564453125C53.518796875,14.76755564453125,53.360196875,14.30496564453125,53.360196875,13.72009564453125C53.360196875,12.890635644531251,53.677296874999996,12.23664564453125,54.311496875,11.75810564453125C54.956196875,11.26893564453125,55.801796875,11.02435564453125,56.848196875,11.02435564453125C57.556396875000004,11.02435564453125,58.174696874999995,11.14132564453125,58.703196875,11.37527564453125C59.242296875,11.598595644531251,59.659796875,11.91763564453125,59.955696875,12.33236564453125C60.251696875,12.74709564453125,60.399696875000004,13.22560564453125,60.399696875000004,13.76795564453125C60.399696875000004,13.82111564453125,60.378496874999996,13.86897564453125,60.336196875,13.911525644531249C60.304496875,13.943435644531249,60.262296875000004,13.959385644531249,60.209396874999996,13.959385644531249L58.132496875,13.959385644531249C58.079596875,13.959385644531249,58.031996875000004,13.943435644531249,57.989696875,13.911525644531249C57.958096874999995,13.86897564453125,57.942196875,13.82111564453125,57.942196875,13.76795564453125C57.942196875,13.56591564453125,57.847096875,13.40107564453125,57.656796875,13.27345564453125C57.466596875,13.14587564453125,57.207596875,13.08206564453125,56.879896875,13.08206564453125C56.583996875,13.08206564453125,56.340896875,13.13522564453125,56.150596875000005,13.24155564453125C55.970896875,13.33726564453125,55.881096875,13.47550564453125,55.881096875,13.65628564453125C55.881096875,13.83706564453125,55.981496875000005,13.969995644531249,56.182296875,14.05506564453125C56.383096875,14.129525644531249,56.721396874999996,14.214585644531251,57.196996874999996,14.310305644531251C57.810096875,14.43788564453125,58.238196875,14.53894564453125,58.481296875,14.61336564453125C59.136596874999995,14.82605564453125,59.643896874999996,15.11316564453125,60.003296875000004,15.47473564453125C60.373296875,15.836305644531251,60.558196875,16.320155644531248,60.558196875,16.926275644531252C60.558196875,17.755745644531252,60.230496875,18.399085644531247,59.575196875,18.85638564453125C58.930396875,19.30308564453125,58.058496875,19.52638564453125,56.959196875,19.52638564453125ZM93.495196875,18.76068564453125C94.161196875,19.27108564453125,94.969696875,19.52638564453125,95.920996875,19.52638564453125C96.88259687499999,19.52638564453125,97.696596875,19.26578564453125,98.362596875,18.744685644531252C99.028296875,18.22368564453125,99.472196875,17.51649564453125,99.694296875,16.62321564453125C99.810696875,16.176575644531248,99.868796875,15.70868564453125,99.868796875,15.21953564453125C99.868796875,14.67717564453125,99.794596875,14.16673564453125,99.646596875,13.68819564453125C99.393296875,12.858725644531251,98.943896875,12.210045644531249,98.299096875,11.74215564453125C97.654396875,11.26361564453125,96.866796875,11.02435564453125,95.936796875,11.02435564453125C94.996096875,11.02435564453125,94.192796875,11.26361564453125,93.526696875,11.74215564453125C92.871696875,12.210045644531249,92.422296875,12.86406564453125,92.179196875,13.70414564453125C92.04189687499999,14.15078564453125,91.973296875,14.666535644531251,91.973296875,15.25140564453125C91.973296875,15.77249564453125,92.03639687500001,16.25103564453125,92.16349687499999,16.68702564453125C92.38519687499999,17.55900564453125,92.829096875,18.25028564453125,93.495196875,18.76068564453125ZM81.556496875,11.24766564453125C81.345296875,11.10942564453125,81.049396875,11.04030564453125,80.668696875,11.04030564453125C79.992296875,11.04030564453125,79.442696875,11.32210564453125,79.019696875,11.88572564453125C79.009496875,11.91763564453125,78.993296875,11.92824564453125,78.972396875,11.91763564453125C78.95109687499999,11.90698564453125,78.940396875,11.88572564453125,78.940396875,11.85382564453125L78.940396875,11.34337564453125C78.940396875,11.29020564453125,78.919496875,11.24766564453125,78.877296875,11.215765644531249C78.845296875,11.17323564453125,78.803096875,11.15196564453125,78.750196875,11.15196564453125L76.498796875,11.15196564453125C76.446296875,11.15196564453125,76.39859687500001,11.17323564453125,76.356296875,11.215765644531249C76.32439687499999,11.24766564453125,76.308596875,11.29020564453125,76.308596875,11.34337564453125L76.308596875,19.20728564453125C76.308596875,19.26048564453125,76.32439687499999,19.30838564453125,76.356296875,19.35088564453125C76.39859687500001,19.38278564453125,76.446296875,19.39868564453125,76.498796875,19.39868564453125L78.750196875,19.39868564453125C78.803096875,19.39868564453125,78.845296875,19.38278564453125,78.877296875,19.35088564453125C78.919496875,19.30838564453125,78.940396875,19.26048564453125,78.940396875,19.20728564453125L78.940396875,15.01214564453125C78.940396875,14.66122564453125,79.051696875,14.37942564453125,79.273396875,14.16673564453125C79.506196875,13.95404564453125,79.785996875,13.82645564453125,80.113896875,13.783905644531249C80.208996875,13.76264564453125,80.34629687500001,13.75200564453125,80.526196875,13.75200564453125C80.69509687499999,13.75200564453125,80.874996875,13.77325564453125,81.065196875,13.81581564453125C81.20249687500001,13.86897564453125,81.276696875,13.831765644531249,81.286996875,13.70414564453125L81.651596875,11.48693564453125C81.67289687499999,11.380595644531251,81.641296875,11.30084564453125,81.556496875,11.24766564453125ZM70.207796875,14.07101564453125C70.387496875,13.54995564453125,70.751896875,13.28941564453125,71.301596875,13.28941564453125C71.59749687499999,13.28941564453125,71.840896875,13.35852564453125,72.031096875,13.49679564453125C72.231996875,13.63502564453125,72.369296875,13.83706564453125,72.44309687500001,14.10292564453125C72.485696875,14.23054564453125,72.506596875,14.336865644531251,72.506596875,14.42193564453125C72.506596875,14.464495644531251,72.485696875,14.48574564453125,72.44309687500001,14.48574564453125L70.191896875,14.48574564453125C70.128496875,14.48574564453125,70.107296875,14.45918564453125,70.128496875,14.406025644531251C70.138996875,14.29965564453125,70.165496875,14.187995644531249,70.207796875,14.07101564453125ZM96.682096875,16.974135644531252C96.481296875,17.16556564453125,96.227596875,17.26128564453125,95.920996875,17.26128564453125C95.614396875,17.26128564453125,95.355596875,17.16556564453125,95.144096875,16.974135644531252C94.943296875,16.772095644531248,94.80039687499999,16.50093564453125,94.715996875,16.16062564453125C94.652496875,15.884165644531251,94.620896875,15.58106564453125,94.620896875,15.25140564453125C94.620896875,14.88986564453125,94.652496875,14.58146564453125,94.715996875,14.326255644531251C94.906196875,13.63502564453125,95.30779687500001,13.28941564453125,95.920996875,13.28941564453125C96.227596875,13.28941564453125,96.481296875,13.37982564453125,96.682096875,13.56060564453125C96.88259687499999,13.74135564453125,97.025396875,13.99659564453125,97.109896875,14.326255644531251C97.184096875,14.62401564453125,97.221096875,14.93238564453125,97.221096875,15.25140564453125C97.221096875,15.58106564453125,97.189196875,15.884165644531251,97.125996875,16.16062564453125C97.030896875,16.50093564453125,96.88259687499999,16.772095644531248,96.682096875,16.974135644531252ZM48.157396875,17.628155644531248C48.558996875,17.628155644531248,48.886696875,17.52713564453125,49.140396875,17.32505564453125C49.404596874999996,17.11240564453125,49.536796875,16.835905644531252,49.536796875,16.49559564453125L49.536796875,16.11276564453125C49.536796875,16.05960564453125,49.510296875,16.03304564453125,49.457496875000004,16.03304564453125L48.506196875,16.03304564453125C48.104496875,16.03304564453125,47.792696875000004,16.10215564453125,47.570796875,16.240395644531247C47.359396875,16.378625644531247,47.253696875,16.586005644531248,47.253696875,16.86250564453125C47.253696875,17.09645564453125,47.332896875,17.28254564453125,47.491496874999996,17.42077564453125C47.649996875,17.55900564453125,47.871996875,17.628155644531248,48.157396875,17.628155644531248Z",
                                "fill-rule": "evenodd",
                                fill: e.fill,
                              },
                            }),
                          ]
                        ),
                      ]
                    ),
                  ]
                ),
          ]);
        },
        o = [],
        a = i("9ab4"),
        n = i("0345"),
        r = i("60a3");
      let c = class extends r["g"] {
        get fill() {
          return this.isDark ? "#fff" : "#000";
        }
      };
      Object(a["__decorate"])(
        [
          Object(r["e"])({
            default: !0,
            type: Boolean,
          }),
        ],
        c.prototype,
        "isDark",
        void 0
      ),
        (c = Object(a["__decorate"])(
          [
            Object(r["a"])({
              computed: {
                logoSrc() {
                  return Object(n["e"])(this.isDark ? "darkRect" : "lightRect");
                },
              },
            }),
          ],
          c
        ));
      var l = c,
        d = l,
        u = (i("031b"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "1c81a536", null);
      t["a"] = h.exports;
    },
    "25d2": function (e, t, i) {
      "use strict";
      i("8732");
    },
    2615: function (e, t, i) {
      "use strict";
      i("c5ce");
    },
    "27a2": function (e, t, i) {},
    "27e6": function (e, t, i) {},
    "28a8": function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return s;
      });
      const s = {
        sketch: [],
        figma: !1,
      };
    },
    "28d6": function (e, t, i) {
      "use strict";
      i("beec");
    },
    2916: function (e, t, i) {},
    "292f": function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return o;
      });
      var s = i("9ab4");
      const o = (e, t, i = 6) =>
        Object(s["__awaiter"])(void 0, void 0, void 0, function* () {
          const o = e.map((e, t) => ({
              param: e,
              index: t,
            })),
            a = Array(e.length).fill(null);
          let n = !1;
          const r = () =>
            Object(s["__awaiter"])(void 0, void 0, void 0, function* () {
              try {
                while (o.length) {
                  if (n) throw new Error("pool request error");
                  const { param: e, index: i } = o.shift(),
                    s = yield t(e);
                  a[i] = s;
                }
              } catch (e) {
                throw ((n = !0), console.error(e), new Error(e));
              }
            });
          return (
            yield Promise.all(Array(i).fill("").map(r)).catch((e) => {
              throw (console.error(e), new Error(e));
            }),
            a
          );
        });
    },
    "2b18": function (e, t, i) {
      "use strict";
      i("22b9");
    },
    "2b5d": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-animals.1074bd24.jpg";
    },
    "2ba4": function (e, t, i) {},
    "2c10": function (e, t, i) {
      "use strict";
      i("1c13");
    },
    "2c74": function (e, t, i) {
      "use strict";
      i("b9f9");
    },
    "2cb6": function (e, t, i) {},
    "2d4c": function (e, t, i) {},
    "2de9": function (e, t, i) {},
    "2f5b": function (e, t, i) {
      "use strict";
      i("fbe4");
    },
    3058: function (e, t, i) {
      "use strict";
      var s = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              staticClass: "mas-tool-button-container",
              class:
                ((e = {
                  "mas-tool-button-selected": t.selected,
                }),
                (e["mas-tool-button-with-dropdown"] = t.list),
                (e["mas-tool-button-badge-" + t.badgePosition] = t.badge),
                e),
            },
            [
              s(
                "div",
                {
                  staticClass: "mas-tool-button-context radius-s",
                },
                [
                  t.list
                    ? s(
                        "span",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: {
                                content:
                                  t.currentItem.label +
                                  " " +
                                  (t.currentItem && t.currentItem.char
                                    ? "<span>" + t.currentItem.char + "</span>"
                                    : ""),
                                offsetX: 2,
                              },
                              expression:
                                "{\n        content: `${currentItem.label} ${(currentItem && currentItem.char) ? `<span>${currentItem.char}</span>` : '' }`,\n        offsetX: 2,\n      }",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "mas-tool-button-inner",
                          attrs: {
                            "data-tours-name": t.dataToursName,
                          },
                          on: {
                            mousedown: t.enterBtn,
                          },
                        },
                        [
                          t._t("default", [
                            t.isImg
                              ? s("div", {
                                  staticClass: "mas-tool-button-icon isImg",
                                  domProps: {
                                    innerHTML: t._s(t.currentItem.icon),
                                  },
                                })
                              : s(t.currentIcon, {
                                  tag: "component",
                                  staticClass: "mas-tool-button-icon",
                                  attrs: {
                                    opacity: "0.8",
                                    size: "16",
                                  },
                                }),
                          ]),
                          t.badge
                            ? s("span", {
                                key: "badge",
                                staticClass: "mas-tool-button-badge",
                              })
                            : t._e(),
                        ],
                        2
                      )
                    : s(
                        "span",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: {
                                content:
                                  t.tip || t.buttonTip
                                    ? t.tip +
                                      " " +
                                      (t.buttonTip
                                        ? "<span>" + t.buttonTip + "</span>"
                                        : "")
                                    : "",
                              },
                              expression:
                                "{\n        content: tip || buttonTip ? `${tip} ${buttonTip ? `<span>${buttonTip}</span>` : ''}` : '',\n      }",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "mas-tool-button-inner",
                          on: {
                            mousedown: t.enterBtn,
                          },
                        },
                        [
                          s(t.icon, {
                            tag: "component",
                            staticClass: "mas-tool-button-icon",
                            attrs: {
                              opacity: "0.8",
                              size: "16",
                              "data-tours-name": t.dataToursName,
                            },
                          }),
                          t.badge
                            ? s("span", {
                                key: "badge",
                                staticClass: "mas-tool-button-badge",
                              })
                            : t._e(),
                        ],
                        1
                      ),
                  t.list
                    ? s(
                        "master-dropdown",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: {
                                content: t.tip,
                                offsetX: "-3",
                                offsetY: "3",
                              },
                              expression:
                                "{ content: tip, offsetX: '-3', offsetY: '3' }",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "popover-container",
                          attrs: {
                            trigger: "click",
                            popoverClass: "popover-tip",
                            offset: 12,
                            open: t.isOpen,
                          },
                          on: {
                            "update:open": function (e) {
                              t.isOpen = e;
                            },
                            command: t.changeCurrent,
                          },
                        },
                        [
                          t.list
                            ? s(
                                "div",
                                {
                                  staticClass:
                                    "mas-tool-button-arrow transition",
                                  attrs: {
                                    slot: "dropButton",
                                    "data-tours-name": t.dataToursName + "s",
                                  },
                                  slot: "dropButton",
                                },
                                [
                                  s("AngleDownIcon", {
                                    staticClass: "mas-tool-button-icon",
                                    attrs: {
                                      size: "14",
                                      opacity: "0.8",
                                    },
                                  }),
                                ],
                                1
                              )
                            : t._e(),
                          s("master-menu", {
                            attrs: {
                              slot: "dropMenu",
                              list: t.list,
                              isImg: t.isImg,
                              getChecked: t.getChecked,
                            },
                            slot: "dropMenu",
                          }),
                        ],
                        1
                      )
                    : t._e(),
                ],
                1
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d140");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments), (this.isOpen = !1);
        }
        get currentItem() {
          return this.list
            ? this.list.find((e) => e.value === this.current) || this.list[0]
            : null;
        }
        get currentIcon() {
          return this.currentItem.icon || this.icon;
        }
        changeCurrent(e) {
          (this.isOpen = !1),
            this.$emit("update:current", e.value),
            this.$emit("change", e.value);
        }
        getChecked(e) {
          return e.value === this.current;
        }
        enterBtn() {
          var e, t;
          this.$emit(
            "click",
            null !==
              (t =
                null === (e = this.currentItem) || void 0 === e
                  ? void 0
                  : e.value) && void 0 !== t
              ? t
              : this.value
          );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
          }),
        ],
        c.prototype,
        "icon",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          c.prototype,
          "badge",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          c.prototype,
          "dataToursName",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "top-right",
            }),
          ],
          c.prototype,
          "badgePosition",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: [Object, Array],
              default: () => {},
            }),
          ],
          c.prototype,
          "list",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: [String, Number],
              default: "",
            }),
          ],
          c.prototype,
          "current",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          c.prototype,
          "selected",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          c.prototype,
          "tip",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          c.prototype,
          "buttonTip",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          c.prototype,
          "isImg",
          void 0
        ),
        (c = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: r["d"],
              },
            }),
          ],
          c
        ));
      var l = c,
        d = l,
        u = (i("c138"), i("bec7"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "f3632042", null);
      t["a"] = h.exports;
    },
    3155: function (e, t, i) {
      e.exports = i.p + "static/img/export_gif_light.64e3f961.gif";
    },
    3288: function (e, t, i) {},
    "32bf": function (e, t, i) {},
    "32ff": function (e, t, i) {
      "use strict";
      i("7ee6");
    },
    "33b1": function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return s;
      });
      const s = function (e) {
        return "string" === typeof e
          ? e.replace(/<|&|>/g, (e) => {
              const t = {
                "<": "&lt;",
                ">": "&gt;",
                "&": "&amp;",
              }[e];
              return null !== t && void 0 !== t ? t : "";
            })
          : "";
      };
    },
    "344b": function (e, t, i) {
      "use strict";
      i("b5fd");
    },
    3462: function (e, t, i) {},
    3468: function (e, t, i) {
      "use strict";
      i("9f60");
    },
    3485: function (e, t, i) {},
    "34dc": function (e, t, i) {
      "use strict";
      i("1731");
    },
    "352b": function (e, t, i) {},
    "353a": function (e, t, i) {},
    3554: function (e, t, i) {},
    3644: function (e, t, i) {
      "use strict";
      i("c524");
    },
    "381e": function (e, t, i) {
      "use strict";
      i("61d9");
    },
    3861: function (e, t, i) {},
    "387d": function (e, t, i) {
      "use strict";
      i("4f4b");
    },
    "38ce": function (e, t, i) {
      "use strict";
      var s,
        o = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "share_menu_wrapper",
              class: {
                "share_menu_wrapper--hide-user": e.hideUserList,
                "publish-active": e.isPublishActive,
              },
            },
            [
              i("input", {
                directives: [
                  {
                    name: "model",
                    rawName: "v-model",
                    value: e.url,
                    expression: "url",
                  },
                ],
                ref: "url",
                staticClass: "shadowInput",
                attrs: {
                  type: "text",
                },
                domProps: {
                  value: e.url,
                },
                on: {
                  input: function (t) {
                    t.target.composing || (e.url = t.target.value);
                  },
                },
              }),
              i(
                "div",
                {
                  staticClass: "title_bar",
                  class: {
                    "title_bar--allowpub": e.allowPub,
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "title_info",
                      class: {
                        "title_info--allowpub": e.allowPub,
                      },
                    },
                    [
                      e.allowPub
                        ? [
                            i(
                              "h5",
                              {
                                class: {
                                  active: e.isInvateActive,
                                },
                                on: {
                                  click: function (t) {
                                    e.currentTab = e.Tab.Invate;
                                  },
                                },
                              },
                              [e._v("邀请")]
                            ),
                            i(
                              "h5",
                              {
                                class: {
                                  active: e.isPublishActive,
                                },
                                on: {
                                  click: e.handlePub,
                                },
                              },
                              [e._v("发布到社区")]
                            ),
                          ]
                        : [
                            i(
                              "div",
                              {
                                staticClass:
                                  "panel_name truncate h4 text-tran-85",
                              },
                              [e._v("邀请协作者")]
                            ),
                          ],
                    ],
                    2
                  ),
                  i(
                    "div",
                    {
                      staticClass: "panel_button",
                    },
                    [
                      e.isInvateActive
                        ? i("MasterButtonIcon", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: {
                                  content: "点击复制嵌入网页代码",
                                  offset: "3px",
                                },
                                expression:
                                  "{ content: '点击复制嵌入网页代码', offset: '3px' }",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              icon: "CodeIcon",
                            },
                            on: {
                              click: e.copyIframeSrc,
                            },
                          })
                        : e._e(),
                      !e.hideFliePageFunction && e.isInvateActive
                        ? i(
                            "master-dropdown",
                            {
                              on: {
                                command: e.changeStatus,
                                "update:open": e.changeStatusOpen,
                              },
                            },
                            [
                              i("MasterButtonIcon", {
                                attrs: {
                                  slot: "dropButton",
                                  icon: "SlidersHIcon",
                                },
                                slot: "dropButton",
                              }),
                              i("master-menu", {
                                attrs: {
                                  slot: "dropMenu",
                                  list: e.menuList,
                                  getChecked: e.getChecked,
                                },
                                slot: "dropMenu",
                              }),
                            ],
                            1
                          )
                        : e._e(),
                      i("MasterButtonIcon", {
                        attrs: {
                          icon: "TimesIcon",
                        },
                        on: {
                          click: e.closePannel,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              e.isInvateActive
                ? i(
                    "div",
                    {
                      staticClass: "share_menu_wrapper__content",
                      class: {
                        "share_menu_wrapper__content--allowpub": e.allowPub,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "invite_content",
                          class: {
                            invite_content_bottom: e.showConfrimList,
                          },
                        },
                        [
                          i("Invatedialog", {
                            attrs: {
                              list: e.roleHandler("invite"),
                              fileInfo: e.fileInfo,
                              role: e.fileInfo.userRole,
                              showMembers: !1,
                              shareMembersList: e.shareMembersList,
                              open: e.open,
                            },
                            on: {
                              send: e.sendMail,
                            },
                          }),
                        ],
                        1
                      ),
                      !e.hideUserList && e.showConfrimList
                        ? [
                            e.fileOwner || e.shareMembersList.length
                              ? i(
                                  "ul",
                                  [
                                    e.fileDescribe && !e.isDraftFile
                                      ? i(
                                          "li",
                                          [
                                            i("svg-plugin", {
                                              staticClass: "desc-icon",
                                              attrs: {
                                                name: "people",
                                              },
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass: "desc_text",
                                              },
                                              [e._v(e._s(e.fileDescribe))]
                                            ),
                                          ],
                                          1
                                        )
                                      : e._e(),
                                    e.fileOwner
                                      ? i(
                                          "li",
                                          [
                                            i("portrait", {
                                              attrs: {
                                                info: e.fileOwner,
                                                size: "middle",
                                              },
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_name",
                                              },
                                              [
                                                i(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "name truncate h4",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(
                                                        e.fileOwner.name +
                                                          (e.userInfo.id ===
                                                          e.fileOwner.id
                                                            ? "（我）"
                                                            : "")
                                                      )
                                                    ),
                                                  ]
                                                ),
                                                i(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "mail truncate",
                                                  },
                                                  [
                                                    e._v(
                                                      e._s(e.fileOwner.email)
                                                    ),
                                                  ]
                                                ),
                                              ]
                                            ),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_attr p5",
                                              },
                                              [e._v("所有者")]
                                            ),
                                          ],
                                          1
                                        )
                                      : e._e(),
                                    e._l(e.shareList.members, function (t, s) {
                                      return i(
                                        "li",
                                        {
                                          key: s + "ha",
                                        },
                                        [
                                          i("portrait", {
                                            attrs: {
                                              info: t,
                                              size: "middle",
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              staticClass: "user_name",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass: "info",
                                                },
                                                [
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "name h5 truncate",
                                                    },
                                                    [
                                                      e._v(
                                                        e._s(
                                                          (t.name || "未命名") +
                                                            (e.userInfo.id ===
                                                            t.id
                                                              ? "（我）"
                                                              : "")
                                                        )
                                                      ),
                                                    ]
                                                  ),
                                                  t.isInTeam || e.isDraftFile
                                                    ? e._e()
                                                    : i(
                                                        "div",
                                                        {
                                                          staticClass: "type",
                                                        },
                                                        [e._v("外部")]
                                                      ),
                                                ]
                                              ),
                                              t.email || t.phoneNumber
                                                ? i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "mail truncate",
                                                    },
                                                    [
                                                      e._v(
                                                        e._s(
                                                          t.email ||
                                                            t.phoneNumber
                                                        )
                                                      ),
                                                    ]
                                                  )
                                                : e._e(),
                                            ]
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass: "user_attr p5",
                                            },
                                            [
                                              e.isUserAccessTip(t)
                                                ? i("InfoColorIcon", {
                                                    directives: [
                                                      {
                                                        name: "tip",
                                                        rawName: "v-tip.bottom",
                                                        value: {
                                                          content:
                                                            e.getUserAccessTip(),
                                                        },
                                                        expression:
                                                          "{\n                content: getUserAccessTip(),\n              }",
                                                        modifiers: {
                                                          bottom: !0,
                                                        },
                                                      },
                                                    ],
                                                    staticStyle: {
                                                      "margin-right": "6px",
                                                    },
                                                    attrs: {
                                                      size: "13",
                                                    },
                                                  })
                                                : e._e(),
                                              t.hideSelector
                                                ? e._e()
                                                : [
                                                    "string" !==
                                                    typeof e.roleHandler(
                                                      null,
                                                      t
                                                    )
                                                      ? i("MasterSelector", {
                                                          attrs: {
                                                            theme: "simple",
                                                            size: "middle",
                                                            options:
                                                              e.roleHandler(
                                                                null,
                                                                t
                                                              ),
                                                            value:
                                                              t.documentRole,
                                                          },
                                                          on: {
                                                            change: function (
                                                              i
                                                            ) {
                                                              e.changeVal(i, t);
                                                            },
                                                          },
                                                        })
                                                      : i("div", [
                                                          e._v(
                                                            e._s(
                                                              e.roleHandler(
                                                                null,
                                                                t
                                                              )
                                                            )
                                                          ),
                                                        ]),
                                                  ],
                                            ],
                                            2
                                          ),
                                        ],
                                        1
                                      );
                                    }),
                                    e._l(
                                      e.shareList.confirmList,
                                      function (t, s) {
                                        return i(
                                          "li",
                                          {
                                            key: s + "fa",
                                          },
                                          [
                                            i("div", {
                                              staticClass: "confirm_icon",
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "confirm_name truncate",
                                              },
                                              [
                                                e._v(
                                                  e._s(
                                                    t.email ||
                                                      t.name ||
                                                      t.phoneNumber
                                                  )
                                                ),
                                              ]
                                            ),
                                            i(
                                              "div",
                                              {
                                                staticClass: "user_attr p5",
                                              },
                                              [
                                                "string" !==
                                                typeof e.roleHandler(
                                                  "confirm",
                                                  t
                                                )
                                                  ? i("MasterSelector", {
                                                      attrs: {
                                                        theme: "simple",
                                                        size: "middle",
                                                        options: e.roleHandler(
                                                          "confirm",
                                                          t
                                                        ),
                                                        value: t.roleName,
                                                      },
                                                      on: {
                                                        change: function (i) {
                                                          e.changeVal(i, t);
                                                        },
                                                      },
                                                    })
                                                  : i("div", [
                                                      e._v(
                                                        " " +
                                                          e._s(
                                                            e.roleHandler(
                                                              "confirm",
                                                              t
                                                            )
                                                          ) +
                                                          " "
                                                      ),
                                                    ]),
                                              ],
                                              1
                                            ),
                                          ]
                                        );
                                      }
                                    ),
                                  ],
                                  2
                                )
                              : i(
                                  "ul",
                                  e._l(4, function (t) {
                                    return i(
                                      "li",
                                      {
                                        key: "skeleton_" + t,
                                        staticClass: "skeleton-item",
                                      },
                                      [
                                        i("div", {
                                          staticClass: "skeleton-left",
                                        }),
                                        e._m(0, !0),
                                        i("div", {
                                          staticClass: "skeleton-right",
                                        }),
                                      ]
                                    );
                                  }),
                                  0
                                ),
                          ]
                        : e._e(),
                    ],
                    2
                  )
                : e._e(),
              e.isInvateActive && e.showConfrimList
                ? i(
                    "div",
                    {
                      staticClass: "line_container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "access_role",
                        },
                        [
                          i("toggle", {
                            attrs: {
                              defaultOpen: e.pageRoles,
                              disable: !e.fileInfo.permissions["set-public"],
                            },
                            on: {
                              change: e.changeAttr,
                            },
                          }),
                          i(
                            "div",
                            {
                              staticClass: "access_role__tips",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass:
                                    "title h4 access_role__tips_head",
                                },
                                [
                                  e._v(
                                    "公开访问" +
                                      e._s(
                                        e.fileInfo.isPublic
                                          ? "已开启"
                                          : "已关闭"
                                      )
                                  ),
                                ]
                              ),
                              e.fileInfo.isPublic
                                ? i(
                                    "div",
                                    {
                                      staticClass:
                                        "tip p5 text-tran-30 access_role__tips_body",
                                    },
                                    [
                                      e.isDraftFile
                                        ? [
                                            e._v(
                                              " " +
                                                e._s(
                                                  e.IS_PRI
                                                    ? "组织内获得链接的人"
                                                    : "互联网上获得链接的人"
                                                ) +
                                                e._s(
                                                  e.isDraftFile
                                                    ? ""
                                                    : "member" ===
                                                      e.fileInfo.publicFileRole
                                                    ? "可编辑"
                                                    : "可查看"
                                                ) +
                                                " "
                                            ),
                                            e.isDraftFile
                                              ? i("MasterSelector", {
                                                  staticClass:
                                                    "access_role__tips_selector",
                                                  attrs: {
                                                    theme: "simple",
                                                    size: "middle",
                                                    value:
                                                      e.fileInfo.publicFileRole,
                                                    options:
                                                      e.draftPublicFileRoleOptions,
                                                    mode: "vPopover",
                                                  },
                                                  on: {
                                                    change: function (t) {
                                                      return e.modifyHandler({
                                                        publicFileRole: t,
                                                        isPublic: !0,
                                                      });
                                                    },
                                                  },
                                                })
                                              : e._e(),
                                          ]
                                        : [
                                            e._v(
                                              " " +
                                                e._s(
                                                  e.IS_PRI
                                                    ? "组织内获得链接的人"
                                                    : "互联网上获得链接的人"
                                                ) +
                                                " "
                                            ),
                                            e.fileInfo.permissions[
                                              "set-public-role"
                                            ]
                                              ? i(
                                                  "master-dropdown",
                                                  {
                                                    staticClass:
                                                      "access_role__tips_selector",
                                                    attrs: {
                                                      open: e.showRoleSelector,
                                                    },
                                                    on: {
                                                      command:
                                                        e.changeRoleStatus,
                                                      "update:open": function (
                                                        t
                                                      ) {
                                                        e.showRoleSelector = t;
                                                      },
                                                    },
                                                  },
                                                  [
                                                    i(
                                                      "div",
                                                      {
                                                        staticClass:
                                                          "dropdown_val",
                                                        attrs: {
                                                          slot: "dropButton",
                                                        },
                                                        slot: "dropButton",
                                                      },
                                                      [
                                                        i("span", [
                                                          e._v("可查看"),
                                                        ]),
                                                        i(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "dropdown_icon transition",
                                                          },
                                                          [
                                                            i("AngleDownIcon", {
                                                              attrs: {
                                                                size: "14",
                                                              },
                                                            }),
                                                          ],
                                                          1
                                                        ),
                                                      ]
                                                    ),
                                                    i("master-menu", {
                                                      attrs: {
                                                        slot: "dropMenu",
                                                        list: e.roleOptions,
                                                        getChecked:
                                                          e.getRoleChecked,
                                                      },
                                                      slot: "dropMenu",
                                                    }),
                                                  ],
                                                  1
                                                )
                                              : i("div", [
                                                  i("span", [
                                                    e._v(
                                                      " " +
                                                        e._s(
                                                          "member" ===
                                                            e.fileInfo
                                                              .userRole &&
                                                            "member" ===
                                                              e.fileInfo
                                                                .publicFileRole
                                                            ? "可编辑"
                                                            : "可查看"
                                                        ) +
                                                        " "
                                                    ),
                                                  ]),
                                                ]),
                                          ],
                                    ],
                                    2
                                  )
                                : i(
                                    "div",
                                    {
                                      staticClass: "tip p5",
                                    },
                                    [e._v(" 仅允许有权限的人访问 ")]
                                  ),
                            ]
                          ),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "copy_link",
                        },
                        [
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "gray",
                                size: "sm",
                              },
                              on: {
                                click: function (t) {
                                  return e.copyLink("copy");
                                },
                              },
                            },
                            [e._v("复制链接")]
                          ),
                        ],
                        1
                      ),
                    ]
                  )
                : e._e(),
              e.isPublishActive
                ? i("PubResource", {
                    attrs: {
                      pubState: e.pubState,
                    },
                    on: {
                      publish: function (t) {
                        return e.$emit("publish");
                      },
                      unpublish: e.handleUnPublish,
                    },
                  })
                : e._e(),
              i(
                "MasterDialog",
                {
                  staticClass: "transferOwnership_dialog",
                  attrs: {
                    visible: e.transferOwnership,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.transferOwnership = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v(" 转交文件所有者 ")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "transfer-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    size: "sm",
                                    padding: "24",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.transferOwnership = !1;
                                    },
                                  },
                                },
                                [e._v("取消")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "destructive",
                                    size: "sm",
                                    width: "84",
                                  },
                                  on: {
                                    click: e.changeOwner,
                                  },
                                },
                                [e._v("确认转交")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(
                      " 你正将文件 " +
                        e._s(this.fileInfo.fileName) +
                        " 的所有者转交给 " +
                        e._s(this.selectedUsername) +
                        " "
                    ),
                  ]),
                ]
              ),
            ],
            1
          );
        },
        a = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton-middle",
              },
              [
                i("div", {
                  staticClass: "skeleton-middle-1",
                }),
                i("div", {
                  staticClass: "skeleton-middle-2",
                }),
              ]
            );
          },
        ],
        n = i("9ab4"),
        r = i("60a3"),
        c = i("2f62"),
        l = i("2ef0"),
        d = i("79e4"),
        u = i("d140"),
        h = i("3dfc"),
        p = i("bbf1"),
        m = i("b29f"),
        g = i("9039"),
        b = i("dc743"),
        v = i("79f6c"),
        f = i("1fc8"),
        y = i("d257"),
        _ = i("d91a"),
        C = i("0613"),
        S = i("1fe8"),
        I = i("d48d"),
        O = i("6bc0"),
        k = i("110c"),
        w = i("dc0f"),
        x = i("ed7e");
      (function (e) {
        (e[(e["Invate"] = 0)] = "Invate"), (e[(e["Publish"] = 1)] = "Publish");
      })(s || (s = {}));
      let L = class extends r["g"] {
        constructor() {
          super(...arguments),
            (this.url = ""),
            (this.userOptions = {}),
            (this.selectedData = {}),
            (this.selectedUsername = ""),
            (this.transferOwnership = !1),
            (this.gettingList = !1),
            (this.showRoleSelector = !1),
            (this.inviteTeam = !1),
            (this.roleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
            ]),
            (this.draftPublicFileRoleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
              {
                label: "可编辑",
                value: "member",
              },
            ]),
            (this.fileOwner = null),
            (this.menuList = [
              {
                label: "允许查看者创建副本",
                checked: !1,
                disabled: !1,
                value: "allowOnlookerCopy",
              },
              {
                label: "隐藏协作者信息",
                checked: !1,
                disabled: !1,
                value: "hideCollabInfo",
              },
            ]),
            (this.shareList = {
              members: [],
              confirmList: [],
            }),
            (this.Tab = s),
            (this.currentTab = s.Invate),
            (this.trackingMap = {
              [S["b"].Draft]: "draft",
              [S["b"].Reviewing]: "under_review",
              [S["b"].Reject]: "failed",
              [S["b"].Published]: "approved",
            }),
            (this.panelRoleMap = {
              owner: "所有者",
              member: "编辑者",
              onlooker: "查看者",
              delete: "移出",
            }),
            (this.isUnPublishing = !1);
        }
        changeStatus(e) {
          (e.checked = !e.checked),
            "allowOnlookerCopy" === e.value &&
              this.modifyHandler({
                allowOnlookerCopy: e.checked,
              }),
            "hideCollabInfo" === e.value &&
              this.modifyHandler({
                hidePartner: e.checked,
              });
        }
        closePannel() {
          this.$emit("update:show", !1);
        }
        get isInvateActive() {
          const e = this.currentTab === s.Invate;
          return (
            e &&
              this.sensorsTrack &&
              _["a"].track(f["b"].SHARE_POPOUT, {
                action_type: "share",
              }),
            e
          );
        }
        get isPublishActive() {
          const e = this.currentTab === s.Publish;
          return (
            e &&
              this.sensorsTrack &&
              _["a"].track(f["b"].SHARE_POPOUT, {
                action_type: "publish",
                action_detail: this.trackingMap[this.pubState],
              }),
            e
          );
        }
        showHandler() {
          this.show && this.getList();
        }
        userListHandler() {
          this.show && this.getList();
        }
        selectItemHandler() {
          9 === this.type &&
          !0 === this.selectItem.isFrame &&
          "positionFrame" === this.menuList[0].value
            ? ((this.menuList[0].disabled = !1),
              (this.menuList[0].checked = !0))
            : ("positionFrame" === this.menuList[0].value &&
                ((this.menuList[0].disabled = !0),
                (this.menuList[0].checked = !1)),
              (this.disableStatus = !0)),
            this.copyLink("init");
        }
        handleSelectChange() {
          0 === this.selectIds.length
            ? ("positionFrame" === this.menuList[0].value &&
                ((this.menuList[0].disabled = !0),
                (this.menuList[0].checked = !1)),
              (this.disableStatus = !0))
            : this.selectItemHandler();
        }
        updateMenuList(e) {
          for (const t of this.menuList)
            if ("allowOnlookerCopy" === t.value) {
              t.disabled = e;
              break;
            }
        }
        get isTeamFile() {
          return !this.fileInfo.isPersonal;
        }
        isUserAccessTip(e) {
          return (
            this.fileInfo.isPublic &&
            "member" === this.fileInfo.publicFileRole &&
            "onlooker" === e.documentRole
          );
        }
        getUserAccessTip() {
          return this.fileInfo.isPublic &&
            "member" === this.fileInfo.publicFileRole
            ? "<p>此成员依然可以编辑文</br>件，因为文件被设置为</br>公开访问且获得链接的</br>人都可以编辑</p>"
            : "";
        }
        getChecked(e) {
          return e.checked;
        }
        changeStatusOpen(e) {
          if (e)
            for (const t of this.menuList) {
              const { userRole: e } = this.fileInfo;
              "allowOnlookerCopy" === t.value
                ? ((t.checked = this.fileInfo.allowOnlookerCopy),
                  (t.disabled = "owner" !== e && "admin" !== e))
                : "hideCollabInfo" === t.value &&
                  ((t.checked = this.fileInfo.hidePartner),
                  (t.disabled = "owner" !== e));
            }
        }
        initInviteTeam(e) {
          (this.inviteTeam = e),
            this.fileInfo.isPersonal,
            (this.roleOptions = [
              {
                label: "可查看",
                value: "onlooker",
              },
            ]);
        }
        changeAttr(e) {
          this.modifyHandler({
            isPublic: e,
          });
        }
        modifyHandler(e) {
          w["n"].setLog(
            "INFO",
            "userAction",
            "change document info",
            Object.assign(
              {
                documentId: this.fileInfo.id,
              },
              e
            )
          );
          const t =
            "boolean" === typeof e.hidePartner
              ? Object(v["Ac"])(this.fileInfo.id, e.hidePartner)
              : Object(v["zc"])(
                  this.fileInfo.id,
                  Object.assign(
                    {
                      teamId: this.fileInfo.teamId,
                      projectId: this.fileInfo.projectId,
                    },
                    e
                  )
                );
          t.then(() => {
            this.$emit(
              "update:fileInfo",
              Object.assign(Object.assign({}, this.fileInfo), e)
            );
          }).catch(() => {
            w["n"].setLog(
              "ERROR",
              "userAction",
              "change document info",
              Object.assign(
                {
                  documentId: this.fileInfo.id,
                },
                e
              )
            ),
              this.$toast({
                content: "文件属性修改失败",
                timeout: 3e3,
                position: "top",
              });
          });
        }
        getList() {
          return Object(n["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.gettingList) {
              if (((this.gettingList = !0), !this.hideUserList)) {
                let e;
                try {
                  e = yield Object(v["Pb"])({
                    documentId: this.fileInfo.id,
                    teamId: this.fileInfo.teamId,
                    projectId: this.fileInfo.projectId,
                  });
                } finally {
                  this.gettingList = !1;
                }
                this.$set(this.shareList, "confirmList", e.data.confirmList),
                  this.$set(this.shareList, "members", e.data.members),
                  this.$set(this, "fileOwner", e.data.owner);
              }
              if (this.isTeamFile) {
                const e = yield Object(v["Yb"])(this.fileInfo.teamId);
                this.setCurrentTeam(e.data);
              }
            }
          });
        }
        copyLink(e) {
          const { query: t } = this.$route;
          let i = `${window.location.origin}/${this.pathName}/${this.fileInfo.id}`;
          const s = Object(l["clone"])(t);
          "positionFrame" === this.menuList[0].value &&
            !this.menuList[0].checked &&
            this.selectIds &&
            delete s.layer_id,
            (s.source = "link_share"),
            (i += "?" + Object(l["map"])(s, (e, t) => `${t}=${e}`).join("&")),
            this.$nextTick(() =>
              Object(n["__awaiter"])(this, void 0, void 0, function* () {
                "init" !== e &&
                  (yield w["p"].shareCurrentDocumentLink({
                    link: i,
                    fileInfo: {
                      id: this.fileInfo.id,
                      name: this.fileInfo.fileName,
                      isPublic: this.fileInfo.isPublic,
                      publicFileRole: this.fileInfo.publicFileRole,
                    },
                    eventParams: {
                      action_position: "file",
                      t_doc_id: this.fileInfo.id,
                    },
                    params: {
                      scene: "common_dialog",
                      short: !0,
                      reserveFileId: this.pathName !== k["a"],
                    },
                  }),
                  w["n"].setLog("INFO", "userAction", "copy link", {
                    documentId: this.fileInfo.id,
                  }));
              })
            );
        }
        copyIframeSrc() {
          const { query: e } = this.$route,
            t = Object(l["clone"])(e);
          t.source = "iframe_share";
          const i = `${window.location.origin}/${this.pathName}/${
            this.fileInfo.id
          }?${Object(l["map"])(t, (e, t) => `${t}=${e}`).join("&")}`;
          w["n"].setLog("INFO", "userAction", "copy iframe", {
            documentId: this.fileInfo.id,
          }),
            Object(y["t"])(
              `<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="${i}" allowfullscreen></iframe>`
            ),
            this.$toast({
              content: "已成功复制嵌入网页代码",
              timeout: 2e3,
              position: "top-right",
              type: "highlight",
            });
        }
        sendMail(e) {
          const t = this.shareTags.map((e) => {
            let t = "",
              i = "";
            return (
              e.userId
                ? ((t = "userid"), (i = e.userId))
                : e.email
                ? ((t = "email"), (i = e.email))
                : e.phone_number
                ? ((t = "phone"), (i = e.phone_number))
                : (i = e.text),
              t ||
                (I["f"].PHONE_NUMBER.test(i) && (t = "phone"),
                I["f"].EMAILREG.test(i) && (t = "email")),
              {
                type: t,
                identity: "" + i,
              }
            );
          });
          Object(v["qc"])({
            documentId: this.fileInfo.id,
            roleName: e.role,
            inviteTeam: e.inviteTeam,
            details: t,
          })
            .then(() => {
              var t, i;
              Object(O["b"])()
                ? null ===
                    (i =
                      null === (t = Object(O["b"])()) || void 0 === t
                        ? void 0
                        : t.instanceStore.fileWssBusiness) ||
                  void 0 === i ||
                  i.send({
                    type: d["f"].WSSWebDocument,
                    msg: {
                      email: e.mail,
                    },
                  })
                : w["c"].send({
                    type: d["f"].WSSWebDocument,
                    msg: {
                      email: e.mail,
                    },
                  }),
                this.getList(),
                this.$store.commit("invite/CLEAR_MEMBERS"),
                this.$toast({
                  content: "邀请成功",
                  timeout: 3e3,
                  position: "top",
                });
            })
            .catch((e) => {
              e &&
                "You can't invite yourself" === e.data.error &&
                this.$toast({
                  content: "您不能邀请自己",
                  timeout: 1e3,
                  position: "top",
                });
            });
        }
        roleHandler(e, t) {
          var i, s;
          let o = {
            title: "",
            notSend: !1,
          };
          const { isTeamMember: a } = this.fileInfo,
            n = {};
          if ("invite" === e) {
            const e =
              null ===
                (s =
                  null === (i = this.fileInfo) || void 0 === i
                    ? void 0
                    : i.permissions) || void 0 === s
                ? void 0
                : s["invite-member"];
            for (let t = 0; t < e.length; t++) {
              const i = e[t];
              n[i] = {
                title: this.panelRoleMap[i],
              };
            }
          } else {
            const i = null === t || void 0 === t ? void 0 : t.permissions;
            if (i) {
              const e = i.canSetRoles;
              if (e.length)
                for (let t = 0; t < e.length; t++)
                  n[e[t]] = {
                    title: this.panelRoleMap[e[t]],
                  };
              i.deleteMember
                ? (n.delete = {
                    title: "移出",
                  })
                : t.id !== this.userInfo.id ||
                  a ||
                  ((n[t.role] = {
                    title: this.panelRoleMap[t.role],
                  }),
                  (n.delete = {
                    title: "离开文件",
                  }));
            }
            if (!Object.keys(n).length) return this.panelRoleMap[t.role];
            if ("confirm" === e) {
              const { email: e } = t;
              e &&
                ("undefined" === typeof this.userOptions[e] &&
                  this.$set(this.userOptions, e, {
                    notSend: !1,
                    title: "重新发送邀请",
                  }),
                (o = this.userOptions[e])),
                o.title &&
                  (n.reInvite = {
                    title: o.title,
                    disabled: o.notSend,
                  });
            }
          }
          return Object.keys(n).map((e) => {
            const t = n[e];
            return Object.assign(
              Object.assign(
                {
                  value: e,
                },
                t
              ),
              {
                label: t.title,
              }
            );
          });
        }
        fileInfoChange() {
          var e;
          this.initInviteTeam(
            (null === (e = C["a"].getters.document) || void 0 === e
              ? void 0
              : e.inviteTeam) || this.inviteTeam
          );
        }
        changeRoleStatus(e) {
          "inviteTeam" === e.value &&
            ((this.inviteTeam = !this.inviteTeam),
            this.initInviteTeam(this.inviteTeam),
            Object(v["rc"])(this.fileInfo.id, this.inviteTeam));
        }
        disabledRmvPermisson(e, t, i) {
          return "onlooker" === t || s(e) <= s(i);
          function s(e) {
            return ["onlooker", "member", "admin", "owner"].indexOf(e);
          }
        }
        getRoleChecked(e) {
          return "onlooker" === e.value || e.checked;
        }
        changeOwner() {
          (this.transferOwnership = !1),
            Object(v["wd"])({
              teamId: this.fileInfo.teamId,
              documentId: this.fileInfo.id,
              userId: this.selectedData.id,
            })
              .then(() => {
                this.getList();
              })
              .catch((e) => {
                console.error(e);
              });
        }
        changeVal(e, t) {
          (this.selectedData = t),
            (this.selectedUsername = t.name),
            "delete" === e
              ? t.inviteId
                ? Object(v["z"])({
                    teamId: this.fileInfo.teamId,
                    documentId: this.fileInfo.id,
                    inviteId: t.inviteId,
                  })
                    .then(() => {
                      this.getList(),
                        this.$toast({
                          content: "成员已删除",
                          timeout: 1e3,
                          position: "top",
                        });
                    })
                    .catch((e) => {
                      console.error(e);
                    })
                : Object(v["z"])({
                    teamId: this.fileInfo.teamId,
                    documentId: this.fileInfo.id,
                    userId: t.id,
                  })
                    .then(() => {
                      t.id === this.userInfo.id
                        ? this.$router.push("/files/home")
                        : (this.$toast({
                            content: "成员已删除",
                            timeout: 1e3,
                            position: "top",
                          }),
                          this.getList());
                    })
                    .catch((e) => {
                      console.error(e);
                    })
              : "owner" === e
              ? (this.transferOwnership = !0)
              : "reInvite" === e
              ? this.userOptions[t.email].notSend ||
                Object(v["pc"])({
                  documentId: this.fileInfo.id,
                  roleName: t.roleName,
                  inviteTeam: t.inviteTeam,
                  details: [
                    {
                      type: "email",
                      identity: t.email,
                    },
                  ],
                }).then(() => {
                  this.$toast({
                    content: t.email ? "已发送邀请到 " + t.email : "邀请已发送",
                    timeout: 1e3,
                    position: "top",
                  });
                  let e = 60;
                  this.userOptions[t.email].notSend = !0;
                  const i = setInterval(() => {
                    (e -= 1),
                      (this.userOptions[
                        t.email
                      ].title = `重新发送邀请（${e}s）`),
                      0 === e &&
                        ((this.userOptions[t.email].title = "重新发送邀请"),
                        (this.userOptions[t.email].notSend = !1),
                        clearInterval(i));
                  }, 1e3);
                })
              : t.id
              ? Object(v["Rd"])({
                  teamId: this.fileInfo.teamId,
                  documentId: this.fileInfo.id,
                  projectId: this.fileInfo.projectId,
                  roleName: e,
                  userId: t.id,
                })
                  .then(() => {
                    this.getList();
                    let e = "文件访问权限已修改";
                    t.id === this.userInfo.id &&
                      (e = "文件访问权限已修改，页面即将刷新"),
                      this.$toast({
                        content: e,
                        timeout: 1e3,
                        position: "top",
                      }),
                      t.id === this.userInfo.id && window.location.reload();
                  })
                  .catch((e) => {
                    console.error(e);
                  })
              : Object(v["Ed"])({
                  teamId: this.fileInfo.teamId,
                  documentId: this.fileInfo.id,
                  projectId: this.fileInfo.projectId,
                  roleName: e,
                  inviteId: t.inviteId,
                })
                  .then(() => {
                    this.getList(),
                      this.$toast({
                        content: "文件访问权限已修改",
                        timeout: 1e3,
                        position: "top",
                      });
                  })
                  .catch((e) => {
                    console.error(e);
                  });
        }
        get pubState() {
          return C["a"].state.community.pubState;
        }
        handleUnPublish() {
          return Object(n["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.isUnPublishing) {
              this.isUnPublishing = !0;
              try {
                let e = C["a"].state.community.currentPubInfo.res_id;
                if (!e) {
                  const t = yield this.$store.dispatch(
                    "community/getPubResourceByDocId",
                    C["a"].state.app.currentDocument.id
                  );
                  e = t.res_id;
                }
                yield this.$store.dispatch("community/unPubResources", {
                  documentId: C["a"].state.app.currentDocument.id,
                  resId: e,
                });
              } finally {
                this.isUnPublishing = !1;
              }
            }
          });
        }
        handlePub() {
          return Object(n["__awaiter"])(this, void 0, void 0, function* () {
            (this.currentTab = s.Publish),
              this.$store.dispatch(
                "community/getPubResourceByDocId",
                C["a"].state.app.currentDocument.id
              ),
              _["a"].track(f["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter1: "share_popout",
                action_parameter2: "contribute",
              });
          });
        }
      };
      Object(n["__decorate"])(
        [
          Object(r["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        L.prototype,
        "allowPub",
        void 0
      ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          L.prototype,
          "sensorsTrack",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: Object,
              default: () => ({
                id: "",
                teamId: "",
                projectId: "",
                teamName: "",
                fileName: "",
                isPublic: !1,
                userRole: "onlooker",
                docRole: "onlooker",
                teamRole: "onlooker",
                isPersonal: !1,
                isTeamMember: !1,
                hidePartner: !1,
                users: [],
                docType: 0,
                allowOnlookerCopy: !1,
                publicFileRole: "onlooker",
              }),
              required: !0,
            }),
          ],
          L.prototype,
          "fileInfo",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: Boolean,
              default: !1,
              required: !0,
            }),
          ],
          L.prototype,
          "show",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          L.prototype,
          "hideFliePageFunction",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: String,
              default: "file",
              required: !1,
            }),
          ],
          L.prototype,
          "pathName",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["e"])({
              type: Boolean,
              required: !1,
            }),
          ],
          L.prototype,
          "open",
          void 0
        ),
        Object(n["__decorate"])(
          [
            Object(r["h"])("show", {
              immediate: !0,
            }),
          ],
          L.prototype,
          "showHandler",
          null
        ),
        Object(n["__decorate"])(
          [
            Object(r["h"])("userList", {
              deep: !0,
              immediate: !0,
            }),
          ],
          L.prototype,
          "userListHandler",
          null
        ),
        Object(n["__decorate"])(
          [
            Object(r["h"])("selectItem", {
              deep: !0,
              immediate: !0,
            }),
          ],
          L.prototype,
          "selectItemHandler",
          null
        ),
        Object(n["__decorate"])(
          [Object(r["h"])("selectIds.length")],
          L.prototype,
          "handleSelectChange",
          null
        ),
        Object(n["__decorate"])(
          [
            Object(r["h"])("isOnlooker", {
              immediate: !0,
            }),
          ],
          L.prototype,
          "updateMenuList",
          null
        ),
        Object(n["__decorate"])(
          [
            Object(r["h"])("fileInfo", {
              deep: !0,
            }),
          ],
          L.prototype,
          "fileInfoChange",
          null
        ),
        (L = Object(n["__decorate"])(
          [
            Object(r["a"])({
              components: {
                MasterSelector: u["e"],
                Invatedialog: h["a"],
                portrait: p["a"],
                MasterMenu: u["d"],
                MasterButtonIcon: m["a"],
                toggle: b["a"],
                MasterDialog: g["a"],
                PubResource: x["a"],
              },
              inject: ["IS_PRI"],
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(c["e"])({
                    document: (e) => e.app.currentDocument,
                    userInfo: (e) => e.main.userInfo,
                    selectItem: (e) => e.basicProps.item,
                    selectIds: (e) => e.basicState.selectIds,
                    groupType: (e) => e.basicProps.item.groupType,
                    type: (e) => e.basicProps.item.type,
                    userList: (e) => e.app.userList,
                    currentTeam: (e) => e.app.currentTeam,
                    shareMembers: (e) => e.invite.shareMembers,
                    shareTags: (e) => e.invite.shareTags,
                  })
                ),
                {
                  shareMembersList() {
                    const e = [
                      ...this.shareList.members,
                      ...this.shareList.confirmList,
                    ];
                    return this.fileOwner && e.push(this.fileOwner), e;
                  },
                  hideUserList() {
                    const e = this.fileInfo.hidePartner,
                      t = "owner" === this.fileInfo.userRole;
                    return e && !t;
                  },
                  pageRoles() {
                    return this.fileInfo.isPublic;
                  },
                  newOpenPublicPermisson() {
                    const { teamRole: e, docRole: t } = this.fileInfo;
                    return ["owner", "admin"].includes(e)
                      ? ["owner", "member"].includes(t)
                      : !!["member", "onlooker"].includes(e) &&
                          ["owner"].includes(t);
                  },
                  fileDescribe() {
                    return this.fileInfo.isPublic
                      ? "任何获取到链接的成员都可以访问此文件"
                      : this.isTeamFile
                      ? this.fileInfo.teamName
                        ? this.fileInfo.teamName + " 的所有成员都可以访问此文件"
                        : "你可以访问此文件"
                      : this.fileInfo.isPersonal
                      ? "只有下方被邀请的成员才可以访问此文件"
                      : "";
                  },
                  isDraftFile() {
                    return (
                      this.fileInfo.projectId ===
                      this.$store.getters.userdraft.projectId
                    );
                  },
                  isUserInTeam() {
                    let e = !1;
                    for (const t of this.fileInfo.users)
                      t.id === this.userInfo.id && (e = !0);
                    return e;
                  },
                  isOnlooker() {
                    const e = "onlooker" === this.fileInfo.userRole;
                    if (!this.isTeamFile) return e;
                    let t = !1,
                      i = !1;
                    for (const s of this.fileInfo.users)
                      s.id === this.userInfo.id &&
                        ((t = !0), "onlooker" === s.role && (i = !0));
                    return t ? e && i : e;
                  },
                  showConfrimList: {
                    get() {
                      return this.shareMembers && !this.shareMembers.length;
                    },
                    set: (e) => e,
                  },
                }
              ),
              methods: Object.assign({}, Object(c["b"])(["setCurrentTeam"])),
              mounted() {
                var e;
                this.initInviteTeam(
                  (null === (e = C["a"].getters.document) || void 0 === e
                    ? void 0
                    : e.inviteTeam) || this.inviteTeam
                );
              },
              created() {
                this.$route.query.params &&
                  Object(v["d"])({
                    dataCode: this.$route.query.params,
                  });
                let e = !1,
                  t = !0;
                0 !== this.selectIds.length &&
                  9 === this.type &&
                  this.selectItem.isFrame &&
                  ((e = !0), (t = !1)),
                  !this.fileInfo.from &&
                    this.menuList.unshift({
                      label: "定位到当前选中容器",
                      checked: e,
                      disabled: t,
                      value: "positionFrame",
                    });
              },
            }),
          ],
          L
        ));
      var A = L,
        T = A,
        j = (i("1584"), i("2877")),
        M = Object(j["a"])(T, o, a, !1, null, "111c3e11", null);
      t["a"] = M.exports;
    },
    "38fb": function (e, t, i) {
      "use strict";
      i("2ba4");
    },
    "38ff": function (e, t, i) {},
    "395c": function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return I;
      });
      var s = i("9ab4"),
        o = i("dc0f"),
        a = i("852e"),
        n = i.n(a),
        r = i("79f6c"),
        c = i("983a"),
        l = i("0613"),
        d = i("4354"),
        u = i("7ffc"),
        h = i("c426"),
        p = i("afbc"),
        m = i("2ef0"),
        g = i("d257"),
        b = i("8ece"),
        v = i("5339"),
        f = i("dbb8"),
        y = i("a3fe"),
        _ = i("43c3"),
        C = i("44a6");
      class S {
        constructor() {
          (this.eventPublisher = Object(f["e"])()),
            (this.onForceUpdate = () => {
              this.reload("内部升级，页面即将自动刷新");
            }),
            (this.ErrorNotSignedIn = () => {
              l["a"].dispatch("logout"),
                o["r"].show("请重新登录", "top", "destructive"),
                this.info("kick out", {
                  kickOutReason: "ErrorNotSignedIn",
                  gfsessionid_backup: "" + n.a.get(Object(r["jc"])()[0]),
                }),
                setTimeout(() => {
                  Object(g["fb"])()
                    ? p["a"].push("/embed/unauthorized")
                    : p["a"].push({
                        path: "/files/login",
                        query: {
                          reason: "kickout",
                        },
                      });
                }, 300);
            }),
            (this.reload = (e, t, i) => {
              l["a"].commit("SET_FILESAVESTATUS", !0),
                this.info("reload", {
                  reason: e,
                });
              let s = 0;
              e && ((s = 1e3), o["r"].show(e, "top", t || "destructive")),
                setTimeout(() => {
                  b["a"][_["a"].changeSaveStatus](!1), Object(C["s"])(e);
                }, i || s);
            }),
            (this.onReceiveLogOut = (e) => {
              this.info("receive log out", e);
              const t = e.ext;
              if (t)
                try {
                  const e = JSON.parse(t).sleep;
                  if (e)
                    if ("1" === localStorage.getItem("logoutStatus")) {
                      const t = setInterval(() => {
                        "2" === localStorage.getItem("logoutStatus") &&
                          (clearInterval(t),
                          localStorage.removeItem("logoutStatus"),
                          setTimeout(() => {
                            this.receiveLogOut();
                          }, 1e3 * e));
                      }, 200);
                    } else
                      setTimeout(() => {
                        this.receiveLogOut();
                      }, 1e3 * e);
                  else this.receiveLogOut();
                } catch (i) {
                  this.receiveLogOut();
                }
              else this.receiveLogOut();
            }),
            (this.onDocMemberRoleRemove = (e) => {
              const { documentID: t } = e;
              h["a"].dispatch({
                type: y["e"].WSSDocumentUPdate,
                msg: {
                  action: "delete",
                  data: {
                    isShare: !0,
                    id: t,
                  },
                },
              });
            }),
            (this.onUserInfoUpdate = (e) => {
              l["a"].dispatch("updateUserInfo", e);
            }),
            (this.onGroupStatusUpdate = (e) => {
              h["a"].dispatch({
                type: y["e"].WSSGroupUpdate,
                msg: e,
              });
            }),
            (this.onGroupUpdate = (e) => {
              h["a"].dispatch({
                type: y["e"].WSSGroupUpdate,
                msg: e,
              });
            }),
            (this.onUsersResponse = (e) => {
              const t = {};
              Object.keys(e).forEach((i) => {
                t[i] = {
                  users: Object(m["uniqBy"])(e[i], "id"),
                };
              }),
                h["a"].dispatch({
                  type: y["e"].WSSWebUserList,
                  data: t,
                });
            }),
            (this.onUserJoined = (e) => {
              const t = {
                id: e.documentID,
                user: e.user,
                isNew: !0,
                action: "add",
              };
              h["a"].dispatch({
                type: y["e"].WSSWebUserList,
                data: t,
              });
            }),
            (this.onUserLeft = (e) => {
              const t = {
                id: e.documentID,
                user: {
                  id: e.userID,
                },
                isNew: !0,
                action: "delet",
              };
              h["a"].dispatch({
                type: y["e"].WSSWebUserList,
                data: t,
              });
            }),
            (this.receiveLogOut = () => {
              this.logout(),
                l["a"].dispatch("logout"),
                Object(g["fb"])()
                  ? p["a"].replace("/embed/unauthorized")
                  : p["a"].replace("/files/login");
            }),
            (this.onSyncNotices = (e) => {
              h["a"].dispatch({
                type: y["e"].WSSWebNotice,
                data: e,
              });
            }),
            (this.onTeamUpdate = (e) => {
              o["e"].$emit(y["e"][y["e"].WSSTeamUPdate], e);
            }),
            (this.onDocumentUpdate = (e) => {
              h["a"].dispatch({
                type: y["e"].WSSDocumentUPdate,
                msg: e,
              });
            }),
            (this.listeningItems = {});
        }
        handleOrgMemberChange(e) {
          return Object(s["__awaiter"])(this, void 0, void 0, function* () {
            const { action: t, data: i = {} } = e;
            switch (t) {
              case "OrganizationMemberDisabled":
                if (i.userId !== l["a"].state.main.userInfo.id) break;
                if (i.organizationId !== l["a"].state.org.currentOrgId) break;
                o["h"].openOrgConfirm({
                  title: "当前账号企业空间已停用",
                  desc: `当前账号在「${
                    null === i || void 0 === i ? void 0 : i.organizationAbbr
                  }」企业空间已被停用，点击返回个人工作台。`,
                  confirmLabel: "返回工作台",
                  onconfirm: () =>
                    Object(s["__awaiter"])(this, void 0, void 0, function* () {
                      yield l["a"].dispatch("org/getOrgList"),
                        yield l["a"].dispatch("org/changeSassOrg"),
                        p["a"].replace({
                          path: "/files/home",
                        });
                    }),
                });
                break;
              default:
                break;
            }
          });
        }
        onTeamMemberChange(e) {
          h["a"].dispatch({
            type: y["e"].WSSTeamMemberChange,
            msg: e,
          });
        }
        logout() {
          var e, t;
          null === (e = this.beacon) || void 0 === e || e.send("LogOut"),
            null === (t = this.wss) || void 0 === t || t.disconnect("log out");
        }
        registerChangeListening(e) {
          var t;
          const i = Object.assign(Object.assign({}, this.listeningItems), e);
          (this.listeningItems = i),
            this.offline ||
              null === (t = this.beacon) ||
              void 0 === t ||
              t.send(
                "RegisterChangeListening",
                Object.assign(Object.assign({}, i), {
                  pageFlag: 2,
                })
              );
        }
        getUserList(e) {
          this.offline ||
            (e && e.length && this.sendMessageForFetchUserList(e));
        }
        sendMessageForFetchUserList(e) {
          var t;
          this.info("send fetch userlist message", {
            docID_teamID: JSON.stringify(e),
          }),
            null === (t = this.beacon) ||
              void 0 === t ||
              t.send("UsersRequest", e);
        }
        unregisterChangeListening() {}
        get offline() {
          return !this.wss || "connected" !== this.wss.status().connectStatus;
        }
        init(e) {
          var t;
          (this.options = e),
            l["a"].dispatch("toggleDisableWebsocket", !1),
            this.offline ||
              null === (t = this.wss) ||
              void 0 === t ||
              t.disconnect("wss exist when init"),
            (this.beacon = Object(f["b"])({
              id: "wss-biz-home-business",
              enabled: !1,
              downstreamHandlerMap: {
                DocumentUpdate: this.onDocumentUpdate,
                ProjectUpdate: this.onDocumentUpdate,
                TeamUpdate: this.onTeamUpdate,
                ReceiveCoverUpdate: this.onDocumentUpdate,
                UserInfoUpdate: this.onUserInfoUpdate,
                DocMemberRoleRemove: this.onDocMemberRoleRemove,
                SyncNotices: this.onSyncNotices,
                ReceiveLogOut: this.onReceiveLogOut,
                UserJoined: this.onUserJoined,
                UserLeft: this.onUserLeft,
                UsersResponse: this.onUsersResponse,
                GroupUpdate: this.onGroupUpdate,
                GroupStatusUpdate: this.onGroupStatusUpdate,
                TeamMemberChange: this.onTeamMemberChange,
                ForceUpdate: this.onForceUpdate,
                OrgMemberChange: this.handleOrgMemberChange,
              },
            })),
            (this.errBeacon = Object(f["b"])({
              id: "wss-biz-home-business-err",
              enabled: !1,
              downstreamHandlerMap: {
                ErrorNotSignedIn: this.ErrorNotSignedIn,
                ErrorBindParameters: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorBindParameters",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
                ErrorInternal: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorInternal",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
                ErrorNoMessageType: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorNoMessageType",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
              },
            })),
            (this.wss = Object(c["a"])({
              appVersion: u["o"],
            })),
            this.wss.registerMessageSubscriber(this.beacon),
            this.wss.registerErrorSubscriber(this.errBeacon),
            this.wss.on("connected", () => {
              this.eventPublisher.emit("open");
            }),
            this.initStore(),
            this.wss.connect("home wss business init");
        }
        initStore() {
          var e;
          return Object(s["__awaiter"])(this, void 0, void 0, function* () {
            let t =
              null === (e = this.options) || void 0 === e ? void 0 : e.userID;
            if (!t) return;
            t =
              "number" === typeof t
                ? t
                : (t && Number.parseInt(t, 10)) || void 0;
            const i = new v["a"]({
              userID: t,
            });
            yield i.connect();
            let s = yield i.checkOfflineStore();
            i.disconnect();
            const o = yield Object(d["d"])(t);
            (s = [...new Set([...s, ...o])]),
              s.length > 0 &&
                (this.info("find stores at dashboard", {
                  changesetStoreDocuments: s,
                }),
                this.eventPublisher.emit("find-documents-to-sync", s));
          });
        }
        get info() {
          return this.wss ? this.wss.getLogger().info : () => {};
        }
        get error() {
          return this.wss ? this.wss.getLogger().error : () => {};
        }
        dispose() {
          var e, t, i;
          this.beacon &&
            (null === (e = this.wss) ||
              void 0 === e ||
              e.unregisterMessageSubscriber(this.beacon)),
            this.errBeacon &&
              (null === (t = this.wss) ||
                void 0 === t ||
                t.unregisterErrorSubscriber(this.errBeacon)),
            null === (i = this.wss) ||
              void 0 === i ||
              i.disconnect("home wss business dispose"),
            (this.wss = void 0),
            (this.options = void 0),
            (this.beacon = void 0),
            (this.errBeacon = void 0);
        }
      }
      const I = new S();
    },
    "39d1": function (e, t, i) {},
    "3a2d": function (e, t, i) {},
    "3a3d": function (e, t, i) {
      "use strict";
      i("73d17");
    },
    "3a4a": function (e, t, i) {},
    "3a6c": function (e, t, i) {
      "use strict";
      i("588b");
    },
    "3ab3": function (e, t, i) {
      "use strict";
      i("3a2d");
    },
    "3ad6": function (e, t, i) {},
    "3c24": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "style-basic--box",
              class: [e.openStyleEdit && "active--" + e.listType],
              style: {
                borderRadius: "list" === e.listType ? "6px" : "6px 0px 0px 6px",
              },
              on: {
                contextmenu: function (t) {
                  return (
                    t.preventDefault(),
                    (function (t) {
                      return e.showMenu(t);
                    })(t)
                  );
                },
              },
            },
            [
              [
                i(
                  "div",
                  {
                    staticClass: "style-basic",
                    class: "style-basic--" + e.listType,
                    style: {
                      paddingLeft: e.paddingLeft,
                    },
                    attrs: {
                      slot: "button",
                    },
                    slot: "button",
                  },
                  [
                    i(
                      "div",
                      {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip",
                            value: {
                              content: e.isList
                                ? ""
                                : "<div style='max-width: 193px; word-wrap:break-word;'><div>" +
                                  e.funEncodeHTML(e.styleItem.labelName) +
                                  "</div>" +
                                  (e.styleItem.description
                                    ? "<div style='opacity: 0.5'>" +
                                      e.funEncodeHTML(e.styleItem.description) +
                                      "</div>"
                                    : "") +
                                  "</div>",
                            },
                            expression:
                              "{\n              content: isList ? '' : `<div style='max-width: 193px; word-wrap:break-word;'><div>${funEncodeHTML(styleItem.labelName)}</div>${\n                styleItem.description ? `<div style='opacity: 0.5'>${funEncodeHTML(styleItem.description)}</div>` : ''\n              }</div>`,\n           }",
                          },
                        ],
                        staticClass: "style-basic--color size-14",
                        style: {
                          flex: e.isList ? "0 0 19px" : "",
                        },
                      },
                      [
                        i("ColorIcon", {
                          attrs: {
                            data: e.styleItem,
                            isLibrary: e.styleItem && e.styleItem.isLibrary,
                            isStyle: !0,
                          },
                        }),
                      ],
                      1
                    ),
                    [
                      e.isList
                        ? i(
                            "div",
                            {
                              directives: [
                                {
                                  name: "show",
                                  rawName: "v-show",
                                  value: e.editStatus,
                                  expression: "editStatus",
                                },
                              ],
                              staticClass: "style-basic--name input_container",
                            },
                            [
                              i("master-input", {
                                ref: "input",
                                staticClass: "input_box",
                                attrs: {
                                  value: e.styleItem.labelName,
                                  focusSelectAll: !0,
                                },
                                on: {
                                  blur: function (t) {
                                    e.editStatus = !1;
                                  },
                                  change: function (t) {
                                    return e.setName(t);
                                  },
                                },
                              }),
                            ],
                            1
                          )
                        : e._e(),
                      e.isList && !e.editStatus
                        ? i(
                            "div",
                            {
                              staticClass: "style-basic--content",
                            },
                            [
                              i(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip",
                                      value: {
                                        content:
                                          "<div style='max-width: 193px; word-wrap:break-word;'><div>" +
                                          e.funEncodeHTML(
                                            e.styleItem.labelName
                                          ) +
                                          "</div>" +
                                          (e.styleItem.description
                                            ? "<div style='opacity: 0.5'>" +
                                              e.funEncodeHTML(
                                                e.styleItem.description
                                              ) +
                                              "</div>"
                                            : "") +
                                          "</div>",
                                        overflowDisplay:
                                          !e.styleItem.description,
                                        offsetX: -3,
                                      },
                                      expression:
                                        "{\n              content: `<div style='max-width: 193px; word-wrap:break-word;'><div>${funEncodeHTML(styleItem.labelName)}</div>${\n                styleItem.description ? `<div style='opacity: 0.5'>${funEncodeHTML(styleItem.description)}</div>` : ''\n              }</div>`,\n              overflowDisplay: !styleItem.description,\n              offsetX: -3\n            }",
                                    },
                                  ],
                                  staticClass: "list-name",
                                  style: {
                                    flex:
                                      3 == e.styleItem.type ||
                                      3 === e.styleItem.styleType
                                        ? ""
                                        : "1",
                                  },
                                  on: {
                                    dblclick: function (t) {
                                      t.stopPropagation(),
                                        e.isStylePanel && (e.editStatus = !0);
                                    },
                                  },
                                },
                                [
                                  i(
                                    "span",
                                    {
                                      staticStyle: {
                                        "line-height": "30px",
                                      },
                                    },
                                    [e._v(e._s(e.styleItem.labelName))]
                                  ),
                                ]
                              ),
                              !e.textSize ||
                              (3 !== e.styleItem.type &&
                                3 !== e.styleItem.styleType)
                                ? e._e()
                                : i(
                                    "span",
                                    {
                                      staticClass: "label-sub-name",
                                      style: {
                                        paddingRight: e.current ? "0" : "6px",
                                      },
                                    },
                                    [e._v(" · " + e._s(e.textSize))]
                                  ),
                            ]
                          )
                        : e._e(),
                      i(
                        "Bounced",
                        {
                          attrs: {
                            title: "编辑样式",
                            offsetLeft: e.bouncedOffsetLeft,
                            right: e.isList ? void 0 : 247,
                            width: "258",
                            open: e.openStyleEdit,
                          },
                          on: {
                            "update:open": function (t) {
                              e.openStyleEdit = t;
                            },
                          },
                        },
                        [
                          e.isList && e.current && !e.editStatus
                            ? i("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: {
                                      content: "编辑样式",
                                    },
                                    expression: "{ content: '编辑样式' }",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                staticClass: "control-button",
                                attrs: {
                                  slot: "button",
                                  icon: "SlidersHIcon",
                                  isLocalIcon: !1,
                                },
                                nativeOn: {
                                  contextmenu: function (e) {
                                    e.preventDefault(), e.stopPropagation();
                                  },
                                  mousedown: function (t) {
                                    return t.stopPropagation(), e.editStyle();
                                  },
                                  click: function (e) {
                                    e.stopPropagation();
                                  },
                                },
                                slot: "button",
                              })
                            : e._e(),
                          e.openStyleEdit
                            ? i("StyleEdit", {
                                attrs: {
                                  slot: "content",
                                  type: e.type,
                                  styleItem: e.styleItem,
                                },
                                on: {
                                  closeEdit: function (t) {
                                    e.openStyleEdit = !1;
                                  },
                                },
                                slot: "content",
                              })
                            : e._e(),
                        ],
                        1
                      ),
                    ],
                  ],
                  2
                ),
              ],
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("2ef0"),
        l = i("b29f"),
        d = i("8ece"),
        u = i("d257"),
        h = i("79f6c"),
        p = i("b0ae"),
        m = i("33b1"),
        g = i("e348"),
        b = i("9588");
      let v = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.openStyleEdit = !1),
            (this.editStatus = !1),
            (this.typeMap = {
              fill: "paint",
              stroke: "paint",
              paint: "paint",
              effect: "effect",
              text: "text",
              grid: "grid",
            }),
            (this.funEncodeHTML = m["a"]);
        }
        editStatusHandler(e) {
          e &&
            this.$nextTick(() => {
              this.$refs.input.focus();
            });
        }
        get textSize() {
          let e, t;
          if (this.styleItem.isLibrary)
            try {
              const i = JSON.parse(this.styleItem.cover);
              (e = i.height), (t = i.size);
            } catch (s) {
              console.error(s);
            }
          "undefined" === typeof e &&
            ((e = this.styleItem.height), (t = this.styleItem.fontSize));
          const { calculateValue: i } = Object(p["a"])(e);
          return "undefined" === typeof e
            ? ""
            : `${+(+t).toFixed(2)}/${"Auto" === e ? "自动" : Math.round(+i)}`;
        }
        showMenu(e) {
          var t, i;
          const s = this.styleData
              ? this.getSelectItems(this.styleData.cataMap)
              : [],
            o = s.filter((e) => e.isStyle);
          let a = [];
          (null === (t = this.styleItem) || void 0 === t
            ? void 0
            : t.isLibrary) ||
          (null === (i = this.styleItem) || void 0 === i
            ? void 0
            : i.isExternal)
            ? (a = [
                {
                  key: "goToStyleFile",
                  title: "前往样式文件",
                },
              ])
            : this.canAddCatalog
            ? o.length === s.length && o.length <= 1
              ? (a = [
                  {
                    key: "editStyle",
                    title: "编辑样式",
                    divid: !0,
                  },
                  {
                    key: "addNewCatalog",
                    title: "添加到新分类",
                    divid: !0,
                  },
                  {
                    key: "deleteStyle",
                    title: "删除样式",
                  },
                ])
              : o.length === s.length && o.length > 1
              ? (a = [
                  {
                    key: "addNewCatalog",
                    title: "添加到新分类",
                    divid: !0,
                  },
                  {
                    key: "deleteStyle",
                    title: "删除样式",
                  },
                ])
              : 0 !== o.length &&
                (a = [
                  {
                    key: "addNewCatalog",
                    title: "添加到新分类",
                    divid: !0,
                  },
                  {
                    key: "cancelCatalog",
                    title: "取消分类",
                    divid: !0,
                  },
                  {
                    key: "deleteStyle",
                    title: "删除",
                  },
                ])
            : (a = [
                {
                  key: "editStyle",
                  title: "编辑样式",
                  divid: !0,
                },
                {
                  key: "deleteStyle",
                  title: "删除样式",
                },
              ]);
          const n = {
            event: e,
            list: a,
            data: this.item,
            handler: this.changeVal,
          };
          this.$eventBus.$emit("contentMenu", n);
        }
        changeVal(e, t) {
          switch (e) {
            case "editStyle":
              this.editStyle();
              break;
            case "deleteStyle":
              this.deleteStyle(t);
              break;
            case "addNewCatalog":
              this.$emit("changeCatalog");
              break;
            case "cancelCatalog":
              this.$emit("deleteCatalog", "cancel");
              break;
            case "goToStyleFile":
              this.goToStyleFile();
              break;
            default:
              break;
          }
        }
        goToStyleFile() {
          var e;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = this.styleItem.ukey.split("+"),
              i = this.$router.resolve({
                path: "/file/" + t[0],
              });
            try {
              const e = yield Object(h["N"])(t[0]);
              if (!e.data) throw new Error();
              Object(u["qb"])(i.href, "_blank");
            } catch (s) {
              (null === (e = s) || void 0 === e ? void 0 : e.response)
                ? this.$toast({
                    content: "没有文件的访问权限或文件已删除",
                    timeout: 3e3,
                    position: "bottom",
                    type: "destructive",
                  })
                : this.$toast({
                    content: "网络异常",
                    timeout: 3e3,
                    position: "bottom",
                    type: "destructive",
                  });
            }
          });
        }
        deleteStyle(e) {
          if (!this.canAddCatalog)
            return void d["a"].deleteStyleById(this.styleItem.type, e.id);
          const t = this.styleMap,
            i = this.getSelectItems(this.styleData.cataMap);
          d["a"].mergeStepStart(),
            i.forEach((e) => {
              const i = this.getStyle(e.id);
              i.forEach((e) => {
                const i = t[e.name];
                d["a"].deleteStyleById(i.type, i.id);
              });
            }),
            d["a"].mergeStepEnd();
        }
        getStyle(e) {
          const t = [],
            i = (e) => {
              const s = this.styleData.cataMap[e];
              s.isStyle ? t.push(s) : s.children.forEach((e) => i(e));
            };
          return i(e), t;
        }
        getSelectItems(e) {
          return Object.values(e).filter((e) => e.isSelect);
        }
        editStyle() {
          (this.openStyleEdit = !this.openStyleEdit),
            this.openStyleEdit &&
              this.styleItem.isLibrary &&
              this.$emit("openEditor");
        }
        beforeDestroy() {
          this.openStyleEdit = !1;
        }
        setName(e) {
          if (!e || /^\/*$/.test(e)) return;
          const t = new RegExp(
              Object(c["escapeRegExp"])(this.styleItem.labelName) + "$"
            ),
            i = this.styleItem.name
              .replace(t, e.replace(/\/+/g, "/").replace(/(^\/)|(\/$)/g, ""))
              .replace(/(^\/)|(\/$)/g, "");
          this.styleHandler.updateStyleAttribute(i, this.styleItem.description);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("editStatus")],
        v.prototype,
        "editStatusHandler",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "D67575",
              required: !1,
            }),
          ],
          v.prototype,
          "colorValue",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "1",
              required: !1,
            }),
          ],
          v.prototype,
          "colorAlpha",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
            }),
          ],
          v.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          v.prototype,
          "item",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !0,
              required: !1,
            }),
          ],
          v.prototype,
          "isStylePanel",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !0,
              required: !1,
            }),
          ],
          v.prototype,
          "canAddCatalog",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          v.prototype,
          "current",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          v.prototype,
          "isSelect",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          v.prototype,
          "paddingLeft",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "list",
            }),
          ],
          v.prototype,
          "listType",
          void 0
        ),
        (v = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ColorIcon: g["a"],
                MasterButtonIcon: l["a"],
                StyleEdit: () =>
                  i.e("chunk-3b9e2eca").then(i.bind(null, "bfa8")),
                Bounced: b["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])("style", {
                    styleItem(e) {
                      if (!1 === this.item.isExternal)
                        return e.styleMap[this.item.ukey];
                      const t = this.item.ukey || this.item.id,
                        i = e.subscribeMap[t],
                        s = e.usedStyleMap[t];
                      return s &&
                        i &&
                        i.name === s.name &&
                        i.version === s.styleSignature
                        ? s
                        : i || s;
                    },
                    styleData(e) {
                      return e[this.typeMap[this.type]];
                    },
                    styleMap(e) {
                      return e.styleMap;
                    },
                  })
                ),
                {
                  styleHandler() {
                    return d["a"].getStyle(this.styleItem);
                  },
                  isList() {
                    return "list" === this.listType;
                  },
                  bouncedOffsetLeft() {
                    return this.canAddCatalog
                      ? this.current && !this.editStatus
                        ? 217
                        : 247
                      : this.current && !this.editStatus
                      ? 197
                      : 227;
                  },
                }
              ),
            }),
          ],
          v
        ));
      var f = v,
        y = f,
        _ = (i("9e25"), i("2877")),
        C = Object(_["a"])(y, s, o, !1, null, "d0072b22", null);
      t["a"] = C.exports;
    },
    "3c7b": function (e, t, i) {
      "use strict";
      i("4ac3");
    },
    "3e28": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-technology.4d92eb09.jpg";
    },
    "3eeb": function (e, t, i) {},
    4029: function (e, t, i) {
      "use strict";
      i("dcb8");
    },
    "412b": function (e, t, i) {},
    "41c3": function (e, t, i) {
      "use strict";
      i("c5be");
    },
    "428e": function (e, t, i) {
      e.exports = i.p + "static/img/other.a447fd01.svg";
    },
    "42cc": function (e, t, i) {
      "use strict";
      i("353a");
    },
    "432b": function (e, t, i) {},
    4336: function (e, t, i) {},
    "435d": function (e, t, i) {
      e.exports = i.p + "static/img/doc-no-access.62c12d3f.png";
    },
    4450: function (e, t, i) {
      e.exports = i.p + "static/img/beta.dedf1292.svg";
    },
    4705: function (e, t, i) {
      "use strict";
      i("a2ec");
    },
    "47d5": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "rightbar-box focus-within--shadow-2",
              class: {
                "rightbar-box__hidden": !e.data.isVisible,
              },
            },
            [
              e.popoverLazyLoad
                ? i("Bounced", {
                    ref: "bounced",
                    attrs: {
                      offsetLeft: 17,
                      placement: e.placement,
                      open: e.isOpen,
                      width: "256px",
                    },
                    on: {
                      "update:open": function (t) {
                        e.isOpen = t;
                      },
                    },
                    scopedSlots: e._u([
                      {
                        key: "title",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                staticStyle: {
                                  position: "relative",
                                  width: "100px",
                                },
                              },
                              [
                                i("MasterSelector", {
                                  attrs: {
                                    options: e.gridTypes,
                                    value: e.data.gridType,
                                    theme: "simple",
                                    size: "small",
                                    mode: "masterPopover",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.changeHandler({
                                        gridType: t,
                                      });
                                    },
                                  },
                                }),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                      {
                        key: "button",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "布局网格设置",
                                    expression: "'布局网格设置'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                staticClass:
                                  "label-icon mas-bar-button hover-focus--bg-tran-8 active--bg-tran-12",
                                attrs: {
                                  tabindex: "0",
                                },
                                on: {
                                  keydown: [
                                    function (t) {
                                      return !t.type.indexOf("key") &&
                                        e._k(t.keyCode, "space", 32, t.key, [
                                          " ",
                                          "Spacebar",
                                        ])
                                        ? null
                                        : e.toggleBounced(t);
                                    },
                                    function (t) {
                                      return !t.type.indexOf("key") &&
                                        e._k(
                                          t.keyCode,
                                          "enter",
                                          13,
                                          t.key,
                                          "Enter"
                                        )
                                        ? null
                                        : e.toggleBounced(t);
                                    },
                                  ],
                                  focus: e.suspendHotkey,
                                  blur: e.resumeHotkey,
                                },
                              },
                              [
                                i(e.icons[e.data.gridType], {
                                  tag: "component",
                                  attrs: {
                                    opacity: "1",
                                    size: "14",
                                  },
                                }),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                      {
                        key: "content",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                staticClass: "content",
                                staticStyle: {
                                  "grid-row-gap": "12px",
                                },
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass:
                                      "list-item grid-layout-list-item",
                                  },
                                  [
                                    e.isGridType
                                      ? i(
                                          "div",
                                          {
                                            staticClass: "grid-setting-item",
                                          },
                                          [
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "grid-setting-item__title",
                                              },
                                              [
                                                e._v(
                                                  e._s(
                                                    e.gridTypeOption.sizeLabel
                                                  )
                                                ),
                                              ]
                                            ),
                                            i("master-input", {
                                              staticStyle: {
                                                width: "68px",
                                                "padding-left": "8px",
                                              },
                                              attrs: {
                                                value: e.data.sectionSize,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkInteger,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    sectionSize: t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                            }),
                                          ],
                                          1
                                        )
                                      : i(
                                          "div",
                                          {
                                            staticClass: "grid-setting-item",
                                          },
                                          [
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "grid-setting-item__title",
                                              },
                                              [e._v("数量")]
                                            ),
                                            i("master-input", {
                                              staticStyle: {
                                                width: "68px",
                                                "padding-left": "8px",
                                              },
                                              attrs: {
                                                value: e.data.count,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkInteger,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    count: t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                    i(
                                      "div",
                                      {
                                        staticClass: "grid-setting-item",
                                      },
                                      [
                                        i(
                                          "div",
                                          {
                                            staticClass:
                                              "grid-setting-item__title",
                                          },
                                          [e._v("颜色")]
                                        ),
                                        i("ColorItem", {
                                          staticStyle: {
                                            width: "148px",
                                          },
                                          attrs: {
                                            data: Object.assign({}, e.data, {
                                              type: 0,
                                            }),
                                            placement: "left-end",
                                            offset: "90",
                                            showEye: !1,
                                            title: "纯色",
                                            supportDragFill: !1,
                                          },
                                          on: {
                                            change: e.changeGridColor,
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                  ]
                                ),
                                e.isGridType
                                  ? e._e()
                                  : [
                                      i(
                                        "div",
                                        {
                                          staticClass:
                                            "list-item grid-layout-list-item",
                                        },
                                        [
                                          i(
                                            "div",
                                            {
                                              staticClass: "grid-setting-item",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "grid-setting-item__title",
                                                },
                                                [e._v("布局方式")]
                                              ),
                                              i("MasterSelector", {
                                                staticStyle: {
                                                  width: "102px",
                                                },
                                                attrs: {
                                                  value: e.data.alignment,
                                                  options:
                                                    e.gridTypeOption.options,
                                                  mode: "masterPopover",
                                                },
                                                on: {
                                                  change: function (t) {
                                                    return e.changeHandler({
                                                      alignment: t,
                                                    });
                                                  },
                                                },
                                              }),
                                            ],
                                            1
                                          ),
                                        ]
                                      ),
                                      i(
                                        "div",
                                        {
                                          staticClass:
                                            "list-item grid-layout-list-item",
                                        },
                                        [
                                          i(
                                            "div",
                                            {
                                              staticClass: "grid-setting-item",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "grid-setting-item__title",
                                                },
                                                [
                                                  e._v(
                                                    e._s(
                                                      e.gridTypeOption.sizeLabel
                                                    )
                                                  ),
                                                ]
                                              ),
                                              i("master-input", {
                                                staticStyle: {
                                                  width: "68px",
                                                  "padding-left": "8px",
                                                },
                                                attrs: {
                                                  value: e.alignmentOption
                                                    .sizeDisabled
                                                    ? ""
                                                    : e.data.sectionSize,
                                                  focusSelectAll: !0,
                                                  placeholder: e.alignmentOption
                                                    .sizeDisabled
                                                    ? "自动"
                                                    : "",
                                                  disabled:
                                                    e.alignmentOption
                                                      .sizeDisabled,
                                                  validate:
                                                    e.validate.checkInteger,
                                                },
                                                on: {
                                                  change: function (t) {
                                                    return e.changeHandler({
                                                      sectionSize: t,
                                                      manualType: "debounce",
                                                    });
                                                  },
                                                  keydown: e.keydownHandler,
                                                },
                                              }),
                                            ],
                                            1
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass: "grid-setting-item",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "grid-setting-item__title",
                                                },
                                                [
                                                  e._v(
                                                    e._s(
                                                      e.gridTypeOption
                                                        .gutterLabel
                                                    )
                                                  ),
                                                ]
                                              ),
                                              i("master-input", {
                                                staticStyle: {
                                                  width: "68px",
                                                  "padding-left": "8px",
                                                },
                                                attrs: {
                                                  value: e.data.gutterSize,
                                                  focusSelectAll: !0,
                                                  validate:
                                                    e.validate.checkInteger,
                                                },
                                                on: {
                                                  change: function (t) {
                                                    return e.changeHandler({
                                                      gutterSize: t,
                                                      manualType: "debounce",
                                                    });
                                                  },
                                                  keydown: e.keydownHandler,
                                                },
                                              }),
                                            ],
                                            1
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass: "grid-setting-item",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "grid-setting-item__title",
                                                },
                                                [
                                                  e._v(
                                                    e._s(
                                                      e.alignmentOption.label
                                                    )
                                                  ),
                                                ]
                                              ),
                                              i("master-input", {
                                                staticStyle: {
                                                  width: "68px",
                                                  "padding-left": "8px",
                                                },
                                                attrs: {
                                                  value: e.alignmentOption
                                                    .offsetDisabled
                                                    ? ""
                                                    : e.data.offset,
                                                  focusSelectAll: !0,
                                                  placeholder: e.alignmentOption
                                                    .offsetDisabled
                                                    ? "0"
                                                    : "",
                                                  disabled:
                                                    e.alignmentOption
                                                      .offsetDisabled,
                                                  validate:
                                                    e.validate.checkInteger,
                                                },
                                                on: {
                                                  change: function (t) {
                                                    return e.changeHandler({
                                                      offset: t,
                                                      manualType: "debounce",
                                                    });
                                                  },
                                                  keydown: e.keydownHandler,
                                                },
                                              }),
                                            ],
                                            1
                                          ),
                                        ]
                                      ),
                                    ],
                              ],
                              2
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                  })
                : i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "布局网格设置",
                          expression: "'布局网格设置'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass:
                        "label-icon mas-bar-button left-button hover-focus--bg-tran-8 active--bg-tran-12",
                      attrs: {
                        tabindex: "0",
                      },
                      on: {
                        click: e.changePopover,
                        keydown: [
                          function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "space", 32, t.key, [
                                " ",
                                "Spacebar",
                              ])
                              ? null
                              : e.toggleBounced(t);
                          },
                          function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "enter", 13, t.key, "Enter")
                              ? null
                              : e.toggleBounced(t);
                          },
                        ],
                        focus: e.suspendHotkey,
                        blur: e.resumeHotkey,
                      },
                    },
                    [
                      i(e.icons[e.data.gridType], {
                        tag: "component",
                        attrs: {
                          opacity: "1",
                          size: "14",
                        },
                      }),
                    ],
                    1
                  ),
              i(
                "div",
                {
                  staticClass: "grid-item-content",
                },
                [e._v(e._s(e.contentLabel))]
              ),
              i("MasterButtonSwitch", {
                staticClass:
                  "mas-bar-button right-button hover--bg-tran-6 active--bg-tran-8",
                attrs: {
                  slot: "footer",
                  focusable: "",
                  type: "trans",
                  icon: e.data.isVisible ? "visible" : "unvisible",
                },
                on: {
                  click: function (t) {
                    return e.changeHandler({
                      isVisible: !e.data.isVisible,
                    });
                  },
                },
                slot: "footer",
              }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("e1e6"),
        c = i("d140"),
        l = i("9588"),
        d = i("c296"),
        u = i("7d9b"),
        h = i("e3a1"),
        p = i("d257"),
        m = i("9a7c"),
        g = i("d91a"),
        b = i("e0b5"),
        v = i("0e0c"),
        f = i("691a");
      const y = [
          {
            label: "网格",
            value: m["n"].GRID,
          },
          {
            label: "栅格列",
            value: m["n"].COLUMNS,
          },
          {
            label: "栅格行",
            value: m["n"].ROWS,
          },
        ],
        _ = [
          {
            label: "左侧",
            value: m["m"].MIN,
          },
          {
            label: "居中",
            value: m["m"].CENTER,
          },
          {
            label: "右侧",
            value: m["m"].MAX,
          },
          {
            label: "拉伸",
            value: m["m"].STRETCH,
          },
        ],
        C = [
          {
            label: "顶部",
            value: m["m"].MIN,
          },
          {
            label: "居中",
            value: m["m"].CENTER,
          },
          {
            label: "底部",
            value: m["m"].MAX,
          },
          {
            label: "拉伸",
            value: m["m"].STRETCH,
          },
        ],
        S = {
          [m["n"].GRID]: {
            sizeLabel: "尺寸",
            gutterLabel: "",
            options: [],
          },
          [m["n"].ROWS]: {
            sizeLabel: "行高",
            gutterLabel: "槽高",
            options: C,
          },
          [m["n"].COLUMNS]: {
            sizeLabel: "列宽",
            gutterLabel: "槽宽",
            options: _,
          },
        },
        I = {
          [m["m"].STRETCH]: {
            label: "边距",
            sizeDisabled: !0,
            offsetDisabled: !1,
          },
          [m["m"].MAX]: {
            label: "偏移",
            sizeDisabled: !1,
            offsetDisabled: !1,
          },
          [m["m"].MIN]: {
            label: "偏移",
            sizeDisabled: !1,
            offsetDisabled: !1,
          },
          [m["m"].CENTER]: {
            label: "偏移",
            sizeDisabled: !1,
            offsetDisabled: !0,
          },
        },
        O = {
          [m["n"].GRID]: "grid",
          [m["n"].COLUMNS]: "columns",
          [m["n"].ROWS]: "rows",
        };
      let k = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.validate = v),
            (this.valueDecorator = f),
            (this.icons = ["GridIcon", "GridRowIcon", "GridColumnIcon"]),
            (this.gridTypes = y),
            (this.popoverLazyLoad = !1),
            (this.suspendKeyCodes = []),
            (this.isOpen = !1),
            (this.keydownHandler = p["ob"]);
        }
        changeOpen(e) {
          e
            ? g["a"].track(b["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "grid",
                action_type: "start",
                action_detail: "edit",
                action_parameter2: this.data.alignment,
                action_parameter3: this.data.sectionSize,
                action_parameter4: this.data.gutterSize,
                action_parameter5: this.data.offset,
              })
            : this.editGridSensors();
        }
        beforeDestroy() {
          this.isOpen && this.editGridSensors();
        }
        get isGridType() {
          return this.data.gridType === m["n"].GRID;
        }
        get alignmentOption() {
          var e;
          return I[null !== (e = this.data.alignment) && void 0 !== e ? e : 0];
        }
        get gridTypeOption() {
          var e;
          return S[null !== (e = this.data.gridType) && void 0 !== e ? e : 0];
        }
        get contentLabel() {
          return [
            this.data.gridType === m["n"].GRID && "网格",
            this.data.gridType === m["n"].ROWS && this.data.count + " 行",
            this.data.gridType === m["n"].COLUMNS && this.data.count + " 列",
            this.data.gridType !== m["n"].GRID &&
            this.alignmentOption.sizeDisabled
              ? "自动"
              : this.data.sectionSize + "px",
          ]
            .filter(Boolean)
            .join(" ");
        }
        editGridSensors() {
          g["a"].track(b["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "grid",
            action_type: O[this.data.gridType],
            action_detail: "edit",
            action_parameter2: this.data.alignment,
            action_parameter3: this.data.sectionSize,
            action_parameter4: this.data.gutterSize,
            action_parameter5: this.data.offset,
          });
        }
        changePopover() {
          (this.popoverLazyLoad = !0),
            this.$nextTick(() => {
              this.$refs.bounced && this.$refs.bounced.openMenu();
            });
        }
        toggleBounced() {
          this.$refs.bounced
            ? (this.isOpen = !this.isOpen)
            : this.changePopover();
        }
        suspendHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.suspendKeydown(e);
        }
        resumeHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.resumeKeydown(e);
        }
        changeGridColor(e) {
          this.$emit("change", {
            color: e.color,
          });
        }
        changeHandler(e) {
          this.$emit("change", Object.assign({}, e));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        k.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
            }),
          ],
          k.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isOpen")],
          k.prototype,
          "changeOpen",
          null
        ),
        (k = Object(a["__decorate"])(
          [
            Object(n["a"])({
              name: "GridItem",
              components: {
                MasterButtonSwitch: r["a"],
                MasterSelector: c["e"],
                MSelector: c["b"],
                Bounced: l["a"],
                BasicLeftIcon: d["a"],
                ColorItem: u["a"],
                Slider: h["a"],
              },
            }),
          ],
          k
        ));
      var w = k,
        x = w,
        L = (i("90fa"), i("1049"), i("2877")),
        A = Object(L["a"])(x, s, o, !1, null, "ab2af31e", null);
      t["a"] = A.exports;
    },
    4830: function (e, t, i) {},
    "48bd": function (e, t) {
      e.exports =
        "data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAkACQAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIADwAPAMBEQACEQEDEQH/xACnAAABBAIDAQAAAAAAAAAAAAAFAgMEBgcIAQkKABAAAQMCBAMGAwUGBwAAAAAAAQIDBAURAAYhMRJBUQcIFGFxkROBsSIycqHBFRZigvDxFyMzQlPR0gEAAgIDAQEAAAAAAAAAAAAAAwQCBQEGBwAIEQABAwIEAwYDBwQDAQAAAAABAgMRBCEABRIxQVFhBhMicZGhFIHRBzJCscHh8BUjUmJDgvGi/9oADAMBAAIRAxEAPwDa40SU2n7TLyQOfw1Wvvv19cfZ3xDajZab3sRPn5Y+IlUb6RdJEEXA3twxwmA9YXQsD8J5crWvjPeI/wAk78xaed7fXEA05xB84t12nbC/Ar5hQA/hP1B+uMhaQbKE+Yxktkb2HCRf3jChDAAui56niH622xnWmNx1g3Mmf50GI6FGLge5GFeE8jYckm/5Wv8AmMe7wHZQECJnn+ePFs9COf6C/wA8K8INPs+l7j9fPHtSYNxzJmbAeeI6FcfMGx/XlhaYYttcfP636jr/ANYkFCRtYTA3PAHyx4N7E78eY+pw74cDkfY/+sZComwMmeIxMIKbD6YyW6zXYbhbciQ3kFF1vKaCSTsRZCuIHz+GMa0k0Tg1JddQZ+6FXA9Db/sfPG1ODMWVFC2WHERdejnvYEERO+kAnAhMiNxqbeipQsEi7bnGLjkUqCeeu979OTPcuRqS6Sk3giJEjiCb/wDX5YQ+JY1EOMaVAn7ipEngAQPz+c4kJbpyiStogHbiaIvf8Cz6X2v54GfiU7KFtwDO46gW4nptiaVUip1JWLSJSTfeLE789sPCnwXbWSm34dLHa54r25+XTYYj3zyPvCTxIPsJ+sb4kGKdcFJAEco5/wAPH0nDK6OyDdASocyArXyF9eR1ucFTVqIgiPO97bx/OGBKpEpnSQqYBNxw9v4cRTSkk6DT0GDCoB4efnGFlU1zA9ptwgzhr9kqH3rEW6WwZLySbAz+2Blj/Uj1wnwHDpwD5/0cFCrWWR849dr4h3I478eF8bG1Wg+P/wBBQaU5dKlJ0SL81HhWTvuLY57TVgYusawLxAO0iItz4nHVq3LzVAhBDci4BtBnkFWv0PljE9byouDIukLdFhdSEmyl3tpfX319MbJSZkHG48IvN7EdLccaRmOSqYdkBSxpkkCbkkWPpJ4XwIZpUvkw9YaEhtR+iT674aXVNxJWiYmSRPmAeP8AN8V6KV+fC255hJO3MwRic3T5A04FC290m2pO9wPa30wsp9B4gjYQb7XPywyimcSRY3/1sfUfrfExMJ+2ov8AI38tLYCXkCZtPU79MNJZcPCfly/lsLENY1LaSRz1BPrv9LYyl0H8UAWibCOsTiKmlQfB7XPthCmEgG6VDysCNvT9PTDLaydiDNxJ62vzjn6YXWADERtEgb/Mfnhn4Df97g+1sNBSuRPp9DhZekK/CecgW6bbYyUM0OIYS8pCin7qWw40lyw58HEVaG3X2GmqGgBUUhV7Em5F5twxuic6WloLKLKnw60hVpBJBM8OAxMj5nhyQEuWadsbFxAGlrkXI4T5669OWAu0DqI0nUm03vG8x+X8OGWc5p34CvCoi2pIAgcjsZ6He2CKKtBdsgpaVe11BCSDrpbS354WUw6m4kdP1txwymupnPDCT1ge42/ScVfOcxTdJfh0pyTRJEtAZ/eaNSodQTSHHI1QnpSwxPUuA7VJFNo1ZepqZcabERIiNrmRnY/G2rmP2h5l2vRTsZV2QzHLMrzKrbqnanM8zKqh+hYbpnk0f9PoTTVNPUOVObGhp6x2rKUUmWOVrlK29W/DFrb+zLWTN1LeZZzk7mbZVS1DPe0CHHqSmrTC33KaprKV1moZSqlYqVJFKpL61oSgusIUXMYk7cskP1fIOZZmS5udqBLjyMsrotTiZ7q0LML5oMGvzI7lCpUp2T+8DtYVT2E5ii06Klmox3XnJrbyUtpb+ZMs+zDtknOfs/zLtH9tnbmuqsoou0LPbw0ub55T0vazMM8GpmsaW1nbeX9j6XIHDGTMUGWhDTLbbQU2+pVQrqjnadqnos0OX9heyD9KgPoyegr8gycd21WNuB9MU9DT5tn76lIQ8wt7MVqy4oQqkLbOtlzTPsX75rsXtqy12RZ8p9Ul5ez5X05Zy/UKorxVZytX5dPgVCJAqVVdjsTKpEelVOHTSzUjIqsVUtUlyYmJTlMP/UX2d5N22yDJcuoO0PbhjtsKTK3W382q6X4TNa2oGYaMqrj3dTWpqDVUKnmczcdqg25V0lLUULbKKyopmPn3Nu0OU1+dqYHZ5zK1VVb3KW6dDbdNSKapEqqadxDTFK233bgacbSlpLqUPVHxJX3SFq7WZdIoh04GUk3GqjcHbXUW9xjpTNVVAiNU7mON/PyxCoosu20oAjcrVA4/5b+f/oReX6OVXCmz6KTYeWtzpiyRW1YFgR5z9cVSsty5RkLRG1lCPcE+uKzAmS4jgdS1GW4DuqO2SRz14RYm2+vTyxh1La06da0jbwrV8gb8J47YQpal9hetLTKzN9bLd5uL6ZnqPnjILLdMq8Vt6c1FUsAq8M2khxLg0UVBDaDw+qik6HXTFM45UUziktKcAkALUdQUk7RMwfkSOO0Y2lpFHXsIcqUsLXc90hIStKgACfChJjzUQd+GBCsr3UpyMPhpJ+ywONQbTfdbhUR0JFza9hgv9RMJDhk8Vki5A4JgX68d8J/0c6lKaBSkmzcKUEAbEqk+gte22NRO8t2m537AJ0fNUYVmZk/NuV5GSKo1SW2pvxJT70qRIpiYklTZadfgKNRYVFUzIfECchl4JDyHOVfaFm/Z7KvhszzxxNI2At6lqXSlttdXRIChTCoWtqnFU80tSqWnqHUioDT/AHSVLZIFvR12aZGhxtlxxVPWMLo6hKdRT3TxUpadK0HSnwlWpAC5tqSlZnRfvBd87N7VFXJplUq82r5ITSlUmLCq78SZQ2KnljtKXFbpr0iSwqKEwUw0ueFXxkMKZVZwISefdn+3vYDMcnazYvhtGcmoSrK6ukT8c+unzOjpnkVaWviqNKhrU+lK6lSO6cSQdR0gma9oc9WulRTreJoVNop6lL6200Qdoq/SWocDqNP9lslpOo8QAJHXx3Tofal3ie972TZWl1N6pUnJHaG3205xnRXZzkCHEyKrLcNyfOckuuuu1KryqLTKP4okiTMrSVuLQkpI6r2H7U5fnKVLayw0taKY0zKm2GkNM5SHC9TMFSX1qSG1ORpDaE6ykISIVGj1VDm9XVUfe163qBOYtZpWNuOuLcdzJNOGnqvRoglxtkN61uFZLh1FXD1ZSI5Nzxb3sSFJN+ml/UefrfHRmXYgCYm8Re/r6YtX0FRV4vvbyCIVxHEX6x8sBHYiuLn7qN9TrtixS6mBJHTwzbFUthZUfEoeR+mLiiBS0ulUWQEnhJIsnh/l40Kv0At6X56uamo0/wB1MgGAeM9Yj2mLHljcfg6BKiWHkyR+KNNuA1i82iwsN8TG6U1JQSkNNrSDwLaKWnVdbgaK0Hkb+uBrq1NqA1FQ3KVeJMWIub7k9PTBkUDbyNYDaVJB0rbOhwzYgpFjMW254mNQqs2n/IkFxsAjhdUCsC1tQbAegPngCqilUTrTCxxH3T1tf29sMppMxbB7pzW3wSqAsCL8Bx5E8umKhnzIVD7RcqVjJed6K3VqFW4y48hBJRIjPgEx6hAkEOGJUoLvDJhSkJJZebSSlbaltrqM9yXJu1GT1uSZq2H6Cua7t1qdC0kKDjTrSwAW3mXUpdacH3XEpMFMpI1IfCYfZCgZuJ4zcEzB6xjym98Du+97fs27Xcjd13JWQKb2lpzycxf4A5spTLkabWaJTqc41XHa9PqNYaouXajlajTmU5mE5VLp7KlJqMN1dNnxAnj1B9ieSZVnNTWtVubvivqk1NW0qopBRvNoebqG2/hmqNDja0vIBJU66FC4vqJOKTL10CkKVUF9s04YKigBoaB8Z3sNnvg6sE05SW+5BSlxCwnUr0Jdxbuc5b7o/ZLGoVQqFKr/AGt5rYg1LtUzlFjyxCn1eO054XL9Bclp8anLOXvEPsU9csNyqnLenVqWzEVObp0Hr+RZKxkDLqKZpSlPK1OOJKCvTcobjwANt3ISlMklRVNgACnpBqS24EgmR34UpUbBJUhCRq6wOsY3QeprShYBpfEbAMOpUNdjZaha/Um3LGxIq1Az40gXhxBB9p9p5xgDtAhW2halQAWXEnc8UrKbx1EYHOUNQVaz38qErA8uJLvCflsLYbTmCI/B81QfQgH2wmvKVBRAKx5tBf8A9JXBwIbbKSbWP5Af3xXl8Hp0MmOf6bYIKdXK3QYmNrkNEFtwptyuSPYgj2wBbqDOoTI6SBtG+GW0PNEFJUnbjPt+84KMVSYg2UoKvuOEAX+QGnr88KrQ0qYgeZ/f8sWDVVUJJKiDwuPfceZ3wdj1SO4kIfRwkjVVtR1IIvqdtRzGFloUk/2zMfwA+XT/ANsmalpYhwQRcmCRNxAAn8sU/NeWBmar5KqkWrIguZOzGuuhSIbT0ioxHqPU6VLoan33AiHDnicy9NeRHfkrEFlqO5GLi3gFaStyncU68x3C1rKGyNDupBQA6IJKUE60xHjCTtIJkrBS822hh7vkoAU6CHGtC0qJaMpCSqNKtQPhUQIucWZ5pBBUqMptW923EqTr5KthxuqMgJd1A7ah4vOZ3wk7RoI8bC0E2Cm1Ap4yBJvz52+WBTqGebi0k3+8gp1Fr8yNOuGk1a4NkmYm8xz8gcIGkbKoC1p3M6eN+M2wPcLiFENv3ToRZy2/kFb4kKtF9SLgxt0HXAVUbiTCHZTz7wj21Y+bSLEdLfrirK1H8R9cWncN3tw/bC+AdT/Q9MRLirX/AIDiQYb5G308umOEjW9ydOdul+mI96rpx+mM9w2Od55cPlh0EjUdMY1rsdR3FuF8SDSI24T8xIGFfEXoQopP8Om2Ja1KkKuBpsep/bHggCIkcZFjN8L8XIQnRwm5/wBwCvqMY0g328rDBA4sR4iY5wfYiMQ36g+m4s2dOaSeW2+3ljBTvClDyP7Yz3hEGEGTJBSIMm9tsDVSfiHiVHj320QsbG3/ACYikrAgOueqeQ5pOPFSD/wM+ix+S8f/2Q==";
    },
    "495d": function (e, t, i) {},
    "4ac3": function (e, t, i) {},
    "4c24": function (e, t, i) {
      "use strict";
      i("162d");
    },
    "4cac": function (e, t, i) {
      "use strict";
      i("1d8d");
    },
    "4d7f": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "rightbar-box",
              class: {
                "rightbar-box__hidden": !e.data.isVisible,
              },
            },
            [
              e.popoverLazyLoad
                ? i("Bounced", {
                    ref: "bounced",
                    attrs: {
                      offsetLeft: 17,
                      placement: e.placement,
                      open: e.isOpen,
                    },
                    on: {
                      "update:open": function (t) {
                        e.isOpen = t;
                      },
                    },
                    scopedSlots: e._u([
                      {
                        key: "title",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                staticStyle: {
                                  position: "relative",
                                  width: "200px",
                                },
                              },
                              [
                                e._v(" 特效设置 "),
                                e.data.type !== e.EffectType.LAYER_BLUR &&
                                e.data.type !== e.EffectType.BACKGROUND_BLUR
                                  ? i("MasterSelector", {
                                      staticClass: "effect-blend__select",
                                      attrs: {
                                        options: e.BLENDTYPE_LIST,
                                        value: e.data.blendMode + "",
                                        icon: e.data.blendMode
                                          ? "blend-on"
                                          : "blend-off",
                                        masterIcon: e.data.blendMode
                                          ? "BlendOnIcon"
                                          : "BlendOffIcon",
                                        mode: "masterPopover",
                                      },
                                      on: {
                                        change: function (t) {
                                          return e.changeHandler({
                                            blendMode: +t,
                                          });
                                        },
                                      },
                                    })
                                  : e._e(),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                      {
                        key: "button",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "特效设置",
                                    expression: "'特效设置'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                staticClass:
                                  "label-icon mas-bar-button hover-focus--bg-tran-8 active--bg-tran-12",
                                attrs: {
                                  tabindex: "0",
                                },
                                on: {
                                  keydown: [
                                    function (t) {
                                      return !t.type.indexOf("key") &&
                                        e._k(t.keyCode, "space", 32, t.key, [
                                          " ",
                                          "Spacebar",
                                        ])
                                        ? null
                                        : e.toggleBounced(t);
                                    },
                                    function (t) {
                                      return !t.type.indexOf("key") &&
                                        e._k(
                                          t.keyCode,
                                          "enter",
                                          13,
                                          t.key,
                                          "Enter"
                                        )
                                        ? null
                                        : e.toggleBounced(t);
                                    },
                                  ],
                                  focus: e.suspendHotkey,
                                  blur: e.resumeHotkey,
                                },
                              },
                              [
                                i(e.icons[e.data.type], {
                                  tag: "component",
                                  attrs: {
                                    opacity: "0.8",
                                    size: "14",
                                  },
                                }),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                      {
                        key: "content",
                        fn: function () {
                          return [
                            e.data.type !== e.EffectType.LAYER_BLUR &&
                            e.data.type !== e.EffectType.BACKGROUND_BLUR
                              ? i(
                                  "div",
                                  {
                                    staticClass: "content",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass: "list-item",
                                      },
                                      [
                                        i("span", [e._v("位置")]),
                                        i(
                                          "div",
                                          {
                                            staticClass: "list-item-two",
                                          },
                                          [
                                            i("master-input", {
                                              staticStyle: {
                                                width: "78px",
                                              },
                                              attrs: {
                                                value: e.data.x,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkShadowPos,
                                                valueDecorator:
                                                  e.valueDecorator.numDecorator,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    x: +t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                              scopedSlots: e._u(
                                                [
                                                  {
                                                    key: "header",
                                                    fn: function () {
                                                      return [
                                                        i("BasicLeftIcon", {
                                                          attrs: {
                                                            masterIconName:
                                                              "LabelXIcon",
                                                            disabled: !1,
                                                          },
                                                          on: {
                                                            change: function (
                                                              t
                                                            ) {
                                                              e.changeHandler({
                                                                x: +e.validate.checkShadowPos(
                                                                  e.data.x + t
                                                                ),
                                                                manualType:
                                                                  "debounce",
                                                              });
                                                            },
                                                          },
                                                        }),
                                                      ];
                                                    },
                                                    proxy: !0,
                                                  },
                                                ],
                                                null,
                                                !1,
                                                1788931536
                                              ),
                                            }),
                                            i("master-input", {
                                              staticStyle: {
                                                width: "78px",
                                              },
                                              attrs: {
                                                value: e.data.y,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkShadowPos,
                                                valueDecorator:
                                                  e.valueDecorator.numDecorator,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    y: +t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                              scopedSlots: e._u(
                                                [
                                                  {
                                                    key: "header",
                                                    fn: function () {
                                                      return [
                                                        i("BasicLeftIcon", {
                                                          attrs: {
                                                            masterIconName:
                                                              "LabelYIcon",
                                                            disabled: !1,
                                                          },
                                                          on: {
                                                            change: function (
                                                              t
                                                            ) {
                                                              e.changeHandler({
                                                                y: +e.validate.checkShadowPos(
                                                                  e.data.y + t
                                                                ),
                                                                manualType:
                                                                  "debounce",
                                                              });
                                                            },
                                                          },
                                                        }),
                                                      ];
                                                    },
                                                    proxy: !0,
                                                  },
                                                ],
                                                null,
                                                !1,
                                                4282167089
                                              ),
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    ),
                                    i(
                                      "div",
                                      {
                                        staticClass: "list-item",
                                      },
                                      [
                                        i("span", [e._v("效果")]),
                                        i(
                                          "div",
                                          {
                                            staticClass: "list-item-two",
                                          },
                                          [
                                            i("master-input", {
                                              staticStyle: {
                                                width: "78px",
                                              },
                                              attrs: {
                                                value: e.data.radius,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkGaussi,
                                                valueDecorator:
                                                  e.valueDecorator.numDecorator,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    radius: +t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                              scopedSlots: e._u(
                                                [
                                                  {
                                                    key: "header",
                                                    fn: function () {
                                                      return [
                                                        i("BasicLeftIcon", {
                                                          directives: [
                                                            {
                                                              name: "tip",
                                                              rawName: "v-tip",
                                                              value: {
                                                                content: "模糊",
                                                              },
                                                              expression:
                                                                "{ content: '模糊'}",
                                                            },
                                                          ],
                                                          attrs: {
                                                            masterIconName:
                                                              "LabelBIcon",
                                                            disabled: !1,
                                                          },
                                                          on: {
                                                            change: function (
                                                              t
                                                            ) {
                                                              e.changeHandler({
                                                                radius:
                                                                  +e.validate.checkGaussi(
                                                                    e.data
                                                                      .radius +
                                                                      t
                                                                  ),
                                                                manualType:
                                                                  "debounce",
                                                              });
                                                            },
                                                          },
                                                        }),
                                                      ];
                                                    },
                                                    proxy: !0,
                                                  },
                                                ],
                                                null,
                                                !1,
                                                242408867
                                              ),
                                            }),
                                            i("master-input", {
                                              directives: [
                                                {
                                                  name: "feature",
                                                  rawName: "v-feature",
                                                  value: "effectSpread",
                                                  expression: "'effectSpread'",
                                                },
                                              ],
                                              staticStyle: {
                                                width: "78px",
                                              },
                                              attrs: {
                                                value: e.data.spread,
                                                focusSelectAll: !0,
                                                validate:
                                                  e.validate.checkShadowPos,
                                                valueDecorator:
                                                  e.valueDecorator.numDecorator,
                                                disabled: e.spreadDisabled,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeHandler({
                                                    spread: +t,
                                                    manualType: "debounce",
                                                  });
                                                },
                                                keydown: e.keydownHandler,
                                              },
                                              scopedSlots: e._u(
                                                [
                                                  {
                                                    key: "header",
                                                    fn: function () {
                                                      return [
                                                        i("BasicLeftIcon", {
                                                          directives: [
                                                            {
                                                              name: "tip",
                                                              rawName: "v-tip",
                                                              value: {
                                                                content: "扩展",
                                                              },
                                                              expression:
                                                                "{ content: '扩展'}",
                                                            },
                                                          ],
                                                          attrs: {
                                                            masterIconName:
                                                              "LabelSIcon",
                                                            disabled:
                                                              e.spreadDisabled,
                                                          },
                                                          on: {
                                                            change: function (
                                                              t
                                                            ) {
                                                              e.changeHandler({
                                                                spread:
                                                                  +e.validate.checkShadowPos(
                                                                    e.data
                                                                      .spread +
                                                                      t
                                                                  ),
                                                                manualType:
                                                                  "debounce",
                                                              });
                                                            },
                                                          },
                                                        }),
                                                      ];
                                                    },
                                                    proxy: !0,
                                                  },
                                                ],
                                                null,
                                                !1,
                                                693075838
                                              ),
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    ),
                                    i(
                                      "div",
                                      {
                                        staticClass: "list-item",
                                      },
                                      [
                                        i("span", [e._v("颜色")]),
                                        i("ColorItem", {
                                          staticStyle: {
                                            width: "162px",
                                          },
                                          attrs: {
                                            data: Object.assign({}, e.data, {
                                              type: 0,
                                            }),
                                            placement: "left-end",
                                            offset: "56",
                                            actionType: "effect",
                                            showEye: !1,
                                            title: "纯色",
                                            supportDragFill: !1,
                                          },
                                          on: {
                                            change: function (t) {
                                              return e.changeHandler.apply(
                                                void 0,
                                                arguments
                                              );
                                            },
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                    e.data.type === e.EffectType.DROP_SHADOW
                                      ? i(
                                          "div",
                                          {
                                            staticClass: "rightbar-box-check",
                                            on: {
                                              click: function (t) {
                                                return e.changeHandler({
                                                  showShadowBehindNode:
                                                    !e.data
                                                      .showShadowBehindNode,
                                                });
                                              },
                                            },
                                          },
                                          [
                                            i("svg-plugin", {
                                              staticStyle: {
                                                "font-size": "12",
                                              },
                                              attrs: {
                                                opacity: e.data
                                                  .showShadowBehindNode
                                                  ? "1"
                                                  : "0.3",
                                                name: e.data
                                                  .showShadowBehindNode
                                                  ? "check-on"
                                                  : "check-off",
                                              },
                                            }),
                                            e._v("显示透明区域阴影 "),
                                          ],
                                          1
                                        )
                                      : e._e(),
                                  ]
                                )
                              : i(
                                  "div",
                                  {
                                    staticClass: "content blur",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass:
                                          "list-item shadow-item_list",
                                      },
                                      [
                                        i("span", [e._v("模糊")]),
                                        i("Slider", {
                                          attrs: {
                                            width: 98,
                                            value: e.data.radius,
                                            sliderContentStyle:
                                              e.sliderContentStyle,
                                            minNum: 0,
                                            maxNum: 1e3,
                                          },
                                          on: {
                                            change: e.changeValue,
                                          },
                                        }),
                                        i("master-input", {
                                          attrs: {
                                            value: e.data.radius,
                                            focusSelectAll: !0,
                                            validate:
                                              e.validate.checkEffectRadius,
                                            valueDecorator:
                                              e.valueDecorator.numDecorator,
                                          },
                                          on: {
                                            change: function (t) {
                                              return e.changeHandler({
                                                radius: +t,
                                                manualType: "debounce",
                                              });
                                            },
                                            keydown: e.keydownHandler,
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                  ]
                                ),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                  })
                : i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "特效设置",
                          expression: "'特效设置'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass:
                        "label-icon mas-bar-button left-button hover-focus--bg-tran-8 active--bg-tran-12",
                      attrs: {
                        tabindex: "0",
                      },
                      on: {
                        click: e.changePopover,
                        keydown: [
                          function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "space", 32, t.key, [
                                " ",
                                "Spacebar",
                              ])
                              ? null
                              : e.toggleBounced(t);
                          },
                          function (t) {
                            return !t.type.indexOf("key") &&
                              e._k(t.keyCode, "enter", 13, t.key, "Enter")
                              ? null
                              : e.toggleBounced(t);
                          },
                        ],
                        focus: e.suspendHotkey,
                        blur: e.resumeHotkey,
                      },
                    },
                    [
                      i(e.icons[e.data.type], {
                        tag: "component",
                        attrs: {
                          opacity: "0.8",
                          size: "14",
                        },
                      }),
                    ],
                    1
                  ),
              i("MasterSelector", {
                staticClass: "rightbar-box__select hover-focus--bg-tran-8",
                attrs: {
                  options: e.effectTypeList(e.data.type),
                  value: e.data.type,
                  noborder: "",
                  mode: "masterPopover",
                },
                on: {
                  change: function (t) {
                    return e.changeHandler({
                      type: t,
                    });
                  },
                },
              }),
              i("MasterButtonSwitch", {
                staticClass:
                  "mas-bar-button right-button hover--bg-tran-6 active--bg-tran-8",
                attrs: {
                  slot: "footer",
                  focusable: "",
                  type: "trans",
                  icon: e.data.isVisible ? "visible" : "unvisible",
                },
                on: {
                  click: function (t) {
                    return e.changeHandler({
                      isVisible: !e.data.isVisible,
                    });
                  },
                },
                slot: "footer",
              }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("e1e6"),
        c = i("e3a1"),
        l = i("d257"),
        d = i("d140"),
        u = i("9a7c"),
        h = i("c296"),
        p = i("7d9b"),
        m = i("9588"),
        g = i("0e0c"),
        b = i("691a");
      let v = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.validate = g),
            (this.valueDecorator = b),
            (this.icons = [
              "ShadowIcon",
              "ShadowIcon",
              "GaussianBlurIcon",
              "GaussianBlurIcon",
            ]),
            (this.popoverLazyLoad = !1),
            (this.BLENDTYPE_LIST = d["e"].dictionaries.BLENDTYPE_LIST()),
            (this.EffectType = u["j"]),
            (this.isOpen = !1),
            (this.suspendKeyCodes = [32, 13]),
            (this.sliderContentStyle = {
              height: "15px",
              transform: "scale(1.1)",
            }),
            (this.keydownHandler = l["ob"]);
        }
        changeHandler(e) {
          this.$emit("change", e);
        }
        get spreadDisabled() {
          if (!this.selectItem) return !1;
          const e = this.selectItem.type;
          return !(
            e === u["o"].Rectangle ||
            e === u["o"].Ellipse ||
            (this.selectItem.isFrame &&
              !(
                this.selectItem.isComponentSet ||
                this.selectItem.isComponent ||
                this.selectItem.isInstance
              ))
          );
        }
        changeValue(e) {
          this.changeHandler({
            radius: e,
            manualType: "mousemove",
          });
        }
        get hasGaussi() {
          return this.list.some((e) => e.type === u["j"].LAYER_BLUR);
        }
        get hasBackground() {
          return this.list.some((e) => e.type === u["j"].BACKGROUND_BLUR);
        }
        effectTypeList(e) {
          const t = d["e"].dictionaries.EFFECTTYPE_LIST();
          return (
            e !== t[2].value && this.hasGaussi && (t[2].disabled = !0),
            e !== t[3].value && this.hasBackground && (t[3].disabled = !0),
            t
          );
        }
        changePopover() {
          (this.popoverLazyLoad = !0),
            this.$nextTick(() => {
              this.$refs.bounced && this.$refs.bounced.openMenu();
            });
        }
        toggleBounced() {
          this.$refs.bounced
            ? (this.isOpen = !this.isOpen)
            : this.changePopover();
        }
        suspendHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.suspendKeydown(e);
        }
        resumeHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.resumeKeydown(e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            default: !1,
            required: !1,
          }),
        ],
        v.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              default: !1,
              required: !1,
            }),
          ],
          v.prototype,
          "list",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
            }),
          ],
          v.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          v.prototype,
          "selectItem",
          void 0
        ),
        (v = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonSwitch: r["a"],
                MasterSelector: d["e"],
                MSelector: d["b"],
                Bounced: m["a"],
                BasicLeftIcon: h["a"],
                ColorItem: p["a"],
                Slider: c["a"],
              },
            }),
          ],
          v
        ));
      var f = v,
        y = f,
        _ = (i("e467"), i("3a6c"), i("2877")),
        C = Object(_["a"])(y, s, o, !1, null, "457af8c2", null);
      t["a"] = C.exports;
    },
    "4ef6": function (e, t, i) {},
    "4f4b": function (e, t, i) {},
    "4fc0": function (e, t, i) {},
    5028: function (e, t, i) {},
    5062: function (e, t, i) {
      "use strict";
      i("412b");
    },
    "50fa": function (e, t, i) {},
    5161: function (e, t, i) {
      "use strict";
      i.d(t, "c", function () {
        return h;
      }),
        i.d(t, "h", function () {
          return p;
        }),
        i.d(t, "k", function () {
          return g;
        }),
        i.d(t, "i", function () {
          return b;
        }),
        i.d(t, "l", function () {
          return f;
        }),
        i.d(t, "e", function () {
          return y;
        }),
        i.d(t, "d", function () {
          return _;
        }),
        i.d(t, "f", function () {
          return C;
        }),
        i.d(t, "g", function () {
          return S;
        }),
        i.d(t, "b", function () {
          return I;
        }),
        i.d(t, "a", function () {
          return O;
        }),
        i.d(t, "j", function () {
          return k;
        });
      var s = i("5339"),
        o = i("8ece"),
        a = i("bd3b"),
        n = i("d257");
      const r = 32,
        c = 24,
        l = 330,
        d = 50,
        u = 18;
      function h(e) {
        const { x: t, y: i, layerID: o, relativeX: a, relativeY: n } = e,
          r = {
            x: t,
            y: i,
          };
        if (o) {
          const e = s["b"].Module.getWorldMatrix && s["b"].getWorldMatrix(o),
            t = s["b"].Module.getLayerWorldRect && s["b"].getLayerWorldRect(o);
          e && t && ((r.x = t.x + a), (r.y = t.y + n));
        }
        return r;
      }
      function p(e) {
        const { x: t, y: i } = e,
          {
            viewPort: {
              bound: { x: s, y: a },
              zoom: { zoomScale: n },
            },
          } = o["a"],
          r = t / n + s,
          c = i / n + a;
        return {
          x: r,
          y: c,
        };
      }
      function m(e) {
        const { x: t, y: i } = e,
          {
            viewPort: {
              bound: { x: s, y: a },
              zoom: { zoomScale: n },
            },
          } = o["a"],
          r = (-s + t) * n,
          c = (-a + i) * n;
        return {
          x: r,
          y: c,
        };
      }
      function g(e) {
        const { layerId: t } = s["b"].getCommentTextLayer(e.x, e.y);
        return t;
      }
      function b(e, t) {
        if (!e || !s["b"].hasLayer(e))
          return {
            x: 0,
            y: 0,
          };
        const {
            x: i,
            y: a,
            width: n,
            height: c,
          } = s["b"].getCommentTextLayerBounds(e),
          l = i + n,
          d = a + c;
        if (!t)
          return {
            x: l,
            y: a,
          };
        const {
            viewPort: {
              bound: { x: u, y: h, width: p, height: m },
              zoom: { zoomScale: g },
            },
          } = o["a"],
          b = u + p,
          v = h + m,
          f = r / g,
          y = Math.max(i - f, u),
          _ = Math.min(l, b - f),
          C = Math.max(a, h + f),
          S = Math.min(d + f, v),
          I = Math.max(y, Math.min(l, _)),
          O = Math.max(C, Math.min(a, S));
        return {
          x: I,
          y: O,
        };
      }
      function v() {
        const {
            viewPort: {
              bound: { width: e, height: t },
              zoom: { zoomScale: i },
            },
          } = o["a"],
          s = e * i,
          a = t * i;
        return {
          x: s,
          y: a,
        };
      }
      function f(e) {
        const { x: t, y: i } = m(e),
          { x: s, y: o } = v();
        return !(t < 0 || t > s || i < 0 || i > o);
      }
      function y(e) {
        const { x: t, y: i } = e,
          {
            pageState: { currentPageId: a },
          } = o["a"],
          {
            dx: n,
            dy: r,
            layerId: c,
            parentId: l,
          } = s["b"].Module.getCommentLayerData &&
          s["b"].getCommentLayerData(t, i);
        return {
          x: t,
          y: i,
          pageID: a,
          layerID: l || c || "",
          relativeX: n,
          relativeY: r,
        };
      }
      function _(e) {
        const { x: t, y: i } = m(e);
        return {
          top: i + "px",
          left: t + "px",
        };
      }
      function C() {
        const { x: e, y: t } = m({
          x: 0,
          y: 0,
        });
        return {
          transform: `translate(${e}px, ${t}px)`,
        };
      }
      function S(e) {
        let { x: t, y: i } = m(e);
        const { x: s, y: o } = v();
        f(e) || ((t = s / 2), (i = o / 2));
        const a = s - t,
          n = -(o - i - c),
          r = o - 2 * c,
          h = t > l + u && a < l + d;
        return {
          bottom: n + "px",
          left: (!h && d + "px") || void 0,
          right: (h && u + "px") || void 0,
          maxHeight: r + "px",
        };
      }
      function I(e) {
        s["b"].setCommentCheckTextLayer(e || "");
      }
      function O(e) {
        const {
          content: t,
          location: { layerID: i },
        } = e;
        if (!t || !i) return;
        const o = window.mg.getNodeById(i);
        o &&
          ((o.characters = t),
          mg.commitUndo(),
          s["b"].setTextRange(i, 0, t.length));
      }
      function k(e) {
        let t = Object(a["e"])(e);
        if (t)
          return (
            (t = Object(n["B"])(t, "characters", /(?:\uDB80.)/g, "")),
            (t = Object(n["B"])(t, "characters", /\u2028|\u2029/g, "\n")),
            t
          );
        const i = window.mg.getNodeById(e),
          s = i.characters;
        return s || "";
      }
    },
    5397: function (e, t, i) {},
    "539b": function (e, t, i) {},
    "53af": function (e, t, i) {},
    "53db": function (e, t, i) {
      "use strict";
      i("1890");
    },
    "53df": function (e, t, i) {
      "use strict";
      i("1370");
    },
    5501: function (e, t, i) {
      "use strict";
      i("ad0b");
    },
    5584: function (e, t, i) {
      "use strict";
      i("b17c");
    },
    "562a": function (e, t, i) {
      "use strict";
      i("00b8");
    },
    5717: function (e, t, i) {},
    "57bc": function (e, t, i) {},
    "588b": function (e, t, i) {},
    "590d": function (e, t, i) {},
    5980: function (e, t, i) {},
    "5c4e": function (e, t, i) {
      "use strict";
      i("617f");
    },
    "5c8b": function (e, t, i) {},
    "5cb3": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "svg",
            {
              staticClass: "mastergo-loading-active",
              attrs: {
                xmlns: "http://www.w3.org/2000/svg",
                "xmlns:xlink": "http://www.w3.org/1999/xlink",
                height: "15.400000000000002",
                version: "1.1",
                width: "15.400000000000002",
                viewBox: "0 0 15.400000000000002 15.400000000000002",
                fill: "none",
              },
            },
            [
              i("defs", [
                i(
                  "clipPath",
                  {
                    attrs: {
                      id: "clipPathSkqs7giey7",
                    },
                  },
                  [
                    i("rect", {
                      attrs: {
                        x: "0.6999999999999993",
                        y: "0.6999999999999993",
                        width: "14",
                        height: "14",
                        rx: "0",
                        ry: "0",
                      },
                    }),
                  ]
                ),
              ]),
              i(
                "g",
                {
                  attrs: {
                    "clip-path": "url(#clipPathSkqs7giey7)",
                  },
                },
                [
                  i("path", {
                    staticStyle: {
                      "fill-opacity": "1",
                    },
                    attrs: {
                      d: "M7.699999999999999,1.6999999999999993Q10.185279999999999,1.6999999999999993,11.942639999999999,3.4573589999999994Q13.7,5.21472,13.7,7.699999999999999Q13.7,10.185279999999999,11.942639999999999,11.942639999999999Q10.185279999999999,13.7,7.699999999999999,13.7Q5.21472,13.7,3.4573589999999994,11.942639999999999Q1.6999999999999993,10.185279999999999,1.6999999999999993,7.699999999999999L3.6999999999999993,7.699999999999999Q3.6999999999999993,9.35686,4.871569999999999,10.52843Q6.043149999999999,11.7,7.699999999999999,11.7Q9.35685,11.7,10.52843,10.52843Q11.7,9.35686,11.7,7.699999999999999Q11.7,6.043149999999999,10.52843,4.871569999999999Q9.35686,3.6999999999999993,7.699999999999999,3.6999999999999993L7.699999999999999,1.6999999999999993ZM3.6999999999999993,7.699999999999999Q3.6999999999999993,7.798489999999999,3.6807849999999993,7.89509Q3.6615699999999993,7.991689999999999,3.623878999999999,8.08268Q3.586187999999999,8.17368,3.531469999999999,8.255569999999999Q3.4767509999999993,8.33746,3.4071069999999994,8.40711Q3.337462999999999,8.47675,3.255569999999999,8.531469999999999Q3.1736779999999993,8.586189999999998,3.0826829999999994,8.62388Q2.991688999999999,8.66157,2.8950899999999993,8.680779999999999Q2.798491399999999,8.7,2.6999999999999993,8.7Q2.6015085999999994,8.7,2.5049099999999993,8.680779999999999Q2.4083109999999994,8.66157,2.317316999999999,8.62388Q2.2263219999999992,8.586189999999998,2.1444299999999994,8.531469999999999Q2.0625369999999994,8.47675,1.9928929999999991,8.40711Q1.9232489999999993,8.33746,1.8685299999999994,8.255569999999999Q1.8138119999999993,8.17368,1.7761209999999994,8.08268Q1.7384299999999993,7.991689999999999,1.7192149999999993,7.89509Q1.6999999999999993,7.798489999999999,1.6999999999999993,7.699999999999999Q1.6999999999999993,7.601509999999999,1.7192149999999993,7.504909999999999Q1.7384299999999993,7.408309999999999,1.7761209999999994,7.31732Q1.8138119999999993,7.226319999999999,1.8685299999999994,7.144429999999999Q1.9232489999999993,7.062539999999999,1.9928929999999991,6.992889999999999Q2.0625369999999994,6.9232499999999995,2.1444299999999994,6.868529999999999Q2.2263219999999992,6.813809999999999,2.317316999999999,6.77612Q2.4083109999999994,6.738429999999999,2.5049099999999993,6.7192099999999995Q2.6015085999999994,6.699999999999999,2.6999999999999993,6.699999999999999Q2.798491399999999,6.699999999999999,2.8950899999999993,6.7192099999999995Q2.991688999999999,6.738429999999999,3.0826829999999994,6.77612Q3.1736779999999993,6.813809999999999,3.255569999999999,6.868529999999999Q3.337462999999999,6.9232499999999995,3.4071069999999994,6.992889999999999Q3.4767509999999993,7.062539999999999,3.531469999999999,7.144429999999999Q3.586187999999999,7.226319999999999,3.623878999999999,7.31732Q3.6615699999999993,7.408309999999999,3.6807849999999993,7.504909999999999Q3.6999999999999993,7.601509999999999,3.6999999999999993,7.699999999999999ZM8.7,2.6999999999999993Q8.7,2.798491399999999,8.680779999999999,2.8950899999999993Q8.66157,2.991688999999999,8.62388,3.0826829999999994Q8.586189999999998,3.1736779999999993,8.531469999999999,3.255569999999999Q8.47675,3.337462999999999,8.40711,3.4071069999999994Q8.33746,3.4767509999999993,8.255569999999999,3.531469999999999Q8.17368,3.586187999999999,8.08268,3.623878999999999Q7.991689999999999,3.6615699999999993,7.89509,3.6807849999999993Q7.798489999999999,3.6999999999999993,7.699999999999999,3.6999999999999993Q7.601509999999999,3.6999999999999993,7.504909999999999,3.6807849999999993Q7.408309999999999,3.6615699999999993,7.31732,3.623878999999999Q7.226319999999999,3.586187999999999,7.144429999999999,3.531469999999999Q7.062539999999999,3.4767509999999993,6.992889999999999,3.4071069999999994Q6.9232499999999995,3.337462999999999,6.868529999999999,3.255569999999999Q6.813809999999999,3.1736779999999993,6.77612,3.0826829999999994Q6.738429999999999,2.991688999999999,6.7192099999999995,2.8950899999999993Q6.699999999999999,2.798491399999999,6.699999999999999,2.6999999999999993Q6.699999999999999,2.6015085999999994,6.7192099999999995,2.5049099999999993Q6.738429999999999,2.4083109999999994,6.77612,2.317316999999999Q6.813809999999999,2.2263219999999992,6.868529999999999,2.1444299999999994Q6.9232499999999995,2.0625369999999994,6.992889999999999,1.9928929999999991Q7.062539999999999,1.9232489999999993,7.144429999999999,1.8685299999999994Q7.226319999999999,1.8138119999999993,7.31732,1.7761209999999994Q7.408309999999999,1.7384299999999993,7.504909999999999,1.7192149999999993Q7.601509999999999,1.6999999999999993,7.699999999999999,1.6999999999999993Q7.798489999999999,1.6999999999999993,7.89509,1.7192149999999993Q7.991689999999999,1.7384299999999993,8.08268,1.7761209999999994Q8.17368,1.8138119999999993,8.255569999999999,1.8685299999999994Q8.33746,1.9232489999999993,8.40711,1.9928929999999991Q8.47675,2.0625369999999994,8.531469999999999,2.1444299999999994Q8.586189999999998,2.2263219999999992,8.62388,2.317316999999999Q8.66157,2.4083109999999994,8.680779999999999,2.5049099999999993Q8.7,2.6015085999999994,8.7,2.6999999999999993Z",
                      fill: "#ffffff",
                    },
                  }),
                ]
              ),
            ]
          );
        },
        o = [],
        a = i("2877"),
        n = {},
        r = Object(a["a"])(n, s, o, !1, null, null, null);
      t["a"] = r.exports;
    },
    "5d97": function (e, t, i) {
      "use strict";
      i("1945");
    },
    "5e37": function (e, t, i) {},
    "5ecf": function (e, t, i) {},
    "5f1c": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "comment-item",
              class: {
                "comment-item--proofread": e.isProofread,
                "comment-item--focus": e.focus,
                "comment-item--hover": !e.focus && e.hover,
                "comment-item--editable": e.editable,
                "comment-item--thumb": e.thumb,
                "comment-item--in-area": this.itemInCommentList,
                "comment-item--resolved": e.isResolve,
                "comment-item--read": e.isRead,
                "comment-item--unread": !e.isRead,
                "comment-item--with-replies": e.replyUsers.length,
              },
              attrs: {
                tabindex: "0",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "comment-item__avatar",
                },
                [
                  i("Portrait", {
                    attrs: {
                      info: e.creator,
                      size: "small",
                      showBorder: !1,
                    },
                  }),
                  e.itemInCommentList && !e.isRead
                    ? i("span", {
                        staticClass: "comment-item__avatar-badge",
                      })
                    : e._e(),
                ],
                1
              ),
              e.thumb && e.replyUsers.length
                ? i(
                    "div",
                    {
                      staticClass: "comment-item__replies-long",
                    },
                    [
                      e._l(e.replyUsersLong, function (e) {
                        return i("Portrait", {
                          key: e.id,
                          staticClass: "comment-item__reply-user",
                          attrs: {
                            info: e,
                            size: "small",
                          },
                        });
                      }),
                      e.replyUsers.length > 6
                        ? i("Portrait", {
                            key: "remaining",
                            staticClass: "comment-item__reply-user",
                            attrs: {
                              info: {
                                name: "" + (e.replyUsers.length - 5),
                              },
                              size: "small",
                            },
                          })
                        : e._e(),
                    ],
                    2
                  )
                : e._e(),
              i(
                "div",
                {
                  staticClass: "comment-item__wrapper",
                },
                [
                  e.itemInCommentList
                    ? i(
                        "div",
                        {
                          key: "area-info",
                          staticClass: "comment-item__area-info",
                        },
                        [
                          e.page
                            ? [
                                i(
                                  "div",
                                  {
                                    staticClass: "comment-item__page",
                                  },
                                  [e._v(e._s(e.page))]
                                ),
                                i(
                                  "div",
                                  {
                                    staticClass: "comment-item__dot",
                                  },
                                  [e._v("·")]
                                ),
                              ]
                            : e._e(),
                          i(
                            "div",
                            {
                              staticClass: "comment-item__serial",
                            },
                            [e._v("#" + e._s(e.comment.serial))]
                          ),
                          i("master-dropdown", {
                            staticClass: "comment-item__area-command",
                            on: {
                              command: e.menuCommand,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "dropButton",
                                  fn: function () {
                                    return [
                                      i(
                                        "button",
                                        {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content: "更多操作",
                                                offset: "3px",
                                              },
                                              expression:
                                                "{ content: `更多操作`, offset: '3px' }",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          key: "more",
                                          staticClass:
                                            "comment-item__area-command",
                                        },
                                        [i("EllipsisHIcon")],
                                        1
                                      ),
                                    ];
                                  },
                                  proxy: !0,
                                },
                                {
                                  key: "dropMenu",
                                  fn: function () {
                                    return [
                                      i("master-menu", {
                                        attrs: {
                                          list: e.areaMenuList,
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              43223815
                            ),
                          }),
                          e.permission.resolve
                            ? i(
                                "button",
                                {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: {
                                        content: e.isResolve
                                          ? "已解决"
                                          : "解决",
                                        offset: "3px",
                                      },
                                      expression:
                                        "{ content: isResolve ? '已解决' : '解决', offset: '3px' }",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  key: "toggle-resolve",
                                  staticClass: "comment-item__area-command",
                                  class: {
                                    "comment-item__area-command--active":
                                      e.isResolve,
                                  },
                                  on: {
                                    click: function (t) {
                                      return (
                                        t.stopPropagation(), e.toggleResolved(t)
                                      );
                                    },
                                  },
                                },
                                [
                                  e.isResolve
                                    ? i("CommentResolvedIcon")
                                    : i("CheckCircleIcon"),
                                ],
                                1
                              )
                            : e._e(),
                        ],
                        2
                      )
                    : e._e(),
                  i(
                    "div",
                    {
                      staticClass: "comment-item__info",
                      class: {
                        iscover: e.openEmojiPanel || e.isShowMorePanel,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          key: "name",
                          staticClass: "comment-item__user-name",
                        },
                        [e._v(e._s(e.creator.name))]
                      ),
                      e.isSelf
                        ? i(
                            "div",
                            {
                              key: "self",
                              staticClass: "comment-item__user-name-self",
                            },
                            [e._v("（我）")]
                          )
                        : e._e(),
                      i(
                        "div",
                        {
                          key: "time",
                          staticClass: "comment-item__time",
                        },
                        [e._v("· " + e._s(e.createdAt))]
                      ),
                      i("div", {
                        key: "whitespace",
                        staticClass: "comment-item__info-whitespace",
                      }),
                      e.editable || e.thumb
                        ? i(
                            "div",
                            {
                              staticClass: "comment-item__back",
                            },
                            [
                              i("MPopover", {
                                attrs: {
                                  placement: "bottom",
                                  globalClose: "",
                                  open: e.openEmojiPanel,
                                },
                                on: {
                                  "update:open": function (t) {
                                    e.openEmojiPanel = t;
                                  },
                                },
                                scopedSlots: e._u(
                                  [
                                    {
                                      key: "trigger",
                                      fn: function () {
                                        return [
                                          i(
                                            "button",
                                            {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: {
                                                    content: "使用表情回复",
                                                    offset: "3px",
                                                  },
                                                  expression:
                                                    "{ content: `使用表情回复`, offset: '3px' }",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              key: "emoji",
                                              staticClass:
                                                "comment-item__command",
                                              class: {
                                                "emoji-btn-selected":
                                                  e.openEmojiPanel,
                                              },
                                              on: {
                                                click: function (e) {
                                                  e.stopPropagation();
                                                },
                                              },
                                            },
                                            [i("EmojiIcon")],
                                            1
                                          ),
                                        ];
                                      },
                                      proxy: !0,
                                    },
                                    {
                                      key: "content",
                                      fn: function () {
                                        return [
                                          i("EmojiPanel", {
                                            on: {
                                              "click-emoji":
                                                e.onPanelEmojiClick,
                                            },
                                            nativeOn: {
                                              click: function (e) {
                                                e.stopPropagation();
                                              },
                                            },
                                          }),
                                        ];
                                      },
                                      proxy: !0,
                                    },
                                  ],
                                  null,
                                  !1,
                                  2541148216
                                ),
                              }),
                              e.showResolveInThumb
                                ? i(
                                    "button",
                                    {
                                      directives: [
                                        {
                                          name: "tip",
                                          rawName: "v-tip.bottom",
                                          value: {
                                            content: e.isResolve
                                              ? "已解决"
                                              : "解决",
                                            offset: "3px",
                                          },
                                          expression:
                                            "{ content: isResolve ? '已解决' : '解决', offset: '3px' }",
                                          modifiers: {
                                            bottom: !0,
                                          },
                                        },
                                      ],
                                      key: "toggle-resolve",
                                      staticClass: "comment-item__command",
                                      class: {
                                        "comment-item__command--active":
                                          e.isResolve,
                                      },
                                      on: {
                                        click: function (t) {
                                          return (
                                            t.stopPropagation(),
                                            e.toggleResolved(t)
                                          );
                                        },
                                      },
                                    },
                                    [
                                      e.isResolve
                                        ? i("CommentResolvedIcon")
                                        : i("CheckCircleIcon"),
                                    ],
                                    1
                                  )
                                : e._e(),
                              e.thumb
                                ? e._e()
                                : i(
                                    "button",
                                    {
                                      directives: [
                                        {
                                          name: "tip",
                                          rawName: "v-tip.bottom",
                                          value: {
                                            content: "快速回复该成员",
                                            offset: "3px",
                                          },
                                          expression:
                                            "{ content: `快速回复该成员`, offset: '3px' }",
                                          modifiers: {
                                            bottom: !0,
                                          },
                                        },
                                      ],
                                      key: "quick-reply",
                                      staticClass: "comment-item__command",
                                      on: {
                                        click: function (t) {
                                          return (
                                            t.stopPropagation(), e.quickReply(t)
                                          );
                                        },
                                      },
                                    },
                                    [i("FallbackStrokeIcon")],
                                    1
                                  ),
                              i("master-dropdown", {
                                attrs: {
                                  open: e.isShowMorePanel,
                                },
                                on: {
                                  command: e.menuCommand,
                                  "update:open": function (t) {
                                    e.isShowMorePanel = t;
                                  },
                                },
                                scopedSlots: e._u(
                                  [
                                    {
                                      key: "dropButton",
                                      fn: function () {
                                        return [
                                          !e.thumb && e.menuList.length
                                            ? i(
                                                "button",
                                                {
                                                  directives: [
                                                    {
                                                      name: "tip",
                                                      rawName: "v-tip.bottom",
                                                      value: {
                                                        content: "更多操作",
                                                        offset: "3px",
                                                      },
                                                      expression:
                                                        "{ content: `更多操作`, offset: '3px' }",
                                                      modifiers: {
                                                        bottom: !0,
                                                      },
                                                    },
                                                  ],
                                                  key: "more",
                                                  staticClass:
                                                    "comment-item__command",
                                                  class: {
                                                    "more-btn-selected":
                                                      e.isShowMorePanel,
                                                  },
                                                },
                                                [i("EllipsisHIcon")],
                                                1
                                              )
                                            : e._e(),
                                        ];
                                      },
                                      proxy: !0,
                                    },
                                    {
                                      key: "dropMenu",
                                      fn: function () {
                                        return [
                                          i("master-menu", {
                                            attrs: {
                                              list: e.menuList,
                                            },
                                          }),
                                        ];
                                      },
                                      proxy: !0,
                                    },
                                  ],
                                  null,
                                  !1,
                                  70460939
                                ),
                              }),
                            ],
                            1
                          )
                        : e._e(),
                    ]
                  ),
                  i(
                    "div",
                    {
                      key: "content",
                      staticClass: "comment-item__content",
                      on: {
                        click: function (e) {
                          e.stopPropagation();
                        },
                      },
                    },
                    [
                      e.isProofread
                        ? i(
                            "div",
                            {
                              key: "label",
                              staticClass: "comment-item__content-label",
                            },
                            [e._v(" 校对文案： ")]
                          )
                        : e._e(),
                      e.isCircleTalk
                        ? i(
                            "div",
                            [
                              i("div", [e._v("发布了一条圈话，点击查看")]),
                              i("CircleContentPlayer", {
                                attrs: {
                                  itemInCommentList: e.itemInCommentList,
                                  processbar: !1,
                                  commentId: e.comment.id,
                                  content: e.comment.content,
                                  audioUrl: e.comment.audioUrl || "",
                                  location: e.comment.location,
                                },
                              }),
                            ],
                            1
                          )
                        : e._t("default", [
                            i("CommentContent", {
                              key: "text",
                              staticClass: "comment-item__content-text",
                              attrs: {
                                content: e.commentOrReply.content,
                              },
                            }),
                            e.showEmoticonData
                              ? i(
                                  "div",
                                  {
                                    key: "emoticons",
                                  },
                                  e._l(
                                    e.commentOrReply.emoticons,
                                    function (t) {
                                      return i("Emoticon", {
                                        key: t,
                                        attrs: {
                                          "id-or-data": t,
                                          size: e.editable ? "xl" : "lg",
                                          preview: e.editable,
                                        },
                                      });
                                    }
                                  ),
                                  1
                                )
                              : e._e(),
                          ]),
                    ],
                    2
                  ),
                  (e.editable || e.thumb) && e.emojiReplyInfos.length
                    ? i("CommentEmojis", {
                        key: "emojis",
                        staticClass: "comment-item__emoji-reaction",
                        attrs: {
                          infos: e.emojiReplyInfos,
                        },
                        on: {
                          "click-emoji": e.onEmojiClick,
                        },
                        nativeOn: {
                          click: function (e) {
                            e.stopPropagation();
                          },
                        },
                      })
                    : e._e(),
                  e.editable
                    ? e._e()
                    : i(
                        "div",
                        {
                          key: "replies-thumb",
                          staticClass: "comment-item__replies-short",
                        },
                        [
                          i(
                            "div",
                            {
                              key: "replies-count",
                              staticClass: "comment-item__replies-count",
                            },
                            [e._v(" " + e._s(e.repliesCount) + " 条回复 ")]
                          ),
                          [
                            e.thumb &&
                            !e.$slots.default &&
                            (e.thumb || (e.isProofread && !e.comment.status))
                              ? i(
                                  "div",
                                  {
                                    key: "thumb-commands",
                                    staticClass: "comment-item__thumb-commands",
                                  },
                                  [
                                    e.thumb
                                      ? i(
                                          "MButton",
                                          {
                                            key: "checkout",
                                            staticClass:
                                              "comment-item__thumb-command",
                                            attrs: {
                                              width: "70",
                                              size: "xs",
                                              type: e.btnCheckType,
                                            },
                                            nativeOn: {
                                              click: function (t) {
                                                return (
                                                  t.stopPropagation(),
                                                  e.checkout(t)
                                                );
                                              },
                                            },
                                          },
                                          [e._v(" 查看 ")]
                                        )
                                      : e._e(),
                                    e.thumb ||
                                    e.comment.status ||
                                    !e.permission.ignore
                                      ? e._e()
                                      : i(
                                          "MButton",
                                          {
                                            key: "ignore",
                                            staticClass:
                                              "comment-item__thumb-command",
                                            attrs: {
                                              width: "70",
                                              size: "xs",
                                              type: "secondary",
                                              disabled:
                                                e.commentLoadingStates
                                                  .cancelProofreading,
                                            },
                                            nativeOn: {
                                              click: function (t) {
                                                return (
                                                  t.stopPropagation(),
                                                  e.ignoreProof(t)
                                                );
                                              },
                                            },
                                          },
                                          [e._v(" 忽略 ")]
                                        ),
                                    !e.comment.status && e.permission.apply
                                      ? i(
                                          "MButton",
                                          {
                                            key: "apply",
                                            staticClass:
                                              "comment-item__thumb-command",
                                            attrs: {
                                              width: "70",
                                              size: "xs",
                                              type: e.btnApplyType,
                                              disabled:
                                                e.independent ||
                                                e.commentLoadingStates
                                                  .applyProofreading,
                                            },
                                            nativeOn: {
                                              click: function (t) {
                                                return (
                                                  t.stopPropagation(),
                                                  e.applyProof(t)
                                                );
                                              },
                                            },
                                          },
                                          [e._v(" 应用 ")]
                                        )
                                      : e._e(),
                                  ],
                                  1
                                )
                              : e._e(),
                          ],
                          e.thumb
                            ? e._e()
                            : [
                                e._l(e.replyUsersShort, function (e) {
                                  return i("Portrait", {
                                    key: e.id,
                                    staticClass: "comment-item__reply-user",
                                    attrs: {
                                      info: e,
                                      size: "small",
                                    },
                                  });
                                }),
                                e.replyUsers.length > 3
                                  ? i(
                                      "div",
                                      {
                                        staticClass:
                                          "comment-item__reply-users-count",
                                      },
                                      [
                                        e._v(
                                          " " +
                                            e._s(e.replyUsers.length - 3) +
                                            " "
                                        ),
                                      ]
                                    )
                                  : e._e(),
                              ],
                        ],
                        2
                      ),
                  [
                    e.thumb ||
                    e.$slots.default ||
                    !(e.thumb || (e.isProofread && !e.comment.status))
                      ? e._e()
                      : i(
                          "div",
                          {
                            key: "thumb-commands",
                            staticClass: "comment-item__thumb-commands",
                          },
                          [
                            e.thumb
                              ? i(
                                  "MButton",
                                  {
                                    key: "checkout",
                                    staticClass: "comment-item__thumb-command",
                                    attrs: {
                                      width: "70",
                                      size: "xs",
                                      type: "secondary",
                                    },
                                    nativeOn: {
                                      click: function (t) {
                                        return (
                                          t.stopPropagation(), e.checkout(t)
                                        );
                                      },
                                    },
                                  },
                                  [e._v(" 查看 ")]
                                )
                              : e._e(),
                            e.thumb || e.comment.status || !e.permission.ignore
                              ? e._e()
                              : i(
                                  "MButton",
                                  {
                                    key: "ignore",
                                    staticClass: "comment-item__thumb-command",
                                    attrs: {
                                      width: "70",
                                      size: "xs",
                                      type: "secondary",
                                      disabled:
                                        e.commentLoadingStates
                                          .cancelProofreading,
                                    },
                                    nativeOn: {
                                      click: function (t) {
                                        return (
                                          t.stopPropagation(), e.ignoreProof(t)
                                        );
                                      },
                                    },
                                  },
                                  [e._v(" 忽略 ")]
                                ),
                            !e.comment.status && e.permission.apply
                              ? i(
                                  "MButton",
                                  {
                                    key: "apply",
                                    staticClass: "comment-item__thumb-command",
                                    attrs: {
                                      width: "70",
                                      size: "xs",
                                      disabled:
                                        e.independent ||
                                        e.commentLoadingStates
                                          .applyProofreading,
                                    },
                                    nativeOn: {
                                      click: function (t) {
                                        return (
                                          t.stopPropagation(), e.applyProof(t)
                                        );
                                      },
                                    },
                                  },
                                  [e._v(" 应用 ")]
                                )
                              : e._e(),
                          ],
                          1
                        ),
                  ],
                ],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("c868"),
        l = i("d257"),
        d = i("b39e"),
        u = i("d140"),
        h = i("bbf1"),
        p = i("113a"),
        m = i("dc0f"),
        g = i("5161"),
        b = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "circle-player-content",
            },
            [
              i(
                "div",
                {
                  staticClass: "circle-player-content-btngroup",
                },
                [
                  i("button", {
                    class: [
                      e.isDark
                        ? e.isOpenVoice
                          ? "circle-player-content__volice-open-volice"
                          : "circle-player-content__volice"
                        : e.isOpenVoice
                        ? "circle-player-content__volice-open-volice-light"
                        : "circle-player-content__volice-light",
                    ],
                  }),
                  i(
                    "button",
                    {
                      staticClass: "circle-player-content__play",
                      on: {
                        click: function (t) {
                          return t.stopPropagation(), e.play(t);
                        },
                      },
                    },
                    [i("CirclePlayStrokeIcon")],
                    1
                  ),
                ]
              ),
              e.processbar
                ? i(
                    "div",
                    {
                      staticClass: "circle-player-content-progress",
                    },
                    [
                      e._m(0),
                      i(
                        "div",
                        {
                          staticClass: "circle-player-content__progresstime",
                        },
                        [e._v(e._s(e.currentTimestamp) + "s")]
                      ),
                    ]
                  )
                : e._e(),
            ]
          );
        },
        v = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "circle-player-content__progressbar",
              },
              [
                i("div", {
                  staticClass: "circle-player-content__progressinner playing",
                }),
              ]
            );
          },
        ],
        f = i("5a67"),
        y = i("8ece"),
        _ = i("79f6c"),
        C = i("0613"),
        S = i("aa26");
      let I = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.totalTimestamp = 10),
            (this.currentTimestamp = 0);
        }
        get isOpenVoice() {
          return !!this.audioUrl && !l["rb"]().isSafari;
        }
        get percentStyle() {
          return {
            width: (this.currentTimestamp / this.totalTimestamp) * 100 + "%",
          };
        }
        play() {
          Object(S["c"])(this.itemInCommentList),
            requestAnimationFrame(() => {
              const {
                audioUrl: e,
                content: t,
                commentId: i,
                location: s,
              } = this;
              y["a"].pageState.currentPageId !== s.pageID &&
                this.pageList.includes(s.pageID) &&
                this.$eventBus.$emit("CommentPageSwitch", s.pageID),
                C["a"].commit("comments/SET_ACTIVE_TYPE", _["c"].CircleTalk),
                setTimeout(() => {
                  try {
                    this.setCircleSource({
                      source: {
                        autoPlay: !0,
                        pathStore: t,
                        audioUrl: e || "",
                      },
                      currentId: i,
                    }),
                      i === this.playingCircleId &&
                        this.$eventBus.$emit("notify-circletalk-replay");
                  } catch (s) {
                    console.error(s, "CircleTalk data decode fail error.");
                  }
                }, 0);
            });
        }
        stop() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.state = f["b"].Stop;
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        I.prototype,
        "processbar",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          I.prototype,
          "commentId",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
              default: null,
            }),
          ],
          I.prototype,
          "audioUrl",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          I.prototype,
          "content",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          I.prototype,
          "location",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !0,
            }),
          ],
          I.prototype,
          "itemInCommentList",
          void 0
        ),
        (I = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      activeType: (e) => e.comments.activeType,
                      isDark: (e) => e.main.isDark,
                      pageList: (e) => e.pages.list,
                    })
                  ),
                  Object(r["c"])("comments", [
                    "currentPageComments",
                    "focusComment",
                    "commentPermission",
                  ])
                ),
                Object(r["c"])("circletalk", [
                  "isCirclePlaying",
                  "isCircleMode",
                  "playingCircleId",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("circletalk", [
                  "setCircleState",
                  "setCircleSource",
                ])
              ),
            }),
          ],
          I
        ));
      var O = I,
        k = O,
        w = (i("db96"), i("2877")),
        x = Object(w["a"])(k, b, v, !1, null, "2e6b7cc6", null),
        L = x.exports,
        A = i("fc4b");
      let T = class extends n["g"] {
        userInfo(e) {
          return this.$store.getters["comments/userInfo"](e);
        }
        parse(e, t, i, s) {
          const o = [];
          return (
            e.forEach((e) => {
              if ("string" !== typeof e) return void o.push(e);
              let a = 0,
                n = i.exec(e);
              while (n) {
                const [r, c] = n,
                  { index: l } = n;
                o.push(e.substring(a, l)),
                  (a = l + r.length),
                  o.push({
                    type: t,
                    content: s(c),
                  }),
                  (n = i.exec(e));
              }
              a < e.length && o.push(e.substring(a, e.length));
            }),
            o
          );
        }
        onContextMenu(e) {
          if ((e.preventDefault(), e.stopPropagation(), window.getSelection)) {
            const e = window.getSelection(),
              t = document.createRange();
            t.selectNode(this.$el), e.removeAllRanges(), e.addRange(t);
          }
        }
        render(e) {
          let t = [this.content];
          t = this.parse(
            t,
            "user",
            /\{userID:(\d+)\}/g,
            (e) => this.userInfo(e).name
          );
          const i = [];
          return (
            t.forEach((t) => {
              if ("string" === typeof t)
                return void t.split(/\n/g).forEach((t, s) => {
                  s && i.push(e("br")),
                    Array.from(t).forEach((t) => {
                      if (Object(A["b"])(t)) {
                        const s = e(
                          "span",
                          {
                            class: "comment-content__emoji",
                          },
                          t
                        );
                        i.push(s);
                      } else i.push(t);
                    });
                });
              const s = e(
                "span",
                {
                  class: "comment-content__mention",
                },
                `@${t.content} `
              );
              i.push(s);
            }),
            e(
              "div",
              {
                staticClass: "comment-content",
                on: {
                  contextmenu: this.onContextMenu,
                },
              },
              i
            )
          );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        T.prototype,
        "content",
        void 0
      ),
        (T = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Portrait: h["a"],
              },
            }),
          ],
          T
        ));
      var j,
        M,
        E = T,
        P = E,
        D = (i("f75d"), Object(w["a"])(P, j, M, !1, null, null, null)),
        B = D.exports,
        N = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "ul",
            {
              staticClass: "comment-emojis",
            },
            e._l(e.resolvedInfos, function (t) {
              return i(
                "li",
                {
                  key: t.value,
                  staticClass: "comment-emojis__item",
                },
                [
                  i(
                    "span",
                    {
                      staticClass: "comment-emojis__title",
                      on: {
                        click: function (i) {
                          return e.handleClickEmoji(t);
                        },
                      },
                    },
                    [e._v(e._s(t.value))]
                  ),
                  i(
                    "div",
                    {
                      staticStyle: {
                        "min-width": "0",
                      },
                    },
                    [
                      i(
                        "p",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip",
                              value: {
                                content: t.users.join("，"),
                                overflowDisplay: !0,
                              },
                              expression:
                                "{\n          content: info.users.join('，'),\n          overflowDisplay: true\n        }",
                            },
                          ],
                          staticClass: "comment-emojis__name",
                        },
                        [e._v(e._s(t.users.join("，")))]
                      ),
                    ]
                  ),
                ]
              );
            }),
            0
          );
        },
        F = [];
      let R = class extends n["g"] {
        get resolvedInfos() {
          return this.infos
            ? this.infos.map(({ value: e, users: t }) => ({
                value: e,
                users: t.map(
                  (e) => this.$store.getters["comments/userInfo"](e).name
                ),
              }))
            : [];
        }
        handleClickEmoji(e) {
          const { value: t } = e;
          this.$emit("click-emoji", t);
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])(Array)],
        R.prototype,
        "infos",
        void 0
      ),
        (R = Object(a["__decorate"])([Object(n["a"])({})], R));
      var H = R,
        $ = H,
        V = (i("efab"), Object(w["a"])($, N, F, !1, null, null, null)),
        z = V.exports,
        U = i("b2f7"),
        q = i("5cb3");
      let W = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.openEmojiPanel = !1),
            (this.isShowMorePanel = !1),
            (this.sending = !1);
        }
        get isComment() {
          return !!this.comment;
        }
        get independent() {
          return (
            (this.comment &&
              this.$store.state.comments.independentMap[this.comment.id]) ||
            !1
          );
        }
        get isProofread() {
          const { comment: e } = this;
          return (e && e.type === c["d"].Proofread) || !1;
        }
        get isCircleTalk() {
          const { comment: e } = this;
          return (e && e.type === c["d"].CircleTalk) || !1;
        }
        get commentOrReply() {
          return this.comment || this.reply;
        }
        get page() {
          const { comment: e } = this;
          if (!e) return "";
          const t = this.$store.state.pages.map[e.location.pageID];
          return t && Object(l["x"])(t.name);
        }
        get areaMenuList() {
          const e = [
              {
                label: "标记为未读",
                value: "unread",
              },
              {
                label: "复制链接",
                value: "copy-link",
              },
            ],
            { permission: t } = this;
          return (
            t.delete &&
              e.push({
                label: "删除",
                value: "delete",
              }),
            e
          );
        }
        get isRead() {
          const e = Object(d["g"])(
            this.comment,
            this.$store.state.main.userInfo.id
          );
          return e || !!this.reply;
        }
        get isResolve() {
          var e;
          return (
            (null === (e = this.comment) || void 0 === e
              ? void 0
              : e.status) !== c["c"].Unresolved
          );
        }
        get creator() {
          return this.userInfo(this.commentOrReply.userID);
        }
        get isSelf() {
          var e;
          return (
            this.creator.id ===
            (null === (e = this.$store.state.main.userInfo) || void 0 === e
              ? void 0
              : e.id)
          );
        }
        get createdAt() {
          return Object(l["Hb"])(this.commentOrReply.createdAt);
        }
        get emojiReplyInfos() {
          const { comment: e, reply: t } = this;
          return e
            ? this.emojiGroup(e.id).ofComment || []
            : (t && this.emojiGroup(t.commentID).ofReplies[t.id]) || [];
        }
        get menuList() {
          const e = [],
            { permission: t } = this;
          return (
            t.edit &&
              e.push({
                label: "编辑",
                value: "edit",
              }),
            t.delete &&
              e.push({
                label: "删除",
                value: "delete",
              }),
            e
          );
        }
        get repliesCount() {
          var e, t;
          return "replies" in this.commentOrReply &&
            null !==
              (t =
                null === (e = this.commentOrReply.replies) || void 0 === e
                  ? void 0
                  : e.length) &&
            void 0 !== t
            ? t
            : 0;
        }
        get replyUsers() {
          if ("replies" in this.commentOrReply) {
            const {
              commentOrReply: { userID: e, replies: t },
            } = this;
            return [
              ...new Set(
                null === t || void 0 === t
                  ? void 0
                  : t.map((e) => e.userID).filter((t) => t !== e)
              ),
            ];
          }
          return [];
        }
        get replyUsersLong() {
          const { replyUsers: e, userInfo: t } = this;
          return e.slice(0, e.length > 6 ? 5 : 6).map((e) => t(e));
        }
        get replyUsersShort() {
          const { replyUsers: e, userInfo: t } = this;
          return e.slice(0, 3).map((e) => t(e));
        }
        get btnCheckType() {
          return "secondary";
        }
        get btnApplyType() {
          return this.isRead
            ? "highlight"
            : this.isRead
            ? !this.isRead && this.isDark
              ? "secondary"
              : "gray"
            : "secondary";
        }
        get showResolveInThumb() {
          return this.thumb && this.permission.resolve;
        }
        quickReply() {
          this.$emit("quick-reply", this.creator),
            Object(S["o"])(this.comment),
            m["n"].setLog("INFO", "userAction", "reply button", {
              source: "comments popup",
            });
        }
        onEmojiPanelOpen(e) {
          this.$emit("toggle-emoji-panel", e),
            e &&
              m["n"].setLog("INFO", "userAction", "emoticon button", {
                source: "comments popup",
              });
        }
        onPanelEmojiClick(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield this.addOrDeleteEmoji(e, !0),
              (this.openEmojiPanel = !1),
              Object(S["n"])(this.comment);
          });
        }
        onEmojiClick(e) {
          this.addOrDeleteEmoji(e, !1),
            m["n"].setLog("INFO", "userAction", "emoticon item button", {
              source: "comments popup",
            });
        }
        addOrDeleteEmoji(e, t) {
          var i, s, o, n, r;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const a = this.emojiReplyInfos.find((t) => t.value === e),
              c = this.$store.state.main.userInfo.id,
              l =
                null !==
                  (s =
                    null === (i = this.comment) || void 0 === i
                      ? void 0
                      : i.documentID) && void 0 !== s
                  ? s
                  : this.documentID,
              d =
                null !==
                  (n =
                    null === (o = this.comment) || void 0 === o
                      ? void 0
                      : o.id) && void 0 !== n
                  ? n
                  : this.commentID,
              u = null === (r = this.reply) || void 0 === r ? void 0 : r.id,
              h = {
                documentID: l,
                commentID: d,
                replyID: u,
                value: e,
                userID: c,
              };
            this.sending ||
              ((this.sending = !0),
              a && a.users.includes(c)
                ? t ||
                  (yield this.$store.dispatch("comments/deleteEmojiReply", h))
                : yield this.$store.dispatch("comments/addEmojiReply", h),
              (this.sending = !1));
          });
        }
        menuCommand({ value: e }) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            switch (e) {
              case "copy-link":
                this.copyLink();
                break;
              case "edit":
                this.edit();
                break;
              case "unread":
                this.unread();
                break;
              case "delete":
                this.delete();
                break;
              default:
                break;
            }
          });
        }
        copyLink() {
          Object(d["d"])(this.comment), Object(S["j"])();
        }
        edit() {
          this.$emit("edit", this.commentOrReply),
            Object(S["f"])(this.comment, this.commentType);
        }
        unread() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { comment: e } = this;
            if (!e) return;
            const { documentID: t, id: i, type: s } = e,
              o = {
                documentID: t,
                id: i,
                type: s,
                isRead: c["b"].Unread,
              };
            this.$store.dispatch("comments/markReadComment", o),
              Object(S["l"])();
          });
        }
        delete() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if ("isRead" in this.commentOrReply) {
              const { documentID: e, id: t } = this.commentOrReply,
                i = {
                  documentID: e,
                  id: t,
                };
              yield this.$store.dispatch("comments/deleteComment", i),
                Object(S["e"])(this.comment, this.itemInCommentList);
            } else {
              const { documentID: e, commentID: t } = this,
                { id: i } = this.commentOrReply,
                s = {
                  documentID: e,
                  commentID: t,
                  id: i,
                };
              yield this.$store.dispatch("comments/deleteReply", s),
                Object(S["r"])(this.commentType);
            }
          });
        }
        checkout() {
          const { comment: e } = this;
          e &&
            (Object(S["a"])(e),
            this.$store.dispatch("comments/setHoverCommentId", ""),
            this.$store.dispatch("comments/setFocusCommentId", e.id));
        }
        toggleResolved() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { comment: e } = this;
            if (!e) return;
            const { documentID: t, id: i, type: s, status: o } = e,
              a = {
                documentID: t,
                id: i,
                type: s,
                status:
                  o === c["c"].Resolved ? c["c"].Unresolved : c["c"].Resolved,
              };
            this.$store.dispatch("comments/updateComment", a),
              Object(S["k"])(s, this.itemInCommentList);
          });
        }
        ignoreProof() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { comment: e } = this;
            if (!e) return;
            const { documentID: t, id: i, type: s } = e,
              o = {
                documentID: t,
                id: i,
                type: s,
                status: c["c"].Ignored,
              };
            this.$store.dispatch("comments/updateComment", o),
              Object(S["q"])("refuse");
          });
        }
        get itemInCommentList() {
          return !this.editable && !this.thumb;
        }
        applyProof() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { comment: e } = this;
            if (!e) return;
            const { documentID: t, id: i, type: s } = e;
            Object(g["a"])(e);
            const o = {
              documentID: t,
              id: i,
              type: s,
              status: c["c"].Applied,
            };
            this.$store.dispatch("comments/updateComment", o),
              Object(S["q"])("accept"),
              this.itemInCommentList
                ? m["n"].setLog("INFO", "userAction", "apply button", {
                    source: "comment area",
                  })
                : m["n"].setLog("INFO", "userAction", "apply button", {
                    source: "proofreader popup",
                  });
          });
        }
        get showEmoticonData() {
          var e, t;
          return (
            this.isEmoticonEnabled &&
            (null ===
              (t =
                null === (e = this.commentOrReply) || void 0 === e
                  ? void 0
                  : e.emoticons) || void 0 === t
              ? void 0
              : t.length) > 0
          );
        }
        loadEmoticonsIfNeeded() {
          this.showEmoticonData &&
            this.emoticonMapEmpty &&
            this.updateEmoticons();
        }
        mounted() {
          this.loadEmoticonsIfNeeded();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        W.prototype,
        "permission",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
            }),
          ],
          W.prototype,
          "comment",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
            }),
          ],
          W.prototype,
          "reply",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])(Number)],
          W.prototype,
          "documentID",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          W.prototype,
          "commentID",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
            }),
          ],
          W.prototype,
          "commentType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          W.prototype,
          "focus",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          W.prototype,
          "hover",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          W.prototype,
          "editable",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          W.prototype,
          "thumb",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("openEmojiPanel")],
          W.prototype,
          "onEmojiPanelOpen",
          null
        ),
        (W = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                CommentContent: B,
                CommentEmojis: z,
                Portrait: h["a"],
                MasterMenu: u["d"],
                EmojiPanel: p["a"],
                CircleContentPlayer: L,
                Emoticon: U["a"],
                CommentLoadingIcon: q["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    isDark: (e) => e.main.isDark,
                  })
                ),
                Object(r["c"])("comments", [
                  "userInfo",
                  "emojiGroup",
                  "isEmoticonEnabled",
                  "commentLoadingStates",
                  "commentTypeOfReply",
                  "emoticonMapEmpty",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("comments", ["updateEmoticons"])
              ),
            }),
          ],
          W
        ));
      var G = W,
        K = G,
        Q = (i("5062"), Object(w["a"])(K, s, o, !1, null, null, null));
      t["a"] = Q.exports;
    },
    "5f36": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-experimental.e5311427.jpg";
    },
    "5f5d": function (e, t, i) {
      "use strict";
      i("5028");
    },
    "600f": function (e, t, i) {
      "use strict";
      i("50fa");
    },
    "606b": function (e, t, i) {
      "use strict";
      i("198b");
    },
    "617f": function (e, t, i) {},
    "61d9": function (e, t, i) {},
    6210: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("master-input", {
            attrs: {
              focusSelectAll: !0,
              value: e.isSpaceBetween ? null : e.selectItem.itemSpacing,
              placeholder: e.spaceBetweenPlaceHolder,
              validate: e.validate.checkAutolayoutSpacing,
              valueDecorator: e.valueDecorator.numDecorator,
            },
            on: {
              keydown: e.keydownHandler,
              change: function (t) {
                return e.handleFlexPropsChange(t);
              },
              blur: e.onBlur,
              dragup: function (t) {
                return e.onMouseUp("drag");
              },
            },
            scopedSlots: e._u([
              {
                key: "header",
                fn: function () {
                  return [
                    i("BasicLeftIcon", {
                      attrs: {
                        masterIconName: e.spaceBetweenInputIcon,
                        disabledDrag: e.isSpaceBetween,
                      },
                      on: {
                        change: function (t) {
                          return e.handleIconChange(
                            e.selectItem.itemSpacing + t
                          );
                        },
                        mouseup: function (t) {
                          return e.onMouseUp("drag");
                        },
                      },
                    }),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d257"),
        c = i("8ece"),
        l = i("43c3"),
        d = i("3759"),
        u = i("a411"),
        h = i("e0b5"),
        p = i("c296"),
        m = i("0e0c"),
        g = i("691a");
      let b = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.keydownHandler = r["ob"]),
            (this.validate = m),
            (this.valueDecorator = g);
        }
        get flexMode() {
          return this.selectItem.flexMode;
        }
        get spaceBetweenPlaceHolder() {
          return this.isSpaceBetween
            ? "自动"
            : null === this.selectItem.itemSpacing
            ? "多个值"
            : "";
        }
        get isSpaceBetween() {
          return this.mainAxisAlignValue === u["c"].SpacingBetween;
        }
        get mainAxisAlignValue() {
          return this.selectItem.mainAxisAlignItems;
        }
        get spaceBetweenInputIcon() {
          return this.flexMode === u["d"].Horizontal
            ? "SpaceHIcon"
            : "SpaceVIcon";
        }
        parseInputValue(e) {
          const t = "string" === typeof e ? parseFloat(e) : e;
          return Number.isNaN(t) ? null : parseFloat(t.toFixed(2));
        }
        handleIconChange(e) {
          e > 256001 || e < -256001 || this.handleFlexPropsChange(e);
        }
        handleFlexPropsChange(e) {
          const t = this.parseInputValue(e);
          null !== t &&
            (d["a"].setTag("itemSpacing"),
            c["a"].selector[l["a"].setAutoLayout]({
              itemSpacing: t,
            }));
        }
        onBlur() {
          this.$emit("blur"), this.onMouseUp("click");
        }
        onMouseUp(e) {
          if ("canvas" === this.position && "drag" === e) return;
          let t = "";
          (t =
            "canvas" === this.position
              ? "click" === e
                ? "canvas_input"
                : "canvas_icon"
              : "click" === e
              ? "input_box"
              : "icon"),
            h["c"].track("drag" === e ? h["a"].DRAG_ICON : h["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "autolayout",
              action_parameter2: t,
              action_detail:
                this.flexMode === u["d"].Horizontal ? "horz_gap" : "vert_gap",
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        b.prototype,
        "selectItem",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          b.prototype,
          "position",
          void 0
        ),
        (b = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicLeftIcon: p["a"],
              },
            }),
          ],
          b
        ));
      var v = b,
        f = v,
        y = i("2877"),
        _ = Object(y["a"])(f, s, o, !1, null, "3c64d1e0", null);
      t["a"] = _.exports;
    },
    "64b6": function (e, t, i) {
      "use strict";
      i("237d");
    },
    "66bd": function (e, t, i) {},
    "67a2": function (e, t, i) {
      "use strict";
      i("4830");
    },
    6892: function (e, t, i) {
      "use strict";
      i("539b");
    },
    "68da": function (e, t, i) {
      "use strict";
      i("ac37");
    },
    "691a": function (e, t, i) {
      "use strict";
      function s(e) {
        let t = e;
        return "" === t ? t : ((t = (+t).toFixed(2)), String(+t));
      }
      function o(e) {
        return "" === e || /^\d*°$/.test(String(e)) ? e : s(e) + "°";
      }
      function a(e, t = 1) {
        return "" === e ? e : s((100 * +e).toFixed(t)) + "%";
      }
      function n(e) {
        if ("" === e) return e;
        const t = parseInt(e, 10);
        return t + "ms";
      }
      function r(e, t) {
        return "undefined" === typeof t || 1 === t ? a(e, 0) : e;
      }
      function c(e) {
        return "" === e ? e : s((100 * +e).toFixed(2)) + "%";
      }
      function l(e) {
        return null == e ? e : s((100 * +e).toFixed()) + "%";
      }
      function d(e) {
        if ("" === e) return e;
        if ("string" === typeof e) {
          const t = e.split(",");
          return t.every((e) => +e === +t[0])
            ? String(+(+t[0]).toFixed(2))
            : t.map((e) => String(+(+e).toFixed(2))).join(", ");
        }
        return "number" === typeof e ? String(+(+e).toFixed(2)) : "";
      }
      i.r(t),
        i.d(t, "numDecorator", function () {
          return s;
        }),
        i.d(t, "angleDecorator", function () {
          return o;
        }),
        i.d(t, "layerPacityDecorator", function () {
          return a;
        }),
        i.d(t, "SecondDecorator", function () {
          return n;
        }),
        i.d(t, "colorDecorator", function () {
          return r;
        }),
        i.d(t, "ratioDecorator", function () {
          return c;
        }),
        i.d(t, "smoothCornersDecorator", function () {
          return l;
        }),
        i.d(t, "paddingDecorator", function () {
          return d;
        });
    },
    "693b": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.visibleSkeleton
            ? i(
                "div",
                {
                  staticClass: "skeleton_screen_editpage file-skeleton-screen",
                },
                [
                  i(
                    "div",
                    {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: !e.isResource,
                          expression: "!isResource",
                        },
                      ],
                      staticClass: "skeleton_screen_editpage_top",
                    },
                    [
                      i("div", {
                        staticClass: "skeleton_screen_editpage_top_title",
                      }),
                      i("div", {
                        staticClass: "skeleton_screen_editpage_top_button",
                      }),
                      i("div", {
                        staticClass: "skeleton_screen_editpage_top_right",
                      }),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "skeleton_screen_editpage_bottom",
                    },
                    [
                      i(
                        "div",
                        {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: !e.isResource,
                              expression: "!isResource",
                            },
                          ],
                          staticClass: "skeleton_screen_editpage_bottom_left",
                        },
                        [e._m(0), e._m(1), e._m(2)]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "skeleton_screen_editpage_bottom_middle",
                        },
                        [
                          i("div", {
                            staticClass:
                              "skeleton_screen_editpage_bottom_middle_top",
                          }),
                          i(
                            "div",
                            {
                              staticClass:
                                "skeleton_screen_editpage_bottom_middle_bottom",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass:
                                    "skeleton_screen_editpage_bottom_middle_bottom_logo",
                                },
                                [i("LogoSvg")],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass:
                                    "skeleton_screen_editpage_bottom_middle_bottom_progress",
                                  class: e.willClosed
                                    ? ""
                                    : "skeleton_screen_editpage_bottom_middle_bottom_progress_active",
                                },
                                [
                                  i("div", {
                                    staticClass:
                                      "skeleton_screen_editpage_bottom_middle_bottom_progress_content",
                                    class: e.willClosed
                                      ? "skeleton_screen_editpage_bottom_middle_bottom_progress_content_end"
                                      : "",
                                  }),
                                ]
                              ),
                              i(
                                "div",
                                {
                                  staticClass:
                                    "skeleton_screen_editpage_bottom_middle_bottom_tip",
                                },
                                [
                                  e.isPri
                                    ? e._l(e.tips, function (t, s) {
                                        return i("div", {
                                          key: s,
                                          staticClass:
                                            "skeleton_screen_editpage_bottom_middle_bottom_tip_content",
                                          class:
                                            "skeleton_screen_editpage_bottom_middle_bottom_tip_content_" +
                                            (s + 1),
                                          domProps: {
                                            innerHTML: e._s(t),
                                          },
                                        });
                                      })
                                    : i("DynamicTips", {
                                        attrs: {
                                          type: "fileOpen",
                                          scene: [
                                            e.DynamicTipSceneType.FILE_OPEN,
                                          ],
                                        },
                                      }),
                                ],
                                2
                              ),
                            ]
                          ),
                          e.IS_PRI
                            ? i(
                                "div",
                                {
                                  staticClass:
                                    "skeleton_screen_editpage_bottom_middle_bottom_pri",
                                },
                                [e._v("Powered by MasterGo")]
                              )
                            : e._e(),
                        ]
                      ),
                      i(
                        "div",
                        {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: !e.isResource,
                              expression: "!isResource",
                            },
                          ],
                          staticClass: "skeleton_screen_editpage_bottom_right",
                        },
                        [
                          i("div", {
                            staticClass:
                              "skeleton_screen_editpage_bottom_right_top",
                          }),
                          e._m(3),
                        ]
                      ),
                    ]
                  ),
                ]
              )
            : e._e();
        },
        o = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton_screen_editpage_bottom_left_top",
              },
              [
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_top_content",
                }),
              ]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton_screen_editpage_bottom_left_middle",
              },
              [
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_page",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_button",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_icon",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_item0",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_item1",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_middle_item2",
                }),
              ]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton_screen_editpage_bottom_left_bottom",
              },
              [
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_bottom_item0",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_bottom_item1",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_bottom_item2",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_bottom_item3",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_left_bottom_item4",
                }),
              ]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "skeleton_screen_editpage_bottom_right_bottom",
              },
              [
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item0",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item1",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item2",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item3",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item4",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item5",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item6",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item7",
                }),
                i("div", {
                  staticClass:
                    "skeleton_screen_editpage_bottom_right_bottom_item8",
                }),
              ]
            );
          },
        ],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("e1cb"),
        c = i("cef3"),
        l = i("ee3a"),
        d = i("1320");
      const u = [
        "可以通过 Shift+A 开启自动布局",
        "可以通过 Shift+Command+L 锁定或解锁图层",
        "可以通过 Option+Command+K 创建组件",
        "可以通过 I 打开取色器",
        "可以通过 Shift+R 显示或隐藏标尺",
        "将参考线拖拽至容器里，可以创建容器参考线",
        "按住 Command 键可以穿透选择到目标图层",
        "可以通过 Command+R 批量重命名图层",
        "可以在设置中调节微调时的移动距离",
        "可以通过 Option+Command+M  将任何图层转换为蒙版",
        "可以通过 Command+E 拼合两个图层",
        "下载本地字体插件，你就可以使用本地的任何字体了",
        "可以通过 Command+K 对文字创建超链接",
        "可以通过 Command+ \\ 显示 / 隐藏操作界面",
        "多人协同时，点击他人头像，可以跟随其视角",
      ];
      Object(d["isFeatureEnabled"])("commentMarkAutoShow") &&
        u.unshift("可以通过 Shift+C 对评论进行隐藏/显示");
      const h = u.map((e) => {
        let t = e;
        return (
          Object(l["p"])().isWindows &&
            (t = t.replace("Command", "Ctrl").replace("Option", "ALT")),
          '<div class="fast-button-tips-title">Tips:</div>' +
            t
              .replace(/\s+/g, "")
              .replace(
                /[a-zA-Z\\]+/g,
                (e) =>
                  `<div class="fast-button_tip ${
                    1 === e.length ? "fast-button_tip_one" : ""
                  }">${e}</div>`
              )
        );
      });
      var p = h,
        m = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "logo-svg-wrap",
            },
            [
              e.logoSrc
                ? i("img", {
                    staticClass: "logo-svg",
                    attrs: {
                      src: e.logoSrc,
                    },
                  })
                : e._e(),
              e.logoSrc
                ? e._e()
                : i("div", [
                    i(
                      "svg",
                      {
                        staticClass: "logo-svg logo-svg-1",
                        attrs: {
                          xmlns: "http://www.w3.org/2000/svg",
                          "xmlns:xlink": "http://www.w3.org/1999/xlink",
                          fill: "none",
                          version: "1.1",
                          width: "34.99049377441406",
                          height: "49.47544860839844",
                          viewBox: "0 0 34.99049377441406 49.47544860839844",
                        },
                      },
                      [
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("path", {
                              attrs: {
                                d: "\n            M21.7365,47.329\n            Q28.4932,49.2685,28.4932,49.2685\n            C32.8502,50.5191,36.537,45.8562,34.3324,41.8833\n            C34.3324,41.8833,12.5452,2.61935,12.5452,2.61935\n            C10.5716,-0.937425,5.44497,-0.855026,3.58589,2.76336\n            C3.58589,2.76336,2.01202,5.82662,0.949658,7.89433\n            C0.345812,9.06961,0.389207,10.4605,1.019,11.6221\n            Q4.4376,17.9274,19.3251,45.3859\n            C19.8367,46.3295,20.7048,47.0329,21.7365,47.329\n          ",
                                fill: "#3970E3",
                                "fill-opacity": "0.5",
                              },
                            }),
                          ]
                        ),
                      ]
                    ),
                    i(
                      "svg",
                      {
                        staticClass: "logo-svg logo-svg-2",
                        attrs: {
                          xmlns: "http://www.w3.org/2000/svg",
                          "xmlns:xlink": "http://www.w3.org/1999/xlink",
                          fill: "none",
                          version: "1.1",
                          viewBox: "0 0 52.23617172241211 49.627586364746094",
                        },
                      },
                      [
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("path", {
                              attrs: {
                                d: "\n            M0.579712,42.1801\n              C0.579712,42.1801,20.8316,2.76336,20.8316,2.76336\n              C22.6907,-0.855026,27.8172,-0.937425,29.7909,2.61935\n              C29.7909,2.61935,51.5782,41.8833,51.5782,41.8833\n              C53.7827,45.8562,50.0959,50.5191,45.7389,49.2685\n              C45.7389,49.2685,27.7928,44.1172,27.7928,44.1172\n              C26.8796,43.8551,25.9116,43.8549,24.9984,44.1168\n              C24.9984,44.1168,6.49431,49.4217,6.49431,49.4217\n              C2.21277,50.6492,-1.46075,46.1515,0.579712,42.1801\n              C0.579712,42.1801,0.579712,42.1801,0.579712,42.1801\n              Z\n          ",
                                fill: "#3970E3",
                                "fill-opacity": "1",
                              },
                            }),
                          ]
                        ),
                      ]
                    ),
                  ]),
            ]
          );
        },
        g = [],
        b = i("0345");
      let v = class extends n["g"] {
        constructor() {
          super(...arguments), (this.logoSrc = Object(b["e"])("lightSquare"));
        }
      };
      v = Object(a["__decorate"])([Object(n["a"])({})], v);
      var f = v,
        y = f,
        _ = (i("42cc"), i("2877")),
        C = Object(_["a"])(y, m, g, !1, null, "0bc56040", null),
        S = C.exports;
      const I = (e) => {
        let t = e.length - 1;
        for (; t > 0; t--) {
          const i = Math.floor(Math.random() * (t + 1));
          [e[i], e[t]] = [e[t], e[i]];
        }
        return e;
      };
      let O = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.DynamicTipSceneType = c["a"]),
            (this.isPri = !1),
            (this.willClosed = !1),
            (this.visibleSkeleton = !1),
            (this.tips = I(p).slice(0, 5));
        }
        visibleChange(e, t) {
          const i = t && !e;
          (this.willClosed = i),
            i &&
              (this.hidePageTimer = setTimeout(() => {
                (this.visibleSkeleton = !1), (this.hidePageTimer = null);
              }, 50)),
            e &&
              ((this.visibleSkeleton = !0),
              this.hidePageTimer && clearTimeout(this.hidePageTimer));
        }
        init() {
          const e = document.getElementById("file-loading");
          e && e.remove();
        }
        created() {
          this.visibleSkeleton = this.visible;
        }
        mounted() {
          this.init();
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])({})],
        O.prototype,
        "isResource",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          O.prototype,
          "visible",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("visible")],
          O.prototype,
          "visibleChange",
          null
        ),
        (O = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                LogoSvg: S,
                DynamicTips: r["a"],
              },
              inject: ["IS_PRI"],
            }),
          ],
          O
        ));
      var k = O,
        w = k,
        x =
          (i("8f8c"),
          i("32ff"),
          Object(_["a"])(w, s, o, !1, null, "5da044c1", null));
      t["a"] = x.exports;
    },
    "697a": function (e, t, i) {
      "use strict";
      i("75a5");
    },
    "6b6e": function (e, t, i) {
      "use strict";
      i("c690");
    },
    "6c09": function (e, t, i) {
      "use strict";
      i("d897");
    },
    "6cac": function (e, t, i) {},
    "6d59": function (e, t) {
      e.exports =
        "data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAkACQAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIADwAPAMBEQACEQEDEQH/xACiAAACAwEBAQAAAAAAAAAAAAAFBgQHCQgDChAAAQIEAwYEBQMEAwAAAAAAAQIRAwQFIQAGMQcSIkFRYQgTcYEVMpGh8AkUsRYkUtFCcuEBAAEFAQEBAAAAAAAAAAAAAAMCBAUGBwgBABEAAQMCAwUGBAUCBgMAAAAAAQIDEQAhBBIxBUFRYXEGIoGRofAHE8HxFDJCsdEjJBUmM0VS4WKS0//aAAwDAQACEQMRAD8A+bpdNUlLmEvqGBAb0s9n0A9g+Nc9++tcNE/MKZFrQZMRACbAiYsTpcRpeoxkwlbEE3uCnTn1OnVxppbHmvv/AKo+UoICLA6SCUzYEi9iN2lxRGRkYJhVTehFvhqiN2xf95J3Lk/br2uNwWbvo4i32pzgnHE/jBmSQMI8bagCPzWM6z4zrBoSqSgpSFCEyut3bR72bu/rhfH0E38PfnTVKnMwOe17qAAAAABPHdeZmahRYaSX3BYnhUkupyz2sDzPETpbqIJAVB8OHnPDlRnSVpBKwclv1Sc1u6ANYzAybgjiTURcJGphgEsBZTa2f8PXm+FqEwIjfIHpQ05kBSs+oAgkmTm/LbWCDc6WiocSGEgJ3Rvdg5LDl78/9WR8s7r89PCiIsDmEGZkFXeCUwLC1zod3DfXgiFY8BHEeQPfp3+jYTcWNqIpaZskCw0JN98mLkGR0ArrueyeEILQwABqAwI+guLi1rF+0u5h8oNhOgsLW193vVdYxSSkZVDiSLSCRO+dJAExvpOmcsmG5CAb6br9Wu1gxP0w0LahrFSQcBCTfUETPD9pJMcfXzk6ETCqYKC/w4lwksGm5I3swFgSzMA974A6lWVJi3zW56SRI6Azz5U5wpAOLjvf2ju4RICTwFh3ZsCMpNtKWpikljwgEOCOdubfgOj88KIkWsYgHkdabpdGcWmScwB3n0gSCd0cYoDGphSflJuToenPt3B6ewylYg2mwtM+4p0FJKVAXUdSeI58AL5uUWFQIsiznyyzP8pPOxFvy/fCwJAzEg8Z9/ekTeRBzAAAgmJIhQULbhMnUmoK5Mbuhfk7e4Or6n8GELtYaQP35Rr5U4aykgEKsTqO/EXgTEeGg41EEsQ/C99Wd7DmCBgZJJv76cqXkQbiSOUj9rc/GtNarlmGqApSYLqBe3JLHeJ1Aa31tzxdXsPIJ11tEfestw2NCFpAMggnWwAn1Fp4zprVbTuX7qG6QHLhnPfXo99L++I9WHAEifK3h95qwIx5AEkCReDBuOF9Z6fvRSkbKs3VXKWcM7UzK1bnMpZbh0+m13MUtT5iLRqbPVeoSiZOSm6iECUgzceAiYnEyqoqY5kpSamggwYCyIjHO4fC/KDzrbWZaT31hJhK05lQpU5U71RAmrT2d2ZtfbR2i5szZ2LxaWMG+lwstLcQHFgFDIWAQXnQD8pkStZHdSdKpyboY4+BuJi2h3uRuR1/CMH+XmSFJOdKgCCNCkiQQoG4I4ajxqB+YW3XEOpU24heVba5StCkylaXEKIKSkggpgEGQb0pzNIIKnSSeVx3HO5tqH7HAVNwLCLwZmpFpxBCh+ZRTaSCd82kHSN/Kg0emK3SN0B9N0XDXPXq/wDGBkGQCDw89OI8aWFkEAEQSqw3C9gL84mJtQWNTizgcNgHAtfU9QdW9fdJROoPlpx0pTT5nRQ0ymR3bgSeO+L8aH/sbnge/wD70wjKn/j5z/NHLiZuVA8ATbyEe+Na3VKlI8lQSki9izPvAG79XbmOYxoy2gUnjBifXQX6edYc1iodEqJQCALXynmq0cTcHdSDDyhVa/UpKiUKlT1arNWnYEhTKTSZKYqNSqU/Nx0wZWSp8jJw401NzUxFWiFAl5aHEixlrQhCCosY55CG0LWshKUpKlFSglKQNVEmAAAJkm1WXCqexT2HYwrbr77y0NtMNNqdeddWciENIbBW4pRslKQVKJECbVspH8JWZNlHgCqOybPEWmZZ2k5+z1VtoeZKLOT7xKFLKpNOoNAoU7PUuWq8vGnYUnSV1WYloAiIk4tZjykSP+4hx4cLJO0W0GMfjHPwyitltlLKHCDC1SpTixMHKSpKQYvkCoIIrt34Xdlsd2a7MBrajaWNo4/HvY99jMla2W1NtMsMLUhS0FaUMl5QSohCnlJJzJUBgtm3Z7Wcoza5CpJl5jyiYInJGMZmWiFNknzDDhRELICC0aDDKrkD5msnZ/aWGxeCw+FDgGKwrKWnWV2WpLXcDqJ/OhScpJSe6pWVUGJwr4mdldpbD2/tHaisMtWyNq45zEYbGNpBZQ7ilKfXhnYP9FxtxS0oDmVLqUBbZVcJrGcpxJLoIY3LDV2NtD20HqMTDjQN/KOHObGZ1qiNu6QqLbrXJv5jduoNMUxKknhHc6Wbtr73bAvljmeuUwfLjw/enAdtJI1nfOtp6SfuSaBx6STDNnYX1Ojj+BpbmCMJLetp9xypLToCh3lEqkzci2gJJnWw/iKBLpoClDynY66vb87YHlG4DxANPQ4f+KVTvJHS19LSOtbDz9CSYTFzvEOAG3XFi7/8gLfwcaQUhXWdw8/c1hCXDmi0CJHDXeLwfp1r6JP0sPANNZE2eL8SebMkzdR2n53gTcvs1kKpTxAjZNyafMll1+B8QEFErW84ERDAmkhMeBlb9sJWMIFen4asa7a7fbfxatk4d9KcPhyPxRQcwefiSySiRkYmFAk/1pBAU2K7b+Bfw/Gzdkt9rdsYUJ2rtJJ/wxrENwvA7Oun8QlCx3H8fcpcyhQwXywgxiXQX3xVeC/xX7Woc8MobPUzoilaoKI+b8l0wF98gAT1egKCiSA6gkE/MbcNKOMwqEGMxItZC4M9QJHrXQikKMQoCNL6+UwN8GsNto36RH6jMtPTU0nw7VesyqzEWRSc6bM6yIyXfd8iSzjFmSpQHCnygd5mHIRisetl9vE4VTqHmlZm1JQoFKp3SDIIspJBCkylQIMEeM2dg9pYLE7Px7TGJwmMaUy+y6QULQoDiQULSqFIcSQptaUrQtKkg1mptk8PW1fYbmT+k9r+znN2zXMkaUTUJejZxos3SJuZkFRYkumekVTEJECpSCo8GNBhz9PiTEpEiwYiURVLQpI2XYe0mts7PaxKSEvABvFMRdl8DvDKe8EL/wBRonVBFyQa4l7ZdmMX2O25itluJW5hFq/EbMxK7jE4JwwhWcDIp1k/0XwjKEvNrMBKkzRU3RwkF3uSNLO9gLdu/Nu8mWQN3Q8fD7VVfmqum85dZtyFxBSb9OooJMUsBCuElLa6XdiAP9PYW1wMtkcD1t9f4pYcOZNzoO7IIJ3nWw0FxoRruU106IVr4R83U9B9b88Ny2OYqUSSQCUgnqBW1q8vxDCERZChEQWtZBYlIUGIe5u+rkFgMaSECBIvy93turntb5S4SFEymxCrTcpkEep5wYBm7MkeJbxPbL6bApOQ9u21HLlFkYUOFIUWUzbV41Dk4SE7qIUpRp2amaZLQ0pZKYcGVQlh8oxXsf2X2HjnFPPbLwa3nFEuOhlLbqybkrcaCVqJNyVKJkz1v+wfib212Phm8Nge0u12WMOhLbWGVjXH8O2hASAhph/5zSEpGiEISmABlgU+xf1DfHdBh7sLxG52YJCRvSWWIi3fdffiUFayerqJ5m+I09h+zg/2xob7u4n/AOp3zVjHxx+IUD/MuJ70Af22AVc8xhRw0N951g1nmnx3+OGuwIkCf8Te1qDCiJKV/B8xxstqIIO8BEy8ilRUuCxCVAs7dMKT2N7PNd5Oy8Mojcv5jw/9XVKHpQHvjD8QMUkpV2o2mgQQSy63hDPJTDbaweGUzeAda4A2m1HOOeqxGzBnXM+Yc312ND8qNWcz1qpV+qxYSStaYcWoVSZmpqJCSuJEWEKilKVLURdSnejZ2Gwrfy8Oy0w2klXy2kJbSDxypAE2jjpUOjtFtDaby8RtDH4nHYotpSX8W+5iHCLmC46pSimSVAE5QTYXvz7VKPEhqYJIa7EGzHrb1s3bS4VMTcEeFid/A33U4RtBWbOpZ1Mi5FpFrWFrWHSkudkIyUqF3azPq+rN0a32wBTSbwm++Y+8+FPG8WFZFBdyTrIMyQb5YO70HClYykR1O6r62/g6YaKYJJMxJsLj6VMt4yEDvLJi5tfzk+Z5aVvD8JSqDCdASlIG4N3kEcNwQ/cPzfXF/tWCrBItqLjhaYBnWPK9qiTVHZJIgpTYciH52Kid27nr7Xx94+t6K0hWUgqI0JIO6QSROsm3pSvN0nhU8NMOzgKDdiDYhy+ug9dfDHCaTlQCAFkiNByGiosCSSLa3JuJpPn6Ok7zoQN24t8xbUc/4582whQSJ584j/ud3hXqFknKZskkGZkxI8hMnW1VXmajwvKUoJDuR8oGoPueQfoNGbDN5MjTx4xy0qf2a5ltqYA3agR1iTB4RVBV+neWovdydHJZtW/DyBGGLiFAiB10ib76mG3UiQowSqVbovOquIgSTMmBa1VZUJcpUoAXfduk/wCV9L+v+IDA9W6kTIgA8fdv3qSbMiylK0EACU3BJtMggZZOlwDSdEll+ZE4SWUQ7H7MnTDRSATqR0j6mpLNIBClREWKhvPMfXrW9MBX9pAJSk7yIaDvB7bjvc631+2Lh/H1rIlpCVAj9cZvBIVbheos1DSqGxdtQAWAZTW6aYTlAMixzX523ijAk5RJiBYW/UPG33pFqYAS7A8Z19B7+l8ez78JpA7ibAXGa/E35Wvakye4ysmzboG7axSLcywdgOmPLHUDcfE6nrzorYFv/IEHjuEg6zf0HOazzDDQIKzugkvcvzUpPIjl7YauCAeQPp73RUvs8Z3siriY4RmImI9OFc85h4VxiNQCA92+YFvUDXXDNZlV9xt7/mrC00g5gUzBFzqYWAJOpjdVSVCGlS1Eu5Jv/wBrn74auWKjGmnAQAfrUglICeoAM75JB6240rrgoSosVXZRcjUgE8sMyQf0jhaR9aMpOUIAUq6EnXff+K//2Q==";
    },
    "6dab": function (e, t, i) {},
    "708e": function (e, t, i) {
      "use strict";
      i("2160");
    },
    "72c9": function (e, t, i) {
      "use strict";
      i("e689");
    },
    "72cc": function (e, t, i) {
      e.exports = i.p + "static/img/illustration.cf9d1347.jpg";
    },
    7328: function (e, t) {
      e.exports =
        "data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAkACQAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIADwAPAMBEQACEQEDEQH/xAC4AAABAwUBAQAAAAAAAAAAAAADBAUGAQIHCAkAChABAAECBAQEAwQIBwAAAAAAARECIQMEMUEABRJRBiJhcQcTMkKBkaEUFhfB0eHw8SUzRlJTYrEBAAICAwEBAQAAAAAAAAAAAAECAwQHCAkABQYRAAECBAIGBwMFCw0BAAAAAAERIQACMUEDUQQFBmFxgQcSkaGxwfAiMtEIExXh8RQXJSY2QmJkZXJ1FiMkJ1NmdHaEkpSisrP/2gAMAwEAAhEDEQA/APpPooYUi1UM9RMaMpT5VgaRtEIALxVlHvdUJNdVAsXVkCUEy9sbXzEXVwvpj25TVitflbxKoReIZI8qVSRZ2kY4brEDqluwi8zM7TMvICACr9qlF4u1H84BXTJCQywFMynv7zpI3mNAUClqsEXJkItVQiFrJDhbFuOalVc25i1ITYoqF2YDq1IizKg2QE26UvHEBUpULVKuxXzV1UXEFQDZjb1vtSrVhJWp5Y7rM6r3ifv6ftBOqiUWtk4pfnVeItEgurLQtZE+zIUySVU0tUVjcmektqze00k9N9CbwvDSgAe0CQUUg2qxqqHMPRVhlIHspR+xAGi2rLq0/LlTaBn8ajywNynUvsr9UB7IUHMgMpFlArmEePdapm7efBrXyOYgbVDFWDTWm9VNK+2j/e8cCWZvdVDdL+1dbGHAUNMRw9ehE6+VV5kLXg7xc8092I6bF7wcWCHmLliVysAeHkEyj5vWVH419d/nAvlDVIdP+4qaimT/AK0yfjEQSLDwDVABvqBUCyq2dwjQwNlqKjgocpwbPJop8uV6kvoWETp0RX8i0msSqA5XIzd1YoKOAlUhlDIoZ8uCIl17KhYZ87Vh0YmFTVUHXVZamBva6va5NpS9leqVclEzYAA8XJpziSRSqKw5kAL8FhBXjYNVfTTWMHTqHYiepjTTa19+I0BJQF1ICOwUupSnJFBiRJrg04gd0FcOh+0biLMw2iSISNWHS8XEwNKOWdEBPFGU3pQwAT59qb+7vilOFQFJCaCptFp6XZja1hklFW16i6mXMZFXZeMEkhbt9qNu82hPVTXVVNJJbWusvvaaY/DifDUSsjkmp4URqUzWCwRxzlBNecTrDWItMnpLESR773niUVoEoVRWYUz4xRIJo907G4c/r9XTh1LNkN9WV3X3vd1eHmRFSjAKz3ysp3ILQZVbie6nrhyRZjpppellSpgmZSfNd3LTpa95I5ZR1gSW9q7lwnWUWRCEqjokSA1Z1rm5pZPrrSMO/EHD8RPJs1zvknM8Hl+U8I1Vc659hY2VM3ic15WZDmOBTyfJrVT+hZrFzlWXz/6XTU10YXLsXL0YdZmUMk7AbC/yx0DpA0wy4kw2W2N0jXOiTYU0w/Ccmm6JPo+FNLKExBjaDga1kGHNWcSzD2pJSKGsday6s0vUGjkAfS2uMLQcTrAEDAmwsQYmIp93qY82irMLEhUJhh8F8+edZHLZtxOoxqKMQerZJPfX84dTjGRkMvWlyUKoYbyUV+CR+n0nD+bmIRK/X5jvjK+X6q6aVbgFnW9rs6aTeGJ24UqRlR0WgGao/Bz+kY+eWUAX8e6z8Lwt+XXcpqt0+aEtY3hGPUm9+/AlBfqkZt+cc24IN8ISGUGtCN/aM+UArwlRaFkEerU9fLV+4jbdlkYXcqUJqg3buyrwesjL2KPBBEzw6SoWIXTpiS5r62Z237o7+71gVCtnRV3X7KxVyyX0PgkKKcBqtBc1AEe/1TF7fztMZCZQqIXISpAK7997hAIUzCUL59lgPWcNuYyeLVXEjDGwxcure22mg9uIzIiksSM2VLvcImThVVZJZwmd78/qiSnwc8R+Kfh/zfM8sr5N8jnOazWHmqOYZjM4LjYPLshiUYWXjAyWYOnGxc3mZqqSgPrNGrob8kjYfC0ro82l1niT4E2NtRrPSNXTyYonI+4tW6ONFwcLFIlISbSNM06acD8yaRiVEYQ6TtqpNB2g1Vokwx/wdgYekST4YlKY2k4vXnmlJml92XBwZZd4KWEaZeAOQZjw1XnfDeZxKMbG5DzHPcnxMSipqw8SrlebxsnViU1VhVVSuC1U1VU0NQi0jY0O2u1OdntqdpNQHElxTqPXettU/OhxifR2n42ifOSiYSlJ/mesFlBdwDGwWDp8utNX6v1kJTJ9IaBomnCQ1kOlaPh4/UJChuujHcsbAZPp6KVCaoAmJWLpJP3epI8fnD7SpQEKFFzcK75DihUGnPxWqtC9pNT6j12Ym9mPtb31bPCp1R7KAigUhCUe3hcZQvnVr/FadgRoHUVNTDpb7XvJBozOr7xHCykEPMQQUL/EL65QVQBj3eZiYUUUwBVTtqxeHvaO2tpB4tgDkFAsBcd6gXq5QRSU5H0fE8EeC01NLrb7IP33RnUkn1BOCswQkqXQAsCAoVCFRUFs6P4AHMZn4CmdPCBOMOI01FNTcHcjueaY11G7HCddSes5CoeINRWnNxWJRKwRbZpluOVo21+HAfsvOnfPc4LFr4NP3GvtPHUr5HpXor0Rba/10n/KwiE88o1e6Ygm1cv+C0Kv7s6xy6yqfrx41pqJTxn4mUbx/jWdh7R/L14539K0pHSh0i2B222nqM9daYqRtDqFTsts0f2Fqpxu0HA55n0IyvlsEKKUUl+lvpEdifTR7g2x4QjGmYVVCtyvYtWLJmJolHpb1yqkOLhMWlualQfgus3I9uDNKQ53oo628JfeEzD5ID6WrZxTpqAIiALgv5v4fjrPCgE3TcQ/NL231vAWW4XgfTxKOkp6W5LMEMmlWsP1W0sbcXCgIWpTIs4vyDfCKylbZXbf4cYPTe5SCpAsz39P6urx4zFDTeDZShYBwlyy8IADqpu+6xC93ClIA4dXXekplEpvH5C7RDrN7rxFOglITcAjZFGPhlcKJQXDk7/REbcfDYj4Xx25hzba3+Thv8XT19eOpPyOwnRZow/vBrn/AO+jmNX+mM/jThmn9B0NTyxH9W7I5eZOifHfje3+sfEtxZJ5znGVG3feSJvpz16WgfvpdIgCj8c9pf8AtrjTCqrkVPgkbPbPvsrs2f2FqvK2g4C97cTGY8lg+SlYgLLHYNqVktpCE3TjHyEB0P6RTJlN6qqMpu8TTl2UcFz48eyF/RFITNd9JRkNdXez7LscEsG9pJXR3NXscruHBUQHJ3LuBCLa/wBUJ6qGbn5VP77do24EsrFpa3UnuCeucFd57oklJf0NHU1hLaRO1g11ni1NKFHBAXU0C3903VqZmKikc2Ti6+u+LiquluNVN4fYtfX+PedPAAhwZi3HJSWfiW3tDA7/AARCvl4UglNQ1llR0F0NFqJ0DZi8Mg8IT1VYEpNKkwUUL0J6wVQQA9ILtai8eHYOFo22+GxPwwUIjmXNRCNsvhesmj20046g/I8P9V2ADbaHXIv/AGujdqKkaxdMX5USH9R0I8v531Uxy1ylbT478cEs/rl4iDXR5tm40JjW8b+3HP7pbCdKXSGSa7ZbRIn8V0o0p3cY2f2eQ7KbNJX6C1ZkH+48EcuDKnZmPJq4dMykERfSwRpMMpBLZAOMelD7JpkwUOhs3HsUrE0zHIqdz8CN9X45O1JIUsz9U+0WgLb22Vb8K1HqqshoWRkPNCE4RkgPuvXv4ehFenDlm6WuSxte/wDbiQShMuRPNgeyviQZiPtTzEPOG6yDJKJaZDaO/EqrMZbH15PEJDDiR2Ui+tgSBAq1/wDf6t6cMgMszD2TZlc1NbC8elCkby/YT5QLBBxQQ1j2u6Oz7cR4oBRQKn/2R4RKKHcnNiX7I23+GV/hhV6cz5uav/Bh8dOvkdE/evw920euE/3aFN4zGNYumX8qMMfqGhHvxRHLXKX8d+N128YeIbbX5tmR/j78aCdLoB6U+kL/ADltAEs+s9JWNm9nX2V2b/gWrX/0eFGXshU/LpJYjSWLRtMflxjuSUHgHTeWv3CkWZ3K3byzh3606fad9SDvpH8o4HVAX92U8x9g8ohTxHrvPnHsQhEU6qSpLJLIxIxpMd54MvujeFtfiseXcL23x//Z";
    },
    "73b4": function (e, t, i) {},
    "73d17": function (e, t, i) {},
    "742e": function (e, t, i) {},
    "74e4": function (e, t, i) {
      "use strict";
      i("590d");
    },
    "74f8": function (e, t, i) {},
    7542: function (e, t, i) {},
    7557: function (e, t, i) {
      "use strict";
      i("dd04");
    },
    "75a5": function (e, t, i) {},
    "75f3": function (e, t, i) {
      "use strict";
      i("1362");
    },
    "76bb": function (e, t, i) {},
    "777a": function (e, t, i) {
      "use strict";
      i("ef91");
    },
    "77e3": function (e, t, i) {
      "use strict";
      i("7bac");
    },
    7839: function (e, t, i) {},
    "7a0b": function (e, t, i) {
      "use strict";
      i("7e19");
    },
    "7a1a": function (e, t, i) {
      "use strict";
      i("ea8c");
    },
    "7a6c": function (e, t, i) {},
    "7b34": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "preview-container",
            },
            [
              i("img", {
                ref: "previewRef",
                attrs: {
                  draggable: "false",
                  id: "preview",
                  src: e.exportPreviewIMG.url,
                },
              }),
              i("div", {
                staticClass: "preview-container__mask",
                style: e.maskRect
                  ? {
                      width: e.maskRect.width + "px",
                      height: e.maskRect.height + "px",
                    }
                  : {},
                attrs: {
                  draggable: "true",
                },
                on: {
                  dragstart: function (t) {
                    return t.stopPropagation(), e.$emit("dragStartHandler", t);
                  },
                  dragend: function (t) {
                    return t.stopPropagation(), e.$emit("dragEndHandler", t);
                  },
                },
              }),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("1d1f");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments), (this.maskRect = {});
        }
        mounted() {
          (this.ob = new r["a"]((e) => {
            for (const t of e)
              this.maskRect = {
                width: t.contentRect.width,
                height: t.contentRect.height,
              };
          })),
            this.ob.observe(this.$refs.previewRef);
        }
        beforeDestroy() {
          this.ob &&
            (this.ob.disconnect(), (this.ob = null), (this.maskRect = {}));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        c.prototype,
        "exportPreviewIMG",
        void 0
      ),
        (c = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {},
            }),
          ],
          c
        ));
      var l = c,
        d = l,
        u = (i("18d2"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "64781bb0", null);
      t["a"] = h.exports;
    },
    "7bac": function (e, t, i) {},
    "7c9b": function (e, t, i) {},
    "7d03": function (e, t, i) {},
    "7d2c": function (e, t, i) {},
    "7d9b": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              class: {
                "input-focus": e.isDragEnter,
                "radius-m": e.isDragEnter,
              },
              on: {
                dragover: function (t) {
                  t.preventDefault(), e.supportDragFill && (e.isDragEnter = !0);
                },
                dragleave: function (t) {
                  e.supportDragFill && (e.isDragEnter = !1);
                },
                drop: e.handleDropFile,
              },
            },
            [
              i("master-input", {
                staticClass: "coloritem__input",
                class: {
                  coloritem__hidden: !e.data.isVisible,
                },
                attrs: {
                  value: e.inputValue,
                  valueDecorator: e.valueDecorator.colorDecorator,
                  validate: e.validate.colorValidate,
                  focusSelectAll: !0,
                  disabled: e.disable,
                  readonlyIndex: e.readonlyInputIndex,
                },
                on: {
                  keydown: e.keydownHandler,
                  change: e.inputChangeHandler,
                },
                scopedSlots: e._u([
                  {
                    key: "header",
                    fn: function () {
                      return [
                        e.popoverLazyLoad
                          ? e._e()
                          : i("ColorIcon", {
                              staticClass: "mas-bar-button",
                              class: {
                                "hover-focus--bg-tran-8": !e.disable,
                                "active--bg-tran-12": !e.disable,
                              },
                              attrs: {
                                data: e.data,
                                disable: e.disable,
                              },
                              on: {
                                toggle: e.toggleMenu,
                              },
                              nativeOn: {
                                mousedown: function (t) {
                                  return e.changePopover(t);
                                },
                              },
                            }),
                        e.popoverLazyLoad
                          ? i("Bounced", {
                              ref: "bounced",
                              attrs: {
                                offsetLeft: +e.offset,
                                placement: e.placement,
                                isColorCollection: e.isColorCollection,
                                title: e.title,
                                width: "252",
                                open: e.isShow,
                              },
                              on: {
                                open: e.onOpen,
                                close: e.onClose,
                                "update:open": function (t) {
                                  e.isShow = t;
                                },
                              },
                              scopedSlots: e._u(
                                [
                                  e.type
                                    ? {
                                        key: "title",
                                        fn: function () {
                                          return [
                                            i(
                                              "div",
                                              {
                                                staticStyle: {
                                                  position: "relative",
                                                  width: "200px",
                                                },
                                              },
                                              [
                                                e.type
                                                  ? i("MasterSelector", {
                                                      attrs: {
                                                        options: e.typeList,
                                                        value: e.data.type,
                                                        theme: "simple",
                                                        size: "small",
                                                        mode: "masterPopover",
                                                      },
                                                      on: {
                                                        change:
                                                          e.changeFillType,
                                                      },
                                                    })
                                                  : e._e(),
                                                i("MasterSelector", {
                                                  staticClass:
                                                    "fill-blend__select",
                                                  attrs: {
                                                    options: e.BLENDTYPE_LIST,
                                                    value:
                                                      e.data.blendMode + "",
                                                    icon: e.data.blendMode
                                                      ? "blend-on"
                                                      : "blend-off",
                                                    masterIcon: e.data.blendMode
                                                      ? "BlendOnIcon"
                                                      : "BlendOffIcon",
                                                    mode: "masterPopover",
                                                  },
                                                  on: {
                                                    change: function (t) {
                                                      return e.changeHandler({
                                                        blendMode: +t,
                                                      });
                                                    },
                                                  },
                                                }),
                                              ],
                                              1
                                            ),
                                          ];
                                        },
                                        proxy: !0,
                                      }
                                    : null,
                                  {
                                    key: "button",
                                    fn: function () {
                                      return [
                                        i("ColorIcon", {
                                          staticClass: "mas-bar-button",
                                          class: {
                                            "hover--bg-tran-4": !e.disable,
                                            "active--bg-tran-8": !e.disable,
                                          },
                                          attrs: {
                                            data: e.data,
                                          },
                                          on: {
                                            toggle: e.toggleMenu,
                                          },
                                        }),
                                      ];
                                    },
                                    proxy: !0,
                                  },
                                  {
                                    key: "content",
                                    fn: function () {
                                      return [
                                        e.isGradient
                                          ? i("linear", {
                                              attrs: {
                                                selected: e.selected,
                                                points:
                                                  e.data.gradient.gradientStops,
                                                type: e.data.type,
                                              },
                                              on: {
                                                pointchange: e.pointchange,
                                                movepoint: e.pointmove,
                                                change: e.onfanzhuan,
                                                rotate: e.onrotate,
                                                addpoint: e.onaddpoint,
                                              },
                                            })
                                          : e._e(),
                                        e.isImage
                                          ? e._e()
                                          : i("ColorPicker", {
                                              ref: "colorPicker",
                                              attrs: {
                                                color: e.colorItem,
                                              },
                                              on: {
                                                changeStart:
                                                  e.handleColorPickerChangeStart,
                                                changeEnd:
                                                  e.handleColorPickerChangeEnd,
                                                change:
                                                  e.handleColorPickerChange,
                                                openPicker: e.handleOpenPicker,
                                              },
                                            }),
                                        e.isImage && e.data.image
                                          ? i("ImageSelect", {
                                              attrs: {
                                                type: e.type,
                                                data: e.data.image,
                                                filtersData: e.data.filters,
                                                index: e.data.index,
                                              },
                                              on: {
                                                change: e.imagechange,
                                              },
                                            })
                                          : e._e(),
                                        e.isImage
                                          ? e._e()
                                          : i("ColorSets", {
                                              attrs: {
                                                color: e.colorItem,
                                                actionType: e.actionType,
                                              },
                                              on: {
                                                setColor:
                                                  e.handleColorPickerChange,
                                              },
                                            }),
                                      ];
                                    },
                                    proxy: !0,
                                  },
                                ],
                                null,
                                !0
                              ),
                            })
                          : e._e(),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "footer",
                    fn: function () {
                      return [
                        e.showEye && !e.isColorCollection
                          ? i("MasterButtonSwitch", {
                              attrs: {
                                type: "trans",
                                icon: e.data.isVisible
                                  ? "visible"
                                  : "unvisible",
                                focusable: "",
                              },
                              on: {
                                click: function (t) {
                                  return e.changeHandler({
                                    isVisible: !e.data.isVisible,
                                  });
                                },
                              },
                            })
                          : e._e(),
                        e.isColorCollection
                          ? [
                              e.createStyleLazyLoad
                                ? e._e()
                                : i("MasterButtonIcon", {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.bottom",
                                        value: "创建或使用样式",
                                        expression: "'创建或使用样式'",
                                        modifiers: {
                                          bottom: !0,
                                        },
                                      },
                                    ],
                                    attrs: {
                                      slot: "dropButton",
                                      icon: "StyleIcon",
                                      isLocalIcon: !1,
                                      focusable: "",
                                    },
                                    nativeOn: {
                                      click: function (t) {
                                        return e.changeCreateStylePop(t);
                                      },
                                    },
                                    slot: "dropButton",
                                  }),
                              e.createStyleLazyLoad
                                ? i(
                                    "master-dropdown",
                                    {
                                      attrs: {
                                        placement: "bottom-start",
                                        offset: 0,
                                        open: e.openPropStyle,
                                        boundariesElement: e.el,
                                      },
                                      on: {
                                        "update:open": function (t) {
                                          e.openPropStyle = t;
                                        },
                                        "apply-show": e.applyShow,
                                      },
                                      nativeOn: {
                                        click: function (e) {
                                          e.stopPropagation();
                                        },
                                      },
                                    },
                                    [
                                      i("MasterButtonIcon", {
                                        directives: [
                                          {
                                            name: "tip",
                                            rawName: "v-tip.bottom",
                                            value: "创建或使用样式",
                                            expression: "'创建或使用样式'",
                                            modifiers: {
                                              bottom: !0,
                                            },
                                          },
                                        ],
                                        attrs: {
                                          slot: "dropButton",
                                          icon: "StyleIcon",
                                          isLocalIcon: !1,
                                          focusable: "",
                                        },
                                        slot: "dropButton",
                                      }),
                                      e.openPropStyle
                                        ? i("StylePanel", {
                                            ref: "stylePanel",
                                            staticStyle: {
                                              transform: "translateX(-7px)",
                                            },
                                            attrs: {
                                              slot: "dropMenu",
                                              type: "fill",
                                              data: e.data,
                                              styleCatalogList:
                                                e.styleCatalogList,
                                              styleItem: e.styleItem,
                                              isColorCollection:
                                                e.isColorCollection,
                                              index: e.index,
                                            },
                                            on: {
                                              setStyle: e.setStyle,
                                              cancel: e.handleCancel,
                                              addStyle: e.handleAddStyle,
                                            },
                                            slot: "dropMenu",
                                          })
                                        : e._e(),
                                    ],
                                    1
                                  )
                                : e._e(),
                            ]
                          : e._e(),
                      ];
                    },
                    proxy: !0,
                  },
                ]),
              }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("d9d9"),
        r = i("d257"),
        c = i("d140"),
        l = i("7ffc"),
        d = i("dc0f"),
        u = i("9a7c"),
        h = i("8ece"),
        p = i("7d90"),
        m = i("e1e6"),
        g = i("b29f"),
        b = i("60a3"),
        v = i("6aad"),
        f = i("1320"),
        y = i("50e2"),
        _ = i("2f62"),
        C = i("80e7c"),
        S = i("e348"),
        I = i("9588"),
        O = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "color-picker",
              attrs: {
                role: "application",
                "aria-label": "color picker",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "color-picker--saturation-wrap",
                },
                [
                  i("Saturation", {
                    attrs: {
                      colors: e.colors,
                      mode: e.saturationMode,
                    },
                    on: {
                      change: e.handleSaturationChange,
                      mousedown: e.emitChangeStart,
                      mouseup: e.emitChangeEnd,
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "color-picker--sliders",
                },
                [
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "取色器",
                        expression: "'取色器'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    staticClass: "cpicker",
                    attrs: {
                      icon: "EyeDropperIcon",
                    },
                    on: {
                      click: e.handleOpenPicker,
                    },
                  }),
                  i(
                    "div",
                    {
                      staticClass: "hue-alpha",
                    },
                    [
                      i("Hue", {
                        attrs: {
                          value: e.colors,
                        },
                        on: {
                          change: e.handleHueChange,
                          mousedown: e.emitChangeStart,
                          mouseup: e.emitChangeEnd,
                        },
                      }),
                      i("Alpha", {
                        attrs: {
                          value: e.colors,
                        },
                        on: {
                          change: e.handleAlphaChange,
                          mousedown: e.emitChangeStart,
                          mouseup: e.emitChangeEnd,
                        },
                      }),
                    ],
                    1
                  ),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "color-picker--body",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "top-container",
                    },
                    [
                      i("master-input", {
                        ref: "colorTopInput",
                        staticClass: "colorpicker__item--input first-input",
                        class: [e.colorTopType],
                        attrs: {
                          value: e.colorTopValue,
                          valueDecorator:
                            "hex" === e.colorTopType ? e.colorDecorator : null,
                          validate:
                            "hex" === e.colorTopType ? e.colorValidate : null,
                          focusSelectAll: !0,
                        },
                        on: {
                          change: function (t) {
                            var i = arguments.length,
                              s = Array(i);
                            while (i--) s[i] = arguments[i];
                            return e.handleColorTopChange.apply(
                              void 0,
                              s.concat([!0])
                            );
                          },
                          keydown: e.keydownHandler,
                        },
                      }),
                      i("MasterSelector", {
                        staticClass: "colorpicker__item--select",
                        attrs: {
                          options: e.ColorListTop,
                          mode: "masterPopover",
                        },
                        model: {
                          value: e.colorTopType,
                          callback: function (t) {
                            e.colorTopType = t;
                          },
                          expression: "colorTopType",
                        },
                      }),
                    ],
                    1
                  ),
                  i("master-input", {
                    staticClass: "colorpicker__item--input",
                    attrs: {
                      value: e.colorBottomValue,
                      focusSelectAll: !0,
                    },
                    on: {
                      change: function (t) {
                        var i = arguments.length,
                          s = Array(i);
                        while (i--) s[i] = arguments[i];
                        return e.handleColorBottomChange.apply(
                          void 0,
                          s.concat([null], [!0])
                        );
                      },
                      keydown: e.keydownHandler,
                    },
                    scopedSlots: e._u([
                      {
                        key: "footer",
                        fn: function () {
                          return [
                            i("master-dropdown", {
                              attrs: {
                                open: e.isColorTypeSelctorOpen,
                              },
                              on: {
                                command: e.handleCommand,
                                "update:open": function (t) {
                                  e.isColorTypeSelctorOpen = t;
                                },
                              },
                              nativeOn: {
                                click: function (e) {
                                  e.stopPropagation();
                                },
                              },
                              scopedSlots: e._u([
                                {
                                  key: "dropButton",
                                  fn: function () {
                                    return [
                                      i("MasterButtonIcon", {
                                        attrs: {
                                          icon: "AngleDownIcon",
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                                {
                                  key: "dropMenu",
                                  fn: function () {
                                    return [
                                      i("master-menu", {
                                        attrs: {
                                          slot: "dropMenu",
                                          getChecked: e.getChecked,
                                          list: e.ColorListBottom,
                                        },
                                        slot: "dropMenu",
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ]),
                            }),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                  }),
                  i(
                    "div",
                    {
                      staticClass: "color-components",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "color-components--label",
                        },
                        e._l(
                          e.ColorBottomMap[e.colorBottomType].icons,
                          function (t, s) {
                            return i("BasicLeftIcon", {
                              key: s,
                              class: ["color--component_" + s],
                              attrs: {
                                disabled: !1,
                                masterIconName: t,
                              },
                              on: {
                                change: function (t) {
                                  return e.handleColorBottomChange(
                                    t,
                                    null,
                                    s,
                                    !0
                                  );
                                },
                                mousedown: e.emitChangeStart,
                                mouseup: e.emitChangeEnd,
                              },
                            });
                          }
                        ),
                        1
                      ),
                      i("BasicLeftIcon", {
                        class: ["color--component_3"],
                        attrs: {
                          disabled: !1,
                          masterIconName: "LabelAIcon",
                        },
                        on: {
                          change: function (t) {
                            return e.handleColorBottomChange(t, null, 3, !0);
                          },
                          mousedown: e.emitChangeStart,
                          mouseup: e.emitChangeEnd,
                        },
                      }),
                    ],
                    1
                  ),
                ],
                1
              ),
            ]
          );
        },
        k = [],
        w = i("2ef0"),
        x = i("79f6c"),
        L = i("66cb"),
        A = i.n(L),
        T = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "container",
              staticClass: "saturation",
              on: {
                mousedown: e.handleMouseDown,
              },
            },
            [
              i("canvas", {
                ref: "palette",
                staticClass: "saturation--canvas",
              }),
              i(
                "div",
                {
                  staticClass: "saturation-pointer",
                  style: {
                    top: e.pointerTop,
                    left: e.pointerLeft,
                  },
                },
                [
                  i("div", {
                    staticClass: "saturation-circle",
                  }),
                ]
              ),
            ]
          );
        },
        j = [];
      function M(e, t, i) {
        const s = e.createShader(t);
        if (!s) return null;
        e.shaderSource(s, i), e.compileShader(s);
        const o = e.getShaderParameter(s, e.COMPILE_STATUS);
        return o ? s : (e.deleteShader(s), null);
      }
      function E(e, t, i) {
        const s = e.createProgram();
        if (!s) return null;
        const o = M(e, e.VERTEX_SHADER, t),
          a = M(e, e.FRAGMENT_SHADER, i);
        if (!o || !a) return null;
        e.attachShader(s, o), e.attachShader(s, a), e.linkProgram(s);
        const n = e.getProgramParameter(s, e.LINK_STATUS);
        return n ? s : (e.deleteProgram(s), null);
      }
      var P =
          "attribute vec4 a_position;\nvarying vec2 v_position;\n\nvoid main() {\n  v_position = vec2(a_position.x, a_position.y);\n  gl_Position = a_position;\n}\n",
        D =
          "precision mediump float;\n// 0 hsv 1 hsl\nuniform int u_type;\nuniform float u_hue;\nvarying vec2 v_position;\n\nvec3 hsv2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n    return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nvec3 hsl2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\nvoid main() {\n  float u = (v_position.x + 1.0) / 2.0;\n  float v = 1.0 - (1.0 - v_position.y) / 2.0;\n  vec3 color = vec3(u_hue, u, v);\n  if (u_type == 0) {\n    gl_FragColor = vec4(hsv2rgb(color), 1);\n  } else {\n    gl_FragColor = vec4(hsl2rgb(color), 1);\n  }\n}\n";
      let B, N, F;
      function R() {
        if (!N) return () => {};
        const e = E(N, P, D);
        if (!e) return () => {};
        const t = N.getAttribLocation(e, "a_position");
        N.useProgram(e);
        const i = N.getUniformLocation(e, "u_type"),
          s = N.getUniformLocation(e, "u_hue");
        N.enableVertexAttribArray(t);
        const o = N.createBuffer();
        N.bindBuffer(N.ARRAY_BUFFER, o),
          N.bufferData(
            N.ARRAY_BUFFER,
            new Float32Array([-1, -1, 1, -1, -1, 1, 1, -1, -1, 1, 1, 1]),
            N.STATIC_DRAW
          );
        const a = 2,
          n = N.FLOAT,
          r = !1,
          c = 0,
          l = 0;
        return (
          N.vertexAttribPointer(t, a, n, r, c, l),
          (e, t) => {
            N.viewport(0, 0, N.canvas.width, N.canvas.height),
              N.clear(N.COLOR_BUFFER_BIT);
            const o = "hsl" === e ? 1 : 0;
            N.uniform1i(i, o),
              N.uniform1f(s, t / 360),
              N.drawArrays(N.TRIANGLES, l, 6);
          }
        );
      }
      function H() {
        (B = document.createElement("canvas")),
          B.setAttribute("class", "saturation--canvas"),
          (N = B.getContext("webgl")),
          (F = R());
      }
      H();
      let $ = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.gl = null),
            (this.program = null),
            (this.draw = () => {}),
            (this.throttle = Object(w["throttle"])(
              (e, t) => {
                e(t);
              },
              20,
              {
                leading: !0,
                trailing: !1,
              }
            ));
        }
        handleColorChange() {
          F(this.mode, this.h);
        }
        handleModeChange() {
          F(this.mode, this.h);
        }
        get bgColor() {
          return `hsl(${this.h}, 100%, 50%)`;
        }
        get pointerTop() {
          const e = "hsv" === this.mode ? this.colors.hsv.v : this.colors.hsl.l;
          return -100 * e + 1 + 100 + "%";
        }
        get pointerLeft() {
          const e = "hsv" === this.mode ? this.colors.hsv.s : this.colors.hsl.s;
          return 100 * e + "%";
        }
        get h() {
          return this.colors.hsv.h;
        }
        handleChange(e) {
          const t = this.$refs.container;
          if (!t) return;
          const i = t.clientWidth,
            s = t.clientHeight,
            o = t.getBoundingClientRect().left + window.pageXOffset,
            a = t.getBoundingClientRect().top + window.pageYOffset,
            n = e.pageX || (e.touches ? e.touches[0].pageX : 0),
            r = e.pageY || (e.touches ? e.touches[0].pageY : 0),
            c = Object(w["clamp"])(n - o, 0, i),
            l = Object(w["clamp"])(r - a, 0, s),
            d = c / i,
            u = Object(w["clamp"])(-l / s + 1, 0, 1);
          let h;
          (h =
            "hsv" === this.mode
              ? {
                  h: this.colors.hsv.h,
                  s: d,
                  v: u,
                }
              : {
                  h: this.colors.hsv.h,
                  s: d,
                  l: u,
                }),
            this.throttle(this.onChange, h);
        }
        onChange(e) {
          this.$emit("change", e);
        }
        handleMouseDown() {
          this.$emit("mousedown"),
            window.addEventListener("mousemove", this.handleChange),
            window.addEventListener("mouseup", this.handleChange),
            window.addEventListener("mouseup", this.handleMouseUp);
        }
        handleMouseUp() {
          this.$emit("mouseup"), this.unbindEventListeners();
        }
        unbindEventListeners() {
          window.removeEventListener("mousemove", this.handleChange),
            window.removeEventListener("mouseup", this.handleChange),
            window.removeEventListener("mouseup", this.handleMouseUp);
        }
        mounted() {
          (null === N || void 0 === N ? void 0 : N.isContextLost()) &&
            (B.remove(), H());
          const e = B,
            t = 1;
          (e.width = this.canvasWidth * t),
            (e.height = this.canvasHeight * t),
            this.$refs.container.appendChild(e),
            F(this.mode, this.h);
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: Object,
            required: !0,
          }),
        ],
        $.prototype,
        "colors",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              required: !0,
            }),
          ],
          $.prototype,
          "mode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Number,
              required: !1,
              default: 233,
            }),
          ],
          $.prototype,
          "canvasWidth",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Number,
              required: !1,
              default: 168,
            }),
          ],
          $.prototype,
          "canvasHeight",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(b["h"])("h")],
          $.prototype,
          "handleColorChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(b["h"])("mode")],
          $.prototype,
          "handleModeChange",
          null
        ),
        ($ = Object(a["__decorate"])([b["a"]], $));
      var V = $,
        z = V,
        U = (i("90fd"), i("2877")),
        q = Object(U["a"])(z, T, j, !1, null, "11ef2095", null),
        W = q.exports,
        G = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "self",
              staticClass: "color-picker--alpha",
            },
            [
              i("Slider", {
                attrs: {
                  width: e.width,
                  value: e.a,
                  minNum: 0,
                  maxNum: 100,
                  centerStyle: e.sliderCenterStyle,
                  progressStyle: e.sliderProgressStyle,
                  stopStyle: e.sliderStopStyle,
                  centerDecorationStyle: e.sliderDecorationStyle,
                },
                on: {
                  change: e.handleChange,
                  mousedown: function (t) {
                    return e.$emit("mousedown");
                  },
                  mouseup: function (t) {
                    return e.$emit("mouseup");
                  },
                },
              }),
            ],
            1
          );
        },
        K = [],
        Q = i("e3a1");
      let Y = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.width = 172),
            (this.sliderProgressStyle = {
              display: "none",
            }),
            (this.sliderStopStyle = {
              border: "3px solid rgb(255, 255, 255)",
              background: "transparent",
              boxShadow:
                "rgba(0, 0, 0, 0.18) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.18) 0px 0px 0px 1px",
              width: "13px",
              height: "13px",
              marginTop: "-1px",
            });
        }
        get a() {
          return Math.round(100 * this.value.a);
        }
        get sliderCenterStyle() {
          const { r: e, g: t, b: i } = this.value.rgb,
            s = [e, t, i].join(","),
            o = `linear-gradient(to right, rgba(${s}, 0) 0%, rgba(${s}, 1) 100%)`;
          return {
            height: "8px",
            background: o,
            backgroundSize: "contain",
            borderRadius: "4px",
            transform: "scale(1.07)",
          };
        }
        get sliderDecorationStyle() {
          const e =
            'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMElEQVQ4T2N89uzZfwY8QFJSEp80A+OoAcMiDP7//483HTx//hx/Ohg1gIFx6IcBALl+VXknOCvFAAAAAElFTkSuQmCC")';
          return Object.assign(Object.assign({}, this.sliderCenterStyle), {
            background: e,
          });
        }
        handleChange(e) {
          this.$emit("change", e / 100);
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: Object,
            required: !0,
          }),
        ],
        Y.prototype,
        "value",
        void 0
      ),
        (Y = Object(a["__decorate"])(
          [
            Object(b["a"])({
              components: {
                Slider: Q["a"],
              },
            }),
          ],
          Y
        ));
      var X = Y,
        Z = X,
        J = Object(U["a"])(Z, G, K, !1, null, null, null),
        ee = J.exports,
        te = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "self",
            },
            [
              i("Slider", {
                attrs: {
                  width: e.width,
                  value: e.h,
                  minNum: 0,
                  maxNum: 360,
                  centerStyle: e.sliderCenterStyle,
                  progressStyle: e.sliderProgressStyle,
                  stopStyle: e.sliderStopStyle,
                },
                on: {
                  change: e.handleChange,
                  mousedown: function (t) {
                    return e.$emit("mousedown");
                  },
                  mouseup: function (t) {
                    return e.$emit("mouseup");
                  },
                },
              }),
            ],
            1
          );
        },
        ie = [];
      let se = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.sliderCenterStyle = {
              height: "8px",
              background:
                "linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)",
              borderRadius: "4px",
              transform: "scale(1.07)",
            }),
            (this.sliderProgressStyle = {
              display: "none",
            }),
            (this.sliderStopStyle = {
              border: "3px solid rgb(255, 255, 255)",
              background: "transparent",
              boxShadow:
                "rgba(0, 0, 0, 0.18) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.18) 0px 0px 0px 1px",
              width: "13px",
              height: "13px",
              marginTop: "-1px",
            }),
            (this.oldHue = 0),
            (this.width = 172);
        }
        get h() {
          return this.value.hsv.h;
        }
        handleChange(e) {
          this.h !== e &&
            this.$emit("change", {
              h: e,
              s: this.value.hsv.s,
              v: this.value.hsv.v,
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: Object,
            required: !0,
          }),
        ],
        se.prototype,
        "value",
        void 0
      ),
        (se = Object(a["__decorate"])(
          [
            Object(b["a"])({
              components: {
                Slider: Q["a"],
              },
            }),
          ],
          se
        ));
      var oe = se,
        ae = oe,
        ne =
          (i("830e"), Object(U["a"])(ae, te, ie, !1, null, "2f535a20", null)),
        re = ne.exports,
        ce = i("c296"),
        le = i("691a"),
        de = i("0e0c");
      let ue = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.colorTopType = "hex"),
            (this.colorBottomType = "rgb"),
            (this.keydownHandler = r["ob"]),
            (this.isColorTypeSelctorOpen = !1),
            (this.pendingStart = 0),
            (this.colorDecorator = le["colorDecorator"]),
            (this.colorValidate = de["colorValidate"]),
            (this.ColorListTop = [
              {
                value: "hex",
                label: "HEX",
              },
              {
                value: "css",
                label: "CSS",
              },
            ]),
            (this.ColorListBottom = [
              {
                value: "rgb",
                label: "RGB",
              },
              {
                value: "hsl",
                label: "HSL",
              },
              {
                value: "hsv",
                label: "HSB",
              },
            ]),
            (this.ColorBottomMap = {
              rgb: {
                icons: ["LabelRIcon", "LabelGIcon", "LabelBIcon"],
              },
              hsv: {
                icons: ["LabelHIcon", "LabelSIcon", "LabelBIcon"],
              },
              hsl: {
                icons: ["LabelHIcon", "LabelSIcon", "LabelLIcon"],
              },
            }),
            (this.colors = {
              rgb: {
                r: 0,
                g: 0,
                b: 0,
              },
              hsv: {
                h: 0,
                s: 0,
                v: 0,
              },
              hsl: {
                h: 0,
                s: 0,
                l: 0,
              },
              a: 0,
              hex: "000000",
            });
        }
        handleColorTopType(e) {
          this.setColorType("colorTopType", e);
        }
        handleColorBottomType(e) {
          this.setColorType("colorBottomType", e);
        }
        changeFileSetting(e) {
          (this.colorTopType = e.settings.colorTopType || "hex"),
            (this.colorBottomType = e.settings.colorBottomType || "rgb");
        }
        setColorType(e, t) {
          const i = this.$store.state.file;
          i.id &&
            (this.$store.commit("file/setting", {
              [e]: t,
            }),
            Object(x["fd"])(i.id, i.settings));
        }
        get colorTopValue() {
          const e = this.colors.hex,
            t = this.a;
          switch (this.colorTopType) {
            case "hex":
              return [e.toUpperCase(), this.a / 100];
            case "css": {
              if ("hsl" === this.colorBottomType) {
                const [e, i, s] = this.hsl;
                return `hsla(${e}, ${i}%, ${s}%, ${t / 100})`;
              }
              if ("hsv" === this.colorBottomType) {
                const [e, i, s] = this.hsv;
                return `hsba(${e}, ${i}%, ${s}%, ${t / 100})`;
              }
              const [e, i, s] = this.rgb;
              return `rgba(${e}, ${i}, ${s}, ${t / 100})`;
            }
            default:
              return [];
          }
        }
        get colorBottomValue() {
          let e;
          switch (this.colorBottomType) {
            case "rgb":
              e = this.rgb;
              break;
            case "hsv":
              e = this.hsv;
              break;
            case "hsl":
              e = this.hsl;
              break;
            default:
              e = [0, 0, 0];
          }
          return (e = [...e, this.a]), e;
        }
        get saturationMode() {
          return "hsl" === this.colorBottomType ? "hsl" : "hsv";
        }
        get a() {
          return Math.round(100 * this.colors.a);
        }
        get rgb() {
          const { r: e, g: t, b: i } = this.colors.rgb;
          return [Math.round(e), Math.round(t), Math.round(i)];
        }
        get hsl() {
          const { h: e, s: t, l: i } = this.colors.hsl;
          return [Math.round(e), Math.round(100 * t), Math.round(100 * i)];
        }
        get hsv() {
          const { h: e, s: t, v: i } = this.colors.hsv;
          return [Math.round(e), Math.round(100 * t), Math.round(100 * i)];
        }
        created() {
          this.setColorByProp(this.color, !0);
        }
        handleColorChange(e) {
          this.setColorByProp(e);
        }
        handleSaturationChange(e) {
          const t = A()(
            Object.assign(Object.assign({}, e), {
              a: this.colors.a,
            })
          );
          this.setColorsByTinycolor(t, {
            ["hsv" === this.saturationMode ? "hsv" : "hsl"]: e,
            h: e.h,
          }),
            this.emitChange();
        }
        handleHueChange(e) {
          const t = A()(
            Object.assign(Object.assign({}, e), {
              a: this.colors.a,
            })
          );
          this.setColorsByTinycolor(t, {
            h: e.h,
          }),
            this.emitChange();
        }
        handleAlphaChange(e) {
          const t = A()(
            Object.assign(Object.assign({}, this.colors.hsv), {
              a: e,
            })
          );
          this.setColorsByTinycolor(t), this.emitChange();
        }
        handleColorTopChange(e, t, i, s) {
          if ("hex" === this.colorTopType) {
            if (0 === i) {
              const t = A()(e);
              if (!t.isValid()) return;
              this.setColorsByTinycolor(
                t,
                {
                  a: this.colors.a,
                },
                !0
              );
            }
            if (1 === i) {
              const t = parseFloat(e);
              if ("number" !== typeof t) return;
              const i = Object(w["clamp"])(t, 0, 100),
                s = A()(this.colors.hsv);
              this.setColorsByTinycolor(
                s,
                {
                  a: i,
                },
                !0
              );
            }
          }
          if ("css" === this.colorTopType) {
            if (!/^(rgba|hsla|hsba|hsva)/.test(e)) return;
            const t = e.replace(/hsba/, "hsva"),
              i = A()(t);
            if (!i.isValid()) return;
            t.startsWith("rgba")
              ? (this.colorBottomType = "rgb")
              : t.startsWith("hsla")
              ? (this.colorBottomType = "hsl")
              : t.startsWith("hsva") && (this.colorBottomType = "hsv"),
              this.setColorsByTinycolor(i, void 0, !0);
          }
          this.emitChange(s);
        }
        handleColorBottomChange(e, t, i, s, o) {
          const a = [...this.colorBottomValue];
          if ((s ? (a[i] += e) : (a[i] = e), 3 === i))
            return (
              (this.colors.a = Object(w["clamp"])(a[i], 0, 100) / 100),
              void this.emitChange(o)
            );
          this.changeColorByBottomColor(a), this.emitChange(o);
        }
        changeColorByBottomColor(e) {
          let t;
          const i = [...e];
          ["hsv", "hsl"].includes(this.colorBottomType) &&
            ((i[0] = Math.round(Object(w["clamp"])(e[0], 0, 360))),
            (i[1] = Math.round(Object(w["clamp"])(e[1], 0, 100)) / 100),
            (i[2] = Math.round(Object(w["clamp"])(e[2], 0, 100)) / 100)),
            "rgb" === this.colorBottomType &&
              ((i[0] = Math.round(Object(w["clamp"])(e[0], 0, 255))),
              (i[1] = Math.round(Object(w["clamp"])(e[1], 0, 255))),
              (i[2] = Math.round(Object(w["clamp"])(e[2], 0, 255)))),
            (i[3] = Math.round(Object(w["clamp"])(e[3], 0, 100)) / 100);
          const [s, o, a, n] = i;
          let r = {};
          switch (this.colorBottomType) {
            case "rgb":
              t = A()({
                r: s,
                g: o,
                b: a,
              });
              break;
            case "hsv":
              (t = A()({
                h: s,
                s: o,
                v: a,
              })),
                (r = {
                  hsv: {
                    h: s,
                    s: o,
                    v: a,
                  },
                  h: s,
                });
              break;
            case "hsl":
              (t = A()({
                h: s,
                s: o,
                l: a,
              })),
                (r = {
                  hsl: {
                    h: s,
                    s: o,
                    l: a,
                  },
                  h: s,
                });
              break;
            default:
              break;
          }
          t.isValid() && ((r.a = n), this.setColorsByTinycolor(t, r));
        }
        handleOpenPicker() {
          this.$emit("openPicker");
        }
        setColorByProp(e, t = !1) {
          const i = A.a.fromRatio({
              r: e.red,
              g: e.green,
              b: e.blue,
              a: e.alpha,
            }),
            s = i.toRgb(),
            o = ["r", "g", "b", "a"].every(
              (e) =>
                Math.round(100 * this.colors.rgb[e]) === Math.round(100 * s[e])
            );
          o || this.setColorsByTinycolor(i, void 0, t);
        }
        setColorsByTinycolor(e, t, i = !1) {
          const s = {
              r: e._r,
              g: e._g,
              b: e._b,
              a: e._a,
            },
            o = e.toHex(),
            a = (null === t || void 0 === t ? void 0 : t.hsl) || e.toHsl(),
            n = (null === t || void 0 === t ? void 0 : t.hsv) || e.toHsv(),
            r =
              void 0 === (null === t || void 0 === t ? void 0 : t.a)
                ? s.a
                : t.a;
          s.a = r;
          const c =
              Math.abs(s.r - s.b) < 5 &&
              Math.abs(s.b - s.g) < 5 &&
              Math.abs(s.g - s.r) < 5,
            l = !i;
          void 0 !== (null === t || void 0 === t ? void 0 : t.h)
            ? ((a.h = t.h), (n.h = t.h))
            : c && l && ((a.h = this.colors.hsl.h), (n.h = this.colors.hsl.h)),
            (this.colors = {
              rgb: s,
              hsl: a,
              hsv: n,
              hex: o,
              a: r,
            });
        }
        emitChange(e) {
          const { r: t, g: i, b: s } = this.colors.rgb,
            o = {
              red: t / 255,
              green: i / 255,
              blue: s / 255,
              alpha: this.colors.a,
            };
          this.$eventBus.$emit("colorChange", o),
            this.$emit("change", o, e ? "debounce" : null);
        }
        emitChangeStart() {
          this.pendingStart++, this.$emit("changeStart");
        }
        emitChangeEnd() {
          this.pendingStart--,
            0 === this.pendingStart && this.$emit("changeEnd");
        }
        getChecked(e) {
          return e.value === this.colorBottomType;
        }
        focus() {
          this.$refs.colorTopInput.focus();
        }
        handleCommand(e) {
          this.colorBottomType = e.value;
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            required: !0,
            type: Object,
          }),
        ],
        ue.prototype,
        "color",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(b["h"])("colorTopType")],
          ue.prototype,
          "handleColorTopType",
          null
        ),
        Object(a["__decorate"])(
          [Object(b["h"])("colorBottomType")],
          ue.prototype,
          "handleColorBottomType",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("$store.state.file", {
              deep: !0,
              immediate: !0,
            }),
          ],
          ue.prototype,
          "changeFileSetting",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("color", {
              deep: !0,
            }),
          ],
          ue.prototype,
          "handleColorChange",
          null
        ),
        (ue = Object(a["__decorate"])(
          [
            Object(b["a"])({
              components: {
                Saturation: W,
                Hue: re,
                Alpha: ee,
                MasterSelector: c["e"],
                BasicLeftIcon: ce["a"],
                MasterButtonIcon: g["a"],
                MasterMenu: c["d"],
              },
            }),
          ],
          ue
        ));
      var he = ue,
        pe = he,
        me = (i("3c7b"), Object(U["a"])(pe, O, k, !1, null, "6174bfca", null)),
        ge = me.exports,
        be = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass: "imagec",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "image-bar",
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "image-bar__child",
                      },
                      [
                        i("MasterSelector", {
                          staticClass: "imagelist",
                          attrs: {
                            options: e.imagelist,
                            value: e.data.scaleMode,
                            mode: "masterPopover",
                          },
                          on: {
                            change: e.ontypechange,
                          },
                        }),
                        4 === e.data.scaleMode
                          ? i("master-input", {
                              staticClass: "image-bar__ratio",
                              attrs: {
                                value: e.data.ratio,
                                valueDecorator: e.valueDecorator.ratioDecorator,
                                validate: e.validate.ratioValidate,
                                focusSelectAll: !0,
                              },
                              on: {
                                change: e.inputChangeHandler,
                              },
                            })
                          : e._e(),
                      ],
                      1
                    ),
                    i("MasterButtonIcon", {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "旋转",
                          expression: "'旋转'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      attrs: {
                        icon: "RotateRightIcon",
                      },
                      on: {
                        click: e.rotateHandler,
                      },
                    }),
                    i("MasterButtonIcon", {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "适应原图比例",
                          expression: "'适应原图比例'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      attrs: {
                        icon: "CompressProportionIcon",
                      },
                      on: {
                        click: e.resetHandler,
                      },
                    }),
                  ],
                  1
                ),
                i(
                  "div",
                  {
                    staticClass: "image_wrap",
                  },
                  [
                    i(
                      "div",
                      {
                        ref: "image",
                        staticClass: "image",
                        class: {
                          dragenter: e.isDragEnter,
                        },
                        on: {
                          dragover: function (t) {
                            t.preventDefault(), (e.isDragEnter = !0);
                          },
                          dragleave: function (t) {
                            e.isDragEnter = !1;
                          },
                          drop: e.handleDropFile,
                        },
                      },
                      [
                        e.imageItem.cover
                          ? i("img", {
                              directives: [
                                {
                                  name: "show",
                                  rawName: "v-show",
                                  value: !e.play,
                                  expression: "!play",
                                },
                              ],
                              attrs: {
                                src: e.imageItem.cover,
                                alt: "cover",
                              },
                            })
                          : e._e(),
                        i("img", {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: e.play,
                              expression: "play",
                            },
                          ],
                          attrs: {
                            src: e.gifUrl,
                            alt: "gif",
                          },
                        }),
                        i(
                          "div",
                          {
                            staticClass: "button transition",
                            class: {
                              "input-focus": e.isDragEnter,
                            },
                          },
                          [
                            i(
                              "span",
                              {
                                staticClass: "h5",
                                on: {
                                  click: e.selectImg,
                                },
                              },
                              [e._v("选择图片...")]
                            ),
                          ]
                        ),
                      ]
                    ),
                  ]
                ),
                e.data.type
                  ? i(
                      "div",
                      {
                        staticClass: "image-gif-control",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "image-gif-control__btn",
                            on: {
                              click: e.handlePlayPause,
                            },
                          },
                          [
                            i(e.play ? "Pause2Icon" : "PlayIcon", {
                              tag: "component",
                            }),
                            i(
                              "div",
                              {
                                staticStyle: {
                                  "margin-left": "6px",
                                },
                              },
                              [e._v(e._s(e.play ? "停止预览" : "预览 GIF"))]
                            ),
                          ],
                          1
                        ),
                        i("div", {
                          staticClass: "image-gif-control__split",
                        }),
                        i(
                          "div",
                          {
                            staticClass: "image-gif-control__slide-title",
                          },
                          [e._v("画布展示帧")]
                        ),
                        i("slide-bar", {
                          attrs: {
                            value: e.data.frame,
                            max: e.frameData.totalFrame - 1,
                            disabled: e.play,
                          },
                          on: {
                            change: e.changeGifFrame,
                          },
                        }),
                      ],
                      1
                    )
                  : e._e(),
                i(
                  "ul",
                  {
                    staticClass: "image-filters",
                  },
                  e._l(e.filtersList, function (t) {
                    return i(
                      "li",
                      {
                        key: t.key,
                        staticClass: "image-filters__item",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "image-filters__item__title",
                          },
                          [e._v(e._s(t.label))]
                        ),
                        i(
                          "div",
                          {
                            staticClass: "image-filters__item__setting",
                          },
                          [
                            i("master-slider", {
                              staticClass:
                                "image-filters__item__setting__slider",
                              attrs: {
                                startIndex: 0,
                                value: t.value,
                                min: -100,
                                max: 100,
                                adsorb: [
                                  {
                                    start: -10,
                                    end: 10,
                                    target: 0,
                                  },
                                ],
                              },
                              on: {
                                change: function (i) {
                                  return e.handleImageFilter(i, t.key);
                                },
                                click: function (i) {
                                  return e.handleImageFilerClick(t.key);
                                },
                              },
                            }),
                            i("master-input", {
                              staticStyle: {
                                width: "45px",
                                "padding-left": "9px",
                              },
                              attrs: {
                                focusSelectAll: "",
                                isNumber: "",
                                validate: e.validate.checkFilterProps,
                                value: t.value,
                              },
                              on: {
                                keydown: e.keydownHandler,
                                change: function (i) {
                                  return e.handleImageFilter(i, t.key);
                                },
                                dragup: function (i) {
                                  return e.handleFilterInputLog(t.key);
                                },
                                blur: function (i) {
                                  return e.handleFilterInputLog(t.key);
                                },
                              },
                            }),
                          ],
                          1
                        ),
                      ]
                    );
                  }),
                  0
                ),
              ]
            ),
          ]);
        },
        ve = [],
        fe = i("5c39"),
        ye = i("3759"),
        _e = i("e0b5"),
        Ce = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "slide-bar",
              class: e.disabled && "slide-bar--disabled",
              on: {
                click: e.handleClick,
              },
            },
            [
              i("div", {
                ref: "sliderTrack",
                staticClass: "slide-bar__track",
              }),
              i("div", {
                staticClass: "slide-bar__progress",
                style: {
                  width: e.thumbLeft + "px",
                },
              }),
              i("div", {
                staticClass: "slide-bar__thumb",
                style: {
                  left: e.thumbLeft + "px",
                },
                on: {
                  mousedown: function (t) {
                    return t.stopPropagation(), e.handleMouseDown(t);
                  },
                },
              }),
            ]
          );
        },
        Se = [];
      let Ie = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.slideWidth = 224),
            (this.slideX = 0),
            (this.thumbLeft = 0),
            (this.isMoving = !1);
        }
        handleValueChange(e) {
          this.isMoving || (this.thumbLeft = (e / this.max) * this.slideWidth);
        }
        calcPos(e) {
          let t = e - this.slideX;
          return (t = Math.max(t, 0)), (t = Math.min(t, this.slideWidth)), t;
        }
        calcValue(e) {
          const t = (e / this.slideWidth) * this.max;
          return Math.round(t);
        }
        handleClick(e) {
          if (this.disabled) return;
          if ("slide-bar__thumb" === e.target.className) return;
          const t = e.offsetX,
            i = this.calcValue(t);
          i !== this.value && this.$emit("change", i);
        }
        handleMove(e) {
          this.isMoving = !0;
          const t = this.calcPos(e.pageX);
          this.thumbLeft = t;
          const i = this.calcValue(t);
          i !== this.value && this.$emit("change", i);
        }
        handleMouseUp(e) {
          this.unbindEvent(), (this.isMoving = !1);
          const t = this.calcPos(e.pageX),
            i = this.calcValue(t);
          this.handleValueChange(i);
        }
        handleMouseDown() {
          this.disabled || this.bindEvent();
        }
        bindEvent() {
          document.addEventListener("mouseup", this.handleMouseUp),
            document.addEventListener("mousemove", this.handleMove);
        }
        unbindEvent() {
          document.removeEventListener("mouseup", this.handleMouseUp),
            document.removeEventListener("mousemove", this.handleMove);
        }
        mounted() {
          this.$nextTick(() => {
            const e = this.$refs.sliderTrack.getBoundingClientRect();
            (this.slideWidth = e.width),
              (this.slideX = e.x),
              this.handleValueChange(this.value);
          });
        }
        beforeDestroy() {
          this.unbindEvent();
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: Number,
            required: !0,
          }),
        ],
        Ie.prototype,
        "value",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Number,
              default: 100,
            }),
          ],
          Ie.prototype,
          "max",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Ie.prototype,
          "disabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("value", {
              immediate: !0,
            }),
          ],
          Ie.prototype,
          "handleValueChange",
          null
        ),
        (Ie = Object(a["__decorate"])([Object(b["a"])({})], Ie));
      var Oe = Ie,
        ke = Oe,
        we =
          (i("23e8"), Object(U["a"])(ke, Ce, Se, !1, null, "8646bf26", null)),
        xe = we.exports;
      let Le = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.valueDecorator = le),
            (this.validate = de),
            (this.keydownHandler = r["ob"]),
            (this.imageItem = {
              cover: "",
            }),
            (this.isDragEnter = !1),
            (this.play = !1),
            (this.gifUrl = ""),
            (this.frameData = {
              data: "",
              width: 0,
              height: 0,
              totalFrame: 1,
            }),
            (this.imagelist = [
              {
                label: "充满",
                value: 0,
              },
              {
                label: "适应",
                value: 1,
              },
              {
                label: "拉伸",
                value: 2,
              },
              {
                label: "裁剪",
                value: 3,
              },
              {
                label: "平铺",
                value: 4,
              },
            ]);
        }
        imageRefHandler(e) {
          this.unWatchHandler && this.unWatchHandler(),
            1 === this.data.type
              ? this.imageMap[e] && this.imageMap[e].isLoaded
                ? this.changeGif()
                : (this.unWatchHandler = this.$watch(
                    "imageMap",
                    this.waitGifLoaded,
                    {
                      immediate: !0,
                    }
                  ))
              : (this.thumbnailCache[e] || this.askForThumbnailSpace(e),
                (this.imageItem = this.thumbnailCache[e]));
        }
        frameIndexChange(e) {
          (this.frameData = this.getFrameData(this.data.imageRef, Number(e))),
            (this.imageItem.cover = this.frameData.data);
        }
        get filtersList() {
          const e = [
              "曝光",
              "对比度",
              "饱和度",
              "色温",
              "色调",
              "高光",
              "阴影",
            ],
            t = [
              "exposure",
              "contrast",
              "saturation",
              "temperature",
              "tint",
              "highlights",
              "shadows",
            ];
          return e.map((e, i) => ({
            label: e,
            value: Math.round(100 * this.filtersData[t[i]]),
            key: t[i],
          }));
        }
        waitGifLoaded(e) {
          e[this.data.imageRef] &&
            e[this.data.imageRef].isLoaded &&
            (this.unWatchHandler && this.unWatchHandler(), this.changeGif());
        }
        changeGif() {
          (this.frameData = this.getFrameData(
            this.data.imageRef,
            this.data.frame
          )),
            (this.imageItem = Object.assign(Object.assign({}, this.imageItem), {
              cover: this.frameData.data,
            })),
            (this.gifUrl = Object(x["vd"])(this.data.imageRef));
        }
        rotateHandler() {
          const e = Object.assign({}, this.data);
          (e.rotation = (e.rotation + 90) % 360), this.$emit("change", e);
        }
        resetHandler() {
          this.$emit("change", {
            originalScale: !0,
          });
        }
        selectImg() {
          const e = new d["b"]({
            filters: {
              mimeTypes: fe["a"],
            },
          });
          e.onFilesAdded = (e) => {
            this.processImage(e[0]);
          };
        }
        handleDropFile(e) {
          if (
            ((this.isDragEnter = !1),
            e.preventDefault(),
            !e.dataTransfer || !e.dataTransfer.files.length)
          )
            return;
          const t = e.dataTransfer.files[0],
            { type: i } = t;
          /image\/*/.test(i) && this.processImage(t);
        }
        processImage(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = e;
            let i;
            try {
              i = yield d["i"].preprocessImage(t);
            } catch (o) {
              return;
            }
            const s = Object.assign(Object.assign({}, this.data), {
              width: i.w,
              height: i.h,
            });
            (s.imageRef = i.url),
              Object(r["db"])(e.type)
                ? ((s.type = 1), (s.frame = 0))
                : (s.type = 0),
              this.$emit("change", s);
          });
        }
        inputChangeHandler(e) {
          if (e) {
            const t = Object.assign({}, this.data);
            (t.ratio = e), this.$emit("change", t);
          }
        }
        ontypechange(e) {
          const t = Object.assign({}, this.data);
          (t.scaleMode = parseInt(e, 10)),
            h["a"].pageState.enterImageEdit(this.index, this.type, t.scaleMode),
            this.$emit("change", t);
        }
        handleImageFilter(e, t) {
          const i = Object.assign({}, this.filtersData);
          (i[t] = e / 100),
            ye["a"].setTag("image-filter-" + t),
            this.$emit("change", {
              type: "filters",
              filtersData: i,
            });
        }
        handleImageFilerClick(e) {
          this.setSensorsImageFilters("slider", e);
        }
        handleFilterInputLog(e) {
          this.setSensorsImageFilters("input", e);
        }
        setSensorsImageFilters(e, t) {
          const i = {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "image_edit",
            action_parameter2: "img_color_prop",
            action_parameter3: t,
            action_type: "edit",
            action_detail: e,
          };
          _e["c"].track(_e["a"].EVENT_CLICK, i);
        }
        getFrameData(e, t = 0) {
          const i = fe["b"].Module.loadResourceGifFrame(e, t);
          return (i.data = "data:image/png;base64," + i.data), i;
        }
        handlePlayPause() {
          this.play = !this.play;
        }
        changeGifFrame(e) {
          const t = Object.assign({}, this.data);
          (t.frame = e), this.$emit("change", t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: Object,
            required: !0,
          }),
        ],
        Le.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(b["e"])({})],
          Le.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(b["e"])({})],
          Le.prototype,
          "index",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Object,
              default: () => ({
                contrast: 0,
                exposure: 0,
                highlights: 0,
                saturation: 0,
                shadows: 0,
                temperature: 0,
                tint: 0,
              }),
            }),
          ],
          Le.prototype,
          "filtersData",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("data.imageRef", {
              immediate: !0,
            }),
          ],
          Le.prototype,
          "imageRefHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(b["h"])("data.frame")],
          Le.prototype,
          "frameIndexChange",
          null
        ),
        (Le = Object(a["__decorate"])(
          [
            Object(b["a"])({
              components: {
                SlideBar: xe,
                MasterSelector: c["e"],
                MasterButtonIcon: g["a"],
              },
              computed: Object(_["e"])(
                Object.assign(
                  {
                    selectIds: (e) => e.basicState.selectIds,
                  },
                  Object(_["e"])("resources", ["thumbnailCache", "imageMap"])
                )
              ),
              methods: Object.assign(
                {},
                Object(_["b"])("resources", ["askForThumbnailSpace"])
              ),
            }),
          ],
          Le
        ));
      var Ae = Le,
        Te = Ae,
        je = (i("8427"), Object(U["a"])(Te, be, ve, !1, null, null, null)),
        Me = je.exports,
        Ee = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              staticClass: "color-sets__area",
              class: ((e = {}), (e[t.cursorName] = t.isHover), e),
            },
            [
              t.recentlyUsedColorViewList.length
                ? s(
                    "div",
                    {
                      staticClass:
                        "color-sets color-sets__recently color-sets__line",
                    },
                    t._l(t.recentlyUsedColorViewList, function (e, i) {
                      return s(
                        "div",
                        {
                          key: i,
                          on: {
                            click: function (s) {
                              return t.toggle(e, i, 2);
                            },
                            mouseenter: function (e) {
                              t.isHover = !0;
                            },
                            mouseleave: function (e) {
                              t.isHover = !1;
                            },
                          },
                        },
                        [
                          s("ColorIcon", {
                            staticClass: "mas-bar-button",
                            attrs: {
                              data: {
                                color: e,
                                type: 0,
                              },
                            },
                          }),
                        ],
                        1
                      );
                    }),
                    0
                  )
                : t._e(),
              s(
                "div",
                {
                  staticClass: "color-sets__tab  color-sets__line",
                },
                [
                  s(
                    "div",
                    {
                      staticClass: "color-sets__tabitem",
                      class: {
                        active: "local" === t.active,
                      },
                      on: {
                        click: function (e) {
                          return t.swidchTab("local");
                        },
                      },
                    },
                    [
                      t._v("文档 "),
                      s("InfoColorIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: {
                              content:
                                "<div style='width:270px;line-height: 1.4;padding: 8px 0;'>文档色板会展示当前文档中使用的颜色，按照最高使用频率排序，右键或 " +
                                (t.isMac ? "Option" : "Alt") +
                                "+单击 可以置顶</div>",
                            },
                            expression:
                              "{\n          content: `<div style='width:270px;line-height: 1.4;padding: 8px 0;'>文档色板会展示当前文档中使用的颜色，按照最高使用频率排序，右键或 ${isMac ? 'Option' : 'Alt'}+单击 可以置顶</div>`,\n        }",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        staticClass: "color-sets__icon",
                        nativeOn: {
                          click: function (e) {
                            e.stopPropagation();
                          },
                        },
                      }),
                    ],
                    1
                  ),
                  s(
                    "div",
                    {
                      staticClass: "color-sets__tabitem",
                      class: {
                        active: "standard" === t.active,
                      },
                      on: {
                        click: function (e) {
                          return t.swidchTab("standard");
                        },
                      },
                    },
                    [t._v("通用")]
                  ),
                ]
              ),
              "local" === t.active
                ? s(
                    "div",
                    {
                      staticClass: "color-sets__box",
                    },
                    [
                      s(
                        "div",
                        {
                          staticClass: "color-sets local",
                        },
                        [
                          t._l(t.localColorViewList, function (e, i) {
                            return [
                              s(
                                "div",
                                {
                                  key: e.tip,
                                  staticClass: "color-sets__item",
                                  class: {
                                    "color-sets__pin":
                                      i < t.customColorList.length,
                                    active: t.currentIndex === i,
                                  },
                                  on: {
                                    click: function (s) {
                                      return t.selectLocalColor(s, e, i);
                                    },
                                    mouseenter: function (e) {
                                      t.isHover = !0;
                                    },
                                    mouseleave: function (e) {
                                      t.isHover = !1;
                                    },
                                    contextmenu: function (s) {
                                      return (
                                        s.preventDefault(),
                                        t.showMenu(
                                          s,
                                          e,
                                          i >= t.customColorList.length
                                        )
                                      );
                                    },
                                  },
                                },
                                [
                                  s("ColorIcon", {
                                    staticClass: "mas-bar-button",
                                    attrs: {
                                      data: {
                                        color: e,
                                        type: 0,
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ];
                          }),
                          -1 === t.currentIndex
                            ? s(
                                "div",
                                {
                                  staticClass: "color-sets__item active",
                                  on: {
                                    click: function (e) {
                                      return t.selectLocalColor(e, t.color, -1);
                                    },
                                    mouseenter: function (e) {
                                      t.isHover = !0;
                                    },
                                    mouseleave: function (e) {
                                      t.isHover = !1;
                                    },
                                    contextmenu: function (e) {
                                      return (
                                        e.preventDefault(),
                                        t.showMenu(e, t.color, !0)
                                      );
                                    },
                                  },
                                },
                                [
                                  s("ColorIcon", {
                                    staticClass: "mas-bar-button",
                                    attrs: {
                                      data: {
                                        color: t.color,
                                        type: 0,
                                      },
                                    },
                                  }),
                                ],
                                1
                              )
                            : t._e(),
                        ],
                        2
                      ),
                    ]
                  )
                : t._e(),
              "standard" === t.active
                ? s(
                    "div",
                    {
                      staticClass: "color-sets__box",
                    },
                    [
                      s(
                        "div",
                        {
                          staticClass: "color-sets local",
                        },
                        [
                          t._l(t.sets, function (e, i) {
                            return [
                              s(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: e.tip,
                                      expression: "i.tip",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  key: e.tip,
                                  on: {
                                    click: function (s) {
                                      return t.toggle(e.color, i);
                                    },
                                    mouseenter: function (e) {
                                      t.isHover = !0;
                                    },
                                    mouseleave: function (e) {
                                      t.isHover = !1;
                                    },
                                  },
                                },
                                [
                                  s("ColorIcon", {
                                    staticClass: "mas-bar-button",
                                    attrs: {
                                      data: {
                                        color: e.color,
                                        type: 0,
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ];
                          }),
                        ],
                        2
                      ),
                    ]
                  )
                : t._e(),
            ]
          );
        },
        Pe = [],
        De = i("83be"),
        Be = i("2a46");
      const Ne = [1, 0.85, 0.6, 0.3, 0.16, 0.08, 0.04],
        Fe = [
          "黑色",
          "主要文字色",
          "次要文字色",
          "禁用色",
          "边框色",
          "分割线色",
          "背景色",
        ],
        Re = {
          blue: 0,
          red: 0,
          green: 0,
          alpha: 1,
        },
        He = [
          ...Ne.map((e, t) => ({
            color: Object.assign(Object.assign({}, Re), {
              alpha: e,
            }),
            tip: Fe[t],
          })),
          {
            color: {
              red: 1,
              blue: 1,
              green: 1,
              alpha: 1,
            },
            tip: "白色",
          },
          {
            color: {
              red: 250 / 255,
              green: 81 / 255,
              blue: 81 / 255,
              alpha: 1,
            },
            tip: "红色",
          },
          {
            color: {
              red: 1,
              green: 143 / 255,
              blue: 31 / 255,
              alpha: 1,
            },
            tip: "橙色",
          },
          {
            color: {
              red: 1,
              green: 195 / 255,
              blue: 0,
              alpha: 1,
            },
            tip: "黄色",
          },
          {
            color: {
              red: 0,
              green: 181 / 255,
              blue: 120 / 255,
              alpha: 1,
            },
            tip: "绿色",
          },
          {
            color: {
              red: 7 / 255,
              green: 185 / 255,
              blue: 185 / 255,
              alpha: 1,
            },
            tip: "青色",
          },
          {
            color: {
              red: 54 / 255,
              green: 98 / 255,
              blue: 236 / 255,
              alpha: 1,
            },
            tip: "蓝色",
          },
          {
            color: {
              red: 138 / 255,
              green: 56 / 255,
              blue: 245 / 255,
              alpha: 1,
            },
            tip: "紫色",
          },
          {
            color: {
              red: 235 / 255,
              green: 47 / 255,
              blue: 150 / 255,
              alpha: 1,
            },
            tip: "品红色",
          },
          {
            color: {
              red: 252 / 255,
              green: 219 / 255,
              blue: 219 / 255,
              alpha: 1,
            },
            tip: "浅红色",
          },
          {
            color: {
              red: 1,
              green: 229 / 255,
              blue: 0.8,
              alpha: 1,
            },
            tip: "浅橙色",
          },
          {
            color: {
              red: 1,
              green: 248 / 255,
              blue: 198 / 255,
              alpha: 1,
            },
            tip: "浅黄色",
          },
          {
            color: {
              red: 207 / 255,
              green: 254 / 255,
              blue: 238 / 255,
              alpha: 1,
            },
            tip: "浅绿色",
          },
          {
            color: {
              red: 199 / 255,
              green: 245 / 255,
              blue: 245 / 255,
              alpha: 1,
            },
            tip: "浅青色",
          },
          {
            color: {
              red: 205 / 255,
              green: 225 / 255,
              blue: 253 / 255,
              alpha: 1,
            },
            tip: "浅蓝色",
          },
          {
            color: {
              red: 231 / 255,
              green: 212 / 255,
              blue: 1,
              alpha: 1,
            },
            tip: "浅紫色",
          },
          {
            color: {
              red: 1,
              green: 215 / 255,
              blue: 237 / 255,
              alpha: 1,
            },
            tip: "浅品红色",
          },
        ],
        $e = [
          "black",
          "primary_text",
          "secondary_text",
          "disable",
          "border",
          "dividers",
          "background",
          "white",
          "red",
          "orange",
          "yellow",
          "green",
          "cyan",
          "blue",
          "purple",
          "magenta",
          "light_red",
          "light_orange",
          "light_yellow",
          "light_green",
          "light_cyan",
          "light_blue",
          "light_purple",
          "light_magenta",
        ];
      var Ve = i("1f2a"),
        ze = i("0613");
      function Ue(e) {
        return A.a
          .fromRatio({
            r: e.red,
            g: e.green,
            b: e.blue,
            a: e.alpha,
          })
          .toHex8();
      }
      function qe(e, t, i) {
        const s = Ue(t);
        e[s] || (e[s] = 0), (e[s] += i);
      }
      const We = (function () {
        var e;
        try {
          const t =
            null !== (e = Object(r["J"])("user_color")) && void 0 !== e
              ? e
              : "";
          return t ? t.split(",") : [];
        } catch (t) {
          return [];
        }
      })();
      let Ge;
      const Ke = (e) => {
          const t = We.indexOf(e);
          ~t && We.splice(t, 1),
            We.unshift(e),
            We.length > 8 && We.splice(8, We.length - 8),
            Object(r["Db"])("user_color", We.join(","));
        },
        Qe = (e) => {
          Ge = e;
        },
        Ye = () => {
          Ge && Ke(Ue(Ge)), (Ge = void 0);
        };
      Ve["a"].$on("colorChange", Qe), Ve["a"].$on("colorPickerClose", Ye);
      const Xe = () => {
        const e = (function () {
          try {
            const e = ze["a"].state.file.settings.customColors || "";
            return e ? e.split(",") : [];
          } catch (e) {
            return [];
          }
        })();
        return {
          getRecentlyColorList() {
            return We;
          },
          getLocalColorList() {
            const e = fe["b"].Module.getAllPaints(),
              t = {};
            for (const s of e)
              if (s.count)
                for (const e of s.paints)
                  0 === e.type
                    ? qe(t, e.color, s.count)
                    : [1, 2, 3, 4].indexOf(e.type) &&
                      e.gradient.gradientStops.forEach((e) =>
                        qe(t, e.color, s.count)
                      );
            const i = Object.keys(t);
            return (
              i.sort((e, i) =>
                t[e] > t[i] ? -1 : t[e] < t[i] || e > i ? 1 : -1
              ),
              i
            );
          },
          getCustomColorList() {
            return e;
          },
          pinCustomColor(t) {
            const i = e.indexOf(Ue(t));
            ~i ? e.splice(i, 1) : e.push(Ue(t)),
              Object(x["fd"])(ze["a"].state.file.id, {
                customColors: e.join(","),
              }),
              ze["a"].commit("file/setting", {
                customColors: e.join(","),
              });
          },
        };
      };
      let Ze = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.active = "local"),
            (this.isHover = !1),
            (this.sets = He),
            (this.cursorName = ""),
            (this.recentlyUsedColorList = []),
            (this.customColorList = []),
            (this.localColorList = []),
            (this.colorManager = Xe()),
            (this.isMac = Object(r["hb"])());
        }
        get recentlyUsedColorViewList() {
          return this.recentlyUsedColorList.map((e) => {
            const t = A()(e).toRgb();
            return {
              red: t.r / 255,
              blue: t.b / 255,
              green: t.g / 255,
              alpha: t.a,
            };
          });
        }
        get localColorComputedList() {
          const e = [
              ...this.customColorList,
              ...this.localColorList.filter(
                (e) => !~this.customColorList.indexOf(e)
              ),
            ],
            t = Ue(Object(r["k"])(this.pagebkcolor));
          return ~e.indexOf(t) || e.push(t), e;
        }
        get localColorViewList() {
          return this.localColorComputedList.map((e) => {
            const t = A()(e).toRgb();
            return {
              red: t.r / 255,
              blue: t.b / 255,
              green: t.g / 255,
              alpha: t.a,
            };
          });
        }
        get currentIndex() {
          const e = Ue(this.color);
          return this.localColorComputedList.indexOf(e);
        }
        selectIdsHandler() {
          (this.customColorList = this.colorManager.getCustomColorList()),
            (this.localColorList = this.colorManager.getLocalColorList());
        }
        swidchTab(e) {
          (this.active = e),
            Object(x["fd"])(this.id, {
              colorTab: e,
            }),
            this.settingHandler({
              colorTab: e,
            });
        }
        mounted() {
          var e;
          (this.cursorName = De["b"]().setCursor(
            De["a"].kCursorColorPicker,
            0,
            !0
          )),
            (this.recentlyUsedColorList =
              this.colorManager.getRecentlyColorList()),
            (this.customColorList = this.colorManager.getCustomColorList()),
            (this.localColorList = this.colorManager.getLocalColorList()),
            (this.active =
              null !== (e = this.settings.colorTab) && void 0 !== e
                ? e
                : "local");
        }
        toggle(e, t, i = 0) {
          var s;
          this.$emit("setColor", e),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "color_mixer",
              action_parameter2: [
                "color_palette",
                "color_document",
                "color_recent",
              ][i],
              action_type: i ? this.actionType : "choose",
              action_detail: i
                ? Object(r["Ib"])(Object(r["l"])(e))
                : null !== (s = $e[t]) && void 0 !== s
                ? s
                : "",
            });
        }
        selectLocalColor(e, t, i) {
          if (e.altKey)
            return (
              this.colorManager.pinCustomColor(t),
              void _e["c"].track(_e["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "color_mixer",
                action_parameter2: "color_pin",
                action_type: "choose",
                action_detail: Object(r["Ib"])(Object(r["l"])(t)),
              })
            );
          this.toggle(t, i, 1),
            ("fill" !== this.actionType && "stroke" !== this.actionType) ||
              Be["a"].onToursEmit("tours_pan");
        }
        showMenu(e, t, i) {
          const s = i
              ? [
                  {
                    key: "pinColor",
                    title: "置顶色卡",
                  },
                ]
              : [
                  {
                    key: "unpinColor",
                    title: "取消置顶",
                  },
                ],
            o = {
              event: e,
              list: s,
              data: t,
              handler: this.changeVal,
            };
          this.$eventBus.$emit("contentMenu", o);
        }
        changeVal(e, t) {
          t && this.colorManager.pinCustomColor(t);
        }
      };
      Object(a["__decorate"])(
        [Object(b["e"])()],
        Ze.prototype,
        "color",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          Ze.prototype,
          "actionType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("selectIds", {
              deep: !0,
            }),
          ],
          Ze.prototype,
          "selectIdsHandler",
          null
        ),
        (Ze = Object(a["__decorate"])(
          [
            Object(b["a"])({
              name: "color-item",
              components: {
                ColorIcon: S["a"],
              },
              computed: Object.assign(
                Object.assign({}, Object(_["e"])("file", ["id", "settings"])),
                Object(_["e"])("basicState", ["selectIds", "pagebkcolor"])
              ),
              methods: Object.assign(
                {},
                Object(_["d"])("file", {
                  settingHandler: "setting",
                })
              ),
            }),
          ],
          Ze
        ));
      var Je = Ze,
        et = Je,
        tt =
          (i("fac1"), Object(U["a"])(et, Ee, Pe, !1, null, "54aa2d52", null)),
        it = tt.exports,
        st = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "mybody",
              staticClass: "line",
            },
            [
              i(
                "div",
                [
                  i(
                    "div",
                    {
                      ref: "mydiv",
                      staticClass: "body kCursor_Add_0",
                      on: {
                        click: e.addpoint,
                      },
                    },
                    [
                      i("div", {
                        style: {
                          backgroundImage: e.csscolor,
                          width: "100%",
                          height: "100%",
                        },
                      }),
                    ]
                  ),
                  e._l(e.points, function (t, s) {
                    return i(
                      "span",
                      {
                        key: s,
                        class: [
                          "kCursor_Point_0",
                          e.selected == s ? "curpos" : "",
                          "point",
                        ],
                        style: {
                          left: e.caluPos(t.position),
                          zIndex: e.selected == s ? 101 : 100 - s,
                        },
                        on: {
                          mousedown: function (i) {
                            return e.ondown(t, s, i);
                          },
                          mouseup: e.onup,
                        },
                      },
                      [
                        i("i", {
                          style: {
                            backgroundColor: e.calusColor(t.color),
                          },
                        }),
                      ]
                    );
                  }),
                ],
                2
              ),
              i(
                "div",
                {
                  staticClass: "action",
                },
                [
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "翻转渐变",
                        expression: "'翻转渐变'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "ExchangeIcon",
                    },
                    on: {
                      click: e.change,
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "旋转90度",
                        expression: "'旋转90度'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "RotateRightIcon",
                    },
                    on: {
                      click: e.rotate,
                    },
                  }),
                ],
                1
              ),
            ]
          );
        },
        ot = [],
        at = i("2b0e"),
        nt = at["default"].extend({
          components: {
            MasterButtonIcon: g["a"],
          },
          data() {
            return {
              curpoint: null,
              list: null,
              basex: 0,
            };
          },
          props: ["points", "selected", "type"],
          watch: {
            selected(e) {
              (this.curpoint = this.points[e]), (this.index = e);
            },
          },
          computed: {
            csscolor() {
              if (!this.points || 0 === this.points.length) return "";
              let e = "linear-gradient(to right";
              const t = {
                  position: 0,
                  color: this.points[0].color,
                },
                i = {
                  position: 1,
                  color: this.points[this.points.length - 1].color,
                };
              return (
                [t, ...this.points, i].forEach((t) => {
                  const i = parseInt(100 * t.position, 10),
                    s = 255 * t.color.red,
                    o = 255 * t.color.green,
                    a = 255 * t.color.blue;
                  let n = t.color.alpha;
                  n = n.toFixed(2);
                  const r = `rgba(${s},${o},${a},${n})`;
                  e = `${e}, ${r} ${i}%`;
                }),
                (e += ")"),
                e
              );
            },
          },
          mounted() {},
          methods: {
            change() {
              this.$emit("change");
            },
            rotate() {
              this.$emit("rotate");
            },
            caluPos(e) {
              return 135 * e + 10 + "px";
            },
            calusColor(e) {
              const t = Object(n["d"])(e),
                i = parseInt(t.color.substr(0, 2), 16),
                s = parseInt(t.color.substr(2, 2), 16),
                o = parseInt(t.color.substr(4, 2), 16);
              let a = t.alpha / 255;
              return (a = a.toFixed(2)), `rgba(${i},${s},${o},${a})`;
            },
            ondown(e, t, i) {
              i.stopPropagation(),
                this.index !== t && this.$emit("pointchange", t),
                (this.curpoint = e),
                (this.index = t),
                (this.active = !0),
                (this.move = this.onmove.bind(this)),
                (this.up = this.onup.bind(this)),
                document.addEventListener("mousemove", this.move),
                document.addEventListener("mouseup", this.up);
            },
            onmove(e) {
              if (this.active && this.curpoint) {
                const t = e.clientX,
                  i = this.$refs.mydiv,
                  s = i.getBoundingClientRect();
                let o = (t - s.x) / 140;
                (o = o < 0 ? 0 : o),
                  (o = o > 1 ? 1 : o),
                  (this.curpoint.position = o),
                  this.$emit("movepoint", {
                    index: this.index,
                    position: o,
                  });
              }
            },
            onup() {
              (this.curpoint = null),
                document.removeEventListener("mousemove", this.move),
                document.removeEventListener("mouseup", this.up);
            },
            addpoint(e) {
              const t = e.offsetX,
                i = t / 146;
              this.$emit("addpoint", i);
            },
          },
        }),
        rt = nt,
        ct = (i("82d5"), Object(U["a"])(rt, st, ot, !1, null, null, null)),
        lt = ct.exports;
      let dt = class extends b["g"] {
        constructor() {
          super(...arguments),
            (this.BLENDTYPE_LIST = c["e"].dictionaries.BLENDTYPE_LIST()),
            (this.isShow = !1),
            (this.validate = de),
            (this.valueDecorator = le),
            (this.inputValue = ""),
            (this.colorItem = {}),
            (this.popoverLazyLoad = !1),
            (this.typeList = this.gradientFeatureToggle()),
            (this.openPropStyle = !1),
            (this.createStyleLazyLoad = !1),
            (this.readonlyInputIndex = ""),
            (this.preType = 0),
            (this.isDragEnter = !1),
            (this.gradientList = new Map([
              [
                1,
                {
                  type: u["r"].GradientEdit,
                  title: "线性渐变",
                  key: "Linear",
                  paintType: v["E"].GRADIENT_LINEAR,
                },
              ],
              [
                2,
                {
                  type: u["r"].RadialGradientEdit,
                  title: "径向渐变",
                  key: "Radial",
                  paintType: v["E"].GRADIENT_RADIAL,
                },
              ],
              [
                3,
                {
                  type: u["r"].ConicGradientEdit,
                  title: "旋转渐变",
                  key: "Conic",
                  paintType: v["E"].GRADIENT_ANGULAR,
                },
              ],
              [
                4,
                {
                  type: u["r"].DiamondGradientEdit,
                  title: "菱形渐变",
                  key: "Diamond",
                  paintType: v["E"].GRADIENT_DIAMOND,
                },
              ],
            ])),
            (this.keydownHandler = r["ob"]);
        }
        gradientFeatureToggle() {
          const e = Object(f["isFeatureEnabled"])("radialGradient"),
            t = Object(f["isFeatureEnabled"])("conicGradient"),
            i = Object(f["isFeatureEnabled"])("diamondGradient"),
            s = [!0, !0, e, t, i, !this.isColorCollection],
            o = [
              {
                label: "纯色",
                value: 0,
              },
              {
                label: "线性渐变",
                value: 1,
              },
              {
                label: "径向渐变",
                value: 2,
              },
              {
                label: "旋转渐变",
                value: 3,
              },
              {
                label: "菱形渐变",
                value: 4,
              },
              {
                label: "图片",
                value: 5,
              },
            ];
          return (
            5 === this.data.type &&
              this.data.image &&
              this.data.image.type &&
              (o[5].label = "GIF"),
            o.filter((e, t) => s[t])
          );
        }
        get el() {
          return document.body;
        }
        dataHandler(e) {
          var t, i;
          const { type: s, color: o } = e;
          if (
            (this.typeList[5] && (this.typeList[5].label = "图片"),
            s === v["E"].SOLID)
          ) {
            this.readonlyInputIndex = "";
            const e = Object(n["d"])(o);
            (this.colorItem = Object.assign({}, o)),
              (this.inputValue = [e.color.toLocaleUpperCase(), e.alpha / 255]);
          } else if (
            s === v["E"].GRADIENT_LINEAR ||
            s === v["E"].GRADIENT_RADIAL ||
            s === v["E"].GRADIENT_ANGULAR ||
            s === v["E"].GRADIENT_DIAMOND
          ) {
            (this.readonlyInputIndex = "0"),
              this.isShow &&
                this.$store.commit("expendProps/setSelectData", this.data);
            const e =
              null === (t = this.data.gradient.gradientStops[this.selected]) ||
              void 0 === t
                ? void 0
                : t.color;
            e && (this.colorItem = e),
              (this.inputValue = [
                null === (i = this.gradientList.get(s)) || void 0 === i
                  ? void 0
                  : i.title,
                this.data.alpha,
              ]);
          } else
            s === v["E"].IMAGE &&
              ((this.colorItem = o),
              (this.readonlyInputIndex = "0"),
              this.data.image.type
                ? ((this.typeList[5].label = "GIF"),
                  (this.inputValue = ["GIF", this.data.alpha]))
                : (this.inputValue = ["图片", this.data.alpha]));
        }
        selectHander(e) {
          var t, i, s;
          if (
            1 !== this.data.type &&
            2 !== this.data.type &&
            3 !== this.data.type &&
            4 !== this.data.type
          )
            return;
          const o =
            null ===
              (s =
                null ===
                  (i =
                    null === (t = this.data) || void 0 === t
                      ? void 0
                      : t.gradient) || void 0 === i
                  ? void 0
                  : i.gradientStops[e]) || void 0 === s
              ? void 0
              : s.color;
          this.colorItem = o;
        }
        get selected() {
          const e = this.$store.state.expendProps.selectData;
          if ((null === e || void 0 === e ? void 0 : e.id) !== this.data.id)
            return 0;
          let t = this.$store.state.basicState.viewindex;
          return (
            this.$store.state.basicState.state !== u["r"].GradientEdit &&
              this.$store.state.basicState.state !==
                u["r"].RadialGradientEdit &&
              this.$store.state.basicState.state !== u["r"].ConicGradientEdit &&
              this.$store.state.basicState.state !==
                u["r"].DiamondGradientEdit &&
              (t = this.$store.state.basicState.lineindex),
            -1 === t ? 0 : t
          );
        }
        get linecss() {
          return 1 === this.data.type
            ? Object(r["e"])(this.data)
            : 2 === this.data.type
            ? Object(r["b"])(this.data, "radial")
            : 3 === this.data.type
            ? Object(r["b"])(this.data, "conic")
            : 4 === this.data.type
            ? Object(r["b"])(this.data, "diamond")
            : "";
        }
        get isImage() {
          return this.data.type === v["E"].IMAGE;
        }
        get isGradient() {
          const { type: e } = this.data;
          return (
            e === v["E"].GRADIENT_LINEAR ||
            e === v["E"].GRADIENT_RADIAL ||
            e === v["E"].GRADIENT_ANGULAR ||
            e === v["E"].GRADIENT_DIAMOND
          );
        }
        cancelFillMode() {
          this.viewState !== u["r"].TextEdit &&
            h["a"].pageState.setState(u["r"].Select);
        }
        changeFillType(e) {
          this.cancelFillMode();
          let t = this.data.image;
          const i = this.newestImageFillMode,
            s = {
              type: parseInt(e, 10),
            };
          if (1 === e || 2 === e || 3 === e || 4 === e) {
            let t = [],
              i = [];
            1 === e
              ? (i = [
                  {
                    x: 0.5,
                    y: 0,
                  },
                  {
                    x: 0.5,
                    y: 1,
                  },
                ])
              : (2 !== e && 3 !== e && 4 !== e) ||
                (i = [
                  {
                    x: 0.5,
                    y: 0.5,
                  },
                  {
                    x: 0.5,
                    y: 1,
                  },
                ]);
            const o = this.colorItem;
            (t =
              0 === this.data.gradient.gradientStops.length
                ? [
                    {
                      color: Object.assign(Object.assign({}, o), {
                        alpha: 1,
                      }),
                      position: 0,
                    },
                    {
                      color: Object.assign(Object.assign({}, o), {
                        alpha: 0,
                      }),
                      position: 1,
                    },
                  ]
                : this.data.gradient.gradientStops),
              (s.gradient = {
                gradientHandlePositions: i,
                gradientStops: t,
              });
          }
          5 === e &&
            null == t &&
            ((t = {
              scaleMode: 0,
              rotation: 0,
              imageRef: "",
              ratio: 0.5,
            }),
            (s.image = t)),
            y["a"].nextFrame(() => {
              this.$nextTick(() => {
                var o, a;
                if ([1, 2, 3, 4].includes(e)) {
                  const t = this.$store.state.basicState.selectIds;
                  this.$store.commit("expendProps/setSelectData", this.data),
                    1 !== t.length ||
                      this.viewState === u["r"].TextEdit ||
                      this.isColorCollection ||
                      h["a"].pageState.enterGradientEdit(
                        this.data.index,
                        this.type,
                        null !==
                          (a =
                            null === (o = this.gradientList.get(e)) ||
                            void 0 === o
                              ? void 0
                              : o.type) && void 0 !== a
                          ? a
                          : u["r"].GradientEdit
                      );
                } else if (5 === e) {
                  const e = this.$store.state.basicState.selectIds;
                  1 === e.length &&
                    h["a"].pageState.enterImageEdit(
                      this.data.index,
                      this.type,
                      this.data.image.scaleMode
                    ),
                    (null !== i && void 0 !== i) || (t.scaleMode = i);
                }
                (this.preType = this.data.type), this.changeHandler(s);
              });
            });
        }
        imagechange(e) {
          "filters" !== e.type
            ? this.changeHandler({
                image: e,
              })
            : this.changeHandler({
                filters: e.filtersData,
              });
        }
        handleDropFile(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (
              ((this.isDragEnter = !1),
              e.preventDefault(),
              !e.dataTransfer ||
                !e.dataTransfer.files.length ||
                !this.supportDragFill)
            )
              return;
            this.$eventBus.$emit("collection-bounced-item-toggle");
            const t = e.dataTransfer.files[0];
            h["a"].mergeStepStart();
            const { type: i } = t;
            if (!/image\/*/.test(i)) return;
            5 !== this.data.type && this.changeFillType(5);
            const s = yield d["i"].preprocessImage(t),
              o = Object.assign({}, this.data.image);
            (o.imageRef = s.url),
              this.changeHandler({
                image: o,
              }),
              h["a"].mergeStepEnd();
          });
        }
        onaddpoint(e) {
          var t;
          const i = [...this.data.gradient.gradientStops];
          let s, o, a, n;
          i.sort((e, t) => (e.position > t.position ? 1 : -1));
          const r = i.length;
          if (!(r < 1)) {
            if (e < i[0].position && 3 === this.data.type)
              (o = i[0]),
                (a = Object.assign({}, o.color)),
                i.unshift({
                  position: e,
                  color: a,
                }),
                (n = 0);
            else if (e > i[i.length - 1].position && 3 === this.data.type)
              (s = i[i.length - 1]),
                (a = Object.assign({}, s.color)),
                i.push({
                  position: e,
                  color: a,
                }),
                (n = i.length - 1);
            else if (1 === r)
              i[0].position > e
                ? ((o = i[0]),
                  (a = Object.assign({}, o.color)),
                  i.unshift({
                    position: e,
                    color: a,
                  }),
                  (n = 0))
                : ((s = i[0]),
                  (a = Object.assign({}, s.color)),
                  i.push({
                    position: e,
                    color: a,
                  }),
                  (n = 1));
            else
              for (let c = 0; c < r; c++) {
                if (0 === c && e <= i[c].position) {
                  (o = i[c]),
                    (a = Object.assign({}, o.color)),
                    i.unshift({
                      position: e,
                      color: a,
                    }),
                    (n = c);
                  break;
                }
                if (
                  (null === (t = i[c + 1]) || void 0 === t
                    ? void 0
                    : t.position) &&
                  e > i[c].position &&
                  e < i[c + 1].position
                ) {
                  (n = c + 1),
                    (s = i[c]),
                    (o = i[c + 1]),
                    (a = Object.assign({}, s.color)),
                    (a.alpha +=
                      (o.color.alpha - s.color.alpha) *
                      ((e - s.position) / (o.position - s.position))),
                    i.splice(c + 1, 0, {
                      position: e,
                      color: a,
                    });
                  break;
                }
                if (c === r - 1 && e >= i[c].position) {
                  (s = i[c]),
                    (a = Object.assign({}, s.color)),
                    i.push({
                      position: e,
                      color: a,
                    }),
                    (n = c + 1);
                  break;
                }
              }
            this.changeHandler({
              gradient: {
                gradientStops: i,
              },
            }),
              y["a"].nextFrame(() => {
                d["d"].setGradientIndex(n);
              });
          }
        }
        pointmove(e) {
          const t = [...this.data.gradient.gradientStops];
          t[e.index].position = e.position;
          const i = t[e.index];
          t.sort((e, t) => e.position - t.position),
            this.changeHandler({
              gradient: {
                gradientStops: t,
              },
            });
          for (let s = 0; s < t.length; s++)
            if (i === t[s]) {
              d["d"].setGradientIndex(s);
              break;
            }
        }
        pointchange(e) {
          d["d"].setGradientIndex(e);
        }
        setStyle(e) {
          this.$emit("setStyle", e), (this.openPropStyle = !1);
        }
        applyShow() {
          this.$emit("applyshow"),
            this.$nextTick(this.$refs.stylePanel.inputFocus.bind(this));
        }
        onrotate() {
          var e, t, i, s, o, a, n;
          const c = this.data.gradient.gradientHandlePositions;
          if (!c || 0 === c.length) return;
          const l = c[0],
            d = c[1];
          let u, h;
          1 === this.data.type
            ? ((u = (l.x + d.x) / 2), (h = (l.y + d.y) / 2))
            : (2 !== this.data.type &&
                3 !== this.data.type &&
                4 !== this.data.type) ||
              ((u = l.x), (h = l.y));
          let p = [[c[0].x], [c[0].y], [1]],
            m = [[c[1].x], [c[1].y], [1]],
            g = [
              [1, 0, -u],
              [0, 1, -h],
              [0, 0, 1],
            ];
          (p = null !== (e = Object(r["pb"])(g, p)) && void 0 !== e ? e : p),
            (m = null !== (t = Object(r["pb"])(g, m)) && void 0 !== t ? t : m),
            (g = [
              [0, -1, 0],
              [1, 0, 0],
              [0, 0, 1],
            ]),
            (p = null !== (i = Object(r["pb"])(g, p)) && void 0 !== i ? i : p),
            (m = null !== (s = Object(r["pb"])(g, m)) && void 0 !== s ? s : m),
            (g = [
              [1, 0, u],
              [0, 1, h],
              [0, 0, 1],
            ]),
            (p = null !== (o = Object(r["pb"])(g, p)) && void 0 !== o ? o : p),
            (m = null !== (a = Object(r["pb"])(g, m)) && void 0 !== a ? a : m);
          const b =
            null === (n = this.gradientList.get(this.data.type)) || void 0 === n
              ? void 0
              : n.paintType;
          this.changeHandler({
            type: b,
            gradient: {
              gradientHandlePositions: [
                {
                  x: p[0][0],
                  y: p[1][0],
                },
                {
                  x: m[0][0],
                  y: m[1][0],
                },
              ],
            },
          });
        }
        onfanzhuan() {
          const e = this.data.gradient.gradientStops || [];
          for (let t = 0; t < e.length / 2; t++) {
            const i = e[t].color;
            (e[t].color = e[e.length - t - 1].color),
              (e[e.length - t - 1].color = i);
          }
          this.changeHandler({
            gradient: {
              gradientStops: e,
            },
          });
        }
        inputChangeHandler(e, t, i) {
          if (0 === this.data.type) {
            let t = this.inputValue[0],
              s = this.inputValue[1];
            0 === i ? (t = e) : (s = e);
            const o = Object(n["e"])(t);
            (o.alpha = parseFloat(s)), this.setColor(o, "debounce");
          } else
            this.changeHandler({
              alpha: parseFloat(e),
              manualType: "debounce",
            });
        }
        handleColorPickerChange(e, t) {
          if ((this.$eventBus.$emit("colorChange", e), 0 === this.data.type))
            this.setColor(e, t);
          else if (
            1 === this.data.type ||
            2 === this.data.type ||
            3 === this.data.type ||
            4 === this.data.type
          ) {
            const i = [...this.data.gradient.gradientStops];
            i[this.selected] = Object.assign(
              Object.assign({}, i[this.selected]),
              {
                color: e,
              }
            );
            const s = {
              gradient: {
                gradientStops: i,
              },
            };
            0 === this.selected && (s.color = e),
              t && (s.manualType = t),
              this.changeHandler(s);
          }
        }
        handleColorPickerChangeStart() {
          p["a"].manualPushState || h["a"].mergeStepStart();
        }
        handleColorPickerChangeEnd() {
          h["a"].mergeStepEnd();
        }
        setColor(e, t) {
          this.changeHandler({
            color: e,
            manualType: t,
          });
        }
        changeHandler(e) {
          this.$emit("change", e);
        }
        onSetColor(e) {
          const t = Object.assign(Object.assign({}, Object(n["e"])(e)), {
            alpha: 1,
          });
          this.$eventBus.$emit("colorChange", t),
            this.handleColorPickerChange(t);
        }
        onOpen() {
          var e, t;
          if (
            (setTimeout(() => {
              const e = this.$refs.colorPicker;
              e && e.focus();
            }, 0),
            this.data.type === v["E"].GRADIENT_LINEAR ||
              this.data.type === v["E"].GRADIENT_RADIAL ||
              this.data.type === v["E"].GRADIENT_ANGULAR ||
              this.data.type === v["E"].GRADIENT_DIAMOND)
          ) {
            const i = this.$store.state.basicState.selectIds;
            this.$store.commit("expendProps/setSelectData", this.data),
              1 !== i.length ||
                this.viewState === u["r"].TextEdit ||
                this.isColorCollection ||
                h["a"].pageState.enterGradientEdit(
                  this.data.index,
                  this.type,
                  null !==
                    (t =
                      null === (e = this.gradientList.get(this.data.type)) ||
                      void 0 === e
                        ? void 0
                        : e.type) && void 0 !== t
                    ? t
                    : u["r"].GradientEdit
                );
          } else if (this.data.type === v["E"].IMAGE) {
            const e = this.$store.state.basicState.selectIds;
            1 === e.length &&
              h["a"].pageState.enterImageEdit(
                this.data.index,
                this.type,
                this.data.image.scaleMode
              );
          }
          this.$store.dispatch("basicState/setBasicState", {
            colorPicker: !0,
          }),
            this.$eventBus.$on(l["b"].EyeColorPicker, this.onSetColor),
            (this.preType = this.data.type);
        }
        onClose() {
          this.cancelFillMode(),
            d["d"].setGradientIndex(-1),
            this.$store.dispatch("basicState/setBasicState", {
              colorPicker: !1,
            }),
            this.$eventBus.$off(l["b"].EyeColorPicker, this.onSetColor),
            this.$eventBus.$emit("colorPickerClose");
        }
        hideMenu() {
          this.$refs.bounced.hideMenu();
        }
        hander(e) {
          e ? this.$emit("open") : this.$emit("close");
        }
        changePopover() {
          this.disable ||
            ((this.popoverLazyLoad = !0),
            this.$nextTick(() => {
              this.$refs.bounced && this.$refs.bounced.openMenu();
            }));
        }
        changeCreateStylePop() {
          (this.createStyleLazyLoad = !0),
            (this.openPropStyle = !this.openPropStyle);
        }
        handleOpenPicker() {
          d["f"].openeyedropper();
        }
        toggleMenu(e) {
          this.$refs.bounced
            ? (this.isShow = null !== e && void 0 !== e ? e : !this.isShow)
            : this.changePopover();
        }
        handleAddStyle(e) {
          this.$emit("addStyle", e), (this.openPropStyle = !1);
        }
        handleCancel() {
          this.openPropStyle = !1;
        }
      };
      Object(a["__decorate"])(
        [
          Object(b["e"])({
            type: String,
            default: "14",
            required: !1,
          }),
        ],
        dt.prototype,
        "offset",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          dt.prototype,
          "title",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              required: !1,
            }),
          ],
          dt.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Object,
              required: !0,
            }),
          ],
          dt.prototype,
          "data",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              required: !1,
            }),
          ],
          dt.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          dt.prototype,
          "actionType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Boolean,
              default: !0,
              required: !1,
            }),
          ],
          dt.prototype,
          "showEye",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          dt.prototype,
          "disable",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Number,
              required: !1,
            }),
          ],
          dt.prototype,
          "index",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Boolean,
              required: !1,
              default: !1,
            }),
          ],
          dt.prototype,
          "isColorCollection",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Boolean,
              required: !1,
              default: !0,
            }),
          ],
          dt.prototype,
          "supportDragFill",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              type: Array,
              default: () => [],
              required: !1,
            }),
          ],
          dt.prototype,
          "styleCatalogList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["e"])({
              required: !1,
            }),
          ],
          dt.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("data", {
              immediate: !0,
              deep: !0,
            }),
          ],
          dt.prototype,
          "dataHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("selected", {
              immediate: !0,
            }),
          ],
          dt.prototype,
          "selectHander",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(b["h"])("isShow", {
              immediate: !0,
            }),
          ],
          dt.prototype,
          "hander",
          null
        ),
        (dt = Object(a["__decorate"])(
          [
            Object(b["a"])({
              name: "color-item",
              components: {
                MasterButtonSwitch: m["a"],
                ColorIcon: S["a"],
                ColorPicker: ge,
                MasterSelector: c["e"],
                linear: lt,
                Bounced: I["a"],
                ImageSelect: Me,
                MasterButtonIcon: g["a"],
                StylePanel: C["a"],
                ColorSets: it,
              },
              computed: Object.assign(
                Object.assign(
                  {
                    colorItemAHex() {
                      const e = Object(n["d"])(this.colorItem);
                      return e;
                    },
                  },
                  Object(_["e"])({
                    viewState: (e) => e.basicState.state,
                  })
                ),
                Object(_["c"])("basicProps", ["newestImageFillMode"])
              ),
            }),
          ],
          dt
        ));
      var ut = dt,
        ht = ut,
        pt =
          (i("179a"),
          i("6892"),
          Object(U["a"])(ht, s, o, !1, null, "094ccd9a", null));
      t["a"] = pt.exports;
    },
    "7dd1": function (e, t, i) {},
    "7e19": function (e, t, i) {},
    "7e3d": function (e, t, i) {
      "use strict";
      i("be4e");
    },
    "7e91": function (e, t, i) {},
    "7ec2": function (e, t, i) {
      "use strict";
      i("5ecf");
    },
    "7ee6": function (e, t, i) {},
    "7f43": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-food.0c1e1e07.jpg";
    },
    "7fa8": function (e, t, i) {},
    "804d": function (e, t, i) {},
    "80e7": function (e, t, i) {
      "use strict";
      (function (e) {
        var s = i("9ab4"),
          o = i("60a3"),
          a = i("2f62"),
          n = i("dc0f"),
          r = i("5c39"),
          c = i("0152"),
          l = i("b29f"),
          d = i("6aad"),
          u = i("d257"),
          h = i("8ece"),
          p = i("43c3"),
          m = i("0613"),
          g = i("2ef0"),
          b = i("5ed9"),
          v = i("d140"),
          f = i("7ffc"),
          y = i("9a7c"),
          _ = i("0e41"),
          C = i("7b34"),
          S = i("9588"),
          I = i("e22a");
        let O = class extends o["g"] {
          constructor() {
            super(...arguments),
              (this.exportList = []),
              (this.showPreview = !1),
              (this.exportPreviewSize = 1),
              (this.exportLayerId = ""),
              (this.exportLength = 0),
              (this.exportPreviewType = 0),
              (this.dropData = ""),
              (this.exportPreviewIMG = {
                type: "",
                base64: "",
                url: "",
              }),
              (this.exportPreset = f["f"]),
              (this.typeMap = {
                0: "png",
                1: "jpeg",
                2: "svg+xml",
              }),
              (this.dropPosition = {
                x: 0,
                y: 0,
              }),
              (this.exportSettingList = [
                {
                  label: "iOS 预设",
                  value: "iOS",
                },
                {
                  label: "Android 预设",
                  value: "Android",
                },
                {
                  label: "Flutter 预设",
                  value: "Flutter",
                  divid: !0,
                },
                {
                  label: "删除所有设置",
                  value: "none",
                },
              ]),
              (this.selectList = []);
            window.mgfile = this;
          }
          get lableName() {
            return Object(u["n"])(this.name, !1);
          }
          get fileName() {
            return this.name.length > 10
              ? this.name.slice(0, 7) + "..."
              : this.name;
          }
          exportImageHandler() {
            this.exportList = (this.exportImage || []).map((e) => ({
              size:
                +e.value.toFixed(2) +
                {
                  0: "x",
                  1: "w",
                  2: "h",
                }[e.type],
              type: String(e.fileType),
              id: e.id,
              index: e.index,
              isSuffix: e.isSuffix,
              fileName: e.fileName,
            }));
          }
          versionChangeHandler() {
            this.showPreview && this.debouncedUpdatePreview();
          }
          pageChangeHandler() {
            this.showPreview && this.debouncedUpdatePreview();
          }
          checkHandler(e, t = null) {
            h["a"].selector[p["a"].setExpendProps]({
              type: t,
              name: "exportSettings",
              value: e,
            });
          }
          presetClick(e) {
            const t = this.exportPreset[e.value];
            t
              ? t.forEach((e) => {
                  this.checkHandler(e, 0);
                })
              : this.exportList.forEach((e) => {
                  this.checkHandler(
                    {
                      index: [e.index],
                    },
                    2
                  );
                });
          }
          dragToDesktopDataHandler(e, t, i) {
            return `image/${e}:${t}:data:image/${e};base64,${i}`;
          }
          handleSelect(e) {
            this.selectList = e;
          }
          editItem(e, t) {
            const i = Object.assign(
              {
                index: t,
              },
              e
            );
            this.checkHandler(i, 1);
          }
          delItem() {
            if (0 !== this.selectList.length)
              for (const e of this.selectList)
                this.checkHandler(
                  {
                    index: [e.index],
                  },
                  2
                );
            else {
              const e = this.exportList.shift();
              e &&
                this.checkHandler(
                  {
                    index: [e.index],
                  },
                  2
                );
            }
          }
          resortExport(e, t) {
            this.checkHandler(
              {
                selectIndexs: e,
                index: t,
              },
              4
            );
          }
          addItem() {
            let e = 1;
            const t = this.exportList.some((e) => "1x" === e.size),
              i = this.exportList.some((e) => "2x" === e.size),
              s = this.exportList.some((e) => "3x" === e.size);
            !t || i || s ? t && i && !s && (e = 3) : (e = 2),
              (this.exportPreviewSize = e),
              this.checkHandler(
                {
                  type: 0,
                  value: e,
                  fileType: 0,
                  fileName: 1 === e ? "" : `@${e}x`,
                  isSuffix: !0,
                },
                0
              );
          }
          genSVG(e) {
            if (this.fullCanvas) {
              const e = h["a"].getPageInfo();
              return Object(c["d"])(e);
            }
            return Object(c["c"])(e);
          }
          getExportList() {
            const t = Object(b["d"])(),
              i = r["b"].exportImage(),
              s = this.exportList;
            if (i.some((e) => 1 === e.errorCode))
              throw new Error("Export Item OVERSIZE");
            const o = i.filter((e) => !e.errorCode),
              a = [];
            return (
              s.forEach((i) => {
                if ("2" === i.type) {
                  let s = this.$store.state.basicState.selectIds;
                  s.length || (s = [0]),
                    s.forEach((s) => {
                      var o;
                      const n = this.genSVG(s),
                        r = {
                          fileType: i.type,
                          buffer: e.from(n),
                          fileName: i.fileName,
                          layerName:
                            null === (o = t[s]) || void 0 === o
                              ? void 0
                              : o.name,
                          isSuffix: i.isSuffix,
                        };
                      a.push(r);
                    });
                }
              }),
              o &&
                o.forEach((e) => {
                  e && a.push(e);
                }),
              a
            );
          }
          exportClick() {
            return Object(s["__awaiter"])(this, void 0, void 0, function* () {
              const e = this.$toast({
                content: "正在处理",
                persistent: !0,
                disabledTransition: !0,
                position: "bottom",
              });
              yield new Promise((e) => {
                setTimeout(e, 10);
              });
              const t = {};
              try {
                n["n"].setLog("INFO", "userAction", "export file", {
                  fileType: this.exportList
                    .map((e) => d["p"][e.type])
                    .toString(),
                  layerCountSelected:
                    this.$store.state.basicState.selectIds.length,
                  layerCount: this.$store.state.newLayer.layerSize,
                }),
                  n["q"].disableImageGC(),
                  yield n["q"].waitImageLoadForLayer(this.selectIds);
                const i = this.getExportList();
                if ((n["q"].enableImageGC(), !i.length))
                  return void e.clearToast();
                yield Object(c["b"])(
                  i.map((e) => {
                    let i = Object(u["n"])(e.layerName, !1) || "文件";
                    i = e.isSuffix ? `${i}${e.fileName}` : `${e.fileName}${i}`;
                    const s = `${i}.${e.fileType}`;
                    return (
                      t[s] ? ((t[s] += 1), (i += "-" + t[s])) : (t[s] = 1),
                      (e.fileName = i),
                      e
                    );
                  })
                );
              } catch (i) {
                console.error(i),
                  "Export Item OVERSIZE" === Object(u["F"])(i) &&
                    this.$toast({
                      content: "尺寸超出限制，导出失败，请减小尺寸后重试",
                      timeout: 3e3,
                      type: "destructive",
                      position: "top",
                    }),
                  n["n"].setLog("ERROR", "userAction", "export file", {
                    fileType: this.exportList
                      .map((e) => d["p"][e.type])
                      .toString(),
                    layerCountSelected:
                      this.$store.state.basicState.selectIds.length,
                    layerCount: this.$store.state.newLayer.layerSize,
                    error: Object(u["F"])(i),
                  });
              }
              e.clearToast();
            });
          }
          getScaleInfo() {
            var e, t, i, s;
            const o =
                null !==
                  (t =
                    null === (e = this.exportList[0]) || void 0 === e
                      ? void 0
                      : e.size) && void 0 !== t
                  ? t
                  : "0",
              a =
                null !==
                  (s =
                    null === (i = this.exportList[0]) || void 0 === i
                      ? void 0
                      : i.type) && void 0 !== s
                  ? s
                  : "0";
            (this.exportPreviewSize = parseFloat(o)),
              "2" === a && (this.exportPreviewSize = 1);
            const n = o.charAt(o.length - 1);
            switch (n) {
              case "x":
                this.exportPreviewType = 0;
                break;
              case "w":
                this.exportPreviewType = 1;
                break;
              case "h":
                this.exportPreviewType = 2;
                break;
              default:
                this.exportPreviewType = 0;
            }
          }
          calculatePreviewImgLength(e, t) {
            this.getScaleInfo();
            const i = e / t;
            let s, o;
            return (
              0 === this.exportPreviewType
                ? ((s = e * this.exportPreviewSize),
                  (o = t * this.exportPreviewSize))
                : 1 === this.exportPreviewType
                ? ((o = this.exportPreviewSize), (s = o * i))
                : 2 === this.exportPreviewType &&
                  ((s = this.exportPreviewSize), (o = s / i)),
              (this.exportLength = i >= 1 ? s : o),
              this.exportLength > 480 ? 480 : this.exportLength
            );
          }
          updateFullCanvasPreviewURL() {
            var e;
            (this.exportPreviewIMG.base64 = r["b"].exportPageImage(4, 0)),
              (this.exportPreviewIMG.type =
                this.typeMap[
                  null === (e = this.exportList[0]) || void 0 === e
                    ? void 0
                    : e.type
                ]),
              (this.exportPreviewIMG.url = this.exportPreviewIMG.base64
                ? "data:image/png;base64," + this.exportPreviewIMG.base64
                : "");
          }
          updatePreviewURL() {
            var e, t, i;
            if (
              1 === this.exportCount &&
              this.exportList.length &&
              1 === this.selectIds.length
            ) {
              this.exportLayerId = this.selectIds[0];
              const s =
                  null !==
                    (e = r["b"].Module.getLayerDrawingArea(
                      this.exportLayerId
                    )) && void 0 !== e
                    ? e
                    : {},
                o = this.calculatePreviewImgLength(
                  null !== (t = s.height) && void 0 !== t
                    ? t
                    : this.selectItem.bound.height,
                  null !== (i = s.width) && void 0 !== i
                    ? i
                    : this.selectItem.bound.width
                ),
                a = JSON.parse(
                  h["a"].exportAssemblyImage(this.exportLayerId, o)
                );
              (this.exportPreviewIMG.base64 = a.buffer),
                (this.exportPreviewIMG.type =
                  this.typeMap[this.exportList[0].type]),
                (this.exportPreviewIMG.url = this.exportPreviewIMG.base64
                  ? "data:image/png;base64," + this.exportPreviewIMG.base64
                  : "");
            }
          }
          updatePreview() {
            this.showPreview &&
              (this.fullCanvas
                ? this.updateFullCanvasPreviewURL()
                : this.updatePreviewURL());
          }
          previewClickHandler() {
            (this.showPreview = !this.showPreview), this.updatePreview();
          }
          getDropImageData() {
            return this.fullCanvas
              ? (this.getScaleInfo(),
                r["b"].exportPageImage(
                  this.exportPreviewType,
                  this.exportPreviewSize
                ))
              : JSON.parse(
                  h["a"].exportAssemblyImage(
                    this.exportLayerId,
                    this.exportLength
                  )
                ).buffer;
          }
          calculateLocation(e) {
            const t = e.clientX,
              i = e.clientY,
              s = document.getElementById("middleContainer"),
              { offsetTop: o, offsetLeft: a } = s,
              n = a + this.width,
              r = o + this.height;
            return (
              a < t &&
              t < n &&
              o < i &&
              i < r &&
              ((this.dropPosition.x = t - a), (this.dropPosition.y = i - o), !0)
            );
          }
          dropPNG(e, t) {
            const i = Object(u["g"])(t),
              s = new Blob([i], {
                type: "image/png",
              });
            n["n"].setLog("INFO", "userAction", "import image", {
              source: "exportPreviewDrag",
            }),
              n["i"].importPhotos(
                [s],
                [],
                {
                  x: e.x,
                  y: e.y,
                },
                void 0,
                void 0,
                y["e"].Drop
              );
          }
          dropSVG(e) {
            n["n"].setLog("INFO", "userAction", "import svg", {
              source: "exportPreviewDrag",
            });
            const t = this.genSVG(this.exportLayerId);
            Object(c["e"])(t, {
              center: {
                x: e.x,
                y: e.y,
              },
            })
              .then((e) =>
                Object(s["__awaiter"])(this, void 0, void 0, function* () {
                  var t;
                  h["a"].mergeStepStart();
                  const i = yield h["a"][p["a"].loadMasterData](e, y["e"].Drop);
                  (null ===
                    (t = null === i || void 0 === i ? void 0 : i.selectIds) ||
                  void 0 === t
                    ? void 0
                    : t.length) && h["a"].layers.select(i.selectIds),
                    h["a"].mergeStepEnd();
                })
              )
              .catch((e) => {
                n["n"].setLog("ERROR", "userAction", "import svg", {
                  source: "exportPreviewDrag",
                  layerCount: m["a"].state.newLayer.layerSize,
                  error: e.message,
                });
              });
          }
          getExportName() {
            return this.fullCanvas ? this.name : this.selectItem.name;
          }
          dropPic(e) {
            var t;
            return Object(s["__awaiter"])(this, void 0, void 0, function* () {
              if (!this.exportPreviewIMG.base64) return;
              const i =
                null === (t = e.dataTransfer) || void 0 === t
                  ? void 0
                  : t.getData("text/image");
              if (i)
                try {
                  if (this.calculateLocation(e)) {
                    const e = h["a"].convertCoordinates(
                      this.dropPosition.x,
                      this.dropPosition.y
                    );
                    "svg+xml" !== this.exportPreviewIMG.type
                      ? this.dropPNG(e, i)
                      : this.dropSVG(e);
                  }
                } catch (s) {
                  n["n"].setLog("ERROR", "userAction", "drag preview", {
                    fileType: this.exportList
                      .map((e) => d["p"][e.type])
                      .toString(),
                    layerCountSelected:
                      this.$store.state.basicState.selectIds.length,
                    layerCount: this.$store.state.newLayer.layerSize,
                    error: e.message,
                  });
                }
            });
          }
          mounted() {
            this.debouncedUpdatePreview = Object(g["debounce"])(
              this.updatePreview,
              100
            );
          }
          ondropHandler(e) {
            this.dropPic(e);
          }
          dragStartHandler(e) {
            const t = new Image();
            t.src = this.exportPreviewIMG.url;
            const i = t.width || 0,
              s = t.height || 0;
            e.dataTransfer.setDragImage(t, i / 2, s / 2),
              "svg+xml" !== this.exportPreviewIMG.type
                ? (this.dropData = this.getDropImageData())
                : (this.dropData = btoa(this.genSVG(this.exportLayerId))),
              e.dataTransfer.setData("text/image", this.dropData),
              r["b"].removeListener("ondrop", this.ondropHandler),
              r["b"].addListener("ondrop", this.ondropHandler);
          }
          dragEndHandler() {
            r["b"].removeListener("ondrop", this.ondropHandler);
          }
        };
        Object(s["__decorate"])(
          [
            Object(o["e"])({
              default: "",
              required: !0,
            }),
          ],
          O.prototype,
          "name",
          void 0
        ),
          Object(s["__decorate"])(
            [
              Object(o["e"])({
                default: !1,
                required: !1,
              }),
            ],
            O.prototype,
            "fullCanvas",
            void 0
          ),
          Object(s["__decorate"])(
            [
              Object(o["h"])("exportImage", {
                deep: !0,
                immediate: !0,
              }),
            ],
            O.prototype,
            "exportImageHandler",
            null
          ),
          Object(s["__decorate"])(
            [Object(o["h"])("selectItem.version")],
            O.prototype,
            "versionChangeHandler",
            null
          ),
          Object(s["__decorate"])(
            [Object(o["h"])("currentPageId")],
            O.prototype,
            "pageChangeHandler",
            null
          ),
          (O = Object(s["__decorate"])(
            [
              Object(o["a"])({
                components: {
                  ExportItem: _["a"],
                  TodoList: I["a"],
                  Bounced: S["a"],
                  MasterButtonIcon: l["a"],
                  MasterMenu: v["d"],
                  ExportPreview: C["a"],
                },
                computed: Object(a["e"])({
                  exportImage: (e) => e.basicProps.item.exportSettings || [],
                  exportCount: (e) => e.basicProps.item.exportCount || 1,
                  width: (e) => e.basicState.width,
                  height: (e) => e.basicState.height,
                  currentPageId: (e) => e.basicState.currentPageId,
                  selectIds: (e) => e.basicState.selectIds,
                  selectItem: (e) => e.basicProps.item,
                }),
                methods: {},
              }),
            ],
            O
          )),
          (t["a"] = O);
      }.call(this, i("1c35").Buffer));
    },
    "80e7c": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "style",
              class: e.type + "-style",
            },
            [
              i(
                "div",
                {
                  staticClass: "style_title",
                },
                [
                  i("span", [
                    e._v(
                      e._s(
                        (e.isColorCollection ? "颜色" : e.styleName) + "样式"
                      )
                    ),
                  ]),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "团队库",
                        expression: "'团队库'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    key: "subscribe",
                    staticClass: "style_list_switch_button",
                    attrs: {
                      icon: "TeamLibraryIcon",
                    },
                    on: {
                      click: function (t) {
                        return e.openTeamLib("btn1");
                      },
                    },
                  }),
                  e.isColorStyle
                    ? i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: {
                              content: e.listIconData[e.styleListType].tooltip,
                            },
                            expression:
                              "{ content: listIconData[styleListType].tooltip }",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          icon: e.listIconData[e.styleListType].icon,
                        },
                        on: {
                          click: function (t) {
                            return (
                              t.stopPropagation(), e.handleListTypeSwitch(t)
                            );
                          },
                        },
                      })
                    : e._e(),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content: "创建样式",
                        },
                        expression: "{ content: '创建样式' }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    class: "create-" + e.type + "-style-btn",
                    attrs: {
                      slot: "dropButton",
                      icon: "PlusIcon",
                      disabled: e.notAdd,
                      "data-tours-name": e.dataToursName,
                    },
                    on: {
                      click: function (t) {
                        return e.changeStyle("btn1");
                      },
                    },
                    slot: "dropButton",
                  }),
                  i("StyleAdd", {
                    ref: "styleAdd",
                    attrs: {
                      isColorCollection: e.isColorCollection,
                      styleList: e.styleList,
                    },
                    on: {
                      addStyle: e.addStyleHandler,
                      cancel: e.handleCancel,
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "style_input",
                },
                [
                  i("MInput", {
                    ref: "input",
                    staticClass: "input_box",
                    attrs: {
                      size: "xs",
                      placeholder: "搜索",
                      borderAction: "none",
                    },
                    scopedSlots: e._u(
                      [
                        {
                          key: "prefix",
                          fn: function () {
                            return [
                              i("SearchIcon", {
                                staticStyle: {
                                  margin: "0 9px 0 11px",
                                },
                                attrs: {
                                  size: "12",
                                  opacity: "0.5",
                                  width: "12",
                                  height: "12",
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                        e.searchKey
                          ? {
                              key: "suffix",
                              fn: function () {
                                return [
                                  i("MasterButtonIcon", {
                                    staticClass: "deleteButton",
                                    attrs: {
                                      icon: "TimesIcon",
                                    },
                                    on: {
                                      click: function (t) {
                                        t.stopPropagation(), (e.searchKey = "");
                                      },
                                    },
                                  }),
                                ];
                              },
                              proxy: !0,
                            }
                          : null,
                      ],
                      null,
                      !0
                    ),
                    model: {
                      value: e.searchKey,
                      callback: function (t) {
                        e.searchKey = t;
                      },
                      expression: "searchKey",
                    },
                  }),
                ],
                1
              ),
              e.localList.length || e.subscribeStyle.length
                ? i(
                    "div",
                    {
                      ref: "styleContent",
                      staticClass: "style_content",
                      on: {
                        scroll: e.onScrollDebounce,
                      },
                    },
                    [
                      e.currentLib
                        ? i(
                            "div",
                            {
                              staticClass: "catalog-title__top",
                            },
                            [
                              e.currentLib.teamName
                                ? i(
                                    "span",
                                    {
                                      staticClass: "catalog-title__lib",
                                    },
                                    [e._v(e._s(e.currentLib.teamName) + " /")]
                                  )
                                : e._e(),
                              i(
                                "span",
                                {
                                  staticClass: "catalog-title__catalog",
                                },
                                [
                                  e._v(
                                    e._s(
                                      e.currentLib.catalog
                                        .split("/")
                                        .join(" / ")
                                    )
                                  ),
                                ]
                              ),
                            ]
                          )
                        : e._e(),
                      e._l(e.localList, function (t) {
                        return i(
                          "div",
                          {
                            key: t.name,
                            staticClass: "style_content__wrap",
                          },
                          [
                            t.name
                              ? i(
                                  "div",
                                  {
                                    ref: "bar_catalog",
                                    refInFor: !0,
                                    staticClass: "text-tran-30 catalog-title",
                                    attrs: {
                                      "data-catalog": t.name,
                                    },
                                  },
                                  [
                                    i(
                                      "span",
                                      {
                                        directives: [
                                          {
                                            name: "tip",
                                            rawName: "v-tip.bottom",
                                            value: {
                                              delay: 0,
                                              content:
                                                "<div style='max-width: 193px; word-wrap:break-word;'>" +
                                                t.name +
                                                "</div>",
                                              offset: "0",
                                              trigger: "hover",
                                              overflowDisplay: !0,
                                            },
                                            expression:
                                              "{\n            delay: 0,\n            content: `<div style='max-width: 193px; word-wrap:break-word;'>${catalog.name}</div>`,\n            offset: '0',\n            trigger: 'hover',\n            overflowDisplay: true,\n          }",
                                            modifiers: {
                                              bottom: !0,
                                            },
                                          },
                                        ],
                                        staticClass: "catalog-title__over",
                                      },
                                      [e._v(e._s(t.name))]
                                    ),
                                  ]
                                )
                              : e._e(),
                            i(
                              "div",
                              {
                                class:
                                  "catalog-list--" +
                                  (e.isColorStyle ? e.styleListType : "list"),
                              },
                              e._l(t.children, function (t) {
                                return i(
                                  "div",
                                  {
                                    key: t.id,
                                    staticClass: "style_content__item p6",
                                    class: [
                                      e.styleItem &&
                                        e.styleItem.ukey === t.id &&
                                        "activeStyle",
                                    ],
                                    on: {
                                      mouseenter: function (i) {
                                        return e.mouseenterHandler(t.id);
                                      },
                                      mouseleave: function (i) {
                                        e.showModify[t.id] = !1;
                                      },
                                      click: function (i) {
                                        return e.setStyleHandler(t.id);
                                      },
                                    },
                                  },
                                  [
                                    i("StyleBasic", {
                                      class: [
                                        e.showModify[t.id] && "current-style",
                                      ],
                                      attrs: {
                                        item: e.styleMap[t.id],
                                        type: e.type,
                                        "list-type": e.isColorStyle
                                          ? e.styleListType
                                          : "list",
                                        canAddCatalog: !1,
                                        current: e.showModify[t.id],
                                      },
                                    }),
                                  ],
                                  1
                                );
                              }),
                              0
                            ),
                          ]
                        );
                      }),
                      e._l(e.subscribeStyle, function (t, s) {
                        return i(
                          "div",
                          {
                            key: t.id,
                            class: {
                              "top-line": 0 !== s || e.localList.length,
                            },
                          },
                          [
                            i(
                              "div",
                              {
                                ref: "bar_catalog",
                                refInFor: !0,
                                staticClass: "teamlib-title",
                                attrs: {
                                  "data-catalog": t.name,
                                },
                              },
                              [e._v(e._s(t.name))]
                            ),
                            e._l(t.children, function (s) {
                              return i(
                                "div",
                                {
                                  key: s.name,
                                  staticClass: "style_content__wrap",
                                },
                                [
                                  s.name
                                    ? i(
                                        "div",
                                        {
                                          ref: "bar_catalog",
                                          refInFor: !0,
                                          staticClass:
                                            "text-tran-30 catalog-title",
                                          attrs: {
                                            "data-catalog": s.name,
                                            "data-team": t.name,
                                          },
                                        },
                                        [
                                          i(
                                            "span",
                                            {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: {
                                                    delay: 0,
                                                    content:
                                                      "<div style='max-width: 193px; word-wrap:break-word;'>" +
                                                      s.name +
                                                      "</div>",
                                                    offset: "0",
                                                    trigger: "hover",
                                                    overflowDisplay: !0,
                                                  },
                                                  expression:
                                                    "{\n              delay: 0,\n              content: `<div style='max-width: 193px; word-wrap:break-word;'>${catalog.name}</div>`,\n              offset: '0',\n              trigger: 'hover',\n              overflowDisplay: true,\n            }",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              staticClass:
                                                "catalog-title__over",
                                            },
                                            [e._v(e._s(s.name))]
                                          ),
                                        ]
                                      )
                                    : e._e(),
                                  i(
                                    "div",
                                    {
                                      class:
                                        "catalog-list--" +
                                        (e.isColorStyle
                                          ? e.styleListType
                                          : "list"),
                                    },
                                    e._l(s.children, function (t) {
                                      return i(
                                        "div",
                                        {
                                          key: t.id,
                                          staticClass: "style_content__item p6",
                                          class: [
                                            e.styleItem &&
                                              e.styleItem.ukey === t.id &&
                                              "activeStyle",
                                          ],
                                          on: {
                                            mouseenter: function (i) {
                                              return e.mouseenterHandler(t.id);
                                            },
                                            mouseleave: function (i) {
                                              e.showModify[t.id] = !1;
                                            },
                                            click: function (i) {
                                              return e.setLibraryStyleHandler(
                                                t.id
                                              );
                                            },
                                          },
                                        },
                                        [
                                          i("StyleBasic", {
                                            class: [
                                              e.showModify[t.id] &&
                                                "current-style",
                                            ],
                                            attrs: {
                                              item: t,
                                              type: e.type,
                                              "list-type": e.isColorStyle
                                                ? e.styleListType
                                                : "list",
                                              current: e.showModify[t.id],
                                            },
                                            on: {
                                              openEditor: function (i) {
                                                return e.setLibraryStyleHandler(
                                                  t.id,
                                                  !0
                                                );
                                              },
                                            },
                                          }),
                                        ],
                                        1
                                      );
                                    }),
                                    0
                                  ),
                                ]
                              );
                            }),
                          ],
                          2
                        );
                      }),
                    ],
                    2
                  )
                : e.searchKey
                ? i(
                    "div",
                    {
                      staticClass: "style_empty__search",
                    },
                    [e._v("没有搜索到相关样式")]
                  )
                : i(
                    "div",
                    {
                      staticClass: "style_empty",
                    },
                    [
                      i("div", {}, [e._v("暂无" + e._s(e.styleName) + "样式")]),
                      e.IS_PRI
                        ? e._e()
                        : i(
                            "div",
                            {
                              staticClass: "style_empty__text",
                            },
                            [
                              e._v(
                                " " +
                                  e._s(
                                    "样式可以在各个图层上复用，\n并在修改样式时保持同步，"
                                  ) +
                                  " "
                              ),
                              i(
                                "span",
                                {
                                  staticClass: "style_empty__more",
                                  on: {
                                    click: function (t) {
                                      return t.stopPropagation(), e.onMore(t);
                                    },
                                  },
                                },
                                [e._v("了解更多")]
                              ),
                            ]
                          ),
                      e.IS_PRI
                        ? i(
                            "div",
                            {
                              staticClass: "style_empty__text",
                            },
                            [
                              e._v(
                                " " +
                                  e._s(
                                    "样式可以在各个图层上复用，\n并在修改样式时保持同步。"
                                  ) +
                                  " "
                              ),
                            ]
                          )
                        : e._e(),
                      i(
                        "div",
                        {
                          staticClass: "style_empty__buttons",
                        },
                        [
                          e.notAdd
                            ? e._e()
                            : i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    iconSize: "12",
                                    size: "xs",
                                    disabled: !1,
                                  },
                                  on: {
                                    click: function (t) {
                                      return e.changeStyle("btn2");
                                    },
                                  },
                                  nativeOn: {
                                    mouseup: function (e) {
                                      e.stopPropagation();
                                    },
                                  },
                                },
                                [e._v("创建样式")]
                              ),
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                iconSize: "12",
                                size: "xs",
                                disabled: !1,
                              },
                              on: {
                                click: function (t) {
                                  return e.openTeamLib("btn2");
                                },
                              },
                              nativeOn: {
                                mouseup: function (e) {
                                  e.stopPropagation();
                                },
                              },
                            },
                            [e._v("使用团队库")]
                          ),
                        ],
                        1
                      ),
                    ]
                  ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("b29f"),
        c = i("d9d9"),
        l = i("2f62"),
        d = i("50e2"),
        u = i("ac8c"),
        h = i("d257"),
        p = i("7ffc"),
        m = i("8ece"),
        g = i("79f6c"),
        b = i("2ef0"),
        v = i("e0b5"),
        f = i("3c24"),
        y = i("324f"),
        _ = i("04b9");
      const C = "https://mastergo.com/community/resource/58134752751685",
        S = {
          fill: "color_fill",
          stroke: "color_stroke",
          text: "text",
          effect: "effect",
          grid: "grid",
        };
      function I(e, t) {
        const i = [];
        for (const s of e) {
          const e = {
            children: [],
            name: s.name,
          };
          for (const i of s.children)
            Object(h["T"])(i.name, t) && e.children.push(i);
          e.children.length && i.push(e);
        }
        return i;
      }
      let O = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.listIconData = p["g"]),
            (this.currentLib = null),
            (this.observer = null),
            (this.styleNameMap = _["a"]),
            (this.styleTypeMap = _["b"]),
            (this.onScrollDebounce = Object(b["throttle"])(
              this._onScroll,
              200
            )),
            (this.styleList = []),
            (this.showModify = {}),
            (this.searchKey = "");
        }
        get styleName() {
          return this.styleNameMap[this.type];
        }
        _onScroll(e) {
          var t, i, s;
          const o = e.target.getBoundingClientRect().top;
          let a = !1;
          const n = Object.keys(
            null !== (t = this.$refs) && void 0 !== t ? t : {}
          )
            .filter((e) => "bar_catalog" === e)
            .reduce((e, t) => {
              var i;
              return e.concat(
                null !== (i = this.$refs[t]) && void 0 !== i ? i : []
              );
            }, []);
          for (const r of n.reverse()) {
            const e = r.getBoundingClientRect().top;
            if (e - o < 10) {
              (this.currentLib = {
                catalog:
                  null !== (i = r.dataset.catalog) && void 0 !== i ? i : "",
                teamName:
                  null !== (s = r.dataset.team) && void 0 !== s ? s : "",
              }),
                (a = !0);
              break;
            }
          }
          a || (this.currentLib = null);
        }
        getColor(e) {
          var t;
          return (null === (t = e.list) || void 0 === t ? void 0 : t.length) > 1
            ? `url(${i("428e")}) 100%`
            : "#" + Object(c["d"])(e.list[0].color).color;
        }
        addStyleHandler(e) {
          this.$emit("addStyle", e);
        }
        onMore() {
          Object(h["qb"])(C);
        }
        handleCancel() {
          this.$emit("cancel");
        }
        mouseenterHandler(e) {
          this.$set(this.showModify, e, !0);
        }
        inputFocus() {
          const e = setTimeout(() => {
            this.$refs.input.focus(), clearTimeout(e);
          }, 0);
        }
        setStyleHandler(e) {
          const t = this.styleMap[e];
          t && this.$emit("setStyle", t.id);
        }
        setLibraryStyleHandler(e, t = !1) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const i = this.subscribeMap[e],
              s = this.usedStyleMap[e];
            if (!s || i.version !== s.styleSignature || i.name !== s.name) {
              y["a"].createCache(i);
              const e = y["a"].getCache(i.ukey),
                t = yield e.buffer;
              t && d["a"].fbcommand(u["a"].CreateStyleFromFB, "", "", t.data);
            }
            t ? m["a"].updateMasterData() : this.$emit("setStyle", i);
          });
        }
        changeStyle(e) {
          this.isColorCollection
            ? ((this.styleList = d["a"].tryCreateColorStyle(this.index)),
              this.$refs.styleAdd.setStyleList(this.styleList, this.type))
            : this.$refs.styleAdd.open(this.type),
            v["c"].track(v["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: S[this.type],
              action_parameter2: e,
              action_type: "add",
              action_detail: "style",
            });
        }
        openTeamLib(e) {
          this.onOpenTeamLibrary && this.onOpenTeamLibrary(),
            v["c"].track(v["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "library",
              action_parameter2: "library_btn",
              action_parameter3: "chose_style_menu",
              action_detail: e,
            });
        }
        handleListTypeSwitch() {
          const e = "list" === this.styleListType ? "grid" : "list",
            t = this.$store.state.file;
          t.id &&
            (this.$store.commit(
              "file/setFileSettings",
              Object.assign(
                Object.assign({}, this.$store.state.file.settings),
                {
                  styleListType: e,
                }
              )
            ),
            Object(g["fd"])(t.id, t.settings));
        }
        mounted() {
          this.styleItem &&
            setTimeout(() => {
              const e = document.getElementsByClassName("activeStyle")[0],
                t = this.$refs.styleContent;
              if (e) {
                const i = e.getBoundingClientRect(),
                  s = t.getBoundingClientRect(),
                  o = i.top - s.top;
                o > s.height &&
                  t.scrollTo({
                    left: 0,
                    top: o - s.height / 3,
                    behavior: "auto",
                  });
              }
            }, 10);
        }
        beforeDestroy() {
          this.$eventBus.$emit("hideContentDropMenu");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
          }),
        ],
        O.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !0,
            }),
          ],
          O.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: -1,
              required: !1,
            }),
          ],
          O.prototype,
          "index",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          O.prototype,
          "notAdd",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              default: () => [],
              required: !0,
            }),
          ],
          O.prototype,
          "styleCatalogList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          O.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !1,
              default: !1,
            }),
          ],
          O.prototype,
          "isColorCollection",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          O.prototype,
          "dataToursName",
          void 0
        ),
        (O = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                StyleAdd: () =>
                  i.e("chunk-3a3647be").then(i.bind(null, "df6e")),
                MasterButtonIcon: r["a"],
                StyleBasic: f["a"],
              },
              inject: ["onOpenTeamLibrary", "IS_PRI"],
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(l["e"])("style", {
                      subscribeStyle(e) {
                        const t = e[this.styleTypeMap[this.type]],
                          i =
                            (null === t || void 0 === t
                              ? void 0
                              : t.subscribeCatalog) || [];
                        if (!this.searchKey) return i;
                        const s = [];
                        return (
                          i.forEach((e) => {
                            const { children: t } = e,
                              i = Object(a["__rest"])(e, ["children"]),
                              o = I(t, this.searchKey);
                            o.length &&
                              s.push(
                                Object.assign(Object.assign({}, i), {
                                  children: o,
                                })
                              );
                          }),
                          s
                        );
                      },
                      subscribeMap(e) {
                        return (
                          (null === e || void 0 === e
                            ? void 0
                            : e.subscribeMap) || {}
                        );
                      },
                      usedStyleMap(e) {
                        return (
                          (null === e || void 0 === e
                            ? void 0
                            : e.usedStyleMap) || {}
                        );
                      },
                      styleMap(e) {
                        return (
                          (null === e || void 0 === e ? void 0 : e.styleMap) ||
                          {}
                        );
                      },
                    })
                  ),
                  Object(l["e"])({
                    styleListType: (e) => {
                      var t;
                      return null !== (t = e.file.settings.styleListType) &&
                        void 0 !== t
                        ? t
                        : "list";
                    },
                  })
                ),
                {
                  localList() {
                    const e = this.styleCatalogList || [];
                    return this.searchKey ? I(e, this.searchKey) : e;
                  },
                  isColorStyle() {
                    return this.isColorCollection || "颜色" === this.styleName;
                  },
                }
              ),
            }),
          ],
          O
        ));
      var k = O,
        w = k,
        x = (i("00b4"), i("2877")),
        L = Object(x["a"])(w, s, o, !1, null, null, null);
      t["a"] = L.exports;
    },
    "80f1": function (e, t, i) {
      "use strict";
      i("2916");
    },
    "81d0": function (e, t, i) {
      "use strict";
      i("76bb");
    },
    "82d5": function (e, t, i) {
      "use strict";
      i("ecf4");
    },
    "830e": function (e, t, i) {
      "use strict";
      i("432b");
    },
    8349: function (e, t, i) {
      "use strict";
      i("f973");
    },
    8427: function (e, t, i) {
      "use strict";
      i("c0e7");
    },
    "842f": function (e, t, i) {
      "use strict";
      i("3eeb");
    },
    8457: function (e, t, i) {
      "use strict";
      i("ea87");
    },
    "847d": function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-people.473319a0.jpg";
    },
    "851b": function (e, t, i) {},
    8558: function (e, t, i) {
      "use strict";
      i("7dd1");
    },
    "862c": function (e, t, i) {},
    "868c": function (e, t, i) {},
    8732: function (e, t, i) {},
    8761: function (e, t, i) {},
    "87e9": function (e, t, i) {
      "use strict";
      i("2110");
    },
    "882b": function (e, t, i) {},
    "891b": function (e, t, i) {},
    "8b63": function (e, t, i) {
      "use strict";
      i("3462");
    },
    "8b633": function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("master-input", {
            staticClass: "master-radius__options__input",
            attrs: {
              focusSelectAll: e.focusSelectAll,
              focusSelectByCustom: e.focusSelectByCustom,
              disabled: e.disabled,
              hideOnDisabled: e.hideOnDisabled,
              readonly: e.readonly,
              textarea: e.textarea,
              type: e.type,
              placeholder: e.placeholder,
              value: e.value,
              validate: e.validate,
              valueDecorator: e.valueDecorator,
              noborder: e.noBorder,
              showDataIcon: e.showDataIcon,
              isTrim: e.isTrim,
              debounceTime: e.debounceTime,
              debounceFunc: e.debounceFunc,
              isNumber: e.isNumber,
              enterFocus: e.enterFocus,
              readonlyIndex: e.readonlyIndex,
              row: e.row,
            },
            on: {
              change: function (t) {
                return e.handleChange(t, "input");
              },
              keydown: e.handleKeydown,
              focus: e.handleFocus,
              blur: e.handleBlur,
            },
            scopedSlots: e._u([
              {
                key: "header",
                fn: function () {
                  return [
                    i("BasicLeftIcon", {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.tip,
                          expression: "tip",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      style: e.iconStyle,
                      attrs: {
                        masterIconName: e.iconName,
                        disabledDrag: e.iconDisabledDrag,
                        disabled: e.iconDisabled,
                      },
                      on: {
                        change: function (t) {
                          return e.handleChange(t, "drag");
                        },
                      },
                    }),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("c296");
      let c = class extends n["g"] {
        handleChange(e, t) {
          let i = e;
          if ("drag" === t) {
            let e = this.value;
            void 0 !== this.iconDragAccuracy &&
              (1 === this.iconDragAccuracy
                ? (e = parseInt("" + e, 10))
                : 0.1 === this.iconDragAccuracy
                ? (e = Math.floor(10 * parseFloat("" + e)) / 10)
                : 0.01 === this.iconDragAccuracy &&
                  (e = Math.floor(100 * parseFloat("" + e)) / 100),
              (i *= this.iconDragAccuracy)),
              this.$emit("typeChange", {
                type: t,
                val: i,
              }),
              this.$emit("change", this.validate(e + i));
          } else
            this.$emit("typeChange", {
              type: t,
              val: i,
            }),
              this.$emit("change", this.validate(i));
        }
        handleKeydown(...e) {
          this.$emit("keydown", ...e);
        }
        handleFocus(...e) {
          this.$emit("focus", ...e);
        }
        handleBlur(...e) {
          this.$emit("blur", ...e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        c.prototype,
        "focusSelectAll",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              default: () => ({
                splitter: "%",
                part: 0,
              }),
              required: !1,
            }),
          ],
          c.prototype,
          "focusSelectByCustom",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "disabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "hideOnDisabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "readonly",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "textarea",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "text",
              required: !1,
            }),
          ],
          c.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "",
              required: !1,
            }),
          ],
          c.prototype,
          "placeholder",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !1,
            }),
          ],
          c.prototype,
          "validate",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !1,
            }),
          ],
          c.prototype,
          "valueDecorator",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "noBorder",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "showDataIcon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !0,
              required: !1,
            }),
          ],
          c.prototype,
          "isTrim",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !1,
            }),
          ],
          c.prototype,
          "debounceTime",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !1,
            }),
          ],
          c.prototype,
          "debounceFunc",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "isNumber",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "enterFocus",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          c.prototype,
          "readonlyIndex",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !1,
              default: 3,
            }),
          ],
          c.prototype,
          "row",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          c.prototype,
          "value",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          c.prototype,
          "tip",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          c.prototype,
          "iconName",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          c.prototype,
          "iconDisabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          c.prototype,
          "iconDisabledDrag",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !1,
            }),
          ],
          c.prototype,
          "iconDragAccuracy",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          c.prototype,
          "iconStyle",
          void 0
        ),
        (c = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicLeftIcon: r["a"],
              },
            }),
          ],
          c
        ));
      var l = c,
        d = l,
        u = i("2877"),
        h = Object(u["a"])(d, s, o, !1, null, null, null);
      t["a"] = h.exports;
    },
    "8d7a": function (e, t, i) {
      "use strict";
      i("32bf");
    },
    "8e8e": function (e, t, i) {
      "use strict";
      i("fea6");
    },
    "8f8c": function (e, t, i) {
      "use strict";
      i("7c9b");
    },
    "8fb5": function (e, t, i) {
      "use strict";
      i("1c63");
    },
    "90fa": function (e, t, i) {
      "use strict";
      i("c62d");
    },
    "90fd": function (e, t, i) {
      "use strict";
      i("804d");
    },
    "914e": function (e, t, i) {
      "use strict";
      i("7d2c");
    },
    9160: function (e, t, i) {},
    9224: function (e) {
      e.exports = JSON.parse(
        '{"name":"master","version":"0.2.0","private":true,"scripts":{"setup-dev":"node script/setup-dev.js","serve":"vue-cli-service serve","serve:pri":"npm run prebuild:pri -- --dev && vue-cli-service serve --mode dev.pri","test:unit":"env TS_NODE_PROJECT=\'./tsconfig.unit.json\' TS_NODE_FILES=true nyc mocha -r ts-node/register -r tsconfig-paths/register -r ./tests/unit/hooks.js tests/unit/**/*.spec.ts --timeout 5000","test:unit:multi":"env NODE_OPTIONS=\'--max-old-space-size=8192\' env TS_NODE_PROJECT=\'./tsconfig.unit.json\' TS_NODE_FILES=true nyc mocha -r ts-node/register -r tsconfig-paths/register -r ./tests/unit/hooks.js tests/unit/**/*.spec.ts -R spec -R mocha-multi-reporters -O configFile=mocha-reporters-config.json --timeout 5000","test:e2e":"vue-cli-service test:e2e","test:e2e:local":"vue-cli-service test:e2e --baseUrl https://local.mastergo.com","test:e2e:safari":"vue-cli-service test:e2e --safari","lint":"env LINT=true vue-cli-service lint","build":"vue-cli-service build --mode prod","postbuild":"node script/postbuild.js","postbuild:dev":"node script/postbuild.js","build:dev":"vue-cli-service build --mode dev","build:test":"vue-cli-service build --mode test","prebuild:pri":"node script/pri/main.js","build:pri":"vue-cli-service build --mode pri","postbuild:pri":"npm run dist-analysis","typedoc:mastergo":"typedoc","analyzer":"vue-cli-service serve --analyzer","analyzer:build":"vue-cli-service build --mode prod --analyzer","convert-font":"node script/convert-font/main.js","dist-analysis":"node script/dist-analysis/main.js","inspect":"vue-cli-service inspect > inspect.js","inspect:prod":"vue-cli-service inspect --mode production > inspect.prod.js"},"nyc":{"branches":80,"lines":80,"functions":80,"statements":80,"check-coverage":false,"exclude":["vue.config.js"],"skip-full":false,"reporter":["text","lcov"]},"dependencies":{"@aminoeditor/vue-prism":"^1.0.14","@fingerprintjs/fingerprintjs":"^3.3.2","@juggle/resize-observer":"^3.3.1","@master/master-icons":"0.2.131","@master/master-log":"^0.1.39","@master/master-login":"^1.2.62","@master/master-quickjs":"^0.2.10","@master/master-realms":"^1.0.1","@master/master-sensors":"^0.1.0-beta","@master/master-ui":"^0.17.2","@master/opentype.js":"0.1.4","@master/turtle":"^0.0.48","@mastergo/plugin-typings":"1.6.1","@sentry/tracing":"^6.12.0","@sentry/vue":"^6.12.0","@sketch-hq/sketch-file-format-ts":"^6.2.0","@tiptap/extension-character-count":"^2.0.0-beta.24","@tiptap/extension-link":"^2.0.0-beta.36","@tiptap/extension-placeholder":"^2.0.0-beta.48","@tiptap/starter-kit":"^2.0.0-beta.179","@tiptap/vue-2":"^2.0.0-beta.77","ali-oss":"^6.17.1","axios":"^0.19.0","babel-plugin-import":"^1.13.5","canvas-confetti":"^1.5.1","compare-versions":"^5.0.3","compressorjs":"^1.0.7","crypto-js":"^4.1.1","css":"^3.0.0","dateformat":"^4.5.1","dayjs":"^1.11.1","dexie":"^3.0.3","emoji-regex":"^9.2.1","fuse.js":"^6.6.2","heic-convert":"^1.2.4","iconv-lite":"^0.6.3","image-type":"^4.1.0","js-base64":"^3.6.1","js-cookie":"^3.0.1","js-file-download":"^0.4.12","jsondiffpatch":"^0.4.1","jszip":"^3.10.1","kiwi-schema":"^0.4.7","lodash":"^4.17.20","lottie-web":"^5.1.9","normalize.css":"^8.0.1","nprogress":"^0.2.0","p-cancelable":"^2.1.1","pako":"^2.0.3","parse-svg-path":"^0.1.2","pdf-lib":"^1.17.1","portal-vue":"^2.1.7","prismjs":"^1.20.0","qrcode.vue":"1.x","raw-loader":"^4.0.2","realms-shim":"^1.2.2","recordrtc":"^5.6.2","spark-md5":"^3.0.0","svg-path-bbox":"^1.0.1","tinycolor2":"^1.4.1","tippy.js":"^6.3.7","transformation-matrix":"^2.11.1","ua-parser-js":"^0.7.22","unsplash-js":"^6.0.0","uuid":"^8.3.2","v-tooltip":"2.0.2","vue":"2.6.12","vue-class-component":"^7.1.0","vue-i18n":"^8.15.0","vue-lottie":"^0.2.1","vue-property-decorator":"^8.3.0","vue-router":"^3.1.3","vue-toastification":"^1.7.14","vue-virtual-scroller":"^1.1.2","vue2-transitions":"^0.3.0","vuedraggable":"^2.23.2","vuex":"^3.0.1","web-vitals":"^3.0.4","webpack-require-from":"^1.8.6"},"devDependencies":{"@master/eslint-plugin-master":"^0.0.13","@sentry/webpack-plugin":"^1.18.2","@types/chai":"^4.2.11","@types/css":"^0.0.31","@types/fingerprintjs2":"^2.0.0","@types/hammerjs":"^2.0.40","@types/lodash":"^4.14.165","@types/mocha":"^8.0.1","@types/pako":"^1.0.2","@types/recordrtc":"^5.6.8","@types/spark-md5":"^3.0.2","@types/ua-parser-js":"^0.7.34","@types/unsplash-js":"^6.0.1","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^3.3.0","@typescript-eslint/parser":"^3.10.1","@vue/cli-plugin-babel":"~5.0.0","@vue/cli-plugin-e2e-webdriverio":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-router":"^4.0.0","@vue/cli-plugin-typescript":"^4.0.0","@vue/cli-plugin-unit-mocha":"~4.5.0","@vue/cli-plugin-vuex":"^4.0.0","@vue/cli-service":"^4.0.0","@vue/eslint-config-airbnb":"^5.0.2","@vue/eslint-config-typescript":"^6.0.0","@vue/test-utils":"^1.0.3","babel-runtime":"^6.26.0","chai":"^4.1.2","chromedriver":"106.0.1","copy-webpack-plugin":"^5.1.1","eslint":"^6.7.2","eslint-plugin-import":"^2.20.2","eslint-plugin-vue":"^6.2.2","glob":"^7.2.0","jsdom":"^18.0.0","jsdom-global":"^3.0.2","jsonschema":"^1.4.1","license-webpack-plugin":"^2.3.16","lint-staged":"^10.5.3","mocha-multi-reporters":"^1.5.1","mocha-reportportal-reporter":"^2.0.7","node-sass":"^4.14.1","nyc":"^15.1.0","proxyquire":"^2.1.3","sass-loader":"^8.0.2","serve-handler":"^6.1.3","sinon":"^11.1.1","svg-sprite-loader":"^5.0.0","ts-node":"^8.10.2","tsconfig-paths":"^3.9.0","typedoc":"^0.22.18","typescript":"^4.4.4","typescript-json-schema":"^0.54.0","vue-template-compiler":"2.6.12","wdio-chromedriver-service":"^6.0.3","wdio-reportportal-reporter":"^6.4.0","wdio-reportportal-service":"^6.4.0","webpack-bundle-analyzer":"^4.4.2","worker-loader":"^3.0.8","yargs":"^16.2.0","zlib":"^1.0.5"},"gitHooks":{"pre-commit":"lint-staged"},"lint-staged":{"*.{js,ts,vue}":["npm run lint","git add"]},"resolutions":{"co":"^4.6.0","eve":"^0.5.4","webpack":"^4.43.0"}}'
      );
    },
    "92ca": function (e, t, i) {},
    "93e6": function (e, t, i) {},
    9588: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "bounced",
            },
            [
              i(
                "div",
                {
                  ref: "button",
                  staticClass: "bounced_button flex-c",
                  class: [e.isOpen && "active"],
                  on: {
                    mousedown: function (t) {
                      return t.preventDefault(), e.mousedownHandler(t);
                    },
                  },
                },
                [e._t("button")],
                2
              ),
              i(
                "div",
                {
                  ref: "menu",
                  staticClass: "bounced_content",
                  attrs: {
                    "data-masterdropgroup": e.groupLevel,
                  },
                },
                [
                  e.isOpen
                    ? i(
                        "BouncedTemplate",
                        {
                          attrs: {
                            title: e.title,
                            width: e.width,
                            noBorder: e.noBorder,
                          },
                          on: {
                            closeset: e.hideMenu,
                          },
                          scopedSlots: e._u(
                            [
                              {
                                key: "title",
                                fn: function () {
                                  return [e._t("title")];
                                },
                                proxy: !0,
                              },
                            ],
                            null,
                            !0
                          ),
                        },
                        [e._t("content")],
                        2
                      )
                    : e._e(),
                ],
                1
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("1d1f"),
        l = i("94dd"),
        d = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "bounced-template",
              style: {
                width: e.width ? e.width + "px" : "228px",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "header h6",
                  style: {
                    border: e.noBorder ? "none" : "",
                  },
                },
                [
                  e._t("title"),
                  i(
                    "div",
                    {
                      staticClass: "bounced-template_title",
                    },
                    [
                      i(
                        "span",
                        {
                          staticClass: "h6",
                        },
                        [e._v(e._s(e.title))]
                      ),
                      i("MasterButtonIcon", {
                        attrs: {
                          icon: "TimesIcon",
                        },
                        nativeOn: {
                          click: function (t) {
                            return e.closeset(t);
                          },
                        },
                      }),
                    ],
                    1
                  ),
                ],
                2
              ),
              e._t("default"),
            ],
            2
          );
        },
        u = [];
      let h = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
            required: !1,
          }),
        ],
        h.prototype,
        "title",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "228",
              required: !1,
            }),
          ],
          h.prototype,
          "width",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          h.prototype,
          "noBorder",
          void 0
        ),
        (h = Object(a["__decorate"])(
          [
            Object(n["a"])({
              methods: {
                closeset() {
                  this.$emit("closeset");
                },
              },
            }),
          ],
          h
        ));
      var p = h,
        m = p,
        g = (i("387d"), i("2877")),
        b = Object(g["a"])(m, d, u, !1, null, null, null),
        v = b.exports;
      let f = class extends l["b"] {
        computedOffset() {
          const e = this.$refs.menu,
            t = this.$refs.button,
            i = t.getBoundingClientRect(),
            s = e.getBoundingClientRect(),
            { top: o, left: a } = i,
            { width: n, height: r } = s,
            { clientHeight: c, clientWidth: l } = document.body;
          let d = 0,
            u = 0;
          switch (this.placement) {
            default:
            case "left-start":
              (d = o), (u = a - n);
              break;
          }
          (d -= this.offsetTop),
            (u -= this.offsetLeft),
            d + r > c ? (d = c - r - 12) : d < 0 && (d = 0),
            u + n > l ? (u = l - n) : u < 0 && (u = 0),
            void 0 !== this.right && (u = l - this.right - n),
            (e.style.top = d + "px"),
            (e.style.left = u + "px");
        }
        mounted() {
          const e = this.$refs.menu;
          this.isOpen || e.remove(),
            (this.resizeObserver = new c["a"](() => {
              this.computedOffset();
            }));
          const t = this.resizeObserver;
          t.observe(e);
        }
        beforeDestroy() {
          this.$keyWatcher.removeListener("esc", this.hideMenu),
            this.isOpen && ((this.isOpen = !1), this.$emit("close"));
          const e = this.$refs.menu;
          e && e.remove();
          const t = this.resizeObserver;
          t && t.disconnect();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        f.prototype,
        "needShieldeddrop",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 0,
              required: !1,
            }),
          ],
          f.prototype,
          "offsetLeft",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 0,
              required: !1,
            }),
          ],
          f.prototype,
          "offsetTop",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          f.prototype,
          "title",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "left-start",
              required: !1,
            }),
          ],
          f.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          f.prototype,
          "globalClose",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          f.prototype,
          "width",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: void 0,
              required: !1,
            }),
          ],
          f.prototype,
          "right",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          f.prototype,
          "isColorCollection",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          f.prototype,
          "noBorder",
          void 0
        ),
        (f = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["c"])("basicState", ["viewType"])
              ),
              components: {
                BouncedTemplate: v,
              },
              watch: {
                isOpen: {
                  handler(e, t) {
                    !0 === t && !1 === e
                      ? this.$emit("close")
                      : this.isColorCollection ||
                        this.$eventBus.$emit("collection-bounced-item-toggle");
                    const i = this.$refs.menu;
                    e
                      ? (document.body.append(i),
                        this.$nextTick(() => {
                          this.computedOffset();
                        }),
                        this.$keyWatcher.addListener("esc", this.hideMenu, !0),
                        this.onShow())
                      : (i.remove(),
                        this.$keyWatcher.removeListener("esc", this.hideMenu));
                  },
                },
                viewType() {
                  this.isOpen && this.hideMenu();
                },
              },
              methods: {
                hideMenu() {
                  (this.isOpen = !1), this.$emit("trigger", !1);
                },
                openMenu() {
                  this.isOpen = !0;
                },
                onShow() {
                  this.$store.dispatch("basicState/setBasicState", {
                    resourceDialog: !1,
                  }),
                    this.$emit("open");
                },
                mousedownHandler() {
                  this.$emit("trigger", !this.isOpen),
                    "click" === this.trigger && (this.isOpen = !this.isOpen);
                },
              },
            }),
          ],
          f
        ));
      var y = f,
        _ = y,
        C = (i("2c10"), Object(g["a"])(_, s, o, !1, null, null, null));
      t["a"] = C.exports;
    },
    "95c7": function (e, t, i) {},
    9651: function (e, t, i) {},
    "97e1": function (e, t, i) {
      "use strict";
      i("7a6c");
    },
    "983a": function (e, t, i) {
      "use strict";
      i.d(t, "a", function () {
        return a;
      });
      var s = i("dbb8"),
        o = i("d530");
      const a = (e) => {
        const { appVersion: t } = e,
          i = Object(s["c"])({
            print: !1,
            type: "BizWss",
            extraData: () => ({}),
          }),
          a = () => i,
          { debug: n, info: r, warn: c, error: l } = i,
          d = Object(s["e"])({
            onError: (e, t) => {
              l(
                "error on event " + String(e),
                "string" === typeof t
                  ? {
                      errMessage: t,
                    }
                  : {
                      errorObj: t,
                    }
              );
            },
          }),
          {
            addEventListener: u,
            on: h,
            once: p,
            removeEventListener: m,
            off: g,
          } = d,
          b = Object(o["a"])({
            path: "/messenger/biz",
            query: () => ({
              appVersion: t,
            }),
            eventPublisher: d,
            logger: i,
          }),
          v = Object(s["b"])({
            id: "wss-biz",
            enabled: !1,
            onPublisherEnabledChange: (e) => {
              e ? f() : y();
            },
            onUpstream: (e, ...t) => {
              O(e, ...t);
            },
            onDownstream: (e, ...t) => {
              I(e, ...t);
            },
          }),
          {
            enable: f,
            disable: y,
            register: _,
            unregister: C,
            unregisterAll: S,
            dispatch: I,
            send: O,
          } = v;
        b.registerMessageSubscriber(v);
        const k = () => Object.assign({}, b.status()),
          w = Object.assign(Object.assign({}, b), {
            status: k,
            registerMessageSubscriber: _,
            unregisterMessageSubscriber: C,
            unregisterAllMessageSubscriber: S,
            getLogger: a,
            addEventListener: u,
            on: h,
            once: p,
            removeEventListener: m,
            off: g,
          });
        return Object.freeze(w);
      };
    },
    9872: function (e, t, i) {
      "use strict";
      i("3861");
    },
    "9a29": function (e, t, i) {},
    "9ba2": function (e, t, i) {
      "use strict";
      i("1be5");
    },
    "9ba7": function (e, t, i) {
      "use strict";
      i("155d");
    },
    "9bf4": function (e, t, i) {},
    "9d2a": function (e, t, i) {},
    "9e25": function (e, t, i) {
      "use strict";
      i("0598");
    },
    "9ea6": function (e, t, i) {},
    "9f60": function (e, t, i) {},
    "9fc4": function (e, t, i) {},
    a013: function (e, t, i) {
      "use strict";
      i("3554");
    },
    a14a: function (e, t, i) {
      "use strict";
      i("1f47");
    },
    a26d: function (e, t, i) {
      "use strict";
      i("fbb9c");
    },
    a2ec: function (e, t, i) {},
    a461: function (e, t, i) {},
    a52b: function (e, t, i) {
      "use strict";
      i("9d2a");
    },
    a5d8: function (e, t, i) {
      "use strict";
      i("5717");
    },
    a5e2: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            e.open
              ? i(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.visible,
                        expression: "visible",
                      },
                    ],
                    ref: "modal",
                    staticClass: "container",
                    style: e.pos,
                    on: {
                      dragover: e.stopDragEventHandler,
                      dragenter: e.stopDragEventHandler,
                      drop: e.stopDragEventHandler,
                    },
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "header",
                        on: {
                          mousedown: e.handleMouseDown,
                        },
                      },
                      [e._t("header")],
                      2
                    ),
                    i(
                      "div",
                      {
                        staticClass: "content",
                      },
                      [e._t("content")],
                      2
                    ),
                  ]
                )
              : e._e(),
          ]);
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3");
      let r = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.lastPoint = {
              x: 0,
              y: 0,
            }),
            (this.transformX = 0),
            (this.transformY = 0),
            (this.containerWidth = 240),
            (this.containerHeight = 320),
            (this.isDragging = !1);
        }
        get pos() {
          return {
            width:
              "string" === typeof this.containerWidth
                ? this.containerWidth
                : this.containerWidth + "px",
            height:
              "string" === typeof this.containerHeight
                ? this.containerHeight
                : this.containerHeight + "px",
          };
        }
        onVisibleChange(e) {
          e && this.initPos();
        }
        handleMouseDown(e) {
          e.stopPropagation(),
            (this.lastPoint = {
              x: e.clientX,
              y: e.clientY,
            }),
            (this.isDragging = !0),
            this.$emit("dragStart"),
            document.addEventListener("mousemove", this.handleMouseMove),
            document.addEventListener("mouseup", this.handleMouseUp);
        }
        handleMouseMove(e) {
          if ((e.stopPropagation(), !this.isDragging)) return;
          const { clientX: t, clientY: i } = e,
            { x: s, y: o } = this.lastPoint,
            a = this.transformX + (t - s),
            n = this.transformY + (i - o);
          this.setPositon(a, n),
            (this.lastPoint = {
              x: t,
              y: i,
            });
        }
        handleMouseUp(e) {
          e.stopPropagation(),
            (this.isDragging = !1),
            document.removeEventListener("mousemove", this.handleMouseMove),
            document.removeEventListener("mouseup", this.handleMouseUp),
            this.$emit("dragEnd");
        }
        setPositon(e, t) {
          this.$refs.modal &&
            ((this.$refs.modal.style.transform = `translate3d(${e}px, ${t}px, 0)`),
            (this.transformX = e),
            (this.transformY = t));
        }
        setSize(e, t) {
          (this.containerWidth = e), (this.containerHeight = t);
        }
        initPos() {
          this.$refs.modal &&
            this.$nextTick(() => {
              const e = this.center
                  ? document.body.clientWidth / 2 - this.width / 2
                  : this.x,
                t = this.center
                  ? document.body.clientHeight / 2 -
                    this.$refs.modal.offsetHeight / 2
                  : this.y;
              this.setPositon(e, t);
            });
        }
        stopDragEventHandler(e) {
          this.stopDragEvent && (e.stopPropagation(), e.preventDefault());
        }
        initSize() {
          this.setSize(
            Math.min(document.body.offsetWidth, this.width),
            Math.min(document.body.offsetHeight, this.height)
          ),
            this.initPos();
        }
        mounted() {
          document.body.appendChild(this.$el),
            this.initSize(),
            window.addEventListener("resize", this.initSize);
        }
        beforeDestroy() {
          document.removeEventListener("mousemove", this.handleMouseMove),
            document.removeEventListener("mouseup", this.handleMouseUp),
            document.body.removeChild(this.$el),
            window.removeEventListener("resize", this.initSize);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        r.prototype,
        "visible",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "open",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 240,
            }),
          ],
          r.prototype,
          "width",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: [Number, String],
              default: 320,
            }),
          ],
          r.prototype,
          "height",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 200,
            }),
          ],
          r.prototype,
          "x",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 200,
            }),
          ],
          r.prototype,
          "y",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "center",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "stopDragEvent",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("visible")],
          r.prototype,
          "onVisibleChange",
          null
        ),
        (r = Object(a["__decorate"])([n["a"]], r));
      var c = r,
        l = c,
        d = (i("a26d"), i("2877")),
        u = Object(d["a"])(l, s, o, !1, null, "d1d6de2c", null);
      t["a"] = u.exports;
    },
    a62a: function (e, t, i) {
      e.exports = i.p + "static/img/add-component.93c7c09f.gif";
    },
    aa26: function (e, t, i) {
      "use strict";
      i.d(t, "d", function () {
        return r;
      }),
        i.d(t, "m", function () {
          return c;
        }),
        i.d(t, "g", function () {
          return l;
        }),
        i.d(t, "h", function () {
          return d;
        }),
        i.d(t, "p", function () {
          return u;
        }),
        i.d(t, "i", function () {
          return h;
        }),
        i.d(t, "o", function () {
          return p;
        }),
        i.d(t, "n", function () {
          return m;
        }),
        i.d(t, "j", function () {
          return g;
        }),
        i.d(t, "f", function () {
          return b;
        }),
        i.d(t, "l", function () {
          return v;
        }),
        i.d(t, "e", function () {
          return f;
        }),
        i.d(t, "r", function () {
          return y;
        }),
        i.d(t, "a", function () {
          return _;
        }),
        i.d(t, "k", function () {
          return C;
        }),
        i.d(t, "q", function () {
          return S;
        }),
        i.d(t, "b", function () {
          return I;
        }),
        i.d(t, "c", function () {
          return O;
        });
      var s = i("c868"),
        o = i("e0b5"),
        a = i("b39e");
      const n = {
        [s["d"].Normal]: o["a"].COMMENT,
        [s["d"].Proofread]: o["a"].PROOF,
        [s["d"].CircleTalk]: o["a"].CIRCLE_DRAW,
      };
      function r(e) {
        const t = null === e || void 0 === e ? void 0 : e.type;
        let i = o["a"].DEFAULT;
        t === s["d"].Normal
          ? (i = o["a"].COMMENT)
          : t === s["d"].Proofread
          ? (i = o["a"].PROOF)
          : t === s["d"].CircleTalk && (i = o["a"].CIRCLE_DRAW),
          o["c"].track(i, {
            action_type: "copy_link",
          });
      }
      function c(e) {
        const t = Object(a["f"])(null === e || void 0 === e ? void 0 : e.type);
        let i = "";
        const n = null === e || void 0 === e ? void 0 : e.type;
        n === s["d"].Normal || n === s["d"].CircleTalk
          ? (i = "at_member")
          : n === s["d"].Proofread && (i = "reply");
        const r = {
          action_type: i,
        };
        n === s["d"].Proofread && (r.action_detail = "at_member"),
          o["c"].track(t, r);
      }
      function l(e) {
        const t = Object(a["f"])(null === e || void 0 === e ? void 0 : e.type);
        o["c"].track(t, {
          action_type: "emoji",
        });
      }
      function d(e) {
        const t = Object(a["f"])(null === e || void 0 === e ? void 0 : e.type);
        let i = o["a"].DEFAULT;
        const n = null === e || void 0 === e ? void 0 : e.type;
        n === s["d"].Normal
          ? (i = o["a"].STICKER)
          : (n === s["d"].Proofread || n === s["d"].CircleTalk) &&
            (i = o["a"].REPLY);
        const r = {
          action_type: i,
        };
        (n !== s["d"].Proofread && n !== s["d"].CircleTalk) ||
          (r.action_detail = "click_sticker"),
          o["c"].track(t, r);
      }
      function u(e) {
        const t = {
          [s["d"].Normal]: "comment",
          [s["d"].CircleTalk]: "circledraw",
        };
        o["c"].track(t[e], {
          action_type: "complete",
        });
      }
      function h(e) {
        const t = {
          [s["d"].Normal]: "event_comment",
          [s["d"].CircleTalk]: "event_circledraw",
          [s["d"].Proofread]: "event_proof",
        };
        o["c"].track(o["a"].COMMENT_AREA, {
          action_parameter1: "reveal_area",
          action_type: t[e.type],
        });
      }
      function p(e) {
        let t = o["a"].DEFAULT;
        void 0 !== (null === e || void 0 === e ? void 0 : e.type) &&
          (t = n[null === e || void 0 === e ? void 0 : e.type]),
          o["c"].track(t, {
            action_type: "quickreply_member",
          });
      }
      function m(e) {
        const t = null === e || void 0 === e ? void 0 : e.type;
        let i = o["a"].DEFAULT;
        t === s["d"].Normal
          ? (i = o["a"].COMMENT)
          : t === s["d"].Proofread
          ? (i = o["a"].PROOF)
          : t === s["d"].CircleTalk && (i = o["a"].CIRCLE_DRAW),
          o["c"].track(i, {
            action_type: "emoji_reaction",
          });
      }
      function g() {
        o["c"].track(o["a"].COMMENT_AREA, {
          action_parameter1: "reveal_area",
          action_type: "copy_link",
        });
      }
      function b(e, t) {
        let i = o["a"].DEFAULT;
        const s = null === e || void 0 === e ? void 0 : e.type;
        void 0 !== s ? (i = n[s]) : void 0 !== t && (i = n[t]);
        let a = "";
        a = void 0 !== s ? "edit" : "reply";
        const r = {
          action_type: a,
        };
        void 0 === s && (r.action_detail = "edit_reply"), o["c"].track(i, r);
      }
      function v() {
        o["c"].track(o["a"].COMMENT_AREA, {
          action_parameter1: "reveal_area",
          action_type: "alter_unread",
        });
      }
      function f(e, t) {
        const i = null === e || void 0 === e ? void 0 : e.type;
        let a = o["a"].DEFAULT;
        void 0 !== i && (a = n[i]), t && (a = o["a"].COMMENT_AREA);
        let r = "del";
        if (t && void 0 !== i) {
          const e = {
            [s["d"].Normal]: "del_comment",
            [s["d"].CircleTalk]: "del_circledraw",
            [s["d"].Proofread]: "del_proof",
          };
          r = e[i];
        }
        const c = {
          action_type: r,
        };
        t && (c.action_parameter1 = "reveal_area"), o["c"].track(a, c);
      }
      function y(e) {
        let t = o["a"].DEFAULT;
        void 0 !== e && (t = n[e]);
        const i = {
          action_type: "reply",
          action_detail: "del_reply",
        };
        o["c"].track(t, i);
      }
      function _(e) {
        const t = e.type;
        let i = o["a"].DEFAULT;
        t === s["d"].Normal
          ? (i = o["a"].COMMENT)
          : t === s["d"].Proofread && (i = o["a"].PROOF),
          o["c"].track(i, {
            action_type: "check",
          });
      }
      function C(e, t) {
        const i = {
            [s["d"].Normal]: "complete_comment",
            [s["d"].CircleTalk]: "complete_circledraw",
          },
          a = t,
          r = a ? o["a"].COMMENT_AREA : n[e],
          c = a ? i[e] : "complete",
          l = {
            action_type: c,
          };
        a && (l.action_parameter1 = "reveal_area"), o["c"].track(r, l);
      }
      function S(e) {
        o["c"].track(o["a"].PROOF, {
          action_type: e,
        });
      }
      function I() {
        o["c"].track(o["a"].CIRCLE_DRAW, {
          action_type: "create",
          action_detail: "record_circledraw",
        });
      }
      function O(e) {
        let t;
        t = e ? o["a"].COMMENT_AREA : o["a"].CIRCLE_DRAW;
        const i = {
          action_type: e ? "check_play" : "check",
        };
        e && (i.action_parameter1 = "reveal_area"), o["c"].track(t, i);
      }
    },
    aa8e: function (e, t, i) {},
    ab88: function (e, t, i) {},
    ac37: function (e, t, i) {},
    ac66: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              on: {
                mousedown: e.onHeadMouseDown,
              },
            },
            [
              i("MHead", {
                staticClass: "m-head-user-avatar",
                class: e.IS_PRI && "pir__hook",
                attrs: {
                  userInfo: e.userInfoForHead,
                  avatarSize: e.inFile ? "small" : "middle",
                  isResourceSquare: !1,
                  listMode: e.listMode,
                  isPri: "pri" === e.isPri,
                  theme: e.themeColor,
                  usePointer: !0,
                  expandList: e.expandList,
                },
                on: {
                  logout: e.logout,
                  router: e.changeRouter,
                  theme: e.changeTheme,
                  admin: e.goToAdmin,
                  download: e.download,
                },
              }),
              e.inFile
                ? e._e()
                : i("BadgeDialog", {
                    attrs: {
                      visible:
                        e.currentPopup && "userBadge" === e.currentPopup.name,
                    },
                  }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("852e"),
        c = i.n(r),
        l = i("d257"),
        d = i("2f62"),
        u = i("1ea3"),
        h = i("7ffc"),
        p = i("395c"),
        m = i("79f6c"),
        g = i("e46f"),
        b = i("cc4d"),
        v = i("a33a"),
        f = i("2ef0"),
        y = i("1ecf"),
        _ = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "color-mode__layout",
            },
            [
              e.currentBadge && e.visible
                ? i(
                    "MasterDialog",
                    {
                      attrs: {
                        visible: !!e.currentBadge,
                        showClose: !1,
                        showHeader: !1,
                        width: "304px",
                        top: "25vh",
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "user-avatar__bdge",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "title",
                            },
                            [
                              i("div", [e._v("恭喜你获得新徽章")]),
                              i(
                                "div",
                                {
                                  staticClass: "bdge_close",
                                  on: {
                                    click: e.bdgeClose,
                                  },
                                },
                                [
                                  i("TimesIcon", {
                                    attrs: {
                                      size: "16",
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "bdge_img",
                            },
                            [
                              i("img", {
                                attrs: {
                                  src: e.currentBadge.image,
                                },
                              }),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "bdge_name",
                            },
                            [e._v(e._s(e.currentBadge.name || "· 勤奋好学 ·"))]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "bdge_info",
                            },
                            [
                              e._v(
                                e._s(
                                  e.currentBadge.description || "学校信息认证"
                                )
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "bdge_btn",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                  },
                                  on: {
                                    click: function (t) {
                                      return e.goBdge();
                                    },
                                  },
                                },
                                [e._v("查看勋章")]
                              ),
                            ],
                            1
                          ),
                        ]
                      ),
                    ]
                  )
                : e._e(),
            ],
            1
          );
        },
        C = [],
        S = i("9039");
      let I = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.currentBadge = null),
            (this.timer = null),
            (this.badges = []);
        }
        mounted() {
          this.userSetting &&
            this.userSetting.userBadge &&
            this.userSetting.userBadge.length &&
            (this.badges = this.userSetting.userBadge.map((e) =>
              Object.assign({}, e)
            )),
            (this.currentBadge = this.popBadges());
        }
        destroyed() {
          this.timer = null;
        }
        bdgeClose() {
          const { badges: e = [] } = this;
          this.updateBadgesCb(this.currentBadge.badgeId),
            (this.currentBadge = null),
            (this.timer = setTimeout(() => {
              this.currentBadge = this.popBadges();
            }, 1e3)),
            (e.length && e) || this.$store.commit("CLOSE_POPUP", "userBadge");
        }
        goBdge() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.bdgeClose();
            const e = this.$router.resolve({
              path: "/files/account?tab=badge",
            });
            window.open(e.href, "_blank");
          });
        }
        popBadges() {
          const { badges: e = [] } = this;
          return e && e.length ? e.pop() : null;
        }
        updateBadgesCb(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(m["md"])({
              badgeId: e,
            });
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
          }),
        ],
        I.prototype,
        "visible",
        void 0
      ),
        (I = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterDialog: S["a"],
              },
              computed: Object.assign(
                {},
                Object(d["e"])({
                  userSetting: (e) => e.main.userSetting,
                })
              ),
            }),
          ],
          I
        ));
      var O = I,
        k = O,
        w = (i("1844"), i("2877")),
        x = Object(w["a"])(k, _, C, !1, null, "233ae7c5", null),
        L = x.exports,
        A = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "svg",
            {
              attrs: {
                xmlns: "http://www.w3.org/2000/svg",
                "xmlns:xlink": "http://www.w3.org/1999/xlink",
                version: "1.1",
                width: "24",
                height: "24",
                viewBox: "0 0 24 24",
                fill: "currentColor",
              },
            },
            [
              i("defs", [
                i(
                  "clipPath",
                  {
                    attrs: {
                      id: "master_svg0_15397_04600",
                    },
                  },
                  [
                    i("rect", {
                      attrs: {
                        x: "0",
                        y: "0",
                        width: "24",
                        height: "24",
                        rx: "0",
                      },
                    }),
                  ]
                ),
                i(
                  "clipPath",
                  {
                    attrs: {
                      id: "master_svg1_15397_04694",
                    },
                  },
                  [
                    i("rect", {
                      attrs: {
                        x: "6",
                        y: "6",
                        width: "12",
                        height: "12",
                        rx: "0",
                      },
                    }),
                  ]
                ),
              ]),
              i(
                "g",
                {
                  attrs: {
                    "clip-path": "url(#master_svg0_15397_04600)",
                  },
                },
                [
                  i(
                    "g",
                    {
                      staticStyle: {
                        "mix-blend-mode": "passthrough",
                      },
                      attrs: {
                        "clip-path": "url(#master_svg1_15397_04694)",
                      },
                    },
                    [
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("path", {
                            attrs: {
                              d: "M7,6L14,6L14,18L7,18L7,6ZM8,7L8,17L13,17L13,7L8,7Z",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("path", {
                            attrs: {
                              d: "M14,17L17,17L17,17.5L16.5,17.5L16.5,12.5L17,12.5L16.75193,12.93412L13.251931,10.934122L13.748069,10.065878L17.5,12.20984L17.5,18L14,18L14,17Z",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "9",
                              y: "8.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "9",
                              y: "11.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "9",
                              y: "14.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "11",
                              y: "8.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "11",
                              y: "11.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                      i(
                        "g",
                        {
                          staticStyle: {
                            "mix-blend-mode": "passthrough",
                          },
                        },
                        [
                          i("rect", {
                            attrs: {
                              x: "11",
                              y: "14.5",
                              width: "1",
                              height: "1",
                              rx: "0",
                              "fill-opacity": "0.8500000238418579",
                            },
                          }),
                        ]
                      ),
                    ]
                  ),
                ]
              ),
            ]
          );
        },
        T = [],
        j = {
          name: "AddCircleIcon",
          props: {
            size: {
              type: String,
              default: "inherit",
            },
            rotate: {
              type: String,
              default: "0",
            },
            fill: {
              type: String,
              default: "none",
            },
          },
        },
        M = j,
        E = Object(w["a"])(M, A, T, !1, null, null, null);
      E.exports;
      let P = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isPri = "prod"),
            (this.themeColor = Object(l["J"])("themeColor")),
            (this.listMode = {
              home: !1,
              theme: !0,
              community: !0,
              personal: !0,
              website: !0,
              plugin: !1,
              setting: !0,
              logout: !0,
              download: !Object(l["ab"])() && !0,
            }),
            (this.displayAdminEntry = !1),
            (this.clickTimer = 0),
            (this.clickCount = 0);
        }
        get userInfoForHead() {
          if (this.inFile && this.userinfo.nicknameInTeam) {
            const e = this.userinfo.nicknameInTeam,
              t = Object(f["clone"])(this.userinfo),
              i = Object.assign(t, {
                name: e,
              });
            return i;
          }
          return this.userinfo;
        }
        get expandList() {
          const e = [];
          return (
            this.isOrgAdmin &&
              e.push({
                title: "管理后台",
                enabled: !0,
                type: "router",
                path: "/org/orgId/home",
                toursName: "org_enter",
                icon: "OrgLogoLineIcon",
                appendIndex: (e) => "退出登录" === e.title,
              }),
            e
          );
        }
        created() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            (this.listMode = Object.assign(Object.assign({}, this.listMode), {
              setting: !this.inFile,
              logout: !this.inFile,
            })),
              this.inFile ||
                (this.isDark === ("dark" === this.themeColor) &&
                  ((this.themeColor = this.isDark ? "light" : "dark"),
                  this.changeTheme()));
          });
        }
        themeChangeHandle(e) {
          this.themeColor = e ? "dark" : "light";
        }
        logout() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.$eventBus.$emit("clearToast");
            const e = yield Object(u["a"])();
            yield Object(m["yc"])({
              deviceID: e,
            }),
              p["a"].logout(),
              this.$store.dispatch("logout"),
              this.$router.replace("/files/login"),
              Object(y["d"])();
          });
        }
        download(e) {
          try {
            const t = {
              "mobile-app": () =>
                Object(l["qb"])("https://mastergo.com/resource"),
              "pc-app": () =>
                Object(l["hb"])()
                  ? Object(l["qb"])(this.$router.resolve("/resource").href)
                  : Object(l["qb"])(Object(l["A"])()),
              "font-extension": () => Object(l["qb"])(Object(l["C"])()),
              "pc-app-mac-arm": () =>
                Object(l["qb"])(
                  `/static/plugins/desktop/macos/arm/index/${
                    "Done" === Object(m["K"])().channel
                      ? "Done"
                      : "MasterGoPrivate"
                  }.dmg`
                ),
              "pc-app-mac-x86": () =>
                Object(l["qb"])(
                  `/static/plugins/desktop/macos/x86/index/${
                    "Done" === Object(m["K"])().channel
                      ? "Done"
                      : "MasterGoPrivate"
                  }.dmg`
                ),
              "pc-app-win": () =>
                Object(l["qb"])(
                  `/static/plugins/desktop/win64/index/${
                    "Done" === Object(m["K"])().channel
                      ? "Done"
                      : "MasterGoPrivate"
                  }.exe`
                ),
            };
            t[e.toursName](), this.$eventBus.$emit("community-guide-done", 1);
          } catch (t) {}
        }
        toggle(e) {
          e !== this.themeColor &&
            ((this.themeColor = "dark" === e ? "light" : "dark"),
            this.changeTheme());
        }
        updateBadgesCb(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(m["md"])({
              badgeId: e,
            });
          });
        }
        goToAdmin() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(m["ed"])();
            const e = Object(m["K"])();
            Object(l["qb"])(e.adminPortal);
          });
        }
        changeTheme() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            "dark" === this.themeColor
              ? (this.$theme.light(), this.light(), (this.themeColor = "light"))
              : (this.$theme.dark(), this.dark(), (this.themeColor = "dark")),
              Object(l["Db"])(h["j"].THEME_COLOR, this.themeColor),
              Object(l["ab"])() &&
                g["a"].sendPluginData("changeTheme", this.themeColor),
              yield Object(m["nd"])({
                color_schema: this.themeColor,
              }),
              v["a"].send("UserSettingsModified", {
                userID: this.userId,
                boardcast_data: {
                  color_schema: this.themeColor,
                },
              });
          });
        }
        changeRouter(e) {
          if (
            ((e.path = e.path.replace("/id", "/" + this.userId)),
            "/" === e.path &&
              (Object(l["Eb"])("from", "master"), c.a.set("from", "master")),
            0 === e.path.indexOf("/org"))
          ) {
            const t = e.path.replace("/orgId", "/" + this.currentOrgId);
            if (Object(l["ab"])())
              g["a"].getForceStatus("1.4.15")
                ? this.$toast({
                    content: "客户端版本过低",
                    position: "top",
                  })
                : (window.location.href = t);
            else {
              const e = window.origin + t;
              b["b"] ? Object(b["b"])(e) : window.open(e, "_blank");
            }
          } else
            e.path.includes("account")
              ? this.$router.push(e.path)
              : window.open(this.$router.resolve(e.path).href);
        }
        onHeadMouseDown() {
          var e;
          (this.clickCount += 1),
            this.clickCount > 2 &&
              (this.clearClick(),
              window.alert(
                null === (e = this.userinfo) || void 0 === e ? void 0 : e.id
              )),
            this.clickTimer ||
              (this.clickTimer = setTimeout(() => {
                this.clearClick();
              }, 300));
        }
        clearClick() {
          window.clearTimeout(this.clickTimer),
            (this.clickTimer = 0),
            (this.clickCount = 0);
        }
        beforeDestroy() {
          this.clearClick();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
          }),
        ],
        P.prototype,
        "inFile",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("isDark", {
              immediate: !0,
            }),
          ],
          P.prototype,
          "themeChangeHandle",
          null
        ),
        (P = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign({}, Object(d["c"])(["userinfo"])),
                    Object(d["c"])("org", ["isOrgAdmin"])
                  ),
                  Object(d["e"])({
                    userId: (e) => e.main.userInfo.id,
                    userTheme: (e) => e.main.userSetting.userTheme,
                    isDark: (e) => e.main.isDark,
                    currentOrgId: (e) => e.org.currentOrgId,
                  })
                ),
                Object(d["c"])(["currentPopup"])
              ),
              methods: Object.assign({}, Object(d["d"])(["dark", "light"])),
              inject: ["IS_PRI"],
              components: {
                BadgeDialog: L,
              },
            }),
          ],
          P
        ));
      var D = P,
        B = D,
        N = (i("53db"), Object(w["a"])(B, s, o, !1, null, "2ed58e24", null));
      t["a"] = N.exports;
    },
    ace9: function (e, t, i) {},
    ad0b: function (e, t, i) {},
    ad54: function (e, t, i) {
      "use strict";
      i("18f1");
    },
    ad58: function (e, t, i) {
      "use strict";
      i("27a2");
    },
    ad9c: function (e, t, i) {
      "use strict";
      i("27e6");
    },
    adbc: function (e, t, i) {},
    aeb2: function (e, t, i) {},
    af59: function (e, t, i) {},
    afaa: function (e, t, i) {
      "use strict";
      i("e739");
    },
    afe2: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "section",
            {
              staticClass: "covercard",
            },
            [
              i(
                "header",
                {
                  staticClass: "covercard__pic",
                },
                [
                  i("div", {
                    staticClass: "covercard__img",
                    style: {
                      "background-image": "url(" + e.url + ")",
                    },
                  }),
                  i("svg-plugin", {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: e.showPlayIcon,
                        expression: "showPlayIcon",
                      },
                    ],
                    staticClass: "covercard__plabtn",
                    staticStyle: {
                      width: "32px",
                      height: "32px",
                    },
                    attrs: {
                      name: "play",
                    },
                  }),
                ],
                1
              ),
              e.displayUserInfo
                ? i(
                    "div",
                    {
                      staticClass: "covercard__desc",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "covercard__icon",
                        },
                        [
                          i("Portrait", {
                            attrs: {
                              info: e.userinfo,
                              size: "small",
                            },
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "covercard__text",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "covercard__textbox",
                            },
                            [i("span", [e._v(e._s(e.getResName))]), e._e()]
                          ),
                          i("p", [e._v(e._s(e.userName))]),
                        ]
                      ),
                    ]
                  )
                : e._e(),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("a5e2"),
        c = i("b29f"),
        l = i("1fe8"),
        d = i("bbf1"),
        u = i("2f62"),
        h = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return "duplicate" === e.name
            ? i(
                "svg",
                {
                  attrs: {
                    xmlns: "http://www.w3.org/2000/svg",
                    "xmlns:xlink": "http://www.w3.org/1999/xlink",
                    fill: "none",
                    version: "1.1",
                    width: "14",
                    height: "14",
                    viewBox: "0 0 14 14",
                  },
                },
                [
                  i(
                    "clipPath",
                    {
                      attrs: {
                        id: "master_svg_0",
                      },
                    },
                    [
                      i("rect", {
                        attrs: {
                          x: "0",
                          y: "0",
                          width: "14",
                          height: "14",
                          rx: "0",
                        },
                      }),
                    ]
                  ),
                  i(
                    "g",
                    {
                      attrs: {
                        "clip-path": "url(#master_svg_0)",
                      },
                    },
                    [
                      i("g", [
                        i("g"),
                        i("path", {
                          attrs: {
                            d: "M4.5,2.1C4.5,1.768629,4.76863,1.5,5.1,1.5L11.5,1.5C12.0523,1.5,12.5,1.947715,12.5,2.5L12.5,8.9C12.5,9.23137,12.2314,9.5,11.9,9.5L5.1,9.5C4.76863,9.5,4.5,9.23137,4.5,8.9L4.5,2.1ZM5.5,2.5L5.5,8.5L11.5,8.5L11.5,2.5L5.5,2.5ZM2.1,4.5L2.5,4.5L2.5,11.5L3.1,11.5L8.5,11.5L9.5,11.5L9.5,11.9C9.5,12.2314,9.23137,12.5,8.9,12.5L2.5,12.5C1.947715,12.5,1.5,12.0523,1.5,11.5L1.5,5.1C1.5,4.76863,1.768629,4.5,2.1,4.5Z",
                            "fill-rule": "evenodd",
                            fill: "currentColor",
                            "fill-opacity": "1",
                          },
                        }),
                      ]),
                    ]
                  ),
                ]
              )
            : e._e();
        },
        p = [];
      let m = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        m.prototype,
        "name",
        void 0
      ),
        (m = Object(a["__decorate"])([n["a"]], m));
      var g = m,
        b = g,
        v = i("2877"),
        f = Object(v["a"])(b, h, p, !1, null, null, null),
        y = f.exports;
      let _ = class extends n["g"] {
        constructor() {
          super(...arguments), (this.PubState = l["b"]);
        }
        get getResName() {
          return this.resName.length > 12
            ? this.resName.slice(0, 12) + "..."
            : this.resName;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        _.prototype,
        "url",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          _.prototype,
          "resName",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          _.prototype,
          "userName",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          _.prototype,
          "displayUserInfo",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          _.prototype,
          "showPlayIcon",
          void 0
        ),
        (_ = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                DraggableModal: r["a"],
                MasterButtonIcon: c["a"],
                Portrait: d["a"],
                Icon: y,
              },
              computed: Object.assign({}, Object(u["c"])(["userinfo"])),
            }),
          ],
          _
        ));
      var C = _,
        S = C,
        I = (i("842f"), Object(v["a"])(S, s, o, !1, null, "7bd51879", null));
      t["a"] = I.exports;
    },
    b17c: function (e, t, i) {},
    b2f7: function (e, t, i) {
      "use strict";
      var s = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              staticClass: "emoticon",
              class:
                ((e = {}),
                (e["emoticon--size-" + t.size] = !0),
                (e["emoticon--status-" + t.status] = !0),
                (e["emoticon--clickable"] = t.clickable),
                (e["emoticon--removable"] = t.removable),
                e),
              on: {
                click: t.onClick,
              },
            },
            [
              "loading" === t.status
                ? s("LoadingIcon", {
                    key: "loading",
                    staticClass: "emoticon__loading",
                  })
                : "failed" === t.status
                ? s("EmoticonFailedIcon", {
                    key: "failed",
                    staticClass: "emoticon__failed",
                  })
                : s("img", {
                    key: "image",
                    staticClass: "emoticon__image",
                    attrs: {
                      src: t.url,
                    },
                  }),
              t.preview
                ? s("MPopover", {
                    key: "popover",
                    staticClass: "emoticon__popover",
                    attrs: {
                      trigger: "hover",
                      placement: "top",
                      contentStyle: {
                        pointerEvents: "none",
                      },
                    },
                    scopedSlots: t._u(
                      [
                        {
                          key: "trigger",
                          fn: function () {
                            return [
                              s("div", {
                                staticClass: "emoticon__popover-trigger",
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                        {
                          key: "content",
                          fn: function () {
                            return [
                              s(
                                "div",
                                {
                                  staticClass: "emoticon__popover-container",
                                },
                                [
                                  "loading" === t.status
                                    ? s("LoadingIcon", {
                                        key: "loading",
                                        staticClass: "emoticon__loading",
                                      })
                                    : "failed" === t.status
                                    ? s("EmoticonFailedIcon", {
                                        key: "failed",
                                        staticClass: "emoticon__failed",
                                      })
                                    : s("img", {
                                        staticClass: "emoticon__original",
                                        attrs: {
                                          src: t.previewURL,
                                        },
                                      }),
                                ],
                                1
                              ),
                            ];
                          },
                          proxy: !0,
                        },
                      ],
                      null,
                      !1,
                      3325921528
                    ),
                  })
                : t._e(),
              t.removable
                ? s(
                    "span",
                    {
                      key: "remove-button",
                      staticClass: "emoticon__remove-button",
                      on: {
                        click: t.onRemove,
                      },
                    },
                    [s("TimesIcon")],
                    1
                  )
                : t._e(),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "svg",
            {
              attrs: {
                fill: "none",
                width: "25.972341537475586",
                height: "22.85284423828125",
                viewBox: "0 0 25.972341537475586 22.85284423828125",
              },
            },
            [
              i(
                "g",
                {
                  staticStyle: {
                    "mix-blend-mode": "passthrough",
                  },
                },
                [
                  i("g", [
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i("path", {
                          attrs: {
                            d: "M11.6464,14.08998916015625L5.64645,8.08993916015625Q5.61334,8.05682916015625,5.58695,8.01814916015625Q5.56056,7.97946916015625,5.54182,7.93655916015625Q5.52307,7.89364916015625,5.51262,7.84800916015625Q5.50217,7.80236916015625,5.50037,7.75557916015625Q5.49857,7.70878916015625,5.50549,7.66247916015625Q5.51241,7.61616916015625,5.52781,7.57194916015625Q5.54321,7.52772916015625,5.56656,7.48713916015625Q5.5899,7.44654916015625,5.62037,7.41098916015625L11.6204,0.41099316015625L12,0.73638916015625L12,1.23638916015625L2,1.23638916015625Q1.37868,1.23638916015625,0.93934,1.67572916015625Q0.5,2.11506916015625,0.5,2.73638916015625L0.5,18.73638916015625Q0.5,19.35768916015625,0.93934,19.79708916015625Q1.37868,20.23638916015625,2,20.23638916015625L6,20.23638916015625L6,20.73638916015625L5.62037,20.41098916015625L11.6204,13.41098916015625L12,13.73638916015625L11.6464,14.08998916015625ZM12.3536,13.38278916015625Q12.3867,13.41598916015625,12.4131,13.45458916015625Q12.4394,13.49328916015625,12.4582,13.53618916015625Q12.4769,13.57908916015625,12.4874,13.62478916015625Q12.4978,13.67038916015625,12.4996,13.71718916015625Q12.5014,13.76398916015625,12.4945,13.81028916015625Q12.4876,13.85658916015625,12.4722,13.90078916015625Q12.4568,13.94508916015625,12.4334,13.98568916015625Q12.4101,14.02618916015625,12.3796,14.06178916015625L6.37963,21.06178916015625Q6.30839,21.14488916015625,6.20893,21.19068916015625Q6.10947,21.23638916015625,6,21.23638916015625L2,21.23638916015625Q0.964466,21.23638916015625,0.232233,20.50418916015625Q-0.5,19.77188916015625,-0.5,18.73638916015625L-0.5,2.73638916015625Q-0.5,1.70085516015625,0.232233,0.96862216015625Q0.964466,0.23638916015625,2,0.23638916015625L12,0.23638916015625Q12.0895,0.23638916015625,12.1735,0.26744616015625Q12.2574,0.29850416015625,12.3254,0.35676116015625Q12.3628,0.38880916015625,12.3932,0.42753716015625Q12.4236,0.46626416015625,12.4459,0.51018216015625Q12.4682,0.5540991601562499,12.4815,0.60152016015625Q12.4947,0.64894026015625,12.4985,0.69804086015625Q12.5023,0.74714156015625,12.4964,0.79603556015625Q12.4906,0.84492916015625,12.4753,0.89173816015625Q12.46,0.93854616015625,12.4358,0.98147016015625Q12.4117,1.02439516015625,12.3796,1.06178516015625L6.37963,8.06178916015625L6,7.73638916015625L6.35355,7.38283916015625L12.3536,13.38278916015625Z",
                            transform:
                              "matrix(0.9981153607368469,-0.06136573478579521,0.06136573478579521,0.9981153607368469,-0.04518906190128291,0.0013878279241907876)",
                            fill: "#FFFFFF",
                            "fill-opacity": "1",
                          },
                        }),
                      ]
                    ),
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i("path", {
                          attrs: {
                            d: "M33.6376109375,36.20644423828125L27.6376609375,30.20639423828125Q27.6045509375,30.173284238281248,27.5781609375,30.13460423828125Q27.5517709375,30.09592423828125,27.5330309375,30.05301423828125Q27.5142809375,30.01010423828125,27.5038309375,29.964464238281252Q27.4933809375,29.91882423828125,27.4915809375,29.872034238281252Q27.4897809375,29.82524423828125,27.4967009375,29.778934238281252Q27.5036209375,29.73262423828125,27.5190209375,29.68840423828125Q27.534420937500002,29.644184238281248,27.5577709375,29.60359423828125Q27.5811109375,29.563004238281252,27.6115809375,29.527444238281248L33.611610937500004,22.52744823828125L33.9912109375,22.85284423828125L33.9912109375,23.35284423828125L23.9912109375,23.35284423828125Q23.3698909375,23.35284423828125,22.9305509375,23.79218423828125Q22.4912109375,24.23152423828125,22.4912109375,24.85284423828125L22.4912109375,40.85284423828125Q22.4912109375,41.474144238281255,22.9305509375,41.91354423828125Q23.3698909375,42.35284423828125,23.9912109375,42.35284423828125L27.9912109375,42.35284423828125L27.9912109375,42.85284423828125L27.6115809375,42.52744423828125L33.611610937500004,35.52744423828125L33.9912109375,35.85284423828125L33.6376109375,36.20644423828125ZM34.3448109375,35.49924423828125Q34.3779109375,35.53244423828125,34.4043109375,35.571044238281246Q34.4306109375,35.60974423828125,34.4494109375,35.65264423828125Q34.4681109375,35.69554423828125,34.4786109375,35.741244238281254Q34.4890109375,35.78684423828125,34.4908109375,35.83364423828125Q34.492610937500004,35.88044423828125,34.4857109375,35.92674423828125Q34.4788109375,35.97304423828125,34.4634109375,36.01724423828125Q34.4480109375,36.06154423828125,34.4246109375,36.10214423828125Q34.4013109375,36.14264423828125,34.370810937499996,36.17824423828125L28.3708409375,43.17824423828125Q28.2996009375,43.261344238281254,28.2001409375,43.30714423828125Q28.1006809375,43.35284423828125,27.9912109375,43.35284423828125L23.9912109375,43.35284423828125Q22.9556769375,43.35284423828125,22.2234439375,42.62064423828125Q21.4912109375,41.88834423828125,21.4912109375,40.85284423828125L21.4912109375,24.85284423828125Q21.4912109375,23.81731023828125,22.2234439375,23.08507723828125Q22.9556769375,22.35284423828125,23.9912109375,22.35284423828125L33.9912109375,22.35284423828125Q34.0807109375,22.35284423828125,34.164710937500004,22.38390123828125Q34.248610937500004,22.41495923828125,34.3166109375,22.47321623828125Q34.3540109375,22.50526423828125,34.3844109375,22.54399223828125Q34.4148109375,22.58271923828125,34.4371109375,22.62663723828125Q34.459410937499996,22.67055423828125,34.4727109375,22.71797523828125Q34.4859109375,22.76539533828125,34.4897109375,22.81449593828125Q34.4935109375,22.86359663828125,34.4876109375,22.91249063828125Q34.4818109375,22.96138423828125,34.466510937500004,23.00819323828125Q34.4512109375,23.05500123828125,34.4270109375,23.09792523828125Q34.402910937499996,23.14085023828125,34.370810937499996,23.17824023828125L28.3708409375,30.178244238281252L27.9912109375,29.85284423828125L28.3447609375,29.49929423828125L34.3448109375,35.49924423828125Z",
                            transform:
                              "matrix(-0.9799880385398865,-0.1990565061569214,0.1990565061569214,-0.9799880385398865,38.993327279436926,49.625851853790664)",
                            fill: "#FFFFFF",
                            "fill-opacity": "1",
                          },
                        }),
                      ]
                    ),
                  ]),
                ]
              ),
            ]
          );
        },
        l = [],
        d = i("2877"),
        u = {},
        h = Object(d["a"])(u, c, l, !1, null, null, null),
        p = h.exports;
      function m(e, t, i) {
        const s = [...new Set((Array.isArray(e) && e) || [e])],
          o = Object.fromEntries(s.map((e) => [e, !1])),
          a = (e) => {
            (o[e] = !0), Object.values(o).every((e) => e) && t();
          };
        s.forEach((e) => {
          const t = new Image();
          (t.src = e),
            t.complete && a(e),
            (t.onload = () => a(e)),
            (t.onerror = (e) => i(e));
        });
      }
      let g = class extends n["g"] {
        constructor() {
          super(...arguments), (this.status = "loading");
        }
        get url() {
          const { emoticon: e, thumbnail: t } = this;
          return e ? (t && e.thumbnailURL) || e.imageURL : "";
        }
        get previewURL() {
          const { emoticon: e } = this;
          return (e && e.imageURL) || "";
        }
        get emoticon() {
          const { idOrData: e, getEmoticon: t } = this;
          return "string" === typeof e ? t(e) : e;
        }
        onClick() {
          const { emoticon: e } = this;
          e && this.$emit("click", e.id);
        }
        onRemove() {
          const { emoticon: e } = this;
          e && this.$emit("remove", e.id);
        }
        load() {
          const { status: e, emoticon: t } = this;
          if ("succeed" === e) return;
          if (!t) return void (this.status = "failed");
          const { imageURL: i, thumbnailURL: s } = t,
            o = [i, s].filter((e) => !!e);
          0 !== o.length
            ? m(
                o,
                () => {
                  this.status = "succeed";
                },
                (e) => {
                  (this.status = "failed"),
                    console.error("emoticon load image failed", e);
                }
              )
            : (this.status = "failed");
        }
        mapChange() {
          this.load();
        }
        created() {
          this.load();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: [String, Object],
            required: !0,
          }),
        ],
        g.prototype,
        "idOrData",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "md",
            }),
          ],
          g.prototype,
          "size",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          g.prototype,
          "thumbnail",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          g.prototype,
          "preview",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          g.prototype,
          "clickable",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          g.prototype,
          "removable",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("map")],
          g.prototype,
          "mapChange",
          null
        ),
        (g = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                EmoticonFailedIcon: p,
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    map: (e) => e.comments.emoticonMap,
                  })
                ),
                Object(r["c"])("comments", ["getEmoticon"])
              ),
            }),
          ],
          g
        ));
      var b = g,
        v = b,
        f = (i("f250"), Object(d["a"])(v, s, o, !1, null, "e8e7e638", null));
      t["a"] = f.exports;
    },
    b445: function (e, t, i) {
      "use strict";
      i("e6f9");
    },
    b4a6: function (e, t, i) {
      "use strict";
      var s;
      i.d(t, "c", function () {
        return s;
      }),
        i.d(t, "a", function () {
          return o;
        }),
        i.d(t, "d", function () {
          return a;
        }),
        i.d(t, "b", function () {
          return n;
        }),
        (function (e) {
          (e["Full"] = "full"),
            (e["Top"] = "top"),
            (e["Left"] = "left"),
            (e["Right"] = "right"),
            (e["Bottom"] = "bottom"),
            (e["TopBottom"] = "top-bottom"),
            (e["LeftRight"] = "left-right");
        })(s || (s = {}));
      const o = {
          [s.Full]: "PaddingFullIcon",
          [s.Left]: "PaddingLeftIcon",
          [s.Top]: "PaddingTopIcon",
          [s.Right]: "PaddingRightIcon",
          [s.Bottom]: "PaddingBottomIcon",
          [s.TopBottom]: "PaddingTopBottomIcon",
          [s.LeftRight]: "PaddingLeftRightIcon",
        },
        a = {
          [s.Full]: "four_sides",
          [s.Left]: "left_padding",
          [s.Top]: "top_padding",
          [s.Right]: "right_padding",
          [s.Bottom]: "bottom_padding",
          [s.TopBottom]: "vert_padding",
          [s.LeftRight]: "horz_padding",
        },
        n = {
          [s.Top]: 0,
          [s.Right]: 1,
          [s.Bottom]: 2,
          [s.Left]: 3,
        };
    },
    b5fd: function (e, t, i) {},
    b689: function (e, t, i) {},
    b6d2: function (e, t, i) {
      "use strict";
      i("2d4c");
    },
    b6ea: function (e, t, i) {
      "use strict";
      i("1df5");
    },
    b8ac: function (e, t, i) {},
    b9f9: function (e, t, i) {},
    ba59: function (e, t, i) {},
    bae3: function (e, t, i) {
      "use strict";
      i("f3b3");
    },
    bae4: function (e, t, i) {
      e.exports = i.p + "static/img/export_gif_dark.b2cc609f.gif";
    },
    baea: function (e, t, i) {
      "use strict";
      i("9fc4");
    },
    bb2f: function (e, t, i) {
      "use strict";
      i("7542");
    },
    bb60: function (e, t, i) {
      "use strict";
      i("9160");
    },
    bc89: function (e, t, i) {
      "use strict";
      i("bdb7");
    },
    bc94c: function (e, t, i) {},
    bcca: function (e, t, i) {},
    bdb7: function (e, t, i) {},
    bddf: function (e, t, i) {
      "use strict";
      i("7fa8");
    },
    be4e: function (e, t, i) {},
    bec7: function (e, t, i) {
      "use strict";
      i("3a4a");
    },
    beec: function (e, t, i) {},
    bf05: function (e, t, i) {},
    bff0: function (e, t, i) {
      "use strict";
      i("8761");
    },
    bff09: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "mas-userList-container",
            },
            [
              e._l(e.iconList, function (t, s) {
                return i(
                  "v-popover",
                  {
                    key: s,
                    attrs: {
                      offset: "9",
                      popoverClass: "popover_tooltip",
                      open: e.isOpen[t.id],
                      "open-group": "group1",
                      autoHide: !1,
                    },
                    on: {
                      "update:open": function (i) {
                        return e.$set(e.isOpen, t.id, i);
                      },
                    },
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "avatar portrait-wrap",
                        on: {
                          click: function (i) {
                            return e.setObservationMode(t);
                          },
                          mouseenter: function (i) {
                            return e.mouseEnterHandler(t.id);
                          },
                          mouseleave: function (i) {
                            return e.mouseLeaveHandler(t.id);
                          },
                        },
                      },
                      [
                        i("Portrait", {
                          attrs: {
                            info: t,
                            size: "small",
                            showBorder: e.observationUser === t.id,
                          },
                        }),
                        e.showDot
                          ? i("span", {
                              staticClass: "dot_icon",
                              style: {
                                "background-color": t.color,
                              },
                            })
                          : e._e(),
                      ],
                      1
                    ),
                    i(
                      "template",
                      {
                        slot: "popover",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "toolTipStyle",
                            attrs: {
                              "data-tours-name": "num" + (s + 1) + "player",
                            },
                            on: {
                              mouseenter: function (i) {
                                return e.popoverMouseEnterHandler(t.id);
                              },
                              mouseleave: function (i) {
                                e.isOpen[t.id] = !1;
                              },
                            },
                          },
                          [
                            i("div", {
                              staticClass: "toolTipStyle_triangle",
                            }),
                            i(
                              "div",
                              {
                                staticClass: "toolTipStyle_name h6",
                              },
                              [
                                e._v(
                                  e._s(
                                    e.currentUser.id === t.id ? "我" : t.name
                                  )
                                ),
                              ]
                            ),
                            i(
                              "div",
                              {
                                staticClass: "toolTipStyle_info",
                              },
                              [e._v(e._s(e.getUserRole(t.role)))]
                            ),
                          ]
                        ),
                      ]
                    ),
                  ],
                  2
                );
              }),
              e.userList.length > e.showNum
                ? i(
                    "v-popover",
                    {
                      attrs: {
                        trigger: "hover",
                        autoHide: !1,
                        offset: "9",
                        popoverClass: "popover_tooltip",
                        "open-group": "group2",
                      },
                      on: {
                        show: e.onShowMoreUsers,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          ref: "moreListTriggerEl",
                          staticClass: "more_list",
                          attrs: {
                            "data-tours-name": "multiplayer",
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "more_list_content bg-gray-600 h6",
                            },
                            [e._v(" " + e._s("+" + e.moreList.length) + " ")]
                          ),
                        ]
                      ),
                      i(
                        "template",
                        {
                          slot: "popover",
                        },
                        [
                          i(
                            "div",
                            {
                              ref: "moreContentEl",
                              staticClass: "toolTipStyleMore",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass:
                                    "toolTipStyleMore_triangle_container",
                                  class: [
                                    e.isPlacementBottom ? "top" : "bottom",
                                  ],
                                },
                                [i("div")]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "toolTipStyleMore_content",
                                },
                                e._l(e.moreList, function (t, s) {
                                  return i(
                                    "div",
                                    {
                                      key: t.id,
                                      staticClass: "toolTipStyleMore_item",
                                      on: {
                                        click: function (i) {
                                          return e.setObservationMode(t, s);
                                        },
                                      },
                                    },
                                    [
                                      i("portrait", {
                                        attrs: {
                                          info: t,
                                          size: "small",
                                        },
                                      }),
                                      i(
                                        "div",
                                        {
                                          staticClass: "toolTipStyleMore_info",
                                        },
                                        [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "toolTipStyle_name h6 truncate",
                                            },
                                            [e._v(e._s(t.name))]
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "toolTipStyle_info truncate",
                                            },
                                            [e._v(e._s(e.getUserRole(t.role)))]
                                          ),
                                        ]
                                      ),
                                    ],
                                    1
                                  );
                                }),
                                0
                              ),
                            ]
                          ),
                        ]
                      ),
                    ],
                    2
                  )
                : e._e(),
              e.showDot
                ? [
                    e.userList.length
                      ? i("div", {
                          staticClass: "avatar-divide",
                        })
                      : e._e(),
                    i(
                      "div",
                      {
                        staticClass: "avatar",
                      },
                      [
                        i("UserAvatar", {
                          attrs: {
                            inFile: !0,
                          },
                        }),
                        i("span", {
                          staticClass: "dot_icon",
                          style: {
                            "background-color": "#2c80ff",
                          },
                        }),
                      ],
                      1
                    ),
                  ]
                : e._e(),
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("2ef0"),
        l = i("bbf1"),
        d = i("7ffc"),
        u = i("dc0f"),
        h = i("8ece"),
        p = i("05d2"),
        m = i("6bc0"),
        g = i("ac66");
      let b = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.iconList = []),
            (this.moreList = []),
            (this.isOpen = {}),
            (this.openTimer = {}),
            (this.closeTimer = {}),
            (this.isPlacementBottom = !0);
        }
        get currentUser() {
          return this.$store.state.main.userInfo;
        }
        mouseEnterHandler(e) {
          this.popoverMouseEnterHandler(e),
            (this.openTimer[e] = setTimeout(() => {
              this.$set(this.isOpen, e, !0);
            }, 100));
        }
        mouseLeaveHandler(e) {
          this.popoverMouseLeaveHandler(e),
            (this.closeTimer[e] = setTimeout(() => {
              this.$set(this.isOpen, e, !1);
            }, 100));
        }
        popoverMouseEnterHandler(e) {
          this.closeTimer[e] &&
            (clearTimeout(this.closeTimer[e]),
            this.$set(this.closeTimer, e, null));
        }
        popoverMouseLeaveHandler(e) {
          this.openTimer[e] &&
            (clearTimeout(this.openTimer[e]),
            this.$set(this.openTimer, e, null));
        }
        userListHandler() {
          const e = this.userList.length,
            t = this.userList,
            i = e > this.showNum ? this.showNum - 1 : e;
          (this.iconList = t.slice(0, i)), (this.moreList = t.slice(i));
          const s = this.selectedUser
            ? Object(c["findIndex"])(
                this.moreList,
                (e) => e.id === this.selectedUser.id
              )
            : -1;
          s > -1 ? this.shuffleSelectedUser(s) : (this.selectedUser = void 0);
        }
        getUserRole(e) {
          return d["y"][e];
        }
        onShowMoreUsers() {
          setTimeout(() => {
            const e = this.$refs.moreContentEl,
              t = this.$refs.moreListTriggerEl,
              i = e.getBoundingClientRect(),
              s = t.getBoundingClientRect();
            this.isPlacementBottom = i.y > s.y;
          }, 200);
        }
        shuffleSelectedUser(e) {
          if (e > -1) {
            const t = this.iconList.pop();
            (this.selectedUser = this.moreList[e]),
              this.moreList.splice(e, 1),
              this.iconList.push(this.selectedUser),
              t && this.moreList.unshift(t);
          }
        }
        setObservationMode(e, t = -1) {
          var i, s;
          if (e.id !== this.$store.state.main.userInfo.id) {
            if (this.$store.state.main.userInfo.id !== e.id) {
              const t = u["u"].getUserViewPortData(e.id),
                i = null === t || void 0 === t ? void 0 : t.fileKey,
                s = h["a"].pages.list.find((e) => e.id === i);
              s && h["a"].pages.switchPage(i);
            }
            this.shuffleSelectedUser(t),
              this.$store.dispatch("toggleObservationUser", e.id),
              Object(m["b"])()
                ? null ===
                    (s =
                      null === (i = Object(m["b"])()) || void 0 === i
                        ? void 0
                        : i.instanceStore.fileWssBusiness) ||
                  void 0 === s ||
                  s.sendSubscribeViewPort(e.id)
                : p["c"].sendSubscribeViewPort(e.id);
          } else
            this.observationUser &&
              (this.$store.dispatch("toggleObservationUser", ""),
              (this.selectedUser = void 0));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Array,
            default: () => [],
            required: !1,
          }),
        ],
        b.prototype,
        "userList",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 3,
              required: !1,
            }),
          ],
          b.prototype,
          "showNum",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          b.prototype,
          "showDot",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("userList", {
              deep: !0,
              immediate: !0,
            }),
          ],
          b.prototype,
          "userListHandler",
          null
        ),
        (b = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Portrait: l["a"],
                UserAvatar: g["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  observationUser: (e) => e.app.observationUser,
                })
              ),
            }),
          ],
          b
        ));
      var v = b,
        f = v,
        y = (i("b445"), i("db76"), i("2877")),
        _ = Object(y["a"])(f, s, o, !1, null, "7cce819f", null);
      t["a"] = _.exports;
    },
    c026: function (e, t, i) {
      "use strict";
      i("39d1");
    },
    c0e7: function (e, t, i) {},
    c138: function (e, t, i) {
      "use strict";
      i("a461");
    },
    c1b7: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap",
              class: [e.styleEdit && "edit-style"],
            },
            [
              i(
                "div",
                {
                  staticClass: "panel_title",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "text-title",
                    },
                    [e._v("文字")]
                  ),
                  e._t("header"),
                ],
                2
              ),
              i(
                "div",
                {
                  staticClass: "panel_content_wrap",
                },
                [
                  "" === e.textStyleId
                    ? [
                        i(
                          "div",
                          {
                            staticClass: "row-1",
                          },
                          [
                            i("MasterFontSelector", {
                              attrs: {
                                placeholder:
                                  null === e.data.postscriptName
                                    ? "多个值"
                                    : "",
                                postscriptName: e.data.postscriptName,
                                fontFamily: e.data.fontFamily,
                                selectFontState: e.selectFontState,
                              },
                              on: {
                                change: e.fontchange,
                              },
                            }),
                          ],
                          1
                        ),
                        i(
                          "div",
                          {
                            staticClass: "row-2",
                          },
                          [
                            i("MasterSelector", {
                              staticClass: "text-weight",
                              attrs: {
                                placeholder:
                                  null === e.fontData.fontStyle ? "多个值" : "",
                                options: e.fontData.styleList,
                                value: e.fontData.fontStyle,
                                mode: "masterPopover",
                                disabled:
                                  e.missingFont || null === e.data.fontFamily,
                              },
                              on: {
                                change: e.stylechange,
                              },
                              scopedSlots: e._u(
                                [
                                  e.missingFont
                                    ? {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("QuestionColorRectIcon", {
                                              staticClass:
                                                "master-font__warning",
                                              attrs: {
                                                size: "12",
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      }
                                    : null,
                                ],
                                null,
                                !0
                              ),
                            }),
                            i("MasterSelector", {
                              attrs: {
                                "allow-input": "",
                                isNumber: "",
                                valueDecorator: e.valueDecorator.numDecorator,
                                validate: e.validate.checkFontSize,
                                placeholder:
                                  null === e.data.fontSize ? "多个值" : "",
                                options: e.sizelist,
                                value: e.fontSize,
                                mode: "masterPopover",
                                disabled: e.missingFont,
                              },
                              on: {
                                change: e.sizechange,
                                keydown: e.updateFontSize,
                              },
                            }),
                          ],
                          1
                        ),
                        i(
                          "div",
                          {
                            staticClass: "row-2",
                          },
                          [
                            i("IconInput", {
                              attrs: {
                                tip: "行高",
                                iconName: "LineHightIcon",
                                placeholder: e.calholder,
                                value: e.calline,
                                validate: e.validate.checkCalline,
                                focusSelectByCustom: {
                                  splitter: "%",
                                  part: 0,
                                },
                                disabled: e.missingFont,
                                iconDisabledDrag:
                                  null === e.data.height || e.missingFont,
                              },
                              on: {
                                typeChange: e.lineHeightChange,
                                keydown: e.callineKeyDownHandler,
                                focus: e.lineHeightFocus,
                                blur: e.lineHeightBlur,
                              },
                            }),
                            i("IconInput", {
                              attrs: {
                                tip: "字间距",
                                iconName: "LetterSpacingIcon",
                                placeholder:
                                  null === e.data.letterSpacing ? "多个值" : "",
                                value: e.letterSpacing,
                                validate: e.validate.checkLetterSpacing,
                                focusSelectAll: !0,
                                disabled: e.missingFont,
                                iconDisabledDrag:
                                  null === e.data.letterSpacing ||
                                  e.missingFont,
                              },
                              on: {
                                typeChange: e.fontSpaceChange,
                                keydown: e.lineHeightKeyDownHandler,
                              },
                            }),
                            e.styleEdit
                              ? i("Bounced", {
                                  attrs: {
                                    title: "文字设置",
                                    offsetLeft: 220,
                                    open: e.isOpen,
                                    trigger: "manual",
                                  },
                                  on: {
                                    "update:open": function (t) {
                                      e.isOpen = t;
                                    },
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "button",
                                        fn: function () {
                                          return [
                                            i("MasterButtonIcon", {
                                              attrs: {
                                                icon: "EllipsisHIcon",
                                                isLocalIcon: !1,
                                                focusable: "",
                                              },
                                              on: {
                                                click: function (t) {
                                                  e.isOpen = !e.isOpen;
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                      {
                                        key: "content",
                                        fn: function () {
                                          return [
                                            i("textDialog", {
                                              attrs: {
                                                data: e.data,
                                                styleEdit: e.styleEdit,
                                                textStyleId: e.textStyleId,
                                              },
                                              on: {
                                                change: e.onchange,
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    3901711782
                                  ),
                                })
                              : e._e(),
                          ],
                          1
                        ),
                      ]
                    : [e._t("content")],
                  e.styleEdit
                    ? e._e()
                    : i(
                        "div",
                        {
                          staticClass: "row-2",
                        },
                        [
                          i("MasterFilter", {
                            attrs: {
                              list: e.alignList,
                              current:
                                null === e.data.textAlignHorizontal
                                  ? null
                                  : +e.data.textAlignHorizontal,
                              disabled: e.missingFont || e.hasConnectorText,
                            },
                            on: {
                              changeVal: e.alignchange,
                            },
                          }),
                          i("MasterFilter", {
                            attrs: {
                              list: e.boundList,
                              current: e.data.textAutoResize,
                              disabled: e.missingFont || e.hasConnectorText,
                            },
                            on: {
                              changeVal: e.boundchange,
                            },
                          }),
                          i("Bounced", {
                            attrs: {
                              title: "文字设置",
                              offsetLeft: 220,
                              open: e.isOpen,
                              trigger: "manual",
                            },
                            on: {
                              "update:open": function (t) {
                                e.isOpen = t;
                              },
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "button",
                                  fn: function () {
                                    return [
                                      i("MasterButtonIcon", {
                                        attrs: {
                                          icon: "EllipsisHIcon",
                                          isLocalIcon: !1,
                                          focusable: "",
                                        },
                                        on: {
                                          click: function (t) {
                                            e.isOpen = !e.isOpen;
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                                {
                                  key: "content",
                                  fn: function () {
                                    return [
                                      i("textDialog", {
                                        attrs: {
                                          data: e.data,
                                          textStyleId: e.textStyleId,
                                          disabled: e.missingFont,
                                          disabledAlign: e.hasConnectorText,
                                        },
                                        on: {
                                          change: e.onchange,
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              1586603534
                            ),
                          }),
                        ],
                        1
                      ),
                ],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("b29f"),
        l = i("d140"),
        d = i("8ece"),
        u = i("3759"),
        h = i("d257"),
        p = i("2520"),
        m = i("102a"),
        g = i("e0b5"),
        b = i("b0ae"),
        v = i("c296"),
        f = i("8b633"),
        y = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "content",
            },
            [
              e.data.id && e.styleEdit
                ? e._e()
                : [
                    i(
                      "div",
                      {
                        staticClass: "list-item",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "text-tran-50",
                          },
                          [e._v("垂直对齐")]
                        ),
                        i("MasterFilter", {
                          attrs: {
                            list: e.paragraphlist,
                            current: e.data.textAlignVertical,
                            width: "96",
                            disabled: e.disabled || e.disabledAlign,
                          },
                          on: {
                            changeVal: e.paragraphchange,
                          },
                        }),
                      ],
                      1
                    ),
                    i(
                      "div",
                      {
                        staticClass: "list-item",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "text-tran-50",
                          },
                          [e._v("水平对齐")]
                        ),
                        i("MasterFilter", {
                          attrs: {
                            list: e.alignlist,
                            current: +e.data.textAlignHorizontal,
                            width: "126",
                            disabled: e.disabled || e.disabledAlign,
                          },
                          on: {
                            changeVal: e.alignchange,
                          },
                        }),
                      ],
                      1
                    ),
                    i(
                      "div",
                      {
                        staticClass: "list-item",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "text-tran-50",
                          },
                          [e._v("段落间距")]
                        ),
                        i("master-input", {
                          staticStyle: {
                            width: "80px",
                          },
                          attrs: {
                            value: e.data.spacing,
                            placeholder:
                              null === e.data.spacing ? "多个值" : "",
                            valueDecorator: e.valueDecorator.numDecorator,
                            validate: e.basicValidate.checkSpacing,
                            focusSelectAll: !0,
                            disabled: e.disabled,
                          },
                          on: {
                            change: e.spacingchange,
                            keydown: e.updateSpacing,
                          },
                          scopedSlots: e._u(
                            [
                              {
                                key: "header",
                                fn: function () {
                                  return [
                                    i("BasicLeftIcon", {
                                      attrs: {
                                        masterIconName: "ParagraphSpacingIcon",
                                        disabled:
                                          null === e.data.spacing || e.disabled,
                                      },
                                      on: {
                                        change: function (t) {
                                          return e.spacingchange(
                                            t + e.data.spacing
                                          );
                                        },
                                      },
                                    }),
                                  ];
                                },
                                proxy: !0,
                              },
                            ],
                            null,
                            !1,
                            3531074106
                          ),
                        }),
                      ],
                      1
                    ),
                    i(
                      "div",
                      {
                        staticClass: "list-item",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "text-tran-50",
                          },
                          [e._v("列表样式")]
                        ),
                        i("MasterFilter", {
                          attrs: {
                            list: e.listStyle,
                            current: e.data.listStyle,
                            width: "96",
                            disabled: e.disabled || e.disabledAlign,
                          },
                          on: {
                            changeVal: e.listStyleChange,
                          },
                        }),
                      ],
                      1
                    ),
                    0 !== e.data.listStyle
                      ? i(
                          "div",
                          {
                            staticClass: "list-item",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "text-tran-50",
                              },
                              [e._v("列表间距")]
                            ),
                            i("master-input", {
                              staticStyle: {
                                width: "80px",
                              },
                              attrs: {
                                value: e.data.listSpacing,
                                placeholder:
                                  null === e.data.listSpacing ? "多个值" : "",
                                valueDecorator: e.valueDecorator.numDecorator,
                                validate: e.basicValidate.checkSpacing,
                                focusSelectAll: !0,
                                disabled: e.disabled,
                              },
                              on: {
                                change: e.listSpacingChange,
                                keydown: e.updateListSpacing,
                              },
                              scopedSlots: e._u(
                                [
                                  {
                                    key: "header",
                                    fn: function () {
                                      return [
                                        i("BasicLeftIcon", {
                                          attrs: {
                                            masterIconName: "ListSpacingIcon",
                                            disabled:
                                              null === e.data.spacing ||
                                              e.disabled,
                                          },
                                          on: {
                                            change: function (t) {
                                              return e.listSpacingChange(
                                                t + e.data.listSpacing
                                              );
                                            },
                                            mouseup: function (t) {
                                              return e.sensorsTrack({
                                                action_parameter2: "icon",
                                                action_detail: "list_spacing",
                                              });
                                            },
                                          },
                                        }),
                                      ];
                                    },
                                    proxy: !0,
                                  },
                                ],
                                null,
                                !1,
                                4154081081
                              ),
                            }),
                          ],
                          1
                        )
                      : e._e(),
                    !e.textStyleId || e.styleEdit
                      ? i("div", {
                          staticClass: "list-line",
                        })
                      : e._e(),
                  ],
              !e.textStyleId || e.styleEdit
                ? i(
                    "div",
                    {
                      staticClass: "list-item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "text-tran-50",
                        },
                        [e._v("文字修饰")]
                      ),
                      i("MasterFilter", {
                        attrs: {
                          list: e.decorationlist,
                          current: e.data.decoration,
                          width: "96",
                          disabled: e.disabled,
                        },
                        on: {
                          changeVal: e.decorationchange,
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
              !e.textStyleId || e.styleEdit
                ? i(
                    "div",
                    {
                      staticClass: "list-item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "text-tran-50",
                        },
                        [e._v("字母大小写")]
                      ),
                      i("MasterFilter", {
                        attrs: {
                          list: e.textCaseList,
                          current: e.data.textCase,
                          width: "126",
                          disabled: e.disabled,
                        },
                        on: {
                          changeVal: e.textCaseChange,
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
            ],
            2
          );
        },
        _ = [],
        C = i("2b0e"),
        S = i("d101"),
        I = i("9a7c"),
        O = i("691a"),
        k = i("0e0c"),
        w = C["default"].extend({
          components: {
            MasterFilter: S["a"],
            BasicLeftIcon: v["a"],
          },
          props: [
            "data",
            "styleEdit",
            "textStyleId",
            "disabled",
            "disabledAlign",
          ],
          data() {
            return {
              valueDecorator: O,
              basicValidate: k,
              showTxtMenu: !1,
              paragraphlist: [
                {
                  key: 0,
                  value: "TextAlignTopIcon",
                  label: "顶对齐",
                },
                {
                  key: 1,
                  value: "TextAlignCenterVIcon",
                  label: "居中对齐",
                },
                {
                  key: 2,
                  value: "TextAlignBottomIcon",
                  label: "底对齐",
                },
              ],
              alignlist: [
                {
                  key: 0,
                  value: "TextAlignLeftIcon",
                  label: "左对齐",
                },
                {
                  key: 2,
                  value: "TextAlignCenterIcon",
                  label: "居中对齐",
                },
                {
                  key: 1,
                  value: "TextAlignRightIcon",
                  label: "右对齐",
                },
                {
                  key: 3,
                  value: "TextAlignJustifyIcon",
                  label: "两边对齐",
                },
              ],
              decorationlist: [
                {
                  key: 0,
                  value: "TextNoneIcon",
                  label: "无",
                },
                {
                  key: 1,
                  value: "TextUnderlineIcon",
                  label: "下划线",
                },
                {
                  key: 4,
                  value: "TextStrikethroughIcon",
                  label: "删除线",
                },
              ],
              textCaseList: [
                {
                  key: 0,
                  value: "TextNoneIcon",
                  label: "无",
                },
                {
                  key: 1,
                  value: "TextUppercaseIcon",
                  label: "全大写",
                },
                {
                  key: 2,
                  value: "TextLowercaseIcon",
                  label: "全小写",
                },
                {
                  key: 3,
                  value: "TextCapitalizeIcon",
                  label: "首字母大写",
                },
              ],
              listStyle: [
                {
                  key: I["q"].Plain,
                  value: "TextNoneIcon",
                  label: "无",
                },
                {
                  key: I["q"].UnOrderedList,
                  value: "ListOrderIcon",
                  label: "无序列表",
                },
                {
                  key: I["q"].OrderedList,
                  value: "ListUnorderIcon",
                  label: "有序列表",
                },
              ],
            };
          },
          watch: {
            showTxt() {
              this.showTxtMenu = this.showTxt;
            },
          },
          methods: {
            spacingchange(e) {
              this.$emit("change", {
                spacing: Math.max(parseInt(e, 10), 0),
              });
            },
            updateSpacing(e) {
              if (!Object(h["V"])(e) && !Object(h["W"])(e)) return;
              const t = Object(h["ub"])(e, parseInt(this.data.spacing, 10));
              this.$emit("change", {
                spacing: Math.max(t, 0),
              });
            },
            updateListSpacing(e) {
              if (!Object(h["V"])(e) && !Object(h["W"])(e)) return;
              const t = Object(h["ub"])(e, parseInt(this.data.spacing, 10));
              this.$emit("change", {
                listSpacing: Math.max(t, 0),
              });
            },
            paragraphchange(e) {
              this.$emit("change", {
                textAlignVertical: parseInt(e, 10),
              });
            },
            alignchange(e) {
              this.$emit("change", {
                textAlignHorizontal: parseInt(e, 10),
              });
            },
            decorationchange(e) {
              this.$emit("change", {
                decoration: parseInt(e, 10),
              });
            },
            textCaseChange(e) {
              this.$emit("change", {
                textCase: parseInt(e, 10),
              });
            },
            listStyleChange(e) {
              this.$emit("change", {
                listStyle: parseInt(e, 10),
              }),
                this.sensorsTrack(
                  {
                    action_parameter2: "list_style",
                    action_parameter3: "choose",
                    action_type: {
                      [I["q"].Plain]: "none",
                      [I["q"].UnOrderedList]: "bulleted_list",
                      [I["q"].OrderedList]: "numbered_list",
                    }[e],
                  },
                  g["a"].EVENT_CLICK
                );
            },
            sensorsTrack(e, t = g["a"].DRAG_ICON) {
              g["c"].track(
                t,
                Object.assign(
                  {
                    action_position: "canvas",
                    action_parameter0: "design",
                    action_parameter1: "text",
                  },
                  e
                )
              );
            },
            listSpacingChange(e, t) {
              this.$emit("change", {
                listSpacing: parseInt(e, 10),
              }),
                "change" === (null === t || void 0 === t ? void 0 : t.type) &&
                  this.sensorsTrack(
                    {
                      action_parameter2: "input_box",
                      action_detail: "list_spacing",
                    },
                    g["a"].EVENT_CLICK
                  );
            },
          },
        }),
        x = w,
        L = (i("8e8e"), i("2877")),
        A = Object(L["a"])(x, y, _, !1, null, "21593d6e", null),
        T = A.exports,
        j = i("9588");
      function M(e, t) {
        g["c"].track(
          e,
          Object.assign(
            {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "text",
            },
            t
          )
        );
      }
      let E = class extends n["g"] {
        constructor() {
          super(),
            (this.keyDownHandler = h["ob"]),
            (this.isOpen = !1),
            (this.alignList = [
              {
                key: 0,
                value: "TextAlignLeftIcon",
                label: "左对齐",
              },
              {
                key: 2,
                value: "TextAlignCenterIcon",
                label: "居中对齐",
              },
              {
                key: 1,
                value: "TextAlignRightIcon",
                label: "右对齐",
              },
            ]),
            (this.boundList = [
              {
                key: 0,
                value: "TextAutoWidthIcon",
                label: "单行模式",
              },
              {
                key: 1,
                value: "TextAutoHeightIcon",
                label: "自动高度",
              },
              {
                key: 2,
                value: "TextFixedIcon",
                label: "固定宽高",
              },
            ]),
            (this.sizelist = [
              {
                label: "10",
                value: "10",
              },
              {
                label: "12",
                value: "12",
              },
              {
                label: "14",
                value: "14",
              },
              {
                label: "18",
                value: "18",
              },
              {
                label: "24",
                value: "24",
              },
              {
                label: "36",
                value: "36",
              },
              {
                label: "64",
                value: "64",
              },
              {
                label: "72",
                value: "72",
              },
              {
                label: "144",
                value: "144",
              },
              {
                label: "288",
                value: "288",
              },
            ]),
            (this.showText = !1),
            (this.valueDecorator = O),
            (this.validate = k),
            (this.lineHeightFocusStatus = "blur"),
            this.data.id
              ? (this.textManager = d["a"].getStyle(this.data))
              : (this.textManager = d["a"].selector.texts);
        }
        isOpenHandler(e) {
          e ||
            g["c"].track(g["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "text",
              action_type: "close",
            });
        }
        get fontData() {
          var e, t, i, s;
          let o = this.data.postscriptName;
          if (
            null === this.data.postscriptName ||
            null === this.data.fontStyle
          ) {
            const i = this.data.fontFamily;
            return {
              fontStyle: null,
              styleList:
                i &&
                null !==
                  (t =
                    null === (e = this.fontGroup[this.fontFamilyMap[i]]) ||
                    void 0 === e
                      ? void 0
                      : e.styles) &&
                void 0 !== t
                  ? t
                  : [],
            };
          }
          return (
            this.fontMap[o] ||
              (o =
                null !==
                  (s =
                    null === (i = Object(p["b"])(o)) || void 0 === i
                      ? void 0
                      : i.postscriptName) && void 0 !== s
                  ? s
                  : Object(p["a"])(o)[1]),
            {
              fontStyle: o,
              styleList: this.stylelist,
            }
          );
        }
        callineKeyDownHandler(e, t, i) {
          var s;
          const o = null === (s = e.target) || void 0 === s ? void 0 : s.value;
          if ("" === o) return;
          const { unit: a, calculateValue: n } = Object(b["a"])(o),
            r = +n || 0;
          let c;
          (38 !== e.keyCode && 40 !== e.keyCode) ||
            (38 === e.keyCode && (c = e.shiftKey ? r + 10 : r + 1),
            40 === e.keyCode && (c = e.shiftKey ? r - 10 : r - 1),
            e.preventDefault(),
            (e.target.value = c + a),
            i(e));
        }
        lineHeightKeyDownHandler(e, t, i) {
          if ("" === e.target.value) return;
          let s = +e.target.value,
            o = "%";
          /%$/.test(e.target.value)
            ? (s = +e.target.value.slice(0, e.target.value.length - 1))
            : /px$/.test(e.target.value) &&
              ((s = +e.target.value.slice(0, e.target.value.length - 2)),
              (o = "px")),
            (38 !== e.keyCode && 40 !== e.keyCode) ||
              (38 === e.keyCode
                ? (s = e.shiftKey ? s + 10 : s + 1)
                : 40 === e.keyCode && (s = e.shiftKey ? s - 10 : s - 1),
              e.preventDefault(),
              (e.target.value = s + o),
              i(e));
        }
        get selectFontState() {
          const e = this.usedFontMap["" + this.data.postscriptName],
            t = e ? e.state : 0;
          return null === this.data.postscriptName ? 2 : t;
        }
        get missingFont() {
          return (
            this.selectFontState === m["a"].Failed ||
            this.selectFontState === m["a"].Missing
          );
        }
        get fontSize() {
          return null === this.data.fontSize
            ? this.data.fontSize
            : O["numDecorator"](this.data.fontSize);
        }
        get stylelist() {
          var e;
          const [t, i] = Object(p["a"])(this.data.postscriptName);
          return (
            (null === (e = this.fontGroup[t]) || void 0 === e
              ? void 0
              : e.styles) || [
              {
                label: i,
                value: this.data.postscriptName,
              },
            ]
          );
        }
        lineHeightFocus() {
          this.lineHeightFocusStatus = "focus";
        }
        lineHeightBlur() {
          this.lineHeightFocusStatus = "blur";
        }
        get calholder() {
          var e;
          if (null === this.data.height) return "多个值";
          let t =
            null === (e = this.data) || void 0 === e
              ? void 0
              : e.fontDefaultLineHeight;
          return (
            t || 0 === t || (t = 1.4 * this.data.fontSize),
            "blur" === this.lineHeightFocusStatus ? "自动" : t.toFixed(0)
          );
        }
        fontchange(e) {
          const t = this.data.postscriptName,
            i = this.fontMap[t],
            s = this.fontGroup[e.label].styles.filter((e) => !e.isExtraAdded);
          let o = s[0];
          if (i)
            for (let n = 0; n < s.length; n++)
              +s[n].sortStyle === +i.dataStyle && (o = s[n]);
          const a = this.fontMap[o.value];
          this.textManager.setFontFamilyAndStyle(
            a.family,
            a.postscriptName,
            String(a.style),
            String(a.weight)
          );
        }
        stylechange(e) {
          const t = this.fontMap[e];
          t &&
            this.textManager.setFontFamilyAndStyle(
              t.family,
              t.postscriptName,
              String(t.style),
              String(t.weight)
            );
        }
        boundchange(e) {
          this.textManager.setTextAutoResize(parseInt(e, 10));
        }
        alignchange(e) {
          this.textManager.setTextAlignHorizontal(parseInt(e, 10));
        }
        get calline() {
          const e = this.data.height;
          if ("Auto" === e) return "";
          if (null === e) return null;
          const { unit: t, calculateValue: i } = Object(b["a"])(e);
          return i + t;
        }
        lineHeightChange({ type: e, val: t }) {
          if ((u["a"].setTag("lineHeight"), "drag" === e)) {
            const e = this.calline || this.calholder,
              i = /%$/.test(e),
              s = i ? "%" : "",
              o = +(i ? e.split("%")[0] : e) + t;
            let a = o + s;
            return o < 0 && (a = "0%"), void this.textManager.setLineHeight(a);
          }
          const i = "" !== t ? t : "Auto";
          this.textManager.setLineHeight(i);
        }
        fontSpaceChange({ type: e, val: t }) {
          if ((u["a"].setTag("fontSpace"), "input" === e))
            return void this.textManager.setLetterSpacing(t);
          const i = this.data.letterSpacing,
            s = t;
          /%$/.test(i)
            ? (u["a"].setTag("fontSpace"),
              this.textManager.setLetterSpacing(
                Number(i.slice(0, -1)) + s + "%"
              ))
            : /px$/.test(i)
            ? (u["a"].setTag("fontSpace"),
              this.textManager.setLetterSpacing(
                Number(i.slice(0, -2)) + s + "px"
              ))
            : "number" === typeof i &&
              (u["a"].setTag("fontSpace"),
              this.textManager.setLetterSpacing(
                i + s + (this.data.letterSpacingUnit ? "px" : "%")
              ));
        }
        sizechange(e) {
          u["a"].setTag("fontSize"), this.textManager.setFontSize(Number(e));
        }
        updateFontSize(e) {
          if (!Object(h["V"])(e) && !Object(h["W"])(e)) return;
          const t = Object(h["ub"])(e, Number(this.fontSize));
          this.textManager.setFontSize(Math.max(t, 1));
        }
        onchange(e) {
          Object.keys(e).forEach((t) => {
            switch (t) {
              case "textAlignHorizontal":
                this.alignchange(e[t]);
                break;
              case "textAlignVertical":
                this.textManager.setTextAlignVertical(e[t]);
                break;
              case "decoration":
                this.textManager.setDecoration(e[t]);
                break;
              case "spacing":
                u["a"].setTag("spacing"), this.textManager.setSpacing(e[t]);
                break;
              case "listSpacing":
                u["a"].setTag("listSpacing"),
                  this.textManager.setListSpacing(e[t]);
                break;
              case "listStyle":
                u["a"].setTag("listStyle"), this.textManager.setListStyle(e[t]);
                break;
              case "textCase":
                u["a"].setTag("textCase"),
                  this.textManager.setTextCase(e[t]),
                  M(g["a"].EVENT_CLICK, {
                    action_parameter2: "case",
                    action_type: "choose",
                    action_detail: [
                      "none",
                      "upper_case",
                      "lower_case",
                      "title_case",
                    ][e[t]],
                  });
                break;
              default:
            }
          });
        }
        closeset() {
          this.showText = !1;
        }
        openMore() {
          this.showText = !this.showText;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            default: !1,
            required: !1,
          }),
        ],
        E.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          E.prototype,
          "styleEdit",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "",
            }),
          ],
          E.prototype,
          "textStyleId",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isOpen")],
          E.prototype,
          "isOpenHandler",
          null
        ),
        (E = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: c["a"],
                MasterSelector: l["e"],
                MSelector: l["b"],
                MasterFontSelector: l["c"],
                textDialog: T,
                BasicLeftIcon: v["a"],
                Bounced: j["a"],
                IconInput: f["a"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {
                      letterSpacing() {
                        const e = this.data.letterSpacing;
                        return "number" === typeof e
                          ? `${+e.toFixed(2)}${
                              this.data.letterSpacingUnit ? "px" : "%"
                            }`
                          : e;
                      },
                    },
                    Object(r["e"])("resources", [
                      "fontMap",
                      "usedFontMap",
                      "fontGroup",
                      "fontCatalog",
                      "fontFamilyMap",
                    ])
                  ),
                  Object(r["e"])("basicState", ["state"])
                ),
                Object(r["c"])("basicProps", ["hasConnectorText"])
              ),
            }),
          ],
          E
        ));
      var P = E,
        D = P,
        B = (i("d4bf"), Object(L["a"])(D, s, o, !1, null, "56a144da", null));
      t["a"] = B.exports;
    },
    c257: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "label",
            {
              staticClass: "checkbox-container",
              class: {
                disabled: e.disabled,
              },
            },
            [
              i(
                "span",
                {
                  class: e.checkboxStyle,
                },
                [
                  i("svg-plugin", {
                    staticStyle: {
                      "font-size": "14px",
                    },
                    attrs: {
                      name: e.checkboxStyle,
                    },
                  }),
                ],
                1
              ),
              i("input", {
                staticClass: "checkbox-input",
                attrs: {
                  type: "checkbox",
                  disabled: e.disabled,
                },
                domProps: {
                  checked: e.checked,
                },
                on: {
                  change: function (t) {
                    return e.$emit("change");
                  },
                },
              }),
              i(
                "div",
                {
                  staticClass: "checkbox--text",
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3");
      let r = class extends n["g"] {
        get checkboxStyle() {
          const { indeterminate: e, checked: t } = this;
          return e
            ? "checkbox-intermediate"
            : t
            ? "checkbox-checked"
            : "checkbox-unchecked";
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        r.prototype,
        "checked",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              default() {},
            }),
          ],
          r.prototype,
          "onChange",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "indeterminate",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          r.prototype,
          "disabled",
          void 0
        ),
        (r = Object(a["__decorate"])([n["a"]], r));
      var c = r,
        l = c,
        d = (i("e404"), i("2877")),
        u = Object(d["a"])(l, s, o, !1, null, "0658946c", null);
      t["a"] = u.exports;
    },
    c296: function (e, t, i) {
      "use strict";
      var s = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              staticClass: "label-icon",
              class:
                ((e = {}),
                (e[t.cursorName] = t.isHover && !t.disabled && !t.disabledDrag),
                (e.lock = t.disabled),
                e),
              on: {
                mousedown: t.mousedownHandle,
                mouseenter: function (e) {
                  t.isHover = !0;
                },
                mouseleave: function (e) {
                  t.isHover = !1;
                },
                contextmenu: function (e) {
                  e.preventDefault();
                },
              },
            },
            [
              s(t.masterIconName, {
                tag: "component",
                attrs: {
                  opacity: "0.7",
                  size: "14",
                },
              }),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("83be"),
        c = i("d257"),
        l = i("207b");
      function d(e) {
        return c["rb"]().isSafari
          ? null
          : e.requestPointerLock ||
              e.mozRequestPointerLock ||
              e.webkitRequestPointerLock ||
              e.msRequestPointerLock ||
              null;
      }
      function u() {
        return (
          document.exitPointerLock ||
          document.mozExitPointerLock ||
          document.webkitExitPointerLock ||
          document.msExitPointerLock ||
          null
        );
      }
      function h() {
        return "onpointerlockchange" in document
          ? "pointerlockchange"
          : "onmozpointerlockchange" in document
          ? "mozpointerlockchange"
          : "onwebkitpointerlockchange" in document
          ? "webkitpointerlockchange"
          : "onmspointerlockchange" in document
          ? "mspointerlockchange"
          : null;
      }
      let p = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.cursorName = ""),
            (this.isHover = !1),
            (this.canLockPointer = !1),
            (this.posX = 0),
            (this.posY = 0),
            (this.screenW = 0),
            (this.screenH = 0),
            (this.isLock = !1);
        }
        mounted() {
          this.cursorName = r["b"]().setCursor(9, 90, !0);
        }
        mousedownHandle(e) {
          if (
            (e.preventDefault(),
            this.isLock ||
              this.disabled ||
              this.disabledDrag ||
              2 === e.buttons)
          )
            return;
          this.isLock = !0;
          const t = d(e.target);
          if (t) {
            (this.canLockPointer = !0),
              t.call(e.target),
              (this.posX = e.clientX),
              (this.posY = e.clientY),
              (this.screenW = document.body.clientWidth),
              (this.screenH = document.body.clientHeight),
              this.buildScreen(!0);
            const i = h();
            i && document.addEventListener(i, this.pointerLockChange);
          } else
            this.buildScreen(!1), this.screen.classList.add(this.cursorName);
          window.addEventListener("mouseup", this.mouseupHandle),
            window.addEventListener("mousemove", this.mousemoveHandle),
            this.$emit("mousedown");
        }
        pointerLockChange() {
          document.pointerLockElement || this.mouseupHandle();
        }
        mouseupHandle() {
          const e = u();
          if (this.canLockPointer && e) {
            e.call(document);
            const t = h();
            t && document.removeEventListener(t, this.pointerLockChange);
          }
          this.cleanScreen(),
            window.removeEventListener("mouseup", this.mouseupHandle),
            window.removeEventListener("mousemove", this.mousemoveHandle),
            this.$emit("mouseup"),
            (this.isLock = !1);
        }
        buildScreen(e) {
          (this.screen = document.createElement("div")),
            this.screen.classList.add("pointer-lock__screen"),
            e &&
              ((this.cursor = document.createElement("div")),
              this.cursor.classList.add("pointer-lock__cursor"),
              (this.cursor.style.left = this.posX + "px"),
              (this.cursor.style.top = this.posY + "px"),
              this.screen.appendChild(this.cursor),
              (this.watchDestory = Object(l["a"])("set-shiftKey", (e) => {
                e
                  ? this.cursor.classList.add("large")
                  : this.cursor.classList.remove("large");
              }))),
            document.body.appendChild(this.screen);
        }
        cleanScreen() {
          this.cursor && this.cursor.remove(),
            this.screen && this.screen.remove(),
            this.watchDestory && this.watchDestory();
        }
        mousemoveHandle(e) {
          const { movementX: t, movementY: i } = e;
          this.canLockPointer &&
            ((this.posX += t),
            (this.posY += i),
            this.posX < 0
              ? (this.posX = this.screenW)
              : this.posX > this.screenW && (this.posX = 0),
            this.posY < 0
              ? (this.posY = this.screenH)
              : this.posY > this.screenH && (this.posY = 0),
            (this.cursor.style.left = this.posX + "px"),
            (this.cursor.style.top = this.posY + "px")),
            this.$emit("change", ~~(t * (e.shiftKey ? 10 : 1)));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        p.prototype,
        "disabled",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "disabledDrag",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          p.prototype,
          "masterIconName",
          void 0
        ),
        (p = Object(a["__decorate"])([n["a"]], p));
      var m = p,
        g = m,
        b = (i("d4cfc"), i("2877")),
        v = Object(b["a"])(g, s, o, !1, null, null, null);
      t["a"] = v.exports;
    },
    c409: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            s = e._self._c || t;
          return s(
            "div",
            {
              staticClass: "login-register-wrapper",
            },
            [
              e.showImage && !e.isDialog
                ? s(
                    "div",
                    {
                      staticClass: "login-register-placeholder",
                    },
                    [
                      s("img", {
                        attrs: {
                          src: i("e18d"),
                          alt: "",
                        },
                      }),
                    ]
                  )
                : e._e(),
              s(
                "div",
                {
                  staticClass: "login-wrap",
                },
                [
                  s("MLogin", {
                    attrs: {
                      redirectUri: "files/home",
                      isDialog: e.isDialog,
                      showClose: e.isDialog,
                      changeTitle: !e.isDialog,
                      isRegister: e.isRegister,
                      originTargetLoginType: e.originTargetLoginType,
                      originPageInit: e.isInIframe,
                      showThirdParty: !0,
                      openWeChatAuth: !0,
                      openOneBtnLogin: !0,
                      lanHuLoginNeedBack: !1,
                      actionPosition: "masterWeb",
                      actionDetail: e.actionDetail,
                      actionType: e.actionType,
                    },
                    on: {
                      turnPage: e.turnPage,
                      setUserInfo: e.setUserInfo,
                      refreshPassword: e.refreshPassword,
                      toast: e.showToast,
                      close: e.closeLogin,
                    },
                  }),
                ],
                1
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("44a6"),
        c = i("d257"),
        l = i("ac79"),
        d = i("2f62"),
        u = i("e0b5"),
        h = i("e46f");
      let p = class extends n["g"] {
        get isInIframe() {
          return Object(c["fb"])()
            ? {
                showOther: !1,
                showOr: !1,
              }
            : null;
        }
      };
      p = Object(a["__decorate"])(
        [
          Object(n["a"])({
            props: {
              showImage: {
                type: Boolean,
                default: !0,
              },
              isDialog: {
                type: Boolean,
                default: !1,
              },
              originTargetLoginType: {
                type: String,
                default: "",
              },
              isRegister: {
                type: Boolean,
                default: !1,
              },
              actionDetail: {
                type: Object,
                default: () => ({}),
              },
              actionType: {
                type: String,
                default: "",
              },
            },
            methods: Object.assign(
              Object.assign({}, Object(d["b"])(["setUserInfoWithoutSetting"])),
              {
                turnPage(e) {
                  var t;
                  if (e.startsWith("/files/forget-password")) {
                    const e = document.querySelector(
                        "input[class='text-input']"
                      ),
                      i = null === (t = e) || void 0 === t ? void 0 : t.value,
                      { isPhoneNumber: s, isEmail: o } =
                        l["a"].testPhoneOrEmail(i);
                    s || o
                      ? Object(c["Eb"])("password_account_change", i)
                      : i || Object(c["Eb"])("password_account_change", "");
                  }
                  this.$router.push({
                    path: e,
                  });
                },
                setUserInfo(e, t) {
                  var i;
                  return Object(a["__awaiter"])(
                    this,
                    void 0,
                    void 0,
                    function* () {
                      if (
                        (h["a"].loginStatusNotify(e),
                        yield this.setUserInfoWithoutSetting(e),
                        Object(c["fb"])())
                      ) {
                        u["c"].track(u["a"].EMBED, {
                          action_position: "iframe_login",
                          data_source: this.$store.state.main.embedSource || "",
                        });
                        const e = this.$store.state.main.currentFileInfo.id,
                          t = this.$store.state.main.currentFileInfo.from;
                        if (e) {
                          const s =
                            null === (i = this.$store.state.main.embedInfo) ||
                            void 0 === i
                              ? void 0
                              : i.query;
                          this.$router.push({
                            path: `/embed/${t}/${e}`,
                            query: s,
                          });
                        } else
                          this.$router.push({
                            path: "/embed/home",
                          });
                      } else if (!t) {
                        const { redicter: e } = this.$route.query;
                        if (e && Object(c["kb"])(window.decodeURIComponent(e)))
                          return void (window.location.href =
                            window.decodeURIComponent(e));
                        if ("file" === this.$route.name)
                          return void Object(r["s"])("file");
                        if ("prototype" === this.$route.name)
                          return void Object(r["s"])("prototype");
                        if ("mirror" === this.$route.name)
                          return void Object(r["s"])("toMirror");
                        const { teamId: t, inviter: i } = this.$route.query;
                        let s = "/files/home";
                        t &&
                          ((s = "/files/invite-member/" + t),
                          i && (s = `/files/invite-member/${t}?inviter=${i}`)),
                          yield this.$router.push(s);
                      }
                    }
                  );
                },
                refreshPassword() {
                  this.$store.dispatch("setUserInfoForKey", {
                    userState: 1,
                  });
                },
                showToast(e) {
                  e &&
                    ("string" === typeof e
                      ? this.$toast({
                          content: e,
                        })
                      : this.$toast(e));
                },
                closeLogin() {
                  this.$emit("close");
                },
              }
            ),
            mounted() {
              u["c"].track(u["a"].PAGE_VIEW, {
                action_position: "masterWeb",
              });
            },
          }),
        ],
        p
      );
      var m = p,
        g = m,
        b = (i("0679"), i("2877")),
        v = Object(b["a"])(g, s, o, !1, null, "73c5e452", null);
      t["a"] = v.exports;
    },
    c524: function (e, t, i) {},
    c541: function (e, t, i) {
      "use strict";
      i("7839");
    },
    c5be: function (e, t, i) {},
    c5ce: function (e, t, i) {},
    c62d: function (e, t, i) {},
    c648: function (e, t, i) {
      "use strict";
      i("f8b6");
    },
    c690: function (e, t, i) {},
    cadd: function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-patterns.34450980.jpg";
    },
    cb2d: function (e, t, i) {
      "use strict";
      i.r(t),
        i.d(t, "default", function () {
          return a;
        });
      var s = i("ecd6"),
        o = i.n(s);
      function a() {
        return o()(
          '(function(t){var e={};if("function"===typeof importScripts){var n=importScripts;function s(){n(replaceSrc.apply(this,arguments))}importScripts=s}function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://static.mastergo.com/",r(r.s="5bde")})({"5bde":function(t,e,n){"use strict";function s(t){return Array.isArray?Array.isArray(t):"[object Array]"===f(t)}n.r(e);const r=1/0;function i(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-r?"-0":e}function c(t){return null==t?"":i(t)}function o(t){return"string"===typeof t}function a(t){return"number"===typeof t}function h(t){return!0===t||!1===t||u(t)&&"[object Boolean]"==f(t)}function l(t){return"object"===typeof t}function u(t){return l(t)&&null!==t}function d(t){return void 0!==t&&null!==t}function g(t){return!t.trim().length}function f(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const p="Incorrect \'index\' type",m=t=>"Invalid value for key "+t,y=t=>`Pattern length exceeds max of ${t}.`,M=t=>`Missing ${t} property in key`,x=t=>`Property \'weight\' in key \'${t}\' must be a positive integer`,L=Object.prototype.hasOwnProperty;class _{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=S(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function S(t){let e=null,n=null,r=null,i=1,c=null;if(o(t)||s(t))r=t,e=v(t),n=k(t);else{if(!L.call(t,"name"))throw new Error(M("name"));const s=t.name;if(r=s,L.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(x(s));e=v(s),n=k(s),c=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:c}}function v(t){return s(t)?t:t.split(".")}function k(t){return s(t)?t.join("."):t}function b(t,e){let n=[],r=!1;const i=(t,e,l)=>{if(d(t))if(e[l]){let u=e[l];const g=t[u];if(!d(g))return;if(l===e.length-1&&(o(g)||a(g)||h(g)))n.push(c(g));else if(s(g)){r=!0;for(let t=0,n=g.length;t<n;t+=1)i(g[t],e,l+1)}else e.length&&i(g,e,l+1)}else n.push(t)};return i(t,o(e)?e.split("."):e,0),r?n:n[0]}const A={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},w={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},I={location:0,threshold:.6,distance:100},E={useExtendedSearch:!1,getFn:b,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C={...w,...A,...I,...E};const N=/[^ ]+/g;function $(t=1,e=3){const n=new Map,s=Math.pow(10,e);return{get(e){const r=e.match(N).length;if(n.has(r))return n.get(r);const i=1/Math.pow(r,.5*t),c=parseFloat(Math.round(i*s)/s);return n.set(r,c),c},clear(){n.clear()}}}class O{constructor({getFn:t=C.getFn,fieldNormWeight:e=C.fieldNormWeight}={}){this.norm=$(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();o(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!d(t)||g(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,r)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(d(i))if(s(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];while(e.length){const{nestedArrIndex:n,value:r}=e.pop();if(d(r))if(o(r)&&!g(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else s(r)&&r.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[r]=t}else if(o(i)&&!g(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function R(t,e,{getFn:n=C.getFn,fieldNormWeight:s=C.fieldNormWeight}={}){const r=new O({getFn:n,fieldNormWeight:s});return r.setKeys(t.map(S)),r.setSources(e),r.create(),r}function F(t,{getFn:e=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){const{keys:s,records:r}=t,i=new O({getFn:e,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i}function j(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:r=C.distance,ignoreLocation:i=C.ignoreLocation}={}){const c=e/t.length;if(i)return c;const o=Math.abs(s-n);return r?c+o/r:o?1:c}function T(t=[],e=C.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let c=t.length;i<c;i+=1){let c=t[i];c&&-1===s?s=i:c||-1===s||(r=i-1,r-s+1>=e&&n.push([s,r]),s=-1)}return t[i-1]&&i-s>=e&&n.push([s,i-1]),n}const P=32;function W(t,e,n,{location:s=C.location,distance:r=C.distance,threshold:i=C.threshold,findAllMatches:c=C.findAllMatches,minMatchCharLength:o=C.minMatchCharLength,includeMatches:a=C.includeMatches,ignoreLocation:h=C.ignoreLocation}={}){if(e.length>P)throw new Error(y(P));const l=e.length,u=t.length,d=Math.max(0,Math.min(s,u));let g=i,f=d;const p=o>1||a,m=p?Array(u):[];let M;while((M=t.indexOf(e,f))>-1){let t=j(e,{currentLocation:M,expectedLocation:d,distance:r,ignoreLocation:h});if(g=Math.min(t,g),f=M+l,p){let t=0;while(t<l)m[M+t]=1,t+=1}}f=-1;let x=[],L=1,_=l+u;const S=1<<l-1;for(let y=0;y<l;y+=1){let s=0,i=_;while(s<i){const t=j(e,{errors:y,currentLocation:d+i,expectedLocation:d,distance:r,ignoreLocation:h});t<=g?s=i:_=i,i=Math.floor((_-s)/2+s)}_=i;let o=Math.max(1,d-i+1),a=c?u:Math.min(d+i,u)+l,M=Array(a+2);M[a+1]=(1<<y)-1;for(let c=a;c>=o;c-=1){let s=c-1,i=n[t.charAt(s)];if(p&&(m[s]=+!!i),M[c]=(M[c+1]<<1|1)&i,y&&(M[c]|=(x[c+1]|x[c])<<1|1|x[c+1]),M[c]&S&&(L=j(e,{errors:y,currentLocation:s,expectedLocation:d,distance:r,ignoreLocation:h}),L<=g)){if(g=L,f=s,f<=d)break;o=Math.max(1,2*d-f)}}const v=j(e,{errors:y+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:h});if(v>g)break;x=M}const v={isMatch:f>=0,score:Math.max(.001,L)};if(p){const t=T(m,o);t.length?a&&(v.indices=t):v.isMatch=!1}return v}function D(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const r=t.charAt(n);e[r]=(e[r]||0)|1<<s-n-1}return e}class U{constructor(t,{location:e=C.location,threshold:n=C.threshold,distance:s=C.distance,includeMatches:r=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:c=C.minMatchCharLength,isCaseSensitive:o=C.isCaseSensitive,ignoreLocation:a=C.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a},this.pattern=o?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(t,e)=>{this.chunks.push({pattern:t,alphabet:D(t),startIndex:e})},l=this.pattern.length;if(l>P){let t=0;const e=l%P,n=l-e;while(t<n)h(this.pattern.substr(t,P),t),t+=P;if(e){const t=l-P;h(this.pattern.substr(t),t)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,ignoreLocation:a}=this.options;let h=[],l=0,u=!1;this.chunks.forEach(({pattern:e,alphabet:d,startIndex:g})=>{const{isMatch:f,score:p,indices:m}=W(t,e,d,{location:s+g,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,includeMatches:n,ignoreLocation:a});f&&(u=!0),l+=p,f&&m&&(h=[...h,...m])});let d={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(d.indices=h),d}}class z{constructor(t){this.pattern=t}static isMultiMatch(t){return H(t,this.multiRegex)}static isSingleMatch(t){return H(t,this.singleRegex)}search(){}}function H(t,e){const n=t.match(e);return n?n[1]:null}class K extends z{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class q extends z{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=t.indexOf(this.pattern),n=-1===e;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class J extends z{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\\^"(.*)"$/}static get singleRegex(){return/^\\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class V extends z{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\\^"(.*)"$/}static get singleRegex(){return/^!\\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class B extends z{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\\$$/}static get singleRegex(){return/^(.*)\\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class G extends z{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\\$$/}static get singleRegex(){return/^!(.*)\\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Q extends z{constructor(t,{location:e=C.location,threshold:n=C.threshold,distance:s=C.distance,includeMatches:r=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:c=C.minMatchCharLength,isCaseSensitive:o=C.isCaseSensitive,ignoreLocation:a=C.ignoreLocation}={}){super(t),this._bitapSearch=new U(t,{location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class X extends z{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^\'"(.*)"$/}static get singleRegex(){return/^\'(.*)$/}search(t){let e,n=0;const s=[],r=this.pattern.length;while((e=t.indexOf(this.pattern,n))>-1)n=e+r,s.push([e,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const Y=[K,X,J,V,G,B,q,Q],Z=Y.length,tt=/ +(?=(?:[^\\"]*\\"[^\\"]*\\")*[^\\"]*$)/,et="|";function nt(t,e={}){return t.split(et).map(t=>{let n=t.trim().split(tt).filter(t=>t&&!!t.trim()),s=[];for(let r=0,i=n.length;r<i;r+=1){const t=n[r];let i=!1,c=-1;while(!i&&++c<Z){const n=Y[c];let r=n.isMultiMatch(t);r&&(s.push(new n(r,e)),i=!0)}if(!i){c=-1;while(++c<Z){const n=Y[c];let r=n.isSingleMatch(t);if(r){s.push(new n(r,e));break}}}}return s})}const st=new Set([Q.type,X.type]);class rt{constructor(t,{isCaseSensitive:e=C.isCaseSensitive,includeMatches:n=C.includeMatches,minMatchCharLength:s=C.minMatchCharLength,ignoreLocation:r=C.ignoreLocation,findAllMatches:i=C.findAllMatches,location:c=C.location,threshold:o=C.threshold,distance:a=C.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:s,findAllMatches:i,ignoreLocation:r,location:c,threshold:o,distance:a},this.pattern=e?t:t.toLowerCase(),this.query=nt(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let r=0,i=[],c=0;for(let o=0,a=e.length;o<a;o+=1){const s=e[o];i.length=0,r=0;for(let e=0,o=s.length;e<o;e+=1){const o=s[e],{isMatch:a,indices:h,score:l}=o.search(t);if(!a){c=0,r=0,i.length=0;break}if(r+=1,c+=l,n){const t=o.constructor.type;st.has(t)?i=[...i,...h]:i.push(h)}}if(r){let t={isMatch:!0,score:c/r};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const it=[];function ct(...t){it.push(...t)}function ot(t,e){for(let n=0,s=it.length;n<s;n+=1){let s=it[n];if(s.condition(t,e))return new s(t,e)}return new U(t,e)}const at={AND:"$and",OR:"$or"},ht={PATH:"$path",PATTERN:"$val"},lt=t=>!(!t[at.AND]&&!t[at.OR]),ut=t=>!!t[ht.PATH],dt=t=>!s(t)&&l(t)&&!lt(t),gt=t=>({[at.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function ft(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const c=ut(t);if(!c&&i.length>1&&!lt(t))return r(gt(t));if(dt(t)){const s=c?t[ht.PATH]:i[0],r=c?t[ht.PATTERN]:t[s];if(!o(r))throw new Error(m(s));const a={keyId:k(s),pattern:r};return n&&(a.searcher=ot(r,e)),a}let a={children:[],operator:i[0]};return i.forEach(e=>{const n=t[e];s(n)&&n.forEach(t=>{a.children.push(r(t))})}),a};return lt(t)||(t=gt(t)),r(t)}function pt(t,{ignoreFieldNorm:e=C.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:s,score:r})=>{const i=t?t.weight:null;n*=Math.pow(0===r&&i?Number.EPSILON:r,(i||1)*(e?1:s))}),t.score=n})}function mt(t,e){const n=t.matches;e.matches=[],d(n)&&n.forEach(t=>{if(!d(t.indices)||!t.indices.length)return;const{indices:n,value:s}=t;let r={indices:n,value:s};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)})}function yt(t,e){e.score=t.score}function Mt(t,e,{includeMatches:n=C.includeMatches,includeScore:s=C.includeScore}={}){const r=[];return n&&r.push(mt),s&&r.push(yt),t.map(t=>{const{idx:n}=t,s={item:e[n],refIndex:n};return r.length&&r.forEach(e=>{e(t,s)}),s})}class xt{constructor(t,e={},n){this.options={...C,...e},this.options.useExtendedSearch,this._keyStore=new _(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof O))throw new Error(p);this._myIndex=e||R(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){d(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const r=this._docs[n];t(r,n)&&(this.removeAt(n),n-=1,s-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:r,sortFn:i,ignoreFieldNorm:c}=this.options;let h=o(t)?o(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return pt(h,{ignoreFieldNorm:c}),r&&h.sort(i),a(e)&&e>-1&&(h=h.slice(0,e)),Mt(h,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){const e=ot(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:t,i:n,n:r})=>{if(!d(t))return;const{isMatch:i,score:c,indices:o}=e.searchIn(t);i&&s.push({item:t,idx:n,matches:[{score:c,value:t,norm:r,indices:o}]})}),s}_searchLogical(t){const e=ft(t,this.options),n=(t,e,s)=>{if(!t.children){const{keyId:n,searcher:r}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:r});return i&&i.length?[{idx:s,item:e,matches:i}]:[]}const r=[];for(let i=0,c=t.children.length;i<c;i+=1){const c=t.children[i],o=n(c,e,s);if(o.length)r.push(...o);else if(t.operator===at.AND)return[]}return r},s=this._myIndex.records,r={},i=[];return s.forEach(({$:t,i:s})=>{if(d(t)){let c=n(e,t,s);c.length&&(r[s]||(r[s]={idx:s,item:t,matches:[]},i.push(r[s])),c.forEach(({matches:t})=>{r[s].matches.push(...t)}))}}),i}_searchObjectList(t){const e=ot(t,this.options),{keys:n,records:s}=this._myIndex,r=[];return s.forEach(({$:t,i:s})=>{if(!d(t))return;let i=[];n.forEach((n,s)=>{i.push(...this._findMatches({key:n,value:t[s],searcher:e}))}),i.length&&r.push({idx:s,item:t,matches:i})}),r}_findMatches({key:t,value:e,searcher:n}){if(!d(e))return[];let r=[];if(s(e))e.forEach(({v:e,i:s,n:i})=>{if(!d(e))return;const{isMatch:c,score:o,indices:a}=n.searchIn(e);c&&r.push({score:o,key:t,value:e,idx:s,norm:i,indices:a})});else{const{v:s,n:i}=e,{isMatch:c,score:o,indices:a}=n.searchIn(s);c&&r.push({score:o,key:t,value:s,norm:i,indices:a})}return r}}var Lt,_t;xt.version="6.6.2",xt.createIndex=R,xt.parseIndex=F,xt.config=C,xt.parseQuery=ft,ct(rt),function(t){t["INIT"]="init",t["SEARCH"]="search",t["ADD"]="add",t["UPDATE"]="update"}(Lt||(Lt={})),function(t){t["COMPONENT_LIST_RESULTS"]="component_list_results",t["DIALOG_COMPONENT_LIST_RESULTS"]="dialog_component_list_results",t["INSTANCE_RESULTS"]="instance_results"}(_t||(_t={}));const St=self,vt=new Map;St.addEventListener("message",t=>{var e;const{data:n}=t;switch(n.type){case Lt.INIT:vt.set(n.documentId,new xt(n.list,n.options));break;case Lt.SEARCH:{const t=vt.get(n.documentId);t||console.error("`set` must be called before `search`");const s=t?t.search(n.pattern).map(t=>t.item.ukey):[],r={type:null!==(e=n.resultType)&&void 0!==e?e:"",data:s};St.postMessage(r);break}case Lt.ADD:{if(!n.addList||n.addList.length<=0)return;const t=vt.get(n.documentId);if(!t)return;for(const e of n.addList)t.add(e);break}case Lt.UPDATE:{if(!n.updateList||n.updateList.length<=0)return;const t=vt.get(n.documentId);if(!t)return;for(const e of n.updateList)t.remove(t=>t.ukey===e.ukey),t.add(e);break}default:}})}});',
          "Worker",
          void 0,
          i.p + "static/js/main.00766299.worker.js"
        );
      }
    },
    cbe2: function (e, t, i) {
      "use strict";
      i("ee9c");
    },
    cef3: function (e, t, i) {
      "use strict";
      var s;
      i.d(t, "a", function () {
        return s;
      }),
        i.d(t, "b", function () {
          return n;
        }),
        (function (e) {
          (e[(e["SKETCH"] = 1)] = "SKETCH"),
            (e[(e["XD"] = 2)] = "XD"),
            (e[(e["FIG_LOCAL"] = 3)] = "FIG_LOCAL"),
            (e[(e["OETHER_LOCAL"] = 4)] = "OETHER_LOCAL"),
            (e[(e["FIG_PATH"] = 5)] = "FIG_PATH"),
            (e[(e["BIG_FILE"] = 6)] = "BIG_FILE"),
            (e[(e["AXURE"] = 7)] = "AXURE"),
            (e[(e["FILE_OPEN"] = 8)] = "FILE_OPEN");
        })(s || (s = {}));
      const o = [
          {
            id: 1,
            scene: [5, 6],
            content: "导入时间长？导入失败？页面卡顿？",
            url: "https://mastergo.com/blog/42?%E5%AF%BC%E5%85%A5%E4%B8%89%E9%97%AE%E5%92%8C%E8%A7%A3%E7%AD%94%EF%BC%9A%E6%97%B6%E9%97%B4%E8%BF%87%E9%95%BF%E3%80%81%E5%AF%BC%E5%85%A5%E5%A4%B1%E8%B4%A5%E3%80%81%E9%A1%B5%E9%9D%A2%E5%8D%A1%E9%A1%BF",
            weight: 1,
          },
          {
            id: 2,
            scene: [1, 2, 3, 4, 5, 6],
            content: "文件导入常见的还原度问题",
            url: "https://mastergo.com/blog/41?%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AF%BC%E5%85%A5%E6%96%87%E4%BB%B6%E4%BC%9A%E9%81%87%E5%88%B0%E8%BF%98%E5%8E%9F%E5%BA%A6%E9%97%AE%E9%A2%98",
            weight: 1,
          },
          {
            id: 3,
            scene: [0],
            content: "MasterGo 使用的常见问题",
            url: "https://mastergo.com/help/common-problem/common-problem",
            weight: 1,
          },
          {
            id: 4,
            scene: [0],
            content: "需要更改绑定的邮箱/手机号？",
            url: "https://mastergo.com/help/common-problem/account-binding",
            weight: 1,
          },
          {
            id: 5,
            scene: [0],
            content: "MasterGo 客户端，性能表现更佳",
            url: "https://mastergo.com/resource",
            weight: 1,
          },
          {
            id: 6,
            scene: [0],
            content: "一分钟了解 MasterGo 各类功能",
            url: "https://mastergo.com/help/",
            weight: 1,
          },
          {
            id: 7,
            scene: [0],
            content: "视频教程，更详细的上手指南",
            url: "https://mastergo.com/tutorials",
            weight: 1,
          },
          {
            id: 8,
            scene: [0],
            content: "常用快捷键一览 — 高效创造",
            url: "https://mastergo.com/community/resource/58134672011305?from=card",
            weight: 1,
          },
          {
            id: 9,
            scene: [0],
            content: "创作的助攻神器 — 资源库",
            url: "https://mastergo.com/help/view/library",
            weight: 1,
          },
          {
            id: 10,
            scene: [0],
            content: "自动布局 — 必会的提效攻略",
            url: "https://mastergo.com/community/resource/58171549391678?from=card",
            weight: 1,
          },
          {
            id: 11,
            scene: [2, 3, 5, 7],
            content: "原型演示功能 — 智能动画更懂你",
            url: "https://mastergo.com/community/resource/58134501093366?from=card",
            weight: 1,
          },
          {
            id: 12,
            scene: [2, 3, 5, 7],
            content: "动效曲线 — 定制专属动画效果",
            url: "https://mastergo.com/help/prototype/animation",
            weight: 1,
          },
          {
            id: 13,
            scene: [0],
            content: "组件样式 — 一处改处处改",
            url: "https://mastergo.com/community/resource/58134752751685?from=card",
            weight: 1,
          },
          {
            id: 14,
            scene: [0],
            content: "组件状态 — 助力打造设计系统",
            url: "https://mastergo.com/community/resource/58134705565748?from=card",
            weight: 1,
          },
          {
            id: 15,
            scene: [0],
            content: "约束布局 — 便捷的响应式设计",
            url: "https://mastergo.com/community/resource/58134629019675?from=card",
            weight: 1,
          },
          {
            id: 16,
            scene: [0],
            content: "布局网格 — 轻松实现一致布局",
            url: "https://mastergo.com/community/resource/60889325444760?from=card",
            weight: 1,
          },
          {
            id: 17,
            scene: [0],
            content: "评论 — 超级好用的异步沟通工具",
            url: "https://mastergo.com/community/resource/58135016992956?from=card",
            weight: 1,
          },
          {
            id: 18,
            scene: [0],
            content: "校对 — 一键秒换文案",
            url: "https://mastergo.com/community/resource/58134795743330?from=card",
            weight: 1,
          },
          {
            id: 19,
            scene: [0],
            content: "圈话 — 视听结合、高效协作",
            url: "https://mastergo.com/help/collaboration/voice-comment",
            weight: 1,
          },
          {
            id: 20,
            scene: [0],
            content: "跟随视角 — 团队高效评审",
            url: "https://mastergo.com/community/resource/58134594416657?from=card",
            weight: 1,
          },
          {
            id: 21,
            scene: [0],
            content: "了解团队的管理与设置",
            url: "https://mastergo.com/community/resource/58134348001234?from=card",
            weight: 1,
          },
          {
            id: 22,
            scene: [0],
            content: "团队库 — 共享设计系统",
            url: "https://mastergo.com/community/resource/58134552473611?from=card",
            weight: 1,
          },
          {
            id: 23,
            scene: [0],
            content: "文件一键分享 — 为创造插上翅膀",
            url: "https://mastergo.com/community/resource/58135111364851?from=card",
            weight: 1,
          },
          {
            id: 24,
            scene: [0],
            content: "同步至蓝湖 — 0壁垒的设计交付",
            url: "https://mastergo.com/community/resource/58134312349633?from=card",
            weight: 1,
          },
          {
            id: 25,
            scene: [0],
            content: "标注模式 — 工程师效率爆表",
            url: "https://mastergo.com/help/collaboration/mark-mode",
            weight: 1,
          },
          {
            id: 26,
            scene: [0],
            content: "字体不受限、创作无边界",
            url: "https://mastergo.com/help/text-tool/text",
            weight: 1,
          },
          {
            id: 27,
            scene: [0],
            content: "一键切图 — 设计交付更高效",
            url: "https://mastergo.com/help/import-and-export/export-assets",
            weight: 1,
          },
          {
            id: 28,
            scene: [1, 8],
            content: "MasterGo 与 Sketch 的差异",
            url: "https://mastergo.com/blog/43?%E5%92%8C%20Sketch%20%E7%9B%B8%E6%AF%94%EF%BC%8CMasterGo%20%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8A%BF%E5%92%8C%E5%B7%AE%E5%BC%82%EF%BC%9F",
            weight: 1,
          },
          {
            id: 29,
            scene: [2, 8],
            content: "MasterGo 与 XD 的差异",
            url: "https://mastergo.com/blog/44?%E5%92%8C%20XD%20%E7%9B%B8%E6%AF%94%EF%BC%8CMasterGo%20%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8A%BF%E5%92%8C%E5%B7%AE%E5%BC%82%EF%BC%9F",
            weight: 1,
          },
          {
            id: 31,
            scene: [0],
            content: "罗永浩怎么评价 MasterGo",
            url: "https://mastergo.com/blog/39?%E8%AE%BE%E8%AE%A1%E8%BF%88%E5%85%A5%E5%8D%8F%E5%90%8C%E6%97%B6%E4%BB%A3%EF%BC%8C%E7%BD%97%E6%B0%B8%E6%B5%A9%E4%B8%8E%20MasterGo%20%E4%BA%A4%E4%B8%AA%E6%9C%8B%E5%8F%8B",
            weight: 1,
          },
          {
            id: 32,
            scene: [0],
            content: " 你的灵感仓库 — 海量社区资源随时选用",
            url: "https://mastergo.com/community/",
            weight: 1,
          },
          {
            id: 33,
            scene: [0],
            content: "参与临摹活动，赢取丰富奖品",
            url: "https://mastergo.com/community/activity",
            weight: 1,
          },
          {
            id: 34,
            scene: [0],
            content: "多款插件随时调用，实现更多美丽想法",
            url: "https://mastergo.com/community/plugin",
            weight: 1,
          },
          {
            id: 35,
            scene: [0],
            content: "一键清理隐藏图层 — 插件帮你",
            url: "https://mastergo.com/community/plugin/65601515705845",
            weight: 1,
          },
          {
            id: 36,
            scene: [0],
            content: "文本查找&替换插件 — 文本处理更简单",
            url: "https://mastergo.com/community/plugin/66507883989943",
            weight: 1,
          },
        ],
        a = (e) => {
          let t = e.length - 1;
          for (; t > 0; t--) {
            const i = Math.floor(Math.random() * (t + 1));
            [e[i], e[t]] = [e[t], e[i]];
          }
          return e;
        },
        n = (e, t = 6) => {
          const i = o.filter(
            (t) => 0 === t.scene[0] || e.some((e) => t.scene.includes(e))
          );
          return a(i).slice(0, t);
        };
    },
    cf92: function (e, t, i) {},
    cfd7: function (e, t, i) {},
    d00e: function (e, t, i) {},
    d1dd: function (e, t, i) {
      "use strict";
      i("206b");
    },
    d20a: function (e, t, i) {
      "use strict";
      i("cf92");
    },
    d309: function (e, t) {
      e.exports =
        "data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/CABEIATgCMAMBEQACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAQr/2gAIAQEAAAAAyvgAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABYAAAAAAAAAAAWAAAAAAAAAAAFgAAAAAAAAAABQAAAAAAAAAABf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAECEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8QAHhABAAAHAQEBAAAAAAAAAAAAAQARMVFgcZGxIUH/2gAIAQEAAT8AwUqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz3Bips9wYqbPcGKmz2JNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4xJs8Yk2eMSbPGJNnjEmzxiTZ4wDM+NT8bx//8QAFBEBAAAAAAAAAAAAAAAAAAAAsP/aAAgBAgEBPwAqr//EABQRAQAAAAAAAAAAAAAAAAAAALD/2gAIAQMBAT8AKq//2Q==";
    },
    d33e: function (e, t, i) {},
    d385: function (e, t, i) {
      "use strict";
      i.r(t);
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "refMasterApp",
              staticClass: "layout_container",
            },
            [
              i("EditpageSkeletonScreen", {
                attrs: {
                  visible: e.loading && !e.isHistoryView,
                  isResource: !1,
                },
              }),
              e.disableShowToolbar
                ? [
                    i("Nav-bar", {
                      staticClass: "tourist-nav-bar",
                    }),
                    i("TouristBar", {
                      staticClass: "tourist-bar",
                    }),
                  ]
                : i(
                    "span",
                    [
                      i("Nav-bar", {
                        ref: "navBar",
                      }),
                      i("TopBar"),
                      i("LeftBar"),
                      e.isHistoryView
                        ? i("VersionRightBar")
                        : 98 === e.canvasState
                        ? i("CommentSideBar")
                        : 1 === e.viewMode
                        ? i("BoserveRightBar")
                        : "frame" === e.viewType
                        ? i("FrameArea")
                        : 2 === e.viewMode
                        ? i("PrototypeRightBar")
                        : i("NewRightBar"),
                      e.disableUpdateLayer ? e._e() : i("PluginDock"),
                    ],
                    1
                  ),
              i("MiddleMain", {
                ref: "main",
                class: {
                  "layout-tourist__main": e.disableShowToolbar,
                },
              }),
              i(
                "MasterDialog",
                {
                  key: "changeset-saving-dialog",
                  attrs: {
                    visible: e.savingShow,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.savingShow = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("是否离开文件？")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "rename-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "gray",
                                    size: "sm",
                                    width: "76",
                                  },
                                  on: {
                                    click: e.handleForceBack,
                                  },
                                },
                                [e._v("离开")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    width: "76",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.savingShow = !1;
                                    },
                                  },
                                },
                                [e._v("取消")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i(
                    "div",
                    [
                      e.wssStatus.storeConnected
                        ? [
                            e._v(
                              " 离线编辑已保存到本地，网络恢复后重新进入文件将自动同步； "
                            ),
                            i("br"),
                            i(
                              "span",
                              {
                                staticClass: "saving-dialog-notice",
                              },
                              [
                                e._v(
                                  "注意：浏览器的无痕/隐私模式下，此时关闭此页面会导致离线数据丢失！"
                                ),
                              ]
                            ),
                          ]
                        : [
                            e._v(
                              " 从离线后到进入只读模式前，如有编辑操作，此时关闭页面会丢失这部分编辑数据。 "
                            ),
                            i("br"),
                            e._v("如需保存，需等待网络恢复后同步 "),
                          ],
                    ],
                    2
                  ),
                ]
              ),
              i(
                "MasterDialog",
                {
                  key: "changeset-syncing-dialog",
                  attrs: {
                    visible: e.syncingShow,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.syncingShow = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("离线操作同步中")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "rename-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "gray",
                                    size: "sm",
                                    width: "76",
                                  },
                                  on: {
                                    click: e.handleForceBack,
                                  },
                                },
                                [e._v("仍要离开")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    width: "76",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.syncingShow = !1;
                                    },
                                  },
                                },
                                [e._v("好的")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(" 正在同步离线操作，关闭页面可能导致数据丢失； "),
                    i("br"),
                    e._v("建议同步完成后再关闭页面 "),
                  ]),
                ]
              ),
              i(
                "MasterDialog",
                {
                  key: "kick-out-dialog",
                  attrs: {
                    visible: e.kickOutShow,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.kickOutShow = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("登录信息已失效")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "rename-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    width: "76",
                                  },
                                  on: {
                                    click: e.handleForceBack,
                                  },
                                },
                                [e._v("确定")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [i("div", [e._v("为防止数据丢失，请重新登录后再继续操作")])]
              ),
              i(
                "MasterDialog",
                {
                  attrs: {
                    visible: e.restoreShow,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.restoreShow = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("恢复组件")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "rename-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    size: "sm",
                                    width: "84",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.restoreShow = !1;
                                    },
                                  },
                                },
                                [e._v("取消")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    width: "84",
                                  },
                                  on: {
                                    click: e.HandleRestoreComponent,
                                  },
                                },
                                [e._v("恢复")]
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [i("div", [e._v("此组件已经被删除，请恢复组件以继续编辑。")])]
              ),
              i(
                "MasterDialog",
                {
                  attrs: {
                    visible: e.forceUpdateVisible,
                    hold: !0,
                    showClose: !1,
                    width: "420px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.forceUpdateVisible = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("强制刷新")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "highlight",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: e.reloadWindow,
                              },
                            },
                            [e._v("同步版本")]
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(
                      "其他成员将文件退回到了历史版本, 需要将文件同步到此版本才可继续浏览"
                    ),
                  ]),
                ]
              ),
              i(
                "MasterDialog",
                {
                  attrs: {
                    visible: e.layerFillFailedVisible,
                    hold: !0,
                    showClose: !1,
                    width: e.isMobile ? "90%" : "420px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.layerFillFailedVisible = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v("存在图层渲染问题")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: function (t) {
                                  e.layerFillFailedVisible = !1;
                                },
                              },
                            },
                            [e._v("我知道了")]
                          ),
                          e.isMobile
                            ? e._e()
                            : i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    width: "84",
                                  },
                                  on: {
                                    click: e.layerFillFailedSubmit,
                                  },
                                },
                                [e._v("定位到图层")]
                              ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "color-text-secondary",
                    },
                    [
                      e._v(
                        "部分图层过大，目前无法正常渲染，如需帮助，可点击右下角的问号，通过在线客服联系我们～"
                      ),
                    ]
                  ),
                ]
              ),
              i("limiting-daliog", {
                key: "rate-limiting-dialog",
                attrs: {
                  visible: e.rateLimitingDialog.visible,
                  title: e.rateLimitingDialog.title,
                  content: e.rateLimitingDialog.content,
                  cancelLabel: e.rateLimitingDialog.cancelLabel,
                  confirmLabel: e.rateLimitingDialog.confirmLabel,
                },
                on: {
                  "update:visible": function (t) {
                    return e.$set(e.rateLimitingDialog, "visible", t);
                  },
                  cancel: e.rateLimitingDialog.onCancel,
                  confirm: e.rateLimitingDialog.onConfirm,
                },
              }),
              e.rateLimiting
                ? i("toast", {
                    key: "rate-limiting-tip",
                    attrs: {
                      content: "您处于快照模式，无法编辑。",
                      position: "top",
                      type: "normal",
                    },
                  })
                : e._e(),
              i(
                "lazy-box",
                {
                  attrs: {
                    visible: e.isShowExportAllDialog,
                  },
                },
                [
                  i("ExportDialog", {
                    attrs: {
                      isShowExportAllDialog: e.isShowExportAllDialog,
                    },
                    on: {
                      close: e.exportAllDialogClose,
                    },
                  }),
                ],
                1
              ),
              i(
                "lazy-box",
                {
                  attrs: {
                    visible: e.isPreferencesDialog,
                  },
                },
                [
                  i("PreferencesDialog", {
                    attrs: {
                      isShowPreferences: e.isPreferencesDialog,
                    },
                    on: {
                      close: e.closePreferencesDialog,
                    },
                  }),
                ],
                1
              ),
              i("BackInstance"),
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("2f62"),
        c = i("2ef0"),
        l = i("207b"),
        d = i("d91a"),
        u = i("1fc8"),
        h = i("65b9"),
        p = i("44a6"),
        m = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "MasterDialog",
            {
              attrs: {
                visible: e.visible,
                showClose: !1,
                width: "360px",
                hold: "",
              },
              on: {
                "update:visible": function (t) {
                  e.visible = t;
                },
              },
              scopedSlots: e._u([
                {
                  key: "title",
                  fn: function () {
                    return [e._v(" " + e._s(e.title) + " ")];
                  },
                  proxy: !0,
                },
                {
                  key: "footer",
                  fn: function () {
                    return [
                      e.cancelLabel
                        ? i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "sm",
                                width: "104",
                              },
                              on: {
                                click: e.cancel,
                              },
                            },
                            [e._v(" " + e._s(e.cancelLabel) + " ")]
                          )
                        : e._e(),
                      e.confirmLabel
                        ? i(
                            "MButton",
                            {
                              attrs: {
                                type: "highlight",
                                size: "sm",
                                width: "104",
                              },
                              on: {
                                click: e.confirm,
                              },
                            },
                            [e._v(" " + e._s(e.confirmLabel) + " ")]
                          )
                        : e._e(),
                    ];
                  },
                  proxy: !0,
                },
              ]),
            },
            [e._v(" " + e._s(e.content) + " ")]
          );
        },
        g = [],
        b = i("9039");
      let v = class extends n["g"] {
        close() {
          this.$emit("update:visible", !1);
        }
        cancel() {
          this.close(), this.$emit("cancel");
        }
        confirm() {
          this.close(), this.$emit("confirm");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        v.prototype,
        "visible",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          v.prototype,
          "title",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          v.prototype,
          "content",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          v.prototype,
          "cancelLabel",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          v.prototype,
          "confirmLabel",
          void 0
        ),
        (v = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterDialog: b["a"],
              },
            }),
          ],
          v
        ));
      var f = v,
        y = f,
        _ = i("2877"),
        C = Object(_["a"])(y, m, g, !1, null, null, null),
        S = C.exports,
        I = i("5339"),
        O = i("50e2"),
        k = i("8ece"),
        w = i("1320"),
        x = i("dc0f"),
        L = i("a33a"),
        A = i("05d2"),
        T = i("c426"),
        j = (i("79e4"), i("5ed9")),
        M = i("1fe8"),
        E = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              staticClass: "mas-message",
              class:
                ((e = {}),
                (e["mas-message--type-" + t.type] = !0),
                (e["mas-message--loading"] = t.loading),
                e),
            },
            [
              s(
                "div",
                {
                  staticClass: "mas-message__container",
                },
                [
                  s(
                    "div",
                    {
                      key: "main",
                      staticClass: "mas-message__main",
                    },
                    [
                      t._t("main", [
                        t.icon
                          ? s(
                              "div",
                              {
                                key: "icon",
                                staticClass: "mas-message__icon",
                              },
                              [
                                s(t.icon, {
                                  tag: "component",
                                  attrs: {
                                    size: t.iconProps.size,
                                    fill: t.iconProps.fill,
                                    rotate: t.iconProps.rotate,
                                  },
                                }),
                              ],
                              1
                            )
                          : t._e(),
                        s(
                          "div",
                          {
                            key: "content",
                            staticClass: "mas-message__content",
                          },
                          [t._v(" " + t._s(t.content) + " ")]
                        ),
                      ]),
                    ],
                    2
                  ),
                  t.description || t.$scopedSlots.sub
                    ? s(
                        "div",
                        {
                          key: "sub",
                          staticClass: "mas-message__sub",
                        },
                        [
                          t._t("sub", [
                            s(
                              "div",
                              {
                                staticClass: "mas-message__description",
                              },
                              [t._v(" " + t._s(t.description) + " ")]
                            ),
                          ]),
                        ],
                        2
                      )
                    : t._e(),
                  t.$scopedSlots.foot
                    ? s(
                        "div",
                        {
                          key: "foot",
                          staticClass: "mas-message__foot",
                        },
                        [t._t("foot")],
                        2
                      )
                    : t._e(),
                ]
              ),
            ]
          );
        },
        P = [];
      let D = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "normal",
          }),
        ],
        D.prototype,
        "type",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          D.prototype,
          "icon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              default: () => ({}),
            }),
          ],
          D.prototype,
          "iconProps",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          D.prototype,
          "content",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])(String)],
          D.prototype,
          "description",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          D.prototype,
          "loading",
          void 0
        ),
        (D = Object(a["__decorate"])([n["a"]], D));
      var B = D,
        N = B,
        F = (i("bddf"), Object(_["a"])(N, E, P, !1, null, null, null)),
        R = F.exports,
        H = i("866d"),
        $ = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("MDialog", {
            attrs: {
              customClass: "dialog-border-class",
              top: "96px",
              right: "264px",
              name: "exportList",
              width: "340px",
              visible: e.isShowExportAllDialog,
              allowDrag: !0,
              modal: !1,
              showClose: !0,
            },
            on: {
              close: e.handleClose,
              open: e.handleOpen,
            },
            nativeOn: {
              click: function (e) {
                e.stopPropagation();
              },
            },
            scopedSlots: e._u([
              {
                key: "title",
                fn: function () {
                  return [e._v("导出")];
                },
                proxy: !0,
              },
              {
                key: "default",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        ref: "refDialog",
                      },
                      [
                        e.exportList && 0 === e.exportList.length
                          ? i("div", [
                              i(
                                "div",
                                {
                                  staticClass: "exportList-no-List",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass:
                                        "exportList-no-List__gif-background",
                                    },
                                    [
                                      e.isShowExportAllDialog
                                        ? i("img", {
                                            attrs: {
                                              src: e.gifSrc,
                                              alt: "",
                                            },
                                          })
                                        : e._e(),
                                    ]
                                  ),
                                  i(
                                    "p",
                                    {
                                      staticClass: "exportList-no-List__tips",
                                    },
                                    [
                                      e._v(
                                        " 当前选中的范围中没有可导出的切图。 "
                                      ),
                                      i("br"),
                                      e._v(
                                        " 请在属性面版添加导出项，或重新选择导出范围。 "
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                            ])
                          : i("div", [
                              i(
                                "header",
                                {
                                  staticClass: "exportList-header",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "exportList-header__title",
                                    },
                                    [
                                      i("BasicCheckbox", {
                                        staticStyle: {
                                          "margin-right": "9px",
                                        },
                                        attrs: {
                                          checked: e.isSelectAll(),
                                          indeterminate:
                                            !e.isSelectAll() &&
                                            !e.unSelectAll(),
                                        },
                                        on: {
                                          change: e.toggleSelectAll,
                                        },
                                      }),
                                      i("span", [
                                        e._v(
                                          "已选中 " +
                                            e._s(e.selectCount()) +
                                            "/" +
                                            e._s(e.exportList.length) +
                                            " "
                                        ),
                                      ]),
                                    ],
                                    1
                                  ),
                                  i(
                                    "MButton",
                                    {
                                      attrs: {
                                        disabled: 0 === e.selectCount(),
                                        type: "highlight",
                                        width: "54",
                                        iconSize: "12",
                                        size: "xs",
                                      },
                                      on: {
                                        click: e.exportClick,
                                      },
                                    },
                                    [e._v(" 导出 ")]
                                  ),
                                ],
                                1
                              ),
                              i(
                                "main",
                                {
                                  staticClass: "exportList-main",
                                },
                                [
                                  i(
                                    "ul",
                                    {
                                      ref: "refExportUl",
                                    },
                                    e._l(e.exportList, function (t) {
                                      return i(
                                        "li",
                                        {
                                          key: t.id,
                                          ref: "refExportList",
                                          refInFor: !0,
                                          staticClass: "exportList-item",
                                          attrs: {
                                            "data-layerId": t.layerId,
                                            "data-isLayer": t.isLayer,
                                          },
                                        },
                                        [
                                          i("BasicCheckbox", {
                                            staticStyle: {
                                              "margin-right": "9px",
                                            },
                                            attrs: {
                                              checked: !e.unSelectedMap.has(
                                                t.id
                                              ),
                                            },
                                            on: {
                                              change: function (i) {
                                                return e.toggleSelect(t.id);
                                              },
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "exportList-item__picture",
                                              on: {
                                                click: function (i) {
                                                  return e.jumpToLayer(
                                                    t.layerId
                                                  );
                                                },
                                              },
                                            },
                                            [
                                              i("img", {
                                                attrs: {
                                                  src: e.imgMap.get(t.layerId),
                                                },
                                              }),
                                            ]
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "exportList-item__content",
                                            },
                                            [
                                              i(
                                                "div",
                                                [
                                                  i("h5", [
                                                    e._v(e._s(t.fileName)),
                                                  ]),
                                                  e.isReaped(t.fileName)
                                                    ? i("WarningColorIcon", {
                                                        directives: [
                                                          {
                                                            name: "tip",
                                                            rawName:
                                                              "v-tip.bottom",
                                                            value:
                                                              "与其他切片重名",
                                                            expression:
                                                              "'与其他切片重名'",
                                                            modifiers: {
                                                              bottom: !0,
                                                            },
                                                          },
                                                        ],
                                                        tag: "component",
                                                        attrs: {
                                                          size: "13",
                                                        },
                                                      })
                                                    : e._e(),
                                                ],
                                                1
                                              ),
                                              i(
                                                "p",
                                                {
                                                  staticClass: "p6",
                                                },
                                                [
                                                  e._v(
                                                    e._s(e.formatDescData(t))
                                                  ),
                                                ]
                                              ),
                                            ]
                                          ),
                                        ],
                                        1
                                      );
                                    }),
                                    0
                                  ),
                                ]
                              ),
                            ]),
                      ]
                    ),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        V = [],
        z = i("c257"),
        U = i("e8c6"),
        q = i("0152"),
        W = i("6f45");
      let G = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this["exportList"] = []),
            (this.darkGif = i("bae4")),
            (this.lightGif = i("3155")),
            (this.gifSrc = "");
        }
        getExportListData(e) {
          const t =
            e && Array.isArray(e) && 0 !== e.length
              ? k["a"].getSelectedExportList()
              : k["a"].getAllExportList();
          return (
            (this.unHandleExportList = t),
            t.map((e) => {
              const t = Object(W["d"])(e.fileName, e.layerName, e.isSuffix);
              return Object.assign(Object.assign({}, e), {
                fileName: t,
              });
            })
          );
        }
        initMap() {
          this.$store.commit(
            "exportList/initNameRepeatItemMap",
            this.exportList
          );
        }
        isReaped(e) {
          const t = this.nameRepeatItemMap;
          return t && Array.isArray(t.get(e)) && 1 !== t.get(e).length;
        }
        jumpToLayer(e) {
          const t = this.selectIds;
          k["a"].mergeStepStart(),
            k["a"].layers.select([e]),
            k["a"].viewPort.fixedToLayer(),
            k["a"].layers.select(t),
            k["a"].mergeStepEnd();
        }
        formatDescData(e) {
          const { fileType: t, value: i, width: s, height: o, type: a } = e,
            n = new Map([
              [U["d"].X, "x"],
              [U["d"].W, "w"],
              [U["d"].H, "h"],
            ]),
            r = Object(W["f"])(t),
            c = `${i}${n.get(a)}`,
            l = +i.toFixed(2),
            d = Math.round(s),
            u = Math.round(o);
          if (t === U["a"].PDF || t === U["a"].SVG)
            return `1x ${r}, ${d}×${u}px`;
          const h = Object(W["e"])(a, l, d, u);
          return `${c} ${r}, ${h.width}×${h.height}px`;
        }
        lazyLoad() {
          const e = {
              root: this.$refs.refExportUl,
              rootMargin: "0px",
              threshold: 0.4,
            },
            t = (e) => {
              e.forEach((e) => {
                if (!e.isIntersecting) return;
                const t = {
                  layerId: e.target.dataset.layerid,
                  isLayer: !!e.target.dataset.islayer,
                };
                i.unobserve(e.target),
                  this.$store.commit("exportList/getImgMap", t);
              });
            },
            i = new IntersectionObserver(t, e),
            s = this.$refs.refExportList;
          if (s) for (const o of s) i.observe(o);
        }
        isSelectAll() {
          const e = this.exportList;
          if (!Array.isArray(e)) return !1;
          for (const t of e) if (this.unSelectedMap.has(t.id)) return !1;
          return !0;
        }
        unSelectAll() {
          const e = this.exportList;
          if (!Array.isArray(e)) return !0;
          for (const t of e) if (!this.unSelectedMap.has(t.id)) return !1;
          return !0;
        }
        toggleSelectAll() {
          this.isSelectAll()
            ? this.$store.commit("exportList/unSelectAll", this.exportList)
            : this.$store.commit("exportList/selectAll", this.exportList);
        }
        toggleSelect(e) {
          this.$store.commit("exportList/toggleSelect", e);
        }
        selectCount() {
          let e = 0;
          return (
            this.exportList.forEach((t) => {
              !this.unSelectedMap.has(t.id) && e++;
            }),
            e
          );
        }
        idsChange() {
          this.$emit("close", !1);
        }
        closeCallBack(e) {
          const t = "CANVAS" !== e.target.tagName;
          t && this.$emit("close", !1);
        }
        stopPropagationDialog(e) {
          e.stopPropagation();
        }
        handleOpen() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            (this.exportList = this.getExportListData(this.selectIds)),
              this.initMap(),
              setTimeout(() => {
                const e = Date.now();
                (this.gifSrc =
                  (this.isDark ? this.darkGif : this.lightGif) + "?time=" + e),
                  window.addEventListener("click", this.closeCallBack),
                  this.lazyLoad();
              });
          });
        }
        handleClose(e) {
          this.gifSrc = "";
          const t = this.$refs.refDialog;
          window.removeEventListener("click", this.closeCallBack),
            t.removeEventListener("click", this.stopPropagationDialog),
            this.$emit("close", e);
        }
        beforeDestroy() {
          const e = this.$refs.refDialog;
          window.removeEventListener("click", this.closeCallBack),
            e.removeEventListener("click", this.stopPropagationDialog);
        }
        filterExportList() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = this.unHandleExportList,
              t = this.unSelectedMap,
              i = e.filter((e) => !t.has(e.id));
            x["q"].disableImageGC(),
              yield x["q"].waitImageLoadForLayer(i.map((e) => e.layerId)),
              (this.exportList = this.getExportListData(this.selectIds));
            const s = Object(W["b"])(i),
              o = k["a"]
                .exportSelectedImageData(i)
                .filter((e) => !e.errorCode)
                .map((e) => {
                  const t = Object(W["d"])(e.fileName, e.layerName, e.isSuffix);
                  return {
                    buffer: e.buffer,
                    fileName: t,
                    fileType: e.fileType.toString(),
                    isSuffix: e.isSuffix,
                    layerName: e.layerName,
                  };
                });
            return x["q"].enableImageGC(), [...o, ...s];
          });
        }
        exportClick() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = yield this.filterExportList();
            if (!e.length) return;
            const t = Object(W["c"])(e)();
            yield Object(q["b"])(t);
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
            default: !1,
          }),
        ],
        G.prototype,
        "isShowExportAllDialog",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("selectIds")],
          G.prototype,
          "idsChange",
          null
        ),
        (G = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicCheckbox: z["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  selectBasic: (e) => e.basicProps.item,
                  selectBasicLayerId: (e) => e.basicProps.item.layerId,
                  layerMap: (e) => e.newLayer.layerMap,
                  basicState: (e) => e.basicState,
                  currentPageId: (e) => e.basicState.currentPageId,
                  isDark: (e) => e.main.isDark,
                  selectIds: (e) => e.basicState.selectIds,
                  unSelectedMap: (e) => e.exportList.unSelectedMap,
                  nameRepeatItemMap: (e) => e.exportList.nameRepeatItemMap,
                  imgMap: (e) => e.exportList.imgMap,
                  clickEvent: (e) => e.exportList.clickEvent,
                })
              ),
            }),
          ],
          G
        ));
      var K = G,
        Q = K,
        Y = (i("c648"), Object(_["a"])(Q, $, V, !1, null, null, null)),
        X = Y.exports,
        Z = i("d257"),
        J = i("c50e"),
        ee = i("43c3"),
        te = i("163b"),
        ie = i("79f6c"),
        se = i("9a7c"),
        oe = i("e46f"),
        ae = i("52d2"),
        ne = i("d6e0"),
        re = i("4354"),
        ce = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("MDialog", {
            attrs: {
              top: "28vh",
              name: "preferencesDialog",
              modal: !1,
              width: "383px",
              visible: e.isShowPreferences,
              allowDrag: !0,
              showClose: !0,
            },
            on: {
              close: e.handleClose,
            },
            nativeOn: {
              click: function (e) {
                e.stopPropagation();
              },
            },
            scopedSlots: e._u([
              {
                key: "title",
                fn: function () {
                  return [e._v("偏好设置")];
                },
                proxy: !0,
              },
              {
                key: "default",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "feature-setting",
                      },
                      [
                        i("FineTuning", {
                          attrs: {
                            isShowFineTuning: e.isShowPreferences,
                          },
                        }),
                      ],
                      1
                    ),
                    i("div", [
                      i(
                        "ul",
                        {
                          staticClass: "feature-list",
                        },
                        e._l(e.preferencesConfig, function (t) {
                          return i(
                            "li",
                            {
                              key: t.key,
                              staticClass: "feature-list-item",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "feature-list-item-des",
                                },
                                [
                                  i("div", [e._v(e._s(t.name))]),
                                  i("div", [e._v(e._s(t.description))]),
                                ]
                              ),
                              i("Toggle", {
                                attrs: {
                                  defaultOpen: t.initState,
                                },
                                on: {
                                  change: t.toggleCallback,
                                },
                              }),
                            ],
                            1
                          );
                        }),
                        0
                      ),
                    ]),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        le = [],
        de = i("dc743"),
        ue = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "fine-tuning-input-container",
            },
            [
              i(
                "div",
                {
                  staticClass: "fine-tuning-input-container-title",
                },
                [e._v("微调")]
              ),
              i(
                "div",
                {
                  staticClass: "fine-tuning-input-inner-container",
                },
                [
                  i("span", [e._v("方向键移动对象")]),
                  i(
                    "div",
                    {
                      staticClass: "fine-tuning-input-box",
                    },
                    [
                      i("MasterInput", {
                        ref: "input1",
                        staticClass: "fine-tuning-input",
                        attrs: {
                          value: e.direction,
                          disabled: !1,
                          focusSelectAll: !0,
                        },
                        on: {
                          blur: e.adjustFineTuningHandler,
                          enter: e.keyEnterHandler,
                        },
                        model: {
                          value: e.direction,
                          callback: function (t) {
                            e.direction = t;
                          },
                          expression: "direction",
                        },
                      }),
                      i("span", [e._v("px")]),
                    ],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "fine-tuning-input-inner-container",
                },
                [
                  i("span", [e._v("Shift + 方向键移动对象")]),
                  i(
                    "div",
                    {
                      staticClass: "fine-tuning-input-box",
                    },
                    [
                      i("MasterInput", {
                        ref: "input2",
                        staticClass: "fine-tuning-input",
                        attrs: {
                          value: e.shift,
                          disabled: !1,
                          focusSelectAll: !0,
                        },
                        on: {
                          blur: e.adjustFineTuningHandler,
                          enter: e.keyEnterHandler,
                        },
                        model: {
                          value: e.shift,
                          callback: function (t) {
                            e.shift = t;
                          },
                          expression: "shift",
                        },
                      }),
                      i("span", [e._v("px")]),
                    ],
                    1
                  ),
                ]
              ),
            ]
          );
        },
        he = [],
        pe = i("9303"),
        me = i("0613");
      let ge = class extends n["g"] {
        constructor() {
          super(),
            (this.direction = ""),
            (this.shift = ""),
            (this.updateFineTuning = this.updateFineTuning.bind(this));
        }
        showFineTuningHandler(e) {
          e &&
            ((this.direction = k["a"].fineTuningSize[0] + ""),
            (this.shift = k["a"].fineTuningSize[1] + ""),
            this.$nextTick(() => {
              this.focusInput();
            }));
        }
        mounted() {
          L["a"].eventPublisher.on("updateFineTuning", this.updateFineTuning);
        }
        beforeDestroy() {
          L["a"].eventPublisher.off("updateFineTuning", this.updateFineTuning);
        }
        updateFineTuning(e) {
          (this.direction = e[0] + ""), (this.shift = e[1] + "");
        }
        adjustFineTuningHandler() {
          var e;
          const t = k["a"].fineTuningSize;
          "" === this.direction || Number.isNaN(Number(this.direction))
            ? (this.direction = t[0] + "")
            : (this.direction =
                Object(c["clamp"])(Number(this.direction), 0.1, 1e3) + ""),
            "" === this.shift || Number.isNaN(Number(this.shift))
              ? (this.shift = t[1] + "")
              : (this.shift =
                  Object(c["clamp"])(Number(this.shift), 1, 1e4) + ""),
            (k["a"].fineTuningSize = [
              Number(this.direction),
              Number(this.shift),
            ]),
            L["a"].send("UserSettingsModified", {
              userID: me["a"].getters.userinfo.id,
              boardcast_data: {
                preference: {
                  cid:
                    null === (e = L["a"].getRealTimeWss()) || void 0 === e
                      ? void 0
                      : e.status().cid,
                  type: "FineTuning",
                  data: [Number(this.direction), Number(this.shift)],
                },
              },
            });
        }
        keyEnterHandler() {
          this.adjustFineTuningHandler(), (this.showFineTuning = !1);
        }
        focusInput() {
          const e = this.$refs.input1;
          e.focus();
        }
        handleClose() {
          this.$eventBus.$emit("togglePreferencesDialog", !1);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
            default: !1,
          }),
        ],
        ge.prototype,
        "isShowFineTuning",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("isShowFineTuning", {
              immediate: !0,
            }),
          ],
          ge.prototype,
          "showFineTuningHandler",
          null
        ),
        (ge = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterInput: pe["a"],
              },
              computed: {},
            }),
          ],
          ge
        ));
      var be = ge,
        ve = be,
        fe =
          (i("d1dd"), Object(_["a"])(ve, ue, he, !1, null, "36d0e26b", null)),
        ye = fe.exports,
        _e = i("e0b5");
      const Ce = function (e, t) {
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter1: "toolbar_menu",
            action_parameter2: "setting",
            action_type: e ? "switch_on" : "switch_off",
            action_detail: t,
          });
        },
        Se = function (e) {
          var t;
          me["a"].dispatch("hotkey/toggleHotkeyMode").then(),
            Ce(e, "sketchMode"),
            L["a"].send("UserSettingsModified", {
              userID: me["a"].getters.userinfo.id,
              boardcast_data: {
                preference: {
                  cid:
                    null === (t = L["a"].getRealTimeWss()) || void 0 === t
                      ? void 0
                      : t.status().cid,
                  type: "SketchMode",
                  data: e,
                },
              },
            });
        },
        Ie = function (e) {
          var t;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            x["d"].setConfigByKey("ENABLE_DRAGGING_DETECTING_DISTANCE", e);
            const i = x["d"].getConfig().ENABLE_DRAGGING_DETECTING_DISTANCE;
            me["a"].commit("SET_USER_SETTING", {
              isDraggingDetectingDistance: i,
            }),
              yield Object(ie["nd"])({
                isDraggingDetectingDistance: e,
              }),
              Ce(e, "movingRange"),
              L["a"].send("UserSettingsModified", {
                userID: me["a"].getters.userinfo.id,
                boardcast_data: {
                  preference: {
                    cid:
                      null === (t = L["a"].getRealTimeWss()) || void 0 === t
                        ? void 0
                        : t.status().cid,
                    type: "DraggingDetectingDistance",
                    data: e,
                  },
                },
              });
          });
        },
        Oe = function (e) {
          var t;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            x["d"].setConfigByKey("ENABLE_CREATING_ABOVE_SELECTED", e);
            const i = x["d"].getConfig().ENABLE_CREATING_ABOVE_SELECTED;
            me["a"].commit("SET_USER_SETTING", {
              isCreatingAboveSelected: i,
            }),
              yield Object(ie["nd"])({
                isCreatingAboveSelected: e,
              }),
              Ce(e, "newLayerAboveSelectLayer"),
              L["a"].send("UserSettingsModified", {
                userID: me["a"].getters.userinfo.id,
                boardcast_data: {
                  preference: {
                    cid:
                      null === (t = L["a"].getRealTimeWss()) || void 0 === t
                        ? void 0
                        : t.status().cid,
                    type: "CreatingAboveSelected",
                    data: e,
                  },
                },
              });
          });
        },
        ke = function (e) {
          var t;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            me["a"].commit("SET_USER_SETTING", {
              texturingCompression: e,
            }),
              yield Object(ie["nd"])({
                texturingCompression: e,
              }),
              Ce(e, "texturingCompression"),
              L["a"].send("UserSettingsModified", {
                userID: me["a"].getters.userinfo.id,
                boardcast_data: {
                  preference: {
                    cid:
                      null === (t = L["a"].getRealTimeWss()) || void 0 === t
                        ? void 0
                        : t.status().cid,
                    type: "TexturingCompression",
                    data: e,
                  },
                },
              });
          });
        },
        we = function (e) {
          var t;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            me["a"].commit("SET_USER_SETTING", {
              undoExceptSelect: !e,
            }),
              yield Object(ie["nd"])({
                undoExceptSelect: !e,
              }),
              Ce(e, "undoExceptSelect"),
              L["a"].send("UserSettingsModified", {
                userID: me["a"].getters.userinfo.id,
                boardcast_data: {
                  preference: {
                    cid:
                      null === (t = L["a"].getRealTimeWss()) || void 0 === t
                        ? void 0
                        : t.status().cid,
                    type: "UndoExceptSelect",
                    data: e,
                  },
                },
              });
          });
        };
      let xe = class extends n["g"] {
        get preferencesConfig() {
          var e, t, i, s;
          return {
            sketchMode: {
              key: "sketchMode",
              name: "Sketch 快捷键适配",
              description: "一键适配 Sketch 快捷键和鼠标滚轮使用习惯",
              initState: "sketch" === this.currentHotkeyMode,
              toggleCallback: Se,
            },
            movingRange: {
              key: "movingRange",
              name: "移动测距",
              description: "移动对齐时显示图层之间的距离",
              initState:
                null === (e = this.isDraggingDetectingDistance) ||
                void 0 === e ||
                e,
              toggleCallback: Ie,
            },
            newLayerAboveSelectLayer: {
              key: "newLayerAboveSelectLayer",
              name: "新建图层位于所选图层之上",
              description: "选中图层时，再次新建图层的位置为所选图层的上方",
              initState:
                null !== (t = this.isCreatingAboveSelected) &&
                void 0 !== t &&
                t,
              toggleCallback: Oe,
            },
            texturingCompression: {
              key: "texturingCompression",
              name: "高性能图片模式",
              description:
                "我们已对高性能模式下的图片压缩策略进行了优化，默认在不影响图片质量的前提下享受更好的流畅度，二月起将不再显示此开关。",
              initState:
                null !== (i = this.texturingCompression) && void 0 !== i && i,
              toggleCallback: ke,
            },
            undo: {
              key: "undo",
              name: "撤回重做包含选中操作",
              description:
                "使用撤回或重做时，单独的选中操作会作为单独一步，方便你快速选中到上一次选中的单个或多个图层。",
              initState: !(
                null !== (s = this.undoExceptSelect) &&
                void 0 !== s &&
                s
              ),
              toggleCallback: we,
            },
          };
        }
        handleClose() {
          this.$eventBus.$emit("togglePreferencesDialog", !1);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
            default: !1,
          }),
        ],
        xe.prototype,
        "isShowPreferences",
        void 0
      ),
        (xe = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                FineTuning: ye,
                Toggle: de["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  currentHotkeyMode: (e) => e.hotkey.currentMode,
                  isDraggingDetectingDistance: (e) =>
                    e.main.userSetting.isDraggingDetectingDistance,
                  isCreatingAboveSelected: (e) =>
                    e.main.userSetting.isCreatingAboveSelected,
                  texturingCompression: (e) =>
                    e.main.userSetting.texturingCompression,
                  undoExceptSelect: (e) => e.main.userSetting.undoExceptSelect,
                })
              ),
            }),
          ],
          xe
        ));
      var Le = xe,
        Ae = Le,
        Te =
          (i("163a"), Object(_["a"])(Ae, ce, le, !1, null, "09f3a621", null)),
        je = Te.exports,
        Me = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.pluginDock.actived
            ? i(
                "div",
                {
                  ref: "pluginDock",
                  staticClass: "plugin-dock",
                  class: [
                    e.layoutType,
                    e.type,
                    e.isMoving ? "mouse-arrow" : "",
                  ],
                  style: e.dockStyle,
                },
                [
                  i(
                    "div",
                    {
                      ref: "scrollView",
                      staticClass: "plugin-scroll-view",
                      class: [e.layoutType, e.type, e.pluginDock.position],
                      style: e.scrollViewStyle,
                      on: {
                        wheel: e.handleWheel,
                      },
                    },
                    e._l(e.installedPluginList, function (t, s) {
                      return i(
                        "div",
                        {
                          key: t.plugin_id + "-" + s,
                          staticClass: "plugin-box",
                          style: e.scaleStyles[s] || {},
                        },
                        [
                          i(
                            "Tooltip",
                            {
                              attrs: {
                                placement: e.placement,
                                interactive: !1,
                              },
                            },
                            [
                              t.children && t.children.length
                                ? i(
                                    "master-dropdown",
                                    {
                                      attrs: {
                                        slot: "target",
                                        placement: e.placement,
                                        trigger: "click",
                                        cascade: "",
                                      },
                                      on: {
                                        command: e.handleRunPlugin,
                                      },
                                      slot: "target",
                                    },
                                    [
                                      i("div", {
                                        staticClass: "plugin-item",
                                        style: {
                                          "background-image":
                                            "url(" + t.plugin_logo + ")",
                                        },
                                        attrs: {
                                          slot: "dropButton",
                                        },
                                        slot: "dropButton",
                                      }),
                                      i("master-menu", {
                                        attrs: {
                                          slot: "dropMenu",
                                          list: t.children || [],
                                          maxHeight: "444px",
                                          menuWidth: "200px",
                                        },
                                        slot: "dropMenu",
                                      }),
                                    ],
                                    1
                                  )
                                : i("div", {
                                    staticClass: "plugin-item",
                                    style: {
                                      "background-image":
                                        "url(" + (t.plugin_logo || "") + ")",
                                    },
                                    attrs: {
                                      slot: "target",
                                    },
                                    on: {
                                      click: function (i) {
                                        return (
                                          i.stopPropagation(),
                                          e.handleRunPlugin(t)
                                        );
                                      },
                                    },
                                    slot: "target",
                                  }),
                              i(
                                "span",
                                {
                                  staticClass: "tooltip-content",
                                  attrs: {
                                    slot: "content",
                                  },
                                  slot: "content",
                                },
                                [e._v(e._s(t.label))]
                              ),
                            ],
                            1
                          ),
                        ],
                        1
                      );
                    }),
                    0
                  ),
                  i("div", {
                    staticClass: "plugin-dock__handle",
                    class: [e.type],
                    on: {
                      mousedown: function (t) {
                        return t.stopPropagation(), e.startDragging(t);
                      },
                    },
                  }),
                ]
              )
            : e._e();
        },
        Ee = [],
        Pe = i("d140"),
        De = i("1e2b"),
        Be = i("e0fc"),
        Ne = i("1ecf");
      let Fe = class extends n["g"] {
        constructor() {
          var e, t;
          super(...arguments),
            (this.scaleStyles = []),
            (this.scale = 0.25),
            (this.isMoving = !1),
            (this.minDockLength = 72),
            (this.dockLength = -1),
            (this.isOriginScale = !1),
            (this.resizeObserver = null),
            (this.barWidth =
              (null ===
                (t =
                  null === (e = this.$store.state.file) || void 0 === e
                    ? void 0
                    : e.settings) || void 0 === t
                ? void 0
                : t.barWidth) || 240),
            (this.bodyHeight = document.body.clientHeight),
            (this.bodyWidth = document.body.clientWidth),
            (this.handleWheel = Object(c["throttle"])(
              this.handleDockWheel.bind(this),
              15
            )),
            (this.handleScaleItem = Object(c["throttle"])(
              this.handleScalePluginItem.bind(this),
              15
            ));
        }
        get pluginBoxSize() {
          return "compact" === this.layoutType ? 32 : 44;
        }
        handleLeftBarWidthChange(e) {
          this.barWidth = e;
        }
        handleDockConfigChange(e) {
          var t;
          this.$forceUpdate(),
            (this.dockLength =
              null !== (t = e.length) && void 0 !== t ? t : -1);
        }
        get maxHeight() {
          return this.bodyHeight - 118;
        }
        get maxWidth() {
          return this.bodyWidth - this.barWidth - 34 - 252;
        }
        get backGroundStyle() {
          const e = this.pluginDock.isTransparency ? 0.5 : 1,
            t = this.isDark
              ? `rgba(33, 33, 33, ${e})`
              : `rgba(255, 255, 255, ${e})`,
            i = {
              background: t,
            };
          return (
            this.pluginDock.isTransparency &&
              this.pluginDock.backdropFilter &&
              (i["backdrop-filter"] = "blur(16px)"),
            i
          );
        }
        get layoutType() {
          return this.pluginDock.layout;
        }
        get type() {
          const e = this.pluginDock.position;
          return "left" === e || "right" === e ? "vertical" : "horizontal";
        }
        get placement() {
          return this.getTooltipPlacement(this.pluginDock.position);
        }
        get dockStyle() {
          const e = this.pluginDock.position || "right",
            t = this.barWidth + 22 + "px",
            i = {
              left: {
                left: t,
                top: "106px",
              },
              right: {
                right: "264px",
                top: "106px",
              },
              top: {
                top: "106px",
                left: t,
              },
              bottom: {
                bottom: "12px",
                left: t,
              },
            },
            s = Object.assign(
              Object.assign(
                Object.assign(Object.assign({}, this.lengthStyle), i[e]),
                this.backGroundStyle
              ),
              {
                "max-height": this.maxHeight + "px",
                "max-width": this.maxWidth + "px",
              }
            );
          return s;
        }
        get lengthStyle() {
          if (this.dockLength < 0) return {};
          const e = "horizontal" === this.type ? "width" : "height";
          return {
            [e]: this.dockLength + "px",
          };
        }
        get scrollViewStyle() {
          const e = "loose" === this.layoutType ? 6 : 4,
            t = "horizontal" === this.type ? "width" : "height",
            i = {};
          return (
            this.dockLength >= 0 && (i[t] = this.dockLength - 3 * e - 4 + "px"),
            Object.assign(Object.assign({}, i), {
              padding: "horizontal" === this.type ? e + "px 0" : `0 ${e}px`,
              margin: "vertical" === this.type ? e + "px 0" : `0 ${e}px`,
            })
          );
        }
        getTooltipPlacement(e) {
          const t = ["left", "right", "top", "bottom"],
            i = t.findIndex((t) => t === e);
          return t[1 ^ i];
        }
        startDragging() {
          (this.isMoving = !0),
            document.addEventListener("mousemove", this.movingHandle),
            document.addEventListener("mouseup", this.dragHandleEnd),
            document.body.classList.add(
              "horizontal" === this.type ? "mouse-ew-resize" : "mouse-ns-resize"
            );
        }
        movingHandle(e) {
          if (!this.isMoving)
            return (
              document.removeEventListener("mousemove", this.movingHandle),
              document.removeEventListener("mouseup", this.dragHandleEnd),
              void document.body.classList.remove(
                "horizontal" === this.type
                  ? "mouse-ew-resize"
                  : "mouse-ns-resize"
              )
            );
          const t = this.$refs.pluginDock.getBoundingClientRect();
          let i = 0,
            s = 100;
          "horizontal" === this.type
            ? ((i = e.clientX - t.left), (s = this.maxWidth))
            : ((i = e.clientY - t.top), (s = this.maxHeight)),
            (this.dockLength = Math.max(this.minDockLength, Math.min(s, i)));
        }
        dragHandleEnd() {
          (this.isMoving = !1),
            this.$store.commit(
              "community/UPDATE_PLUGIN_STATION",
              Object.assign(Object.assign({}, this.pluginDock), {
                length: this.dockLength,
              })
            ),
            Object(Ne["g"])(() => {
              Object(ie["Ld"])(JSON.stringify(this.pluginDock));
            });
        }
        handleRunPlugin(e) {
          e.handler &&
            e.handler({
              entry: "plugin_dock",
            });
        }
        handleResetDockBodySize() {
          (this.bodyHeight = document.body.clientHeight),
            (this.bodyWidth = document.body.clientWidth);
        }
        handleScalePluginItem(e, t) {
          e.stopPropagation(), (this.isOriginScale = !1);
          const i = e.target,
            s = i.getBoundingClientRect();
          let o = 0;
          (o =
            "horizontal" === this.type
              ? Math.abs(e.clientX - s.left) / s.width
              : Math.abs(e.clientY - s.top) / s.height),
            t - 2 >= 0 &&
              (this.scaleStyles[t - 2] = this.getScaleStyle(
                1 + this.scale * Math.abs(o - 1) * 0.5
              )),
            t - 1 >= 0 &&
              (this.scaleStyles[t - 1] = this.getScaleStyle(
                1 + this.scale * (0.5 * Math.abs(o - 1) + 0.5)
              )),
            (this.scaleStyles[t] = this.getScaleStyle(1 + this.scale)),
            t + 1 < this.installedPluginList.length &&
              (this.scaleStyles[t + 1] = this.getScaleStyle(
                1 + this.scale * (0.5 * o + 0.5)
              )),
            t + 2 < this.installedPluginList.length &&
              (this.scaleStyles[t + 2] = this.getScaleStyle(
                1 + this.scale * o * 0.5
              )),
            this.$forceUpdate();
        }
        getScaleStyle(e) {
          const t = Math.floor(e * this.pluginBoxSize * 10) / 10;
          return {
            height: t + "px",
            width: t + "px",
          };
        }
        resetPluginScale() {}
        handleDockWheel(e) {
          e.stopPropagation(),
            e.preventDefault(),
            this.isOriginScale || this.resetPluginScale();
          const t = this.$refs.scrollView,
            { deltaX: i, deltaY: s } = e;
          if ("horizontal" === this.type) {
            let e = i;
            !i && s && (e = s), (t.scrollLeft += e);
          } else {
            let e = s;
            !s && i && (e = s), (t.scrollTop += e);
          }
        }
        mounted() {
          this.handleResetDockBodySize(),
            (this.resizeObserver = new ResizeObserver(
              Object(c["throttle"])(() => {
                this.handleResetDockBodySize();
              }, 30)
            )),
            this.resizeObserver.observe(document.body),
            this.$eventBus.$on(
              "leftBarWidthChange",
              this.handleLeftBarWidthChange
            );
        }
        destroyed() {
          this.resizeObserver &&
            (this.resizeObserver.disconnect(), (this.resizeObserver = null)),
            this.$eventBus.$off(
              "leftBarWidthChange",
              this.handleLeftBarWidthChange
            );
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("$store.state.file.settings.barWidth")],
        Fe.prototype,
        "handleLeftBarWidthChange",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("pluginDock", {
              deep: !0,
            }),
          ],
          Fe.prototype,
          "handleDockConfigChange",
          null
        ),
        (Fe = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])({
                  installedPluginList: (e) => e.community.installedPluginMenu,
                  pluginDock: (e) => e.community.pluginDock,
                  isDark: (e) => e.main.isDark,
                })
              ),
              components: {
                MasterMenu: Pe["d"],
                MenuItem: De["a"],
                Tooltip: Be["a"],
              },
            }),
          ],
          Fe
        ));
      var Re = Fe,
        He = Re,
        $e =
          (i("cbe2"),
          i("07d3"),
          Object(_["a"])(He, Me, Ee, !1, null, "e4f97baa", null)),
        Ve = $e.exports,
        ze = i("a74c"),
        Ue = i("2a46"),
        qe = i("110c"),
        We = i("7ffc"),
        Ge = i("983a"),
        Ke = i("afbc"),
        Qe = i("dbb8"),
        Ye = i("a3fe");
      class Xe {
        constructor() {
          (this.eventPublisher = Object(Qe["e"])()),
            (this.onSyncNotices = (e) => {
              this.info("onSyncNotices", e);
            }),
            (this.onBreadcrumbChange = (e) => {
              T["a"].dispatch({
                type: Ye["e"].WSSBreadcrumbChange,
                msg: e,
              });
            }),
            (this.onDocMemberRoleRemove = () => {
              Ke["a"].push("/");
            }),
            (this.isMyTeamFile = () => {
              var e;
              const t =
                  null === (e = me["a"].getters.document) || void 0 === e
                    ? void 0
                    : e.projectId,
                i = me["a"].getters.userteams.reduce((e, t) => {
                  const i = t.projects.map((e) => e.id);
                  return e.concat(i);
                }, []);
              return i.includes(t);
            }),
            (this.shouldUpdate = (e) =>
              !e.teamID || !(!e.teamID || !this.isMyTeamFile())),
            (this.onUserInfoUpdate = (e) => {
              this.shouldUpdate(e) &&
                (me["a"].dispatch("updateUserInfo", e),
                e.id !== me["a"].state.main.userInfo.id &&
                  me["a"].dispatch("updateUserList", e));
              const t = {
                user: e,
                key: "name",
              };
              me["a"].commit("comments/UPDATE_MEMBER_INFO", t);
            }),
            (this.listeningItems = {});
        }
        handleCommentData(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const {
              documentID: t,
              id: i,
              serial: s,
              userID: o,
              type: a,
              content: n,
              emoticons: r,
              mention: c,
              teamMention: l,
              location: d,
              createdAt: u,
              updatedAt: h,
              isDelete: p,
              isRead: m,
              isReadUpdatedAt: g,
              status: b,
              audioUrl: v,
            } = e;
            if (p) {
              const e = {
                documentID: t,
                id: i,
              };
              return void (yield me["a"].dispatch(
                "comments/deleteComment",
                Object.assign(
                  {
                    local: !0,
                  },
                  e
                )
              ));
            }
            const f = {
                documentID: t,
                id: i,
                serial: s,
                userID: o,
                type: a,
                content: n,
                emoticons: r,
                mention: c,
                teamMention: l,
                location: d,
                createdAt: u,
                updatedAt: h,
                status: b,
                audioUrl: v,
              },
              y = me["a"].state.comments.allComments.find((e) => e.id === i);
            y
              ? yield me["a"].dispatch(
                  "comments/updateComment",
                  Object.assign(
                    {
                      local: !0,
                    },
                    f
                  )
                )
              : yield me["a"].dispatch(
                  "comments/addComment",
                  Object.assign(
                    Object.assign(
                      {
                        local: !0,
                      },
                      f
                    ),
                    {
                      isRead: m,
                      isReadUpdatedAt: g,
                    }
                  )
                );
          });
        }
        handleReplyData(e) {
          var t, i;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { userID: s, createAt: o, updateAt: n, isDelete: r } = e,
              c = Object(a["__rest"])(e, [
                "userID",
                "createAt",
                "updateAt",
                "isDelete",
              ]);
            if (r) {
              const { documentID: t, commentID: i, id: s } = e;
              return void (yield me["a"].dispatch("comments/deleteReply", {
                local: !0,
                documentID: t,
                commentID: i,
                id: s,
              }));
            }
            const l = Object.assign(
                {
                  userID: s,
                  createdAt: o,
                  updatedAt: n,
                  isDelete: !!Object(Z["Z"])(r) && !!r,
                },
                c
              ),
              { commentID: d, id: u } = l,
              h =
                null ===
                  (i =
                    null ===
                      (t = me["a"].state.comments.allComments.find(
                        (e) => e.id === d
                      )) || void 0 === t
                      ? void 0
                      : t.replies) || void 0 === i
                  ? void 0
                  : i.find((e) => e.id === u);
            h
              ? yield me["a"].dispatch(
                  "comments/updateReply",
                  Object.assign(
                    {
                      local: !0,
                    },
                    l
                  )
                )
              : yield me["a"].dispatch(
                  "comments/addReply",
                  Object.assign(
                    {
                      local: !0,
                    },
                    l
                  )
                );
          });
        }
        handleEmojiReply(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { action: t, data: i } = e;
            "add_reaction" === t
              ? yield me["a"].dispatch(
                  "comments/addEmojiReply",
                  Object.assign(
                    {
                      local: !0,
                    },
                    i
                  )
                )
              : yield me["a"].dispatch(
                  "comments/deleteEmojiReply",
                  Object.assign(
                    {
                      local: !0,
                    },
                    i
                  )
                );
          });
        }
        handleCommentRead(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { documentID: t, commentID: i, status: s, updatedAt: o } = e;
            yield me["a"].dispatch("comments/markReadComment", {
              local: !0,
              documentID: t,
              id: i,
              isRead: s,
              isReadUpdatedAt: o,
            });
          });
        }
        registerChangeListening(e) {
          var t;
          const i = Object.assign(Object.assign({}, this.listeningItems), e);
          (this.listeningItems = i),
            this.offline ||
              null === (t = this.beacon) ||
              void 0 === t ||
              t.send(
                "RegisterChangeListening",
                Object.assign(Object.assign({}, i), {
                  pageFlag: 1,
                })
              );
        }
        get offline() {
          return !this.wss || "connected" !== this.wss.status().connectStatus;
        }
        init(e) {
          var t;
          this.offline ||
            null === (t = this.wss) ||
            void 0 === t ||
            t.disconnect("wss exist when init"),
            (this.beacon = Object(Qe["b"])({
              id: "wss-biz-file-business",
              enabled: !1,
              downstreamHandlerMap: {
                CommentData: this.handleCommentData,
                ReplyData: this.handleReplyData,
                EmojiReplyData: this.handleEmojiReply,
                CommentRead: this.handleCommentRead,
                UserInfoUpdate: this.onUserInfoUpdate,
                DocMemberRoleRemove: this.onDocMemberRoleRemove,
                BreadcrumbChange: this.onBreadcrumbChange,
                SyncNotices: this.onSyncNotices,
              },
            })),
            (this.wss = Object(Ge["a"])({
              appVersion: We["o"],
            })),
            this.wss.registerMessageSubscriber(this.beacon),
            this.wss.on("connected", () => {
              this.eventPublisher.emit("open"), this.registerChangeListening(e);
            }),
            this.wss.connect("biz file wss business init");
        }
        get info() {
          return this.wss ? this.wss.getLogger().info : () => {};
        }
        get error() {
          return this.wss ? this.wss.getLogger().error : () => {};
        }
        dispose() {
          var e, t;
          this.beacon &&
            (null === (e = this.wss) ||
              void 0 === e ||
              e.unregisterMessageSubscriber(this.beacon)),
            null === (t = this.wss) ||
              void 0 === t ||
              t.disconnect("biz file wss business dispose"),
            (this.wss = void 0),
            (this.beacon = void 0);
        }
      }
      const Ze = new Xe();
      var Je = i("852e"),
        et = i.n(Je),
        tt = i("bc3a"),
        it = i.n(tt),
        st = i("7d305"),
        ot = i("7d90");
      class at {
        constructor() {
          (this.eventPublisher = Object(Qe["e"])({
            onError: (e, t) => {
              this.error(
                "error on event " + String(e),
                "string" === typeof t
                  ? {
                      errMessage: t,
                    }
                  : {
                      errorObj: t,
                    }
              );
            },
          })),
            (this.info = () => {}),
            (this.error = () => {}),
            (this.test = ""),
            (this.onForceUpdate = () => {
              this.reload("内部升级，页面即将自动刷新");
            }),
            (this.onReceiveLogOut = (e) => {
              this.info("receive log out", e);
              const t = e.ext;
              if (t)
                try {
                  const e = JSON.parse(t).sleep;
                  if (e)
                    if ("1" === localStorage.getItem("logoutStatus")) {
                      const t = setInterval(() => {
                        "2" === localStorage.getItem("logoutStatus") &&
                          (clearInterval(t),
                          localStorage.removeItem("logoutStatus"),
                          setTimeout(() => {
                            this.receiveLogOut();
                          }, 1e3 * e));
                      }, 200);
                    } else
                      setTimeout(() => {
                        this.receiveLogOut();
                      }, 1e3 * e);
                  else this.receiveLogOut();
                } catch (i) {
                  this.receiveLogOut();
                }
              else this.receiveLogOut();
            }),
            (this.onDoc2TeamLib = (e) =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                var t;
                const { libraryID: i, bindType: s } = e,
                  o = e.teamID ? "team" : "doc",
                  a = me["a"].state.teamLibrary,
                  n =
                    "" +
                      (null === (t = this.editorSession.getWss()) ||
                      void 0 === t
                        ? void 0
                        : t.getOptions().documentID) ||
                    Ke["a"].currentRoute.params.id;
                a.publishedId !== i &&
                  (s === Ye["a"].Subscribe
                    ? (me["a"].dispatch(
                        "teamLibrary/setLibrarySubscribeStatus",
                        {
                          libraryId: i,
                          subscribeStatus: !0,
                          subFrom: o,
                        }
                      ),
                      yield me["a"].dispatch("teamLibrary/subscribeLibrary", {
                        libraryId: i,
                        documentId: n,
                      }))
                    : s === Ye["a"].Unsubscribe &&
                      (me["a"].dispatch(
                        "teamLibrary/setLibrarySubscribeStatus",
                        {
                          libraryId: i,
                          subscribeStatus: !1,
                          subFrom: o,
                        }
                      ),
                      me["a"].dispatch("teamLibrary/unsubscribeLibrary", i)));
              })),
            (this.onTeamlibChange = (e) =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                var t;
                const { libraryID: i, libraryVersion: s, type: o } = e,
                  a = me["a"].state.teamLibrary,
                  n =
                    "" +
                      (null === (t = this.editorSession.getWss()) ||
                      void 0 === t
                        ? void 0
                        : t.getOptions().documentID) ||
                    Ke["a"].currentRoute.params.id;
                if (!n) return;
                ("" === a.publishedId ||
                  (a.publishedId === i && a.version !== s)) &&
                  (yield me["a"].dispatch("teamLibrary/getPublishedData", n),
                  k["a"].updateMasterData());
                const r = {
                    documentId: n,
                    force: !0,
                  },
                  c = [
                    me["a"].dispatch("teamLibrary/getPresetLibraryList", {
                      force: !0,
                    }),
                  ],
                  l = me["a"].state.app.currentDocument,
                  d =
                    (null === l || void 0 === l ? void 0 : l.permissions) &&
                    (null === l || void 0 === l
                      ? void 0
                      : l.permissions["get-team-library"]),
                  u = d || "onlooker" !== l.roleName;
                u &&
                  c.push(me["a"].dispatch("teamLibrary/getTeamLibraryList", r)),
                  yield Promise.all(c);
                const h = {
                  CREATE: 0,
                  UPDATE: 1,
                  REMOVE: -1,
                };
                o === h.REMOVE &&
                  (yield me["a"].dispatch(
                    "component/setSubscribedComponents",
                    n
                  )),
                  a.publishedId !== i &&
                    (me["a"].dispatch("component/setUsedComponentList", +n),
                    o !== h.REMOVE &&
                      me["a"].dispatch("component/setSubscribedComponents", n),
                    me["a"].dispatch("style/setUsedStyleList", +n),
                    me["a"].dispatch("style/setSubscribedStyles", n));
              })),
            (this.onReceiveViewport = (e) => {
              const { viewport: t, pageID: i, cid: s } = e,
                o = this.getUserIndex(s);
              -1 !== o &&
                T["a"].dispatch({
                  type: Ye["e"].WSSMouseSync,
                  msg: {
                    index: o,
                    pos: {
                      viewPort: {
                        x: t[0],
                        y: t[1],
                        scale: t[2],
                      },
                      fileKey: i,
                    },
                  },
                });
            }),
            (this.onOtherSelectLayer = (e) => {
              const { layerIDs: t, regions: i, pageID: s } = e,
                o = this.getUserIndex(e.cid);
              if (-1 === o) return;
              const a = {
                index: o,
                pos: {
                  fileKey: s,
                },
              };
              t ? (a.pos.selectIds = t) : (a.pos.rectInfo = i),
                T["a"].dispatch({
                  type: Ye["e"].WSSMouseSync,
                  msg: a,
                });
            }),
            (this.onReceiveMouseDrag = (e) => {
              const { startPosition: t, endPosition: i, pageID: s } = e,
                o = this.getUserIndex(e.cid);
              -1 !== o &&
                T["a"].dispatch({
                  type: Ye["e"].WSSMouseSync,
                  msg: {
                    index: o,
                    pos: {
                      isDrag: !0,
                      start: {
                        x: t[0],
                        y: t[1],
                      },
                      end: {
                        x: i[0],
                        y: i[1],
                      },
                      fileKey: s,
                    },
                  },
                });
            }),
            (this.onReceiveMouseMove = (e) => {
              const { endPosition: t, pageID: i } = e,
                s = this.getUserIndex(e.cid);
              -1 !== s &&
                T["a"].dispatch({
                  type: Ye["e"].WSSMouseSync,
                  msg: {
                    index: s,
                    pos: {
                      isDrag: !1,
                      end: {
                        x: t[0],
                        y: t[1],
                      },
                      fileKey: i,
                    },
                  },
                });
            }),
            (this.onReceivePassThroughMessage = (e) => {
              const { type: t } = e;
              switch (t) {
                case Ye["d"].CanvasEdit:
                  T["a"].dispatch(e);
                  break;
                case Ye["d"].ImageUPload:
                case Ye["d"].ImageUPloaded:
                  T["a"].dispatch(e);
                  break;
                case Ye["d"].SubscribeViewPort:
                  this.handleReceiveSubViewPort(e);
                  break;
                case Ye["d"].CanvasReady:
                  this.sendSelectState();
                  break;
                case Ye["d"].ForceUpdate:
                  this.handleReceiveForceUpdate(e);
                  break;
                case Ye["d"].ChangesetOfflineSynced:
                  this.receiveChangesetOfflineSynced(e);
                  break;
                default:
                  break;
              }
            }),
            (this.onTeamMemberRoleChange = (e) =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                var t, i;
                const s = me["a"].getters.userinfo.id,
                  o = me["a"].state.app.currentDocument.owner,
                  { publicFileRole: a } = e;
                (a && s === o) ||
                  (yield null ===
                    (i =
                      null === (t = this.editorSession) || void 0 === t
                        ? void 0
                        : t.getChangeSetManager()) || void 0 === i
                    ? void 0
                    : i.storeAddAll(),
                  this.reload("你的权限发生变化，页面即将刷新"));
              })),
            (this.onCheckRole = (e) => {
              const { action: t, data: i = {} } = e,
                { destTeamID: s } = i,
                {
                  documentRole: o,
                  projectId: a,
                  teamId: n,
                  teamRole: r,
                } = me["a"].state.app.currentDocument,
                c = me["a"].getters.userinfo.teams,
                l = c.find((e) => e.id === n),
                d = c.find((e) => e.id === s);
              if (l || d) {
                if (!d) {
                  if (o === r)
                    return void x["r"].show(st["e"].FILE_MOVED_OUT_OF_TEAM);
                  if (o !== r)
                    return void this.reload(
                      st["e"].FILE_MOVED_OUT_OF_TEAM,
                      "highlight",
                      3e3
                    );
                  x["r"].show(st["e"].FILE_MOVED_OUT_OF_TEAM);
                  let e = "";
                  return (
                    "DocumentMove" === t && (e = "/files/project/" + a),
                    "ProjectMove" === t && (e = "/files/team/" + n),
                    void Ke["a"].push(e)
                  );
                }
                d && this.reload(`该文件已被移至 ${d.name} `, "highlight", 3e3);
              }
            }),
            (this.handleReceiveSubViewPort = (e) => {
              const { id: t } = e,
                i = me["a"].getters.userinfo.id;
              t === i &&
                this.send({
                  type: Ye["e"].WSSMouseSync,
                  msg: {
                    fileKey: k["a"].pageState.fileKey,
                    viewPort: {
                      x: ot["a"].viewPort.center.x,
                      y: ot["a"].viewPort.center.y,
                      scale: ot["a"].viewPort.zoom.zoomScale,
                    },
                  },
                });
            }),
            (this.handleReceiveForceUpdate = (e) =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                var t, i;
                const { reason: s } = e;
                s === Ye["c"].FileVersionChange &&
                  (yield null ===
                    (i =
                      null === (t = this.editorSession) || void 0 === t
                        ? void 0
                        : t.getChangeSetManager()) || void 0 === i
                    ? void 0
                    : i.storeAddAll(),
                  this.info("FileVersionChange online"),
                  this.eventPublisher.emit("FileVersionChange"));
              })),
            (this.receiveChangesetOfflineSynced = (e) => {
              this.eventPublisher.emit("other-changeset-offline-synced", e);
            }),
            (this.getUserIndex = (e) => {
              const t = this.fileUserList.find((t) => t.cid === e);
              if (!t) return -1;
              const i = t.id;
              return me["a"].state.app.userList.findIndex((e) => e.id === i);
            }),
            (this.onDocumentUpdate = (e) => {
              var t, i, s, o;
              const a = (e, t) => {
                  const i =
                    !me["a"].state.file.isPersonal &&
                    !me["a"].state.file.isTeamMember;
                  if ("project" === e.source) {
                    const t = e.data.teamId;
                    return (
                      me["a"].dispatch("refreshList"),
                      i
                        ? setTimeout(() => Ke["a"].push("/files/shared"), 300)
                        : setTimeout(
                            () => Ke["a"].push("/files/team/" + t),
                            300
                          ),
                      !0
                    );
                  }
                  return (
                    "team" === e.source &&
                    (me["a"].dispatch("refreshList"),
                    i
                      ? setTimeout(() => Ke["a"].push("/files/shared"), 300)
                      : t(),
                    !0)
                  );
                },
                { action: n, data: r } = e;
              if ("update" === n)
                (null === r || void 0 === r ? void 0 : r.containerId) !==
                  (null ===
                    (s =
                      null ===
                        (i =
                          null === (t = me["a"].state) || void 0 === t
                            ? void 0
                            : t.app) || void 0 === i
                        ? void 0
                        : i.currentDocument) || void 0 === s
                    ? void 0
                    : s.containerId) &&
                  setTimeout(() => {
                    O["a"].Module.redraw2(!0);
                  }),
                  me["a"].dispatch(
                    "setCurDocument",
                    Object.assign(
                      Object.assign({}, me["a"].state.app.currentDocument),
                      r
                    )
                  );
              else if ("delete" === n) {
                null === (o = this.editorSession.getWss()) ||
                  void 0 === o ||
                  o.updateNoAccessPermission(!0);
                const t = () =>
                  setTimeout(() => Ke["a"].push("/files/home"), 300);
                if (
                  this.editorSession.getChangeSetManager().status().queueSize >
                  0
                )
                  this.info("processSyncFailedLog onDocumentUpdate deleted"),
                    this.processSyncFailed({
                      reason: "deleted",
                      onReserve: t,
                      onDiscard: t,
                    });
                else {
                  const i = e.operator;
                  if (me["a"].state.main.userInfo.id === i) {
                    if ((x["r"].show("该文件已被删除", "top"), a(e, t))) return;
                    setTimeout(() => {
                      me["a"].dispatch("refreshList");
                      const t = e.data.teamId,
                        i =
                          me["a"].getters.userinfo.teams.find(
                            (e) => e.isPersonal
                          ).id === t;
                      i
                        ? Ke["a"].replace("/files/trash")
                        : Ke["a"].replace("/files/team/" + t + "?tab=trash");
                    }, 500);
                  } else {
                    const i = e.operatorName;
                    let s = "该文件已被删除";
                    const o = r.projectId,
                      n = me["a"].getters.userinfo.teams,
                      c = n
                        .map((e) => e.projects)
                        .flat()
                        .map((e) => e.id);
                    c.includes(o) && (s = `该文件已被"${i}"删除`);
                    const l = n.map((e) => e.id);
                    if (
                      (l.includes(r.teamId) && (s = `该文件已被"${i}"删除`),
                      x["r"].show(s),
                      a(e, t))
                    )
                      return;
                    Object(J["d"])(r.projectId);
                  }
                }
                return;
              }
              T["a"].dispatch({
                type: Ye["e"].WSSDocumentUPdate,
                msg: e,
              });
            }),
            (this.receiveLogOut = () => {
              this.logout(),
                me["a"].dispatch("logout"),
                Object(Z["fb"])()
                  ? Ke["a"].replace("/embed/unauthorized")
                  : Ke["a"].replace("/files/login");
            }),
            (this.logout = () => {
              this.beacon.send("LogOut"),
                this.editorSession.getWss().disconnect("log out");
            }),
            (this.sendSelectState = () => {
              const e = me["a"].state.basicState.selectIds;
              if (this.fileUniqueUserList.length > 1) {
                const t = {
                  fileKey: k["a"].pageState.fileKey,
                };
                if (e.length < 25) t.selectIds = e;
                else {
                  const e = {
                    x: me["a"].state.basicState.boundX,
                    y: me["a"].state.basicState.boundY,
                    width: me["a"].state.basicState.boundW,
                    height: me["a"].state.basicState.boundH,
                  };
                  t.rectInfo = e;
                }
                this.send({
                  type: Ye["e"].WSSMouseSync,
                  msg: t,
                });
              }
            }),
            (this.send = (e) => {
              if (
                !me["a"].getters.disableSendSocket &&
                "connected" ===
                  this.editorSession.getWss().status().connectStatus &&
                !me["a"].state.app.websocketDisabled &&
                this.editorSession.getWss().status().isJoined
              )
                switch (e.type) {
                  case Ye["e"].WSSProjectUPdate:
                  case Ye["e"].WSSTeamUPdate:
                  case 3:
                    break;
                  case Ye["e"].WSSMouseSync:
                    this.sendMouseSync(e);
                    break;
                  case Ye["e"].WSSCanvasEdit:
                    this.sendCanvasEdit(e);
                    break;
                  case Ye["e"].WSSImageUPload:
                  case Ye["e"].WSSImageUPloadStatus:
                    this.beacon.send("SendPassThroughMessage", e);
                    break;
                  default:
                    break;
                }
            }),
            (this.sendSubscribeViewPort = (e) => {
              this.beacon.send("SendPassThroughMessage", {
                type: Ye["d"].SubscribeViewPort,
                id: e,
              });
            }),
            (this.sendMouseSync = (e) => {
              const {
                event: t,
                viewPort: i,
                selectIds: s,
                rectInfo: o,
                fileKey: a,
                start: n,
                end: r,
                isDrag: c,
              } = e.msg;
              if (t)
                this.beacon.send("SendClearMouse", {
                  cid: this.editorSession.getWss().status().cid,
                });
              else if (i) {
                const { x: t, y: i, scale: s } = e.msg.viewPort;
                this.beacon.send("SendViewport", {
                  viewport: [t, i, s],
                  pageID: a,
                });
              } else
                s
                  ? this.beacon.send("SelectLayer", {
                      count: s.length,
                      layerIDs: s,
                      pageID: a,
                    })
                  : o
                  ? this.beacon.send("SelectLayer", {
                      regions: o,
                      pageID: a,
                    })
                  : c
                  ? this.beacon.send("SendMouseDrag", {
                      cid: this.editorSession.getWss().status().cid,
                      pageID: a,
                      startPosition: [n.x, n.y],
                      endPosition: [r.x, r.y],
                    })
                  : r &&
                    this.beacon.send("SendMouseMove", {
                      cid: this.editorSession.getWss().status().cid,
                      endPosition: [r.x, r.y],
                      pageID: a,
                    });
            }),
            (this.sendCanvasEdit = (e) => {
              this.beacon.send("SendPassThroughMessage", e);
            }),
            (this.sendCanvasReady = (e) => {
              this.beacon.send("SendPassThroughMessage", {
                type: Ye["d"].CanvasReady,
                id: e,
              });
            }),
            (this.sendForceUpdate = (e) => {
              this.beacon.send("SendPassThroughMessage", {
                type: Ye["d"].ForceUpdate,
                reason: e,
              });
            }),
            (this.processSyncFailed = (e) => {
              const { reason: t, onReserve: i, onDiscard: s } = e;
              let o;
              const n = (e) => () =>
                  o ||
                  ((o = e().catch(() => {
                    o = void 0;
                  })),
                  o),
                r = () => {
                  k["a"][ee["a"].changeSaveStatus](!1),
                    this.eventPublisher.emit("changeset-unloaded");
                },
                c = () =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    var e, i;
                    this.info("processSyncFailedLog give up start", {
                      reason: t,
                    }),
                      null ===
                        (i =
                          null === (e = this.editorSession) || void 0 === e
                            ? void 0
                            : e.getChangeSetManager()) ||
                        void 0 === i ||
                        i.deleteQueueAndStore(),
                      this.info("processSyncFailedLog give up end", {
                        reason: t,
                      }),
                      r(),
                      s && s();
                  }),
                l = () =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    this.info("processSyncFailedLog save store", {
                      reason: t,
                    }),
                      r(),
                      i && i();
                  });
              let d;
              switch (t) {
                case "deleted":
                  d = "文件已被删除，联系其他协同者恢复后可同步离线编辑";
                  break;
                case "noPermission":
                  d =
                    "您没有此文件的编辑权限，离线编辑未同步，会在您获得编辑权限后同步";
                  break;
                default:
                  d = "未知错误";
              }
              this.info("processSyncFailedLog show dialog", {
                reason: t,
              }),
                x["h"].open({
                  width: "360px",
                  title: "同步失败",
                  desc: d,
                  cancelLabel: "放弃离线编辑数据",
                  confirmLabel: "好的",
                  oncancel: n(c),
                  onconfirm: n(l),
                });
            }),
            (this.getWssPath = (e) => {
              const t = window.location.origin;
              return `${t.replace("http", "ws")}/messenger/${e}`;
            }),
            (this.getWssHttpPath = (e) => {
              const t = this.getWssPath(e);
              return t.replace("ws", "http");
            }),
            (this.queryFileValid = (e) =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                var t, i, s;
                const { data: o } = yield it.a.get(
                    this.getWssHttpPath("file"),
                    {
                      params: {
                        wv:
                          null ===
                            (i =
                              null === (t = this.editorSession) || void 0 === t
                                ? void 0
                                : t.getWss()) || void 0 === i
                            ? void 0
                            : i.getOptions().wasmVersion,
                        documentID: e,
                      },
                    }
                  ),
                  { code: a } = o;
                let n = !0;
                switch (a) {
                  case Ye["b"].ErrSingleMachineLimit:
                  case Ye["b"].ErrRoomUserLimit:
                  case Ye["b"].ErrRoomUserConnectLimit:
                    this.info("rate limit", {
                      documentID: e,
                      rateLimitReason: String(Ye["b"][a]),
                      rateLimitMessage:
                        null === (s = o.data) || void 0 === s
                          ? void 0
                          : s.hint_title,
                    }),
                      (n = !1);
                    break;
                  default:
                }
                return [o, n, a];
              })),
            (this.reload = (e, t, i) => {
              me["a"].commit("SET_FILESAVESTATUS", !0),
                this.info("reload", {
                  reason: e,
                });
              let s = 0;
              e && ((s = 1e3), x["r"].show(e, "top", t || "destructive")),
                setTimeout(() => {
                  k["a"][ee["a"].changeSaveStatus](!1), Object(p["s"])(e);
                }, i || s);
            }),
            (this.getLogger = () => this.editorSession.getWss().getLogger()),
            (this.ErrorNotSignedIn = () => {
              me["a"].dispatch("logout"),
                x["r"].show("请重新登录", "top", "destructive"),
                this.info("kick out", {
                  kickOutReason: "ErrorNotSignedIn",
                  gfsessionid_backup: "" + et.a.get(Object(ie["jc"])()[0]),
                }),
                setTimeout(() => {
                  Object(Z["fb"])()
                    ? Ke["a"].push("/embed/unauthorized")
                    : Ke["a"].push({
                        path: "/files/login",
                        query: {
                          reason: "kickout",
                        },
                      });
                }, 300);
            }),
            (this.ErrorNotPermission = () => {
              var e;
              x["r"].show("你没有此文件的访问权限", "top", "destructive"),
                this.info("kick out", {
                  kickOutReason: "ErrorNotPermission",
                });
              {
                null === (e = this.editorSession.getWss()) ||
                  void 0 === e ||
                  e.updateNoAccessPermission(!0);
                const t = () => setTimeout(() => Ke["a"].push("/"), 300);
                this.editorSession.getChangeSetManager().status().queueSize > 0
                  ? (this.info(
                      "processSyncFailedLog ErrorNotPermission noPermission"
                    ),
                    this.processSyncFailed({
                      reason: "noPermission",
                      onReserve: t,
                      onDiscard: t,
                    }))
                  : t();
              }
            }),
            (this.onErrorDocNotFount = () => {
              var e;
              x["r"].show("该文件不存在或已被删除", "top", "destructive"),
                this.info("kick out", {
                  kickOutReason: "ErrorDocNotFount",
                });
              {
                null === (e = this.editorSession.getWss()) ||
                  void 0 === e ||
                  e.updateNoAccessPermission(!0);
                const t = () => setTimeout(() => Ke["a"].push("/"), 300);
                this.editorSession.getChangeSetManager().status().queueSize > 0
                  ? (this.info(
                      "processSyncFailedLog ErrorDocNotFount noPermission"
                    ),
                    this.processSyncFailed({
                      reason: "noPermission",
                      onReserve: t,
                      onDiscard: t,
                    }))
                  : t();
              }
            }),
            (this.joinRoleErr = () => {
              this.reload("权限错误，即将刷新");
            }),
            (this.fileUserList = []),
            (this.onUsersChanged = (e) => {
              const t = Object.keys(e)[0],
                i = e[t];
              (this.fileUserList = Object(c["uniqBy"])([...i], "cid")),
                T["a"].dispatch({
                  type: Ye["e"].WSSuserJoin,
                  msg: {
                    list: this.fileUniqueUserList,
                  },
                });
            }),
            (this.onUserJoined = (e) => {
              (this.fileUserList = Object(c["uniqBy"])(
                [...this.fileUserList, e.user],
                "cid"
              )),
                T["a"].dispatch({
                  type: Ye["e"].WSSuserJoin,
                  msg: {
                    list: this.fileUniqueUserList,
                  },
                });
            }),
            (this.onUserLeft = (e) => {
              (this.fileUserList = this.fileUserList.filter(
                (t) => t.cid !== e.cid
              )),
                T["a"].dispatch({
                  type: Ye["e"].WSSuserJoin,
                  msg: {
                    list: this.fileUniqueUserList,
                  },
                });
            }),
            (this.beacon = Object(Qe["b"])({
              id: "wss-file-business",
              enabled: !1,
              downstreamHandlerMap: {
                CheckRole: this.onCheckRole,
                TeamMemberRoleChange: this.onTeamMemberRoleChange,
                ReceivePassThroughMessage: this.onReceivePassThroughMessage,
                ReceiveMouseMove: this.onReceiveMouseMove,
                ReceiveMouseDrag: this.onReceiveMouseDrag,
                OtherSelectLayer: this.onOtherSelectLayer,
                ReceiveViewport: this.onReceiveViewport,
                DocumentUpdate: this.onDocumentUpdate,
                TeamlibChange: this.onTeamlibChange,
                Doc2TeamLib: this.onDoc2TeamLib,
                ReceiveLogOut: this.onReceiveLogOut,
                ForceUpdate: this.onForceUpdate,
                OrgMemberChange: this.OrgMemberChange,
              },
            })),
            (this.errBeacon = Object(Qe["b"])({
              id: "wss-file-business-err",
              enabled: !1,
              downstreamHandlerMap: {
                ErrorNotSignedIn: this.ErrorNotSignedIn,
                ErrorNotPermission: this.ErrorNotPermission,
                ErrorInvalidVersion: (e) => {
                  var t, i;
                  this.error("invalid version", {
                    errMessage: e.message,
                    docVersion:
                      null ===
                        (i =
                          null === (t = this.editorSession) || void 0 === t
                            ? void 0
                            : t.getChangeSetManager()) || void 0 === i
                        ? void 0
                        : i.getFileVersion(),
                  }),
                    this.reload("版本错误，页面即将刷新");
                },
                ErrorBindParameters: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorBindParameters",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
                ErrorInternal: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorInternal",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
                ErrorNoMessageType: (e) => {
                  this.error("socket error", {
                    errorType: "ErrorNoMessageType",
                    errMessage: e.message,
                  }),
                    this.reload("网络链接发生错误");
                },
                ErrorDocNotFount: this.onErrorDocNotFount,
              },
            }));
        }
        OrgMemberChange(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const { action: t, data: i = {} } = e;
            switch (t) {
              case "OrganizationMemberDisabled":
                if (i.userId !== me["a"].state.main.userInfo.id) break;
                if (i.organizationId !== me["a"].state.org.currentOrgId) break;
                x["h"].openOrgConfirm({
                  title: "当前账号企业空间已停用",
                  desc: `当前账号在「${
                    null === i || void 0 === i ? void 0 : i.organizationAbbr
                  }」企业空间已被停用，点击返回个人工作台。`,
                  confirmLabel: "返回工作台",
                  onconfirm: () =>
                    Object(a["__awaiter"])(this, void 0, void 0, function* () {
                      yield me["a"].dispatch("org/getOrgList"),
                        yield me["a"].dispatch("org/changeSassOrg"),
                        Ke["a"].replace({
                          path: "/files/home",
                        });
                    }),
                });
                break;
              default:
                break;
            }
          });
        }
        register(e, t) {
          var i, s, o;
          this.editorSession = e;
          const a = this.editorSession.getWss();
          if (!a) return;
          const { registerMessageSubscriber: n, registerErrorSubscriber: r } =
            a;
          n(this.beacon),
            r(this.errBeacon),
            t &&
              ((this.playerBeacon = Object(Qe["b"])({
                id: "MultiplePlayer",
                enabled: !1,
                sendingBufferStrategies: {
                  UsersRequest: "state",
                },
                downstreamHandlerMap: {
                  UsersResponse: this.onUsersChanged,
                  UserJoined: this.onUserJoined,
                  UserLeft: this.onUserLeft,
                },
              })),
              n(this.playerBeacon),
              this.playerBeacon.send("UsersRequest", [
                {
                  docID:
                    null === (i = this.editorSession.getWss()) || void 0 === i
                      ? void 0
                      : i.getOptions().documentID,
                  teamID: t,
                },
              ])),
            (this.info = this.editorSession.getWss().getLogger().info),
            (this.error = this.editorSession.getWss().getLogger().error),
            null === (s = this.editorSession.getWss()) ||
              void 0 === s ||
              s.on("joinRoleErr", this.joinRoleErr),
            null === (o = this.editorSession.getChangeSetManager()) ||
              void 0 === o ||
              o.on("initNoPermissionHasChangeset", this.processSyncFailed),
            (this.editorSession.instanceStore.fileWssBusiness = this);
        }
        unregister() {
          var e, t, i, s, o;
          const a =
            null === (e = this.editorSession) || void 0 === e
              ? void 0
              : e.getWss();
          if (!a) return;
          const {
            unregisterMessageSubscriber: n,
            unregisterErrorSubscriber: r,
          } = a;
          n(this.beacon),
            r(this.errBeacon),
            this.playerBeacon && n(this.playerBeacon),
            (this.info = () => {}),
            (this.error = () => {}),
            null ===
              (i =
                null === (t = this.editorSession) || void 0 === t
                  ? void 0
                  : t.getWss()) ||
              void 0 === i ||
              i.off("joinRoleErr", this.joinRoleErr),
            null ===
              (o =
                null === (s = this.editorSession) || void 0 === s
                  ? void 0
                  : s.getChangeSetManager()) ||
              void 0 === o ||
              o.off("initNoPermissionHasChangeset", this.processSyncFailed),
            (this.editorSession.instanceStore.fileWssBusiness = void 0);
        }
        get fileUniqueUserList() {
          return Object(c["uniqBy"])(this.fileUserList, "id");
        }
      }
      const nt = (e) => {
        const {
            reason: t,
            onReserve: i,
            onDiscard: s,
            changeSetArr: o,
            logInfo: n,
          } = e,
          r = Object(Qe["c"])({
            print: !1,
            type: "ChangesetManager",
            extraData: () =>
              Object.assign(
                {
                  reason: t,
                },
                n
              ),
          }),
          { debug: c, info: l, warn: d, error: u } = r;
        let h;
        const p = (e) => () =>
            h ||
            ((h = e().catch(() => {
              h = void 0;
            })),
            h),
          m = () => {
            k["a"][ee["a"].changeSaveStatus](!1);
          },
          g = () =>
            Object(a["__awaiter"])(void 0, void 0, void 0, function* () {
              l("processSyncFailedLog give up start");
              const e = yield Object(re["e"])(),
                i = e.table(re["a"]);
              try {
                l("processSyncFailedLog give up delete start"),
                  yield i.bulkDelete(o.map((e) => Object(re["f"])(e))),
                  l("processSyncFailedLog give up delete end");
              } catch (a) {
                l("processSyncFailedLog give up delete err", {
                  errObj: a,
                }),
                  console.error(a);
              }
              l("processSyncFailedLog give up end"),
                m(),
                l(
                  "init editor session process sync failed give up changeset " +
                    t,
                  n
                ),
                s && s();
            }),
          b = () =>
            Object(a["__awaiter"])(void 0, void 0, void 0, function* () {
              l("processSyncFailedLog save store"), m(), i && i();
            });
        let v;
        switch (t) {
          case "deleted":
            v = "文件已被删除，联系其他协同者恢复后可同步离线编辑";
            break;
          case "noPermission":
            v =
              "您没有此文件的编辑权限，离线编辑未同步，会在您获得编辑权限后同步";
            break;
          default:
            v = "未知错误";
        }
        l("processSyncFailedLog show dialog"),
          x["h"].open({
            width: "360px",
            title: "同步失败",
            desc: v,
            cancelLabel: "放弃离线编辑数据",
            confirmLabel: "好的",
            oncancel: p(g),
            onconfirm: p(b),
          });
      };
      var rt = i("693b"),
        ct = function () {
          var e = this,
            t = e.$createElement,
            s = e._self._c || t;
          return s(
            "div",
            {
              ref: "embedBoard",
              class: [
                "embed-board",
                "embed-board-onlooker",
                {
                  "new-board": e.isShowNewBar && !e.isMobile,
                },
              ],
            },
            [
              e.isShowNewBar && !e.isMobile
                ? [
                    s(
                      "div",
                      {
                        staticClass: "top-bar",
                      },
                      [
                        s(
                          "div",
                          {
                            staticClass: "left-area",
                          },
                          [
                            s(
                              "div",
                              {
                                directives: [
                                  {
                                    name: "show",
                                    rawName: "v-show",
                                    value: e.selectList.length > 0,
                                    expression: "selectList.length > 0",
                                  },
                                ],
                                staticClass:
                                  "embed-board__button pages new-board",
                              },
                              [
                                s(
                                  "span",
                                  {
                                    staticClass: "project truncate",
                                  },
                                  [e._v(e._s(e.currentDocument.name))]
                                ),
                                s("DividerIcon", {
                                  staticStyle: {
                                    margin: "0 3px",
                                  },
                                  attrs: {
                                    size: "12",
                                    opacity: "0.3",
                                  },
                                }),
                                1 !== e.pageList.length
                                  ? s("MasterSelector", {
                                      ref: "select",
                                      staticClass: "page-select",
                                      attrs: {
                                        value: e.currentPage,
                                        options: e.selectList,
                                        popoverStyle: {
                                          "max-width": "360px",
                                          "min-width": "100px",
                                        },
                                        mode: "masterPopover",
                                      },
                                      on: {
                                        change: e.changeHandler,
                                      },
                                    })
                                  : s(
                                      "span",
                                      {
                                        staticClass:
                                          "page-select__text truncate",
                                      },
                                      [e._v(e._s(e.currentPageName))]
                                    ),
                              ],
                              1
                            ),
                            s("MasterButtonIcon", {
                              staticClass: "hand__btn",
                              attrs: {
                                icon: "HandPaperTopBarIcon",
                                width: "8",
                                height: "8",
                              },
                              on: {
                                click: function (t) {
                                  return t.stopPropagation(), e.toggleSelect(t);
                                },
                              },
                            }),
                            s("MasterButtonIcon", {
                              staticClass: "comment__btn",
                              attrs: {
                                icon: "CommentTopBarIcon",
                                width: "8",
                                height: "8",
                              },
                              on: {
                                click: function (t) {
                                  return (
                                    t.stopPropagation(),
                                    e.openDialog(!1, "comment")
                                  );
                                },
                              },
                            }),
                          ],
                          1
                        ),
                        s(
                          "div",
                          {
                            staticClass: "right-area",
                          },
                          [
                            e.IS_PRI
                              ? e._e()
                              : s(
                                  "MButton",
                                  {
                                    staticClass: "login-btn",
                                    attrs: {
                                      type: "secondary",
                                      padding: "18",
                                      size: "sm",
                                    },
                                    on: {
                                      click: function (t) {
                                        return e.openDialog(!1, "login");
                                      },
                                    },
                                  },
                                  [e._v(" 登录 ")]
                                ),
                            s("MasterButtonIcon", {
                              staticClass: "play__btn",
                              attrs: {
                                icon: "CirclePlayStrokeIcon",
                                width: "8",
                                height: "8",
                              },
                              on: {
                                click: function (t) {
                                  return (
                                    t.stopPropagation(), e.prototypePlay(t)
                                  );
                                },
                              },
                            }),
                            s(
                              "div",
                              {
                                staticClass: "resize",
                              },
                              [
                                s(
                                  "master-dropdown",
                                  {
                                    attrs: {
                                      open: e.resizeStatus,
                                      globalClose: !0,
                                    },
                                    on: {
                                      "update:open": function (t) {
                                        e.resizeStatus = t;
                                      },
                                      "apply-show": e.resizeApplyShow,
                                      command: e.changeZoom,
                                    },
                                  },
                                  [
                                    s(
                                      "div",
                                      {
                                        staticClass: "resize_title",
                                        class: {
                                          "mas-tool-button-checked":
                                            e.resizeStatus,
                                        },
                                        attrs: {
                                          slot: "dropButton",
                                          "data-tours-name": "view_mode",
                                        },
                                        slot: "dropButton",
                                      },
                                      [
                                        s("span", [
                                          e._v(e._s(e.resizePercent)),
                                        ]),
                                        s(
                                          "div",
                                          {
                                            staticClass:
                                              "label-icon mas-tool-button-arrow transition",
                                          },
                                          [
                                            s("AngleDownIcon", {
                                              attrs: {
                                                size: "14",
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    ),
                                    s(
                                      "template",
                                      {
                                        slot: "dropMenu",
                                      },
                                      [
                                        s(
                                          "div",
                                          {
                                            staticClass: "resize__dropmenu",
                                          },
                                          [
                                            s("master-input", {
                                              ref: "input",
                                              attrs: {
                                                value: e.resizePercent,
                                                validate:
                                                  e.validate.checkResize,
                                                focusSelectAll: !0,
                                                "data-tours-name": "scale",
                                              },
                                              on: {
                                                keydown: function (t) {
                                                  return !t.type.indexOf(
                                                    "key"
                                                  ) &&
                                                    e._k(
                                                      t.keyCode,
                                                      "enter",
                                                      13,
                                                      t.key,
                                                      "Enter"
                                                    )
                                                    ? null
                                                    : e.closeResizeSelect(t);
                                                },
                                                change: e.resizeChangeHandler,
                                              },
                                            }),
                                            s("div", {
                                              staticClass: "resize__divid",
                                            }),
                                            s("master-menu", {
                                              attrs: {
                                                list: e.resizeMenuList,
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    ),
                                  ],
                                  2
                                ),
                              ],
                              1
                            ),
                          ],
                          1
                        ),
                      ]
                    ),
                    s(
                      "div",
                      {
                        staticClass: "notice-bar",
                      },
                      [
                        s(
                          "div",
                          {
                            staticClass: "notice-bar-left",
                          },
                          [
                            s("img", {
                              attrs: {
                                src: i("e0f2"),
                                width: "36",
                                height: "36",
                              },
                            }),
                            s(
                              "p",
                              {
                                staticClass: "notice-text",
                              },
                              [e._v(e._s(e.noticeMessage))]
                            ),
                          ]
                        ),
                        s(
                          "MButton",
                          {
                            staticStyle: {
                              color: "var(--color-text-primary-white)",
                              "border-color": "hsla(0,0%,100%,0.18)",
                              cursor: "pointer",
                            },
                            attrs: {
                              type: "highlight",
                              padding: "15",
                              size: "sm",
                            },
                            on: {
                              click: function (t) {
                                return e.openDialog(
                                  !e.IS_PRI,
                                  e.IS_PRI ? "login" : "register"
                                );
                              },
                            },
                          },
                          [
                            e._v(
                              " " +
                                e._s(e.IS_PRI ? "立即登录" : "免费注册") +
                                " "
                            ),
                          ]
                        ),
                      ],
                      1
                    ),
                    e.showDialog
                      ? s("LoginAndRegister", {
                          ref: "loginAndRegisterDialog",
                          attrs: {
                            actionType: "file",
                            actionDetail: {
                              login_popout_load: e.actionDetailKey,
                            },
                            isDialog: !0,
                            showImage: !1,
                            originTargetLoginType: e.isRegister
                              ? "register"
                              : "login",
                          },
                          on: {
                            close: function (t) {
                              e.showDialog = !1;
                            },
                          },
                        })
                      : e._e(),
                  ]
                : [
                    s(
                      "div",
                      [
                        s(
                          "div",
                          {
                            staticClass: "notice-bar",
                          },
                          [
                            s(
                              "div",
                              {
                                staticClass: "notice-bar-left",
                              },
                              [
                                s("img", {
                                  attrs: {
                                    src: i("e0f2"),
                                    width: "36",
                                    height: "36",
                                  },
                                }),
                                s(
                                  "p",
                                  {
                                    staticClass: "notice-text",
                                  },
                                  [e._v(e._s(e.noticeMessage))]
                                ),
                              ]
                            ),
                            s(
                              "MButton",
                              {
                                staticStyle: {
                                  color: "var(--color-text-primary-white)",
                                  "border-color": "hsla(0,0%,100%,0.18)",
                                },
                                attrs: {
                                  type: "secondary",
                                  padding: "15",
                                  size: "sm",
                                },
                                on: {
                                  click: e.handleLogin,
                                },
                              },
                              [e._v(" 立即登录 ")]
                            ),
                          ],
                          1
                        ),
                        e.IS_PRI
                          ? e._e()
                          : s(
                              "MButton",
                              {
                                staticClass: "register",
                                attrs: {
                                  type: "highlight",
                                  padding: "18",
                                  size: "sm",
                                },
                                on: {
                                  click: function (t) {
                                    return e.openDialog(!0);
                                  },
                                },
                              },
                              [e._v(" 免费注册 ")]
                            ),
                        e.showDialog
                          ? s("LoginAndRegister", {
                              ref: "loginAndRegisterDialog",
                              attrs: {
                                isDialog: !0,
                                showImage: !1,
                                originTargetLoginType: e.isRegister
                                  ? "code"
                                  : "login",
                              },
                              on: {
                                close: function (t) {
                                  e.showDialog = !1;
                                },
                              },
                            })
                          : e._e(),
                      ],
                      1
                    ),
                    s(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: e.selectList.length > 0,
                            expression: "selectList.length > 0",
                          },
                        ],
                        staticClass: "embed-board__button pages",
                      },
                      [
                        s(
                          "span",
                          {
                            staticClass: "project truncate",
                          },
                          [e._v(e._s(e.currentDocument.name))]
                        ),
                        s("DividerIcon", {
                          staticStyle: {
                            margin: "0 3px",
                          },
                          attrs: {
                            size: "12",
                            opacity: "0.3",
                          },
                        }),
                        1 !== e.pageList.length
                          ? s("MasterSelector", {
                              ref: "select",
                              staticClass: "page-select",
                              attrs: {
                                value: e.currentPage,
                                options: e.selectList,
                                popoverStyle: {
                                  "max-width": "360px",
                                  "min-width": "100px",
                                },
                                mode: "masterPopover",
                              },
                              on: {
                                change: e.changeHandler,
                              },
                            })
                          : s(
                              "span",
                              {
                                staticClass: "page-select__text truncate",
                              },
                              [e._v(e._s(e.currentPageName))]
                            ),
                      ],
                      1
                    ),
                  ],
              s(
                "div",
                {
                  staticClass: "embed-board__button add",
                  on: {
                    click: e.zoomIn,
                  },
                },
                [s("plusIcon")],
                1
              ),
              s(
                "div",
                {
                  staticClass: "embed-board__button minus",
                  on: {
                    click: e.zoomOut,
                  },
                },
                [s("MinusIcon")],
                1
              ),
            ],
            2
          );
        },
        lt = [],
        dt = i("c409"),
        ut = i("0e0c"),
        ht = i("bd3b"),
        pt = i("e2c2");
      let mt = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.decodePageName = Z["x"]),
            (this.isMobile = Object(Z["ib"])()),
            (this.isFullScreen = !1),
            (this.currentPage = 0),
            (this.onLookerFullScreen = !1),
            (this.isRegister = !1),
            (this.resizeStatus = !1),
            (this.validate = ut),
            (this.showDialog = !1),
            (this.actionDetailKey = ""),
            (this.isShowNewBar = !1);
        }
        get resizePercent() {
          return (100 * this.resizeType).toFixed(0) + "%";
        }
        closeResizeSelect() {
          this.resizeStatus = !1;
        }
        resizeChangeHandler(e) {
          k["a"].viewPort.setViewPort({
            scale: parseInt(e, 10) / 100,
          });
        }
        created() {
          this.isShowNewBar = Object(w["isFeatureEnabled"])("newNavBar");
        }
        mounted() {
          O["a"].addListener(
            "masterTask-pageList-finished",
            this.pagelistFinished
          );
        }
        get selectList() {
          return this.pageList.map((e, t) => ({
            label: Object(Z["x"])(this.pageMap[e].name),
            value: t,
          }));
        }
        get currentPageName() {
          const e = this.pageMap[this.pageList[0]];
          return this.decodePageName(
            (null === e || void 0 === e ? void 0 : e.name) || ""
          );
        }
        get resizeMenuList() {
          const e = Array.isArray(this.HOTKEY_LIST_UNLOGIN)
            ? this.HOTKEY_LIST_UNLOGIN.slice(0, 6)
            : [];
          return e;
        }
        resizeApplyShow() {
          setTimeout(() => {
            this.$refs.input && this.$refs.input.focus();
          });
        }
        changeZoom(e) {
          const t = e.value;
          if (t < 5 && t > 1) {
            this.menuType = Number(e.label.substr(0, e.label.length - 1)) / 100;
            const t = Number(this.menuType);
            k["a"].viewPort.scaleCanvas(t);
          } else if (e.char) {
            const t = ne["b"].hotkeyMapping(e.char);
            ne["e"].execute(t, null);
          }
        }
        beforeDestroy() {
          O["a"].removeListener(
            "masterTask-pageList-finished",
            this.pagelistFinished
          );
        }
        openDialog(e, t) {
          (this.showDialog = !0),
            (this.isRegister = e),
            t && (this.actionDetailKey = t);
        }
        prototypePlay() {
          d["a"].track(_e["a"].EVENT_CLICK, {
            action_position: "anonymous_file",
            action_detail: "prototype",
          }),
            Object(pt["b"])(this.$route);
        }
        toggleSelect() {
          k["a"].pageState.setState(se["r"].Select);
        }
        pagelistFinished() {
          const e = this.$route.query.page_id;
          if (e) {
            const t = Object(ht["f"])(),
              i = t.findIndex((t) => t.id === e);
            this.currentPage = ~i ? i : 0;
          }
        }
        handleLogin() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.openDialog(!1);
          });
        }
        zoomIn() {
          k["a"].viewPort.scaleCanvas(2 * k["a"].viewPort.zoom.zoomScale);
        }
        zoomOut() {
          k["a"].viewPort.scaleCanvas(k["a"].viewPort.zoom.zoomScale / 2);
        }
        creatCopy() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            Object(Z["Eb"])(We["w"], "true"),
              this.$router.replace("/files/login" + this.getRegisterStatus);
          });
        }
        toMaster() {
          Object(Z["fb"])()
            ? Object(Z["qb"])(
                this.$router.resolve("/file/" + this.$route.params.id).href,
                "_blank"
              )
            : this.$router.replace("/files/login" + this.getRegisterStatus);
        }
        changeHandler(e) {
          const t = this.pageList[e];
          (this.currentPage = e), k["a"].pages.switchPage(t);
        }
        launchFullscreen(e) {
          e.requestFullscreen
            ? e.requestFullscreen()
            : e.mozRequestFullScreen
            ? e.mozRequestFullScreen()
            : e.msRequestFullscreen
            ? e.msRequestFullscreen()
            : e.webkitRequestFullscreen && e.webkitRequestFullScreen(),
            (this.isFullScreen = !0);
        }
        exitFullscreen(e) {
          e.exitFullscreen
            ? e.exitFullscreen()
            : e.msExitFullscreen
            ? e.msExitFullscreen()
            : e.mozCancelFullScreen
            ? e.mozCancelFullScreen()
            : e.webkitExitFullscreen
            ? e.webkitExitFullscreen()
            : document.exitFullscreen(),
            (this.isFullScreen = !1);
        }
      };
      mt = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterSelector: Pe["e"],
              MasterDialog: b["a"],
              LoginAndRegister: dt["a"],
              MasterMenu: Pe["d"],
            },
            inject: ["IS_PRI"],
            computed: Object.assign(
              Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    currentDocument: (e) => e.app.currentDocument,
                    pageList: (e) => e.pages.list,
                    pageMap: (e) => e.pages.map,
                    userInfo: (e) => e.main.userinfo,
                    resizeType: (e) => e.basicState.scale,
                  })
                ),
                Object(r["c"])("dictionary", ["HOTKEY_LIST_UNLOGIN"])
              ),
              {
                getRegisterStatus() {
                  const e = this.$route.query.register;
                  return e ? "?register=" + e : "";
                },
                noticeMessage() {
                  const e =
                    this.currentDocument.isPublic &&
                    "member" === this.currentDocument.publicFileRole;
                  if (e)
                    return this.isShowNerBar
                      ? "注册登录后即可参与编辑、评论、原型制作等协作功能"
                      : "登录后即可参与编辑、评论、原型制作等协作功能";
                  if (this.currentDocument.allowOnlookerCopy)
                    return this.isShowNerBar
                      ? "注册登录后可创建此文件的副本至个人账号下，享受无限制的创作乐趣"
                      : "登录后可创建此文件的副本至个人账号下，享受无限制的创作乐趣";
                  const t = this.isShowNewBar
                    ? "注册登录后可参与文件实时协同、评论、查看设计标注，享受高效协作乐趣"
                    : "登录后可参与评论、查看设计标注，享受高效的协作乐趣";
                  return t;
                },
              }
            ),
          }),
        ],
        mt
      );
      var gt = mt,
        bt = gt,
        vt =
          (i("bc89"), Object(_["a"])(bt, ct, lt, !1, null, "4cd734b7", null)),
        ft = vt.exports,
        yt = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right__container--scroll",
            },
            [
              i(
                "newscroll",
                {
                  staticClass: "list_item",
                  attrs: {
                    type: "original",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "right__container",
                      style: {
                        width: e.width + "px",
                      },
                    },
                    [
                      "zoom" === e.viewType
                        ? i(
                            "span",
                            [
                              i("TopAlign"),
                              i(
                                "div",
                                {
                                  staticClass:
                                    "right__container--wrapper panel_container",
                                },
                                [i("ZoomProps")],
                                1
                              ),
                            ],
                            1
                          )
                        : e._e(),
                      i(
                        "lazy-box",
                        {
                          attrs: {
                            visible: "current" === e.viewType,
                          },
                        },
                        [
                          i("TopAlign"),
                          i(
                            "div",
                            {
                              staticClass:
                                "right__container--wrapper panel_container",
                            },
                            [
                              i("EditProps", {
                                directives: [
                                  {
                                    name: "show",
                                    rawName: "v-show",
                                    value: e.state === e.modEnum.PenEdit,
                                    expression: "state === modEnum.PenEdit",
                                  },
                                ],
                              }),
                              i("BasicProps", {
                                directives: [
                                  {
                                    name: "show",
                                    rawName: "v-show",
                                    value: e.state !== e.modEnum.PenEdit,
                                    expression: "state !== modEnum.PenEdit",
                                  },
                                ],
                              }),
                              i("ExpendProps"),
                            ],
                            1
                          ),
                        ],
                        1
                      ),
                      i(
                        "lazy-box",
                        {
                          attrs: {
                            visible: "default" === e.viewType,
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              ref: "panelScroll",
                              staticClass:
                                "right__container--wrapper panel_container",
                            },
                            [
                              i("DefaultProps"),
                              i("StyleProps", {
                                attrs: {
                                  viewType: e.viewType,
                                },
                              }),
                            ],
                            1
                          ),
                        ]
                      ),
                    ],
                    1
                  ),
                ]
              ),
              i("TeamLibraryDialog", {
                attrs: {
                  openDialog: e.tabActive,
                  inline: !0,
                },
                on: {
                  "update:openDialog": function (t) {
                    e.tabActive = t;
                  },
                  "update:open-dialog": function (t) {
                    e.tabActive = t;
                  },
                },
              }),
              i("AddCompPropDialog", {
                ref: "addCompPropDialog",
              }),
            ],
            1
          );
        },
        _t = [],
        Ct = i("5c39"),
        St = i("f6a6"),
        It = i("94dd"),
        Ot = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: e.showDialog,
                  expression: "showDialog",
                },
              ],
              ref: "dialog",
              staticClass: "team-library-dialog",
            },
            [
              i(
                "div",
                {
                  staticClass: "dialog-tab tab_bar",
                  on: {
                    mousedown: function (t) {
                      return t.stopPropagation(), e.dragStartHandler(t);
                    },
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "tab",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "dialog-tab__manage tab_item",
                          class: {
                            active: e.activedTab === e.TabEnum.manage,
                          },
                          on: {
                            click: function (t) {
                              e.activedTab = e.TabEnum.manage;
                            },
                          },
                        },
                        [
                          i(
                            "span",
                            {
                              class: {
                                badge: e.isShowPublish,
                              },
                            },
                            [e._v("管理")]
                          ),
                        ]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "dialog-tab__update tab_item",
                          class: {
                            active: e.activedTab === e.TabEnum.update,
                          },
                          on: {
                            click: function (t) {
                              e.activedTab = e.TabEnum.update;
                            },
                          },
                        },
                        [
                          i(
                            "span",
                            {
                              class: {
                                badge: e.needUpdate,
                              },
                            },
                            [e._v("更新")]
                          ),
                        ]
                      ),
                    ]
                  ),
                  i(
                    "div",
                    {
                      on: {
                        mousedown: function (e) {
                          e.stopPropagation();
                        },
                      },
                    },
                    [
                      i("MasterButtonIcon", {
                        key: "close",
                        staticClass: "dialog-tab__close",
                        attrs: {
                          icon: "TimesIcon",
                        },
                        on: {
                          click: e.onClose,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "dialog-content",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "dialog-content__list",
                      style: {
                        height:
                          e.settingFlag && !e.organization ? "500px" : "100%",
                      },
                    },
                    [
                      e.activedTab === e.TabEnum.update
                        ? i("UpdateBox")
                        : e._e(),
                      e.activedTab === e.TabEnum.manage
                        ? i(
                            "div",
                            [
                              e.subscribeActive === e.SubscribePanelEnum.all
                                ? i("SubscribeList", {
                                    on: {
                                      onSubscribeDialogOpen:
                                        e.onSubscribeDialogOpen,
                                      onUnPublishAlert: e.unPublishAlert,
                                      setSubscribePanel: function (t) {
                                        e.subscribeActive =
                                          e.SubscribePanelEnum.preset;
                                      },
                                    },
                                  })
                                : i("PresetList", {
                                    on: {
                                      setSubscribePanel: function (t) {
                                        e.subscribeActive =
                                          e.SubscribePanelEnum.all;
                                      },
                                    },
                                  }),
                            ],
                            1
                          )
                        : e._e(),
                    ],
                    1
                  ),
                ]
              ),
              e.organization || e.activedTab !== e.TabEnum.manage
                ? e._e()
                : [
                    e.subscribeActive === e.SubscribePanelEnum.all &&
                    e.settingFlag
                      ? i(
                          "div",
                          {
                            staticClass: "subscribe-message",
                          },
                          [
                            e._m(0),
                            i(
                              "div",
                              {
                                staticClass: "subscribe-message__close",
                                on: {
                                  click: e.closeMessage,
                                },
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "text-botton",
                                    attrs: {
                                      size: "xs",
                                      type: "text",
                                    },
                                  },
                                  [e._v("关闭")]
                                ),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "subscribe-message__setup",
                                on: {
                                  click: e.goTeamLibrarySetup,
                                },
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "text-botton",
                                    attrs: {
                                      size: "xs",
                                      type: "text",
                                    },
                                  },
                                  [e._v("前往设置")]
                                ),
                              ],
                              1
                            ),
                          ]
                        )
                      : e.subscribeActive === e.SubscribePanelEnum.preset &&
                        e.presetMessageFlag
                      ? i(
                          "div",
                          {
                            staticClass: "subscribe-message",
                          },
                          [
                            e._m(1),
                            i(
                              "div",
                              {
                                staticClass: "subscribe-message__close",
                                on: {
                                  click: e.closePresetMessage,
                                },
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "text-botton",
                                    attrs: {
                                      size: "xs",
                                      type: "text",
                                    },
                                  },
                                  [e._v("关闭")]
                                ),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "subscribe-message__setup",
                                on: {
                                  click: e.goUserSetup,
                                },
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "text-botton",
                                    attrs: {
                                      size: "xs",
                                      type: "text",
                                    },
                                  },
                                  [e._v("前往设置")]
                                ),
                              ],
                              1
                            ),
                          ]
                        )
                      : e._e(),
                  ],
              i("SubscribeDialog", {
                ref: "subscribeDialog",
                attrs: {
                  dialogShow: e.dialogShow,
                },
                on: {
                  "update:dialogShow": function (t) {
                    e.dialogShow = t;
                  },
                  "update:dialog-show": function (t) {
                    e.dialogShow = t;
                  },
                },
              }),
              i(
                "MasterDialog",
                {
                  attrs: {
                    visible: e.removeShow,
                    width: "420px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.removeShow = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [
                          e._v(
                            " 确定取消" +
                              e._s(
                                e.isPublishOrganization ? "企业库" : "团队库"
                              ) +
                              "？ "
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: function (t) {
                                  e.removeShow = !1;
                                },
                              },
                            },
                            [e._v("取消")]
                          ),
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "destructive",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: e.unPublishHandler,
                              },
                            },
                            [e._v("确认删除")]
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(
                      " 确定取消" +
                        e._s(e.isPublishOrganization ? "企业库" : "团队库") +
                        "？你已经上传的组件库将会从" +
                        e._s(e.isPublishOrganization ? "企业" : "团队") +
                        "中删除。 "
                    ),
                  ]),
                ]
              ),
            ],
            2
          );
        },
        kt = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "subscribe-message__info",
              },
              [i("span", [e._v("给所有团队文件开启默认团队库")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "subscribe-message__info",
              },
              [i("span", [e._v("预置组件库设置")])]
            );
          },
        ],
        wt = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "library-update__container",
            },
            [
              e.needUpdateLibrary.length
                ? i(
                    "MButton",
                    {
                      attrs: {
                        type: "highlight",
                        size: "sm",
                      },
                      on: {
                        click: function (t) {
                          return e.updateHandler("all");
                        },
                      },
                    },
                    [e._v("全部更新")]
                  )
                : i(
                    "aside",
                    {
                      staticClass: "library-update__aside text-tran-50",
                      attrs: {
                        "aria-label": "",
                      },
                    },
                    [i("div", [e._v("没有需要更新的组件或样式")])]
                  ),
              e._l(e.needUpdateLibrary, function (t) {
                return i(
                  "div",
                  {
                    key: t.id,
                    staticClass: "library-update__box",
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "library-update__title truncate",
                        attrs: {
                          "aria-label": "",
                        },
                      },
                      [
                        i(
                          "span",
                          {
                            attrs: {
                              "aria-label": "",
                            },
                          },
                          [e._v(e._s(t.name))]
                        ),
                        i(
                          "aside",
                          {
                            attrs: {
                              "aria-label": "",
                            },
                          },
                          [e._v(e._s(t.description))]
                        ),
                      ]
                    ),
                    e._l(t.children, function (t, s) {
                      return i(
                        "div",
                        {
                          key: s,
                          staticClass: "library-update__item",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "library-update__cover",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "library-update__component",
                                },
                                [
                                  t.componentSignature
                                    ? i("img", {
                                        attrs: {
                                          src: t.cover,
                                        },
                                      })
                                    : i("ColorIcon", {
                                        attrs: {
                                          data: t,
                                          isLibrary: !!t.cover,
                                        },
                                      }),
                                ],
                                1
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "truncate",
                              attrs: {
                                "aria-label": "",
                              },
                            },
                            [e._v(e._s(t.name))]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "update-button",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    size: "sm",
                                  },
                                  on: {
                                    click: function (i) {
                                      return e.updateOne(t.ukey);
                                    },
                                  },
                                },
                                [e._v("更新")]
                              ),
                            ],
                            1
                          ),
                        ]
                      );
                    }),
                  ],
                  2
                );
              }),
            ],
            2
          );
        },
        xt = [],
        Lt = i("6b81"),
        At = i("ac8c"),
        Tt = i("5547"),
        jt = i("e348");
      let Mt = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.libraryOssUrl = Tt["b"].compResource),
            (this.libraryId = ""),
            (this.libraryVersion = 0);
        }
        get needUpdateLibrary() {
          const e = {},
            t = (t) => {
              if (!e[null === t || void 0 === t ? void 0 : t.groupId]) {
                const i = [
                  ...this.teamLibraryList,
                  ...this.presetLibraryList,
                ].find(
                  (e) =>
                    e.id === (null === t || void 0 === t ? void 0 : t.groupId)
                );
                if (!i) return;
                (this.libraryId = i.id),
                  (this.libraryVersion = i.versioin),
                  (e[t.groupId] = {
                    id: i.id,
                    name: i.fileName,
                    description: i.description || "最近更新于" + i.updateDate,
                    children: [],
                  });
              }
              e[t.groupId].children.some((e) => e.id === t.id) ||
                e[t.groupId].children.push(t);
            };
          return (
            this.needUpdateComponents.forEach((e) => {
              let i = this.usedComponentMap[e.key];
              i.parentId && (i = this.usedComponentMap[i.parentId]), t(i);
            }),
            this.needUpdateStyles.forEach((e) => {
              const i = this.usedStyleMap[e.key];
              t(i);
            }),
            Object.values(e)
          );
        }
        updateOne(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.updateHandler("one", e);
          });
        }
        updateHandler(e, t) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            let i = this.needUpdateStyles,
              s = this.needUpdateComponents;
            "one" === e &&
              ((i = this.needUpdateStyles.filter((e) => e.key === t)),
              (s = this.needUpdateComponents.filter((e) => e.key === t))),
              d["a"].track(u["b"].SYNC_LIBRARY, {
                action_count: i.length + s.length,
                library_id: this.libraryId,
                library_ver: this.libraryVersion,
              }),
              yield Promise.all(
                i.map((e) =>
                  Object(ie["F"])(`${this.libraryOssUrl}/style/${e.id}`).then(
                    (t) => {
                      O["a"].fbcommand(
                        At["a"].CreateStyleFromFB,
                        "",
                        "",
                        t.data
                      ),
                        O["a"].command(Lt["a"].UpdateLibraryItem, {
                          data: {
                            value: {
                              updateType: e.type,
                              updateKey: e.key,
                              updateSignature: e.version,
                            },
                          },
                        });
                    }
                  )
                )
              );
            const o = {},
              n = (e) =>
                Object(a["__awaiter"])(this, void 0, void 0, function* () {
                  var t;
                  let i = e.id;
                  e.parentId &&
                    (i =
                      null ===
                        (t = this.needUpdateComponents.find(
                          (t) => t.key === e.parentId
                        )) || void 0 === t
                        ? void 0
                        : t.id),
                    i &&
                      (o[i] ||
                        (o[i] = Object(ie["F"])(
                          `${this.libraryOssUrl}/comp/${i}`
                        ).then((e) => {
                          O["a"].fbcommand(
                            At["a"].CreateComponentsFromFB,
                            "",
                            "",
                            e.data
                          );
                        })),
                      yield o[i]);
                });
            yield Promise.all(
              s.map((e) =>
                n(e).then(() => {
                  O["a"].command(Lt["a"].UpdateLibraryItem, {
                    data: {
                      value: {
                        updateType: e.type,
                        updateKey: e.key,
                        updateSignature: e.version,
                      },
                    },
                  });
                })
              )
            );
          });
        }
      };
      Mt = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              ColorIcon: jt["a"],
            },
            computed: Object.assign(
              Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])("teamLibrary", [
                    "teamLibraryList",
                    "needUpdateComponents",
                    "needUpdateStyles",
                    "presetLibraryList",
                  ])
                ),
                Object(r["e"])("component", [
                  "usedComponentMap",
                  "versionCatlog",
                ])
              ),
              Object(r["e"])("style", ["usedStyleMap"])
            ),
          }),
        ],
        Mt
      );
      var Et = Mt,
        Pt = Et,
        Dt =
          (i("f680"), Object(_["a"])(Pt, wt, xt, !1, null, "7135f70d", null)),
        Bt = Dt.exports,
        Nt = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "preset",
            },
            [
              i(
                "div",
                {
                  staticClass: "preset__back h5",
                  on: {
                    click: function (t) {
                      return e.$emit("setSubscribePanel");
                    },
                  },
                },
                [
                  i("AngleDownIcon", {
                    staticClass: "preset__icon",
                    style: {
                      transform: "rotate(90deg)",
                      fontSize: "20px",
                    },
                    attrs: {
                      size: "14",
                    },
                  }),
                  i("span", [e._v("返回")]),
                ],
                1
              ),
              e._l(e.presetLibraryList, function (t) {
                return [
                  i("LibraryItem", {
                    key: t.id,
                    attrs: {
                      library: t,
                    },
                    on: {
                      toggle: e.toggleSubscribe,
                    },
                  }),
                ];
              }),
            ],
            2
          );
        },
        Ft = [],
        Rt = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "library-item__item",
              on: {
                mouseenter: function (t) {
                  return e.handleOpenFileFlag("enter", e.library);
                },
                mouseleave: function (t) {
                  return e.handleOpenFileFlag("leave", e.library);
                },
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "library-item__name h5 truncate",
                  attrs: {
                    "aria-label": "",
                  },
                },
                [
                  e._v(" " + e._s(e.library.fileName) + " "),
                  i(
                    "aside",
                    {
                      staticClass: "p6 truncate",
                      attrs: {
                        "aria-label": "",
                      },
                    },
                    [
                      e._v(
                        e._s(
                          e.library.description ||
                            "最近更新于" + e.library.updateDate
                        )
                      ),
                    ]
                  ),
                ]
              ),
              e.library.id === e.openFileFlag
                ? i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "打开文件",
                        expression: "'打开文件'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    key: "openfile",
                    staticClass: "subscribe-lib__openfile",
                    attrs: {
                      icon: "ExternalLinkIcon",
                    },
                    on: {
                      click: function (t) {
                        return e.handleOpenFile(e.library);
                      },
                    },
                  })
                : e._e(),
              i("Toggle", {
                attrs: {
                  defaultOpen: e.library.isSubscribe,
                },
                on: {
                  change: function (t) {
                    return e.$emit(
                      "toggle",
                      e.library.id,
                      t,
                      e.library.fileKey
                    );
                  },
                },
              }),
            ],
            1
          );
        },
        Ht = [],
        $t = i("6b98");
      let Vt = class extends n["g"] {
        constructor() {
          super(...arguments), (this.openFileFlag = -1);
        }
        handleOpenFile(e) {
          Object($t["b"])("/file/" + e.fileKey);
        }
        handleOpenFileFlag(e, t) {
          this.openFileFlag = "enter" === e ? t.id : -1;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
          }),
        ],
        Vt.prototype,
        "library",
        void 0
      ),
        (Vt = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Toggle: de["a"],
              },
            }),
          ],
          Vt
        ));
      var zt = Vt,
        Ut = zt,
        qt =
          (i("f3a9"), Object(_["a"])(Ut, Rt, Ht, !1, null, "c519c7aa", null)),
        Wt = qt.exports;
      let Gt = class extends n["g"] {
        toggleSubscribe(e, t, i) {
          var s;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const o = {
              presets: [
                ...(null !== (s = this.presets) && void 0 !== s
                  ? s
                  : []
                ).filter((t) => t.library_id !== e),
                {
                  library_id: e,
                  status: t,
                },
              ],
            };
            yield Object(ie["nd"])(o),
              this.patchUserSettings(o),
              t
                ? (this.setLibrarySubscribeStatus({
                    libraryId: e,
                    subscribeStatus: !0,
                  }),
                  this.subscribeLibrary({
                    libraryId: e,
                    documentId: this.$route.params.id,
                  }))
                : (this.setLibrarySubscribeStatus({
                    libraryId: e,
                    subscribeStatus: !1,
                  }),
                  this.unsubscribeLibrary(e)),
              d["a"].track(_e["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter1: "component",
                action_parameter2: "manage",
                action_detail: i,
                action_type: t ? "on" : "off",
              });
          });
        }
      };
      Gt = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              Toggle: de["a"],
              LibraryItem: Wt,
            },
            computed: Object.assign(
              {},
              Object(r["e"])({
                presetLibraryList: (e) => e.teamLibrary.presetLibraryList,
                presets: (e) => e.main.userSetting.presets,
                closePreset: (e) => e.main.userSetting.closePreset,
              })
            ),
            methods: Object.assign(
              Object.assign(
                {},
                Object(r["b"])("teamLibrary", [
                  "unsubscribeLibrary",
                  "subscribeLibrary",
                  "setLibrarySubscribeStatus",
                ])
              ),
              Object(r["b"])(["patchUserSettings"])
            ),
          }),
        ],
        Gt
      );
      var Kt = Gt,
        Qt = Kt,
        Yt =
          (i("20ea"), Object(_["a"])(Qt, Nt, Ft, !1, null, "0254d5ea", null)),
        Xt = Yt.exports,
        Zt = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "MasterDialog",
            {
              staticClass: "subscribe-dialog",
              attrs: {
                visible: e.dialogShow,
                title: "保存历史版本",
                width: "360px",
              },
              on: {
                "update:visible": function (t) {
                  e.dialogShow = t;
                },
              },
            },
            [
              i(
                "div",
                {
                  attrs: {
                    slot: "title",
                  },
                  slot: "title",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "subscribe-dialog__title",
                    },
                    [e._v(" " + e._s(e.fileName) + " ")]
                  ),
                  i(
                    "aside",
                    {
                      staticClass: "subscribe-dialog__aside",
                    },
                    [
                      i(
                        "span",
                        {
                          staticClass: "aside-remove",
                        },
                        [e._v(" - " + e._s(e.updateCount[3]) + " ")]
                      ),
                      i(
                        "span",
                        {
                          staticClass: "aside-add",
                        },
                        [e._v(" + " + e._s(e.updateCount[1]) + " ")]
                      ),
                      i(
                        "span",
                        {
                          staticClass: "aside-edit",
                        },
                        [
                          i("EditIcon", {
                            attrs: {
                              size: "9",
                            },
                          }),
                          e._v(" " + e._s(e.updateCount[2]) + " "),
                        ],
                        1
                      ),
                    ]
                  ),
                ]
              ),
              i(
                "div",
                {
                  ref: "container",
                  staticClass: "subscribe-dialog__content overflow-overlay",
                },
                [
                  e.dialogShow
                    ? i(
                        "div",
                        {
                          staticClass: "subscribe-dialog__pubcomponents",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "components__title",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "components__checkbox",
                                  on: {
                                    click: e.handleClickIsAllChecked,
                                  },
                                },
                                [
                                  i("svg-plugin", {
                                    staticClass: "all-checkbox-icon",
                                    staticStyle: {
                                      "font-size": "14",
                                    },
                                    attrs: {
                                      opacity: e.isAllChecked ? "1" : "0.3",
                                      name:
                                        -1 === e.isAllChecked
                                          ? "check-mixed"
                                          : e.isAllChecked
                                          ? "check-on"
                                          : "check-off",
                                    },
                                  }),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "title",
                                },
                                [e._v("所有更新")]
                              ),
                            ]
                          ),
                          i(
                            "div",
                            [
                              e._l(e.componentPublishList, function (t) {
                                return i("ComponentItem", {
                                  key: e.handleKey(t),
                                  attrs: {
                                    data:
                                      t.type === e.TeamLibPublishType.Remove
                                        ? e.componentPublishedMap[t.id]
                                        : e.componentMap[t.id],
                                    type: t.type,
                                    isChecked: t.isChecked,
                                  },
                                  on: {
                                    "update:isChecked": function (i) {
                                      return e.$set(t, "isChecked", i);
                                    },
                                    "update:is-checked": function (i) {
                                      return e.$set(t, "isChecked", i);
                                    },
                                  },
                                });
                              }),
                              e._l(e.stylePublishList, function (t) {
                                return i("ComponentItem", {
                                  key: t.id,
                                  attrs: {
                                    data:
                                      t.type === e.TeamLibPublishType.Remove
                                        ? e.stylePublishedMap[t.ukey]
                                        : e.styleMap[t.ukey],
                                    type: t.type,
                                    isStyle: !0,
                                    isChecked: t.isChecked,
                                  },
                                  on: {
                                    "update:isChecked": function (i) {
                                      return e.$set(t, "isChecked", i);
                                    },
                                    "update:is-checked": function (i) {
                                      return e.$set(t, "isChecked", i);
                                    },
                                  },
                                });
                              }),
                            ],
                            2
                          ),
                        ]
                      )
                    : e._e(),
                  e.dialogShow
                    ? i(
                        "div",
                        {
                          staticClass: "subscribe-dialog__hidden",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "hidden-title",
                            },
                            [
                              i(
                                "div",
                                {
                                  on: {
                                    click: function (t) {
                                      e.hiddenFlag = !e.hiddenFlag;
                                    },
                                  },
                                },
                                [
                                  e.hiddenFlag
                                    ? e._e()
                                    : i("CaretDownIcon", {
                                        staticClass: "action-icon",
                                      }),
                                  e.hiddenFlag
                                    ? i("CaretRightIcon", {
                                        staticClass: "action-icon",
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "title",
                                },
                                [e._v("隐藏的组件样式")]
                              ),
                              i("InfoSolidIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value:
                                      "不想发布这个组件样式，在名称开头添加符号“.”",
                                    expression:
                                      "'不想发布这个组件样式，在名称开头添加符号“.”'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                staticClass: "message-icon",
                              }),
                            ],
                            1
                          ),
                          e.hiddenFlag
                            ? e._e()
                            : i(
                                "div",
                                [
                                  e._l(e.componentHiddenList, function (t) {
                                    return i("ComponentItem", {
                                      key: t.id,
                                      attrs: {
                                        data: e.componentMap[t.id],
                                        type: t.type,
                                      },
                                    });
                                  }),
                                  e._l(e.styleHiddenList, function (t) {
                                    return i("ComponentItem", {
                                      key: t.id,
                                      attrs: {
                                        data: e.styleMap[t.ukey],
                                        type: t.type,
                                        isStyle: !0,
                                      },
                                    });
                                  }),
                                ],
                                2
                              ),
                        ]
                      )
                    : e._e(),
                ]
              ),
              i(
                "template",
                {
                  slot: "footer",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "subscribe-dialog__footer",
                    },
                    [
                      i("div", {
                        staticClass:
                          "subscribe-dialog__footer__outline border-b-wrap",
                      }),
                      i("master-input", {
                        staticStyle: {
                          width: "100%",
                          margin: "18px 0",
                        },
                        attrs: {
                          textarea: "",
                          value: e.versionDesc,
                          focusSelectAll: "",
                          placeholder: "写一些关于更新的描述",
                        },
                        on: {
                          change: e.changeHandler,
                        },
                      }),
                      i(
                        "div",
                        {
                          staticClass: "subscribe-dialog__footer__buttons",
                        },
                        [
                          e.organization
                            ? i(
                                "div",
                                {
                                  staticClass:
                                    "subscribe-dialog__footer__buttons_left",
                                },
                                [
                                  "" === e.publishedId
                                    ? [
                                        i(
                                          "div",
                                          {
                                            staticClass:
                                              "subscribe-dialog__footer__label",
                                          },
                                          [e._v("发布至")]
                                        ),
                                        i(
                                          "div",
                                          [
                                            i("MasterSelector", {
                                              staticStyle: {
                                                width: "100px",
                                              },
                                              attrs: {
                                                options: e.teamOptions,
                                                value: e.toOrganization,
                                                theme: "simple",
                                                size: "small",
                                                mode: "masterPopover",
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.changeTeam(t);
                                                },
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    : i(
                                        "div",
                                        {
                                          staticClass:
                                            "subscribe-dialog__footer__label",
                                        },
                                        [e._v("发布至" + e._s(e.currentTeam))]
                                      ),
                                ],
                                2
                              )
                            : e._e(),
                          i(
                            "MButton",
                            {
                              staticClass:
                                "subscribe-dialog__footer__buttons_right",
                              attrs: {
                                type: "highlight",
                                size: "sm",
                                padding: "24",
                                asyncClick: e.publishHandler,
                                disabled: !e.checkRole.isSomeChecked,
                              },
                            },
                            [
                              e._v(
                                e._s(
                                  e.publishLock
                                    ? "上传中···" + e.publishPercent + "%"
                                    : "上传更新"
                                )
                              ),
                            ]
                          ),
                        ],
                        1
                      ),
                    ],
                    1
                  ),
                ]
              ),
            ],
            2
          );
        },
        Jt = [],
        ei = i("a586"),
        ti = i("f3bf"),
        ii = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.data && !e.data.parentId
            ? i(
                "div",
                {
                  staticClass: "component-item__container",
                },
                [
                  e.type !== e.TeamLibPublishType.Hidden
                    ? i(
                        "div",
                        {
                          staticClass: "component-item__checkbox",
                          on: {
                            click: function (t) {
                              return e.handleIsChecked(e.data.id);
                            },
                          },
                        },
                        [
                          i("svg-plugin", {
                            staticClass: "checkbox-icon",
                            staticStyle: {
                              "font-size": "14",
                            },
                            attrs: {
                              opacity: e.isChecked ? "1" : "0.3",
                              name: e.isChecked ? "check-on" : "check-off",
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                  e.type === e.TeamLibPublishType.Hidden
                    ? i("div", {
                        staticClass: "component-item__hidden",
                      })
                    : e._e(),
                  i(
                    "div",
                    {
                      staticClass: "component-item__cover",
                    },
                    [
                      e.isStyle
                        ? e.fixData
                          ? i("ColorIcon", {
                              attrs: {
                                data: e.fixData,
                                isStyle: e.isStyle,
                                isLibrary: !!e.fixData.cover,
                              },
                            })
                          : e._e()
                        : i("img", {
                            ref: "image",
                            attrs: {
                              src: e.data.cover,
                            },
                          }),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass: "component-item__name",
                      style: {
                        opacity:
                          e.type === e.TeamLibPublishType.Remove ||
                          e.type === e.TeamLibPublishType.Hidden
                            ? "0.3"
                            : "1",
                      },
                    },
                    [e._v(" " + e._s(e.data.name) + " ")]
                  ),
                  e.type === e.TeamLibPublishType.Remove
                    ? i(
                        "span",
                        {
                          staticClass: "aside-remove",
                        },
                        [e._v(" - ")]
                      )
                    : e.type === e.TeamLibPublishType.Add
                    ? i(
                        "span",
                        {
                          staticClass: "aside-add",
                        },
                        [e._v(" + ")]
                      )
                    : e.type === e.TeamLibPublishType.Update
                    ? i(
                        "span",
                        {
                          staticClass: "aside-edit",
                        },
                        [
                          i("EditIcon", {
                            attrs: {
                              size: "9",
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                ]
              )
            : e._e();
        },
        si = [];
      let oi = class extends n["g"] {
        constructor() {
          super(...arguments), (this.TeamLibPublishType = ei["a"]);
        }
        get fixData() {
          return this.isStyle ? this.data : null;
        }
        mounted() {
          this.isStyle ||
            this.$eventBus.$on("subscribe-lazy-scroll", this.lazyloadHandler);
        }
        beforeDestroy() {
          this.isStyle ||
            this.$eventBus.$off("subscribe-lazy-scroll", this.lazyloadHandler);
        }
        lazyloadHandler(e, t) {
          if (!this.$refs.image)
            return void this.$eventBus.$off(
              "subscribe-lazy-scroll",
              this.lazyloadHandler
            );
          const i = this.$refs.image.offsetTop;
          e + t + 300 > i &&
            (this.data.isLibrary || this.getComponentItemCover(this.data.id),
            this.$eventBus.$off("subscribe-lazy-scroll", this.lazyloadHandler));
        }
        handleIsChecked() {
          this.$emit("update:isChecked", !this.isChecked);
        }
      };
      Object(a["__decorate"])([Object(n["e"])()], oi.prototype, "data", void 0),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          oi.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          oi.prototype,
          "isStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          oi.prototype,
          "isChecked",
          void 0
        ),
        (oi = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ColorIcon: jt["a"],
              },
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["getComponentItemCover"])
              ),
            }),
          ],
          oi
        ));
      var ai = oi,
        ni = ai,
        ri =
          (i("fdef"), Object(_["a"])(ni, ii, si, !1, null, "04957e28", null)),
        ci = ri.exports;
      let li = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.hiddenFlag = !1),
            (this.dialogShow = !1),
            (this.publishLock = !1),
            (this.publishPercent = "0.00"),
            (this.versionDesc = ""),
            (this.TeamLibPublishType = ei["a"]),
            (this.toOrganization = !1),
            (this.teamOptions = [
              {
                value: !1,
                label: "当前团队",
              },
              {
                value: !0,
                label: "当前企业",
              },
            ]);
        }
        handleDialogShow() {
          this.$emit("update:dialogShow", this.dialogShow);
        }
        get currentTeam() {
          var e, t;
          return null !==
            (t =
              null ===
                (e = this.teamOptions.find(
                  (e) => e.value === this.isPublishOrganization
                )) || void 0 === e
                ? void 0
                : e.label) && void 0 !== t
            ? t
            : "";
        }
        handleKey(e) {
          const t =
            e.type === ei["a"].Remove
              ? this.componentPublishedMap[e.id]
              : this.componentMap[e.id];
          return t ? e.id + t.parentId : e.id;
        }
        changeTeam(e) {
          this.toOrganization = e;
        }
        opanDialog() {
          (this.versionDesc = ""),
            (this.dialogShow = !0),
            this.$nextTick(() => {
              this.scrollHandler();
            });
        }
        changeHandler(e) {
          this.versionDesc = e;
        }
        get checkRole() {
          const e = [
            ...this.componentPublishList.filter((e) => {
              const t =
                e.type === ei["a"].Remove
                  ? this.componentPublishedMap[e.id]
                  : this.componentMap[e.id];
              return !(null === t || void 0 === t ? void 0 : t.parentId);
            }),
            ...this.stylePublishList,
          ];
          return {
            isEveryChecked: e.every((e) => e.isChecked),
            isSomeChecked: e.some((e) => e.isChecked),
          };
        }
        get isAllChecked() {
          return this.checkRole.isEveryChecked
            ? 1
            : this.checkRole.isSomeChecked
            ? -1
            : 0;
        }
        setPublishList(e) {
          this.componentPublishList.forEach((t) => {
            t.isChecked = e;
          }),
            this.stylePublishList.forEach((t) => {
              t.isChecked = e;
            });
        }
        handleClickIsAllChecked() {
          1 === this.isAllChecked
            ? this.setPublishList(!1)
            : this.setPublishList(!0);
        }
        mounted() {
          (this.hiddenFlag = !1),
            this.$refs.container.addEventListener("scroll", this.scrollHandler);
        }
        beforeDestroy() {
          this.$refs.container.removeEventListener(
            "scroll",
            this.scrollHandler
          );
        }
        scrollHandler() {
          const e = this.$refs.container.scrollTop,
            t = this.$refs.container.clientHeight;
          this.$eventBus.$emit("subscribe-lazy-scroll", e, t);
        }
        uploadSvg(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = Object(q["c"])(e.layer_id),
              i = new Blob([t], {
                type: "image/svg+xml",
              }),
              s = new File([i], "compsvg.svg", {
                type: "image/svg+xml",
              }),
              o = yield x["t"].uploadFile(s);
            e.svg_url = o;
          });
        }
        uploadCover(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (!e.component_set_id) {
              e.cover ||
                (e.cover = yield this.getComponentItemCover(e.layer_id));
              const t = e.cover;
              e.cover = "";
              const i = Object(Z["g"])(
                  t.replace(/data:image\/\w*;base64,/, "")
                ),
                s = new Blob([i], {
                  type: "image/png",
                }),
                o = yield x["t"].uploadFile(s);
              e.cover = o;
            }
          });
        }
        publishHandler() {
          var e, t, i, s;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            (this.publishLock = !0), (this.publishPercent = "0.00");
            try {
              const i = {
                savePoint: "",
                documentId: this.fileId,
                description: this.versionDesc,
                publishData: {
                  component_sets: [],
                  components: [],
                  styles: [],
                },
                unPublishData: {
                  component_sets: [],
                  components: [],
                  styles: [],
                },
                updateData: {
                  component_sets: [],
                  components: [],
                  styles: [],
                },
              };
              this.stylePublishList
                .filter((e) => e.isChecked)
                .forEach((e) => {
                  if (e.type === ei["a"].Remove)
                    i.unPublishData.styles.push({
                      key: e.ukey,
                    });
                  else {
                    const t = this.styleMap[e.ukey],
                      s = Object(jt["b"])(
                        t.type === se["I"].PAINT ? t.paints : t
                      );
                    t.icon &&
                      ((s.url = "data:image/png;base64," + t.icon),
                      (s.iconType = 0)),
                      i[
                        e.type === ei["a"].Add ? "publishData" : "updateData"
                      ].styles.push({
                        style_id: t.id,
                        key: t.ukey,
                        cover: JSON.stringify(s),
                        name: t.name,
                        description: t.description,
                        style_type: String(t.type),
                        sort_index: t.index,
                        content_hash: t.styleSignature,
                      });
                  }
                });
              const s = Object.create(null);
              this.componentPublishList.forEach((e) => {
                const t =
                  e.type === ei["a"].Remove
                    ? this.componentPublishedMap[e.id]
                    : this.componentMap[e.id];
                t && !t.parentId && e.isChecked && (s[e.id] = !0);
              });
              const n = this.componentPublishList.filter((e) => {
                const t =
                    e.type === ei["a"].Remove
                      ? this.componentPublishedMap[e.id]
                      : this.componentMap[e.id],
                  i = t && t.parentId && t.parentId.split("+"),
                  o = i && i[i.length - 1];
                return (t && e.isChecked && !t.parentId) || s[o];
              });
              let r = !1;
              Object.values(this.componentPublishedMap).forEach((e) => {
                this.componentPublishList.some((t) => t.id === e.id) ||
                  e.parentId ||
                  ((e.width || e.height) && e.cover) ||
                  (n.push({
                    id: e.id,
                    type: ei["a"].Update,
                    ukey: e.ukey,
                    isComponentSet: e.isComponentSet,
                  }),
                  (r = !0));
              }),
                r && x["n"].setLog("INFO", "userAction", "teamlib updateRect"),
                n.forEach((e) => {
                  var t, s;
                  const o = O["a"].Module.getLayerPropertyById(
                    e.id
                  ).isComponentSet;
                  if (e.type === ei["a"].Remove)
                    i.unPublishData[
                      e.isComponentSet ? "component_sets" : "components"
                    ].push({
                      key: e.ukey,
                    });
                  else {
                    const a = this.componentMap[e.id];
                    i[e.type === ei["a"].Add ? "publishData" : "updateData"][
                      o ? "component_sets" : "components"
                    ].push({
                      layer_id: a.id,
                      key: a.ukey,
                      cover: a.cover,
                      name: a.parentId ? Object(ti["b"])(a.name, !0) : a.name,
                      description: a.description,
                      content_hash: a.componentSignature,
                      page_id: a.pageId,
                      width: a.width,
                      height: a.height,
                      page_name:
                        null === (t = this.pageMap[a.pageId]) || void 0 === t
                          ? void 0
                          : t.name,
                      background_color: JSON.stringify(a.backgroundColor),
                      frame_name: a.frameName,
                      pick_flag: a.pickFlag,
                      component_set_id:
                        null === (s = this.componentMap[a.parentId]) ||
                        void 0 === s
                          ? void 0
                          : s.ukey,
                    });
                  }
                });
              const c = [
                  ...i.publishData.components,
                  ...i.updateData.components,
                  ...i.publishData.component_sets,
                  ...i.updateData.component_sets,
                ],
                l = c.length,
                d = {};
              yield Promise.all(
                new Array(30).fill(
                  (() =>
                    Object(a["__awaiter"])(this, void 0, void 0, function* () {
                      let e = c.pop();
                      while (e)
                        try {
                          yield this.uploadCover(e);
                        } catch (t) {
                          d[e.key] || (d[e.key] = 0),
                            d[e.key] < 3 && ((d[e.key] += 1), c.push(e));
                        } finally {
                          (e = c.pop()),
                            (this.publishPercent = (
                              ((l - c.length) / l) *
                              100 *
                              0.9
                            ).toFixed(2));
                        }
                    }))()
                )
              );
              const u = Object.values(O["a"].getVersion())[0] || 0;
              try {
                const e = yield Object(ie["qd"])({
                  documentId: this.fileId,
                  dataVersion: u,
                });
                i.savePoint = e.data.savePoint;
              } catch (o) {
                throw new Error(
                  "InvalidDocumentRole" ===
                  (null ===
                    (t =
                      null ===
                        (e =
                          null === o || void 0 === o ? void 0 : o.response) ||
                      void 0 === e
                        ? void 0
                        : e.data) || void 0 === t
                    ? void 0
                    : t.code)
                    ? "invalidRole"
                    : "savepoint fail"
                );
              }
              this.dialogShow = !1;
              const h = this.$toast({
                content: "正在上传组件库",
                timeout: 1e4,
                disabledTransition: !0,
                position: "bottom",
              });
              (i.toOrganization = this.publishedId
                ? this.isPublishOrganization
                : this.toOrganization),
                yield Object(ie["pd"])(i),
                k["a"].updateMasterData(),
                h.clearToast(),
                this.$toast({
                  content: "组件库更新成功",
                  timeout: 1e3,
                  disabledTransition: !0,
                  position: "bottom",
                });
            } catch (n) {
              this.$toast({
                content:
                  "InvalidDocumentRole" ===
                    (null ===
                      (s =
                        null ===
                          (i =
                            null === n || void 0 === n ? void 0 : n.response) ||
                        void 0 === i
                          ? void 0
                          : i.data) || void 0 === s
                      ? void 0
                      : s.code) ||
                  "invalidRole" ===
                    (null === n || void 0 === n ? void 0 : n.message)
                    ? "企业访客/成员不支持发布组件至企业版"
                    : "发布失败请重新尝试",
                timeout: 3e3,
                position: "bottom",
              }),
                x["n"].setLog("ERROR", "userAction", "publish_library_error", {
                  message: n,
                });
            } finally {
              this.publishLock = !1;
            }
            x["n"].setLog("INFO", "userAction", "publish_library", {
              description: this.versionDesc ? 1 : 0,
            });
          });
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("dialogShow")],
        li.prototype,
        "handleDialogShow",
        null
      ),
        (li = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterDialog: b["a"],
                ComponentItem: ci,
                MasterSelector: Pe["e"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      {},
                      Object(r["e"])({
                        organization: (e) => e.app.currentDocument.organization,
                        fileName: (e) => e.app.currentDocument.name,
                        fileId: (e) => e.app.currentDocument.id,
                        pagebkcolor: (e) => e.basicState.pagebkcolor,
                        styleMap: (e) => e.style.styleMap,
                        pageMap: (e) => e.pages.map,
                      })
                    ),
                    Object(r["e"])("teamLibrary", [
                      "publishedId",
                      "stylePublishList",
                      "componentPublishList",
                      "stylePublishedMap",
                      "componentPublishedMap",
                      "componentHiddenList",
                      "styleHiddenList",
                    ])
                  ),
                  Object(r["e"])("component", ["componentMap"])
                ),
                Object(r["c"])("teamLibrary", [
                  "updateCount",
                  "isPublishOrganization",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["getComponentItemCover"])
              ),
            }),
          ],
          li
        ));
      var di,
        ui,
        hi = li,
        pi = hi,
        mi =
          (i("914e"), Object(_["a"])(pi, Zt, Jt, !1, null, "8153af54", null)),
        gi = mi.exports,
        bi = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass: "h6 text-tran-85",
                staticStyle: {
                  "padding-left": "18px",
                },
              },
              [e._v("本地")]
            ),
            i(
              "div",
              {
                staticClass: "subscribe-local",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "truncate subscribe-local__text",
                  },
                  [
                    i(
                      "span",
                      {
                        staticClass: "h5",
                      },
                      [e._v(e._s(e.fileName))]
                    ),
                    i(
                      "aside",
                      {
                        staticClass: "truncate p6 subscribe-local__aside",
                        attrs: {
                          "aria-label": "",
                        },
                      },
                      [e._v(" " + e._s(e.asideText) + " ")]
                    ),
                  ]
                ),
                e.isHiddenButton
                  ? e._e()
                  : [
                      e.localState === e.LocalStateEnum.NeedUpdate
                        ? i(
                            "MButton",
                            {
                              attrs: {
                                type: "highlight",
                                size: "xs",
                                padding: "12",
                              },
                              on: {
                                click: function (t) {
                                  return e.$emit("onSubscribeDialogOpen");
                                },
                              },
                            },
                            [e._v("上传更新")]
                          )
                        : e.localState === e.LocalStateEnum.NeedAdd
                        ? i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "xs",
                                padding: "12",
                              },
                              on: {
                                click: function (t) {
                                  return e.$emit("onSubscribeDialogOpen");
                                },
                              },
                            },
                            [e._v("发布")]
                          )
                        : e.localState === e.LocalStateEnum.Clean
                        ? i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "xs",
                                padding: "18",
                              },
                              on: {
                                click: function (t) {
                                  return e.$emit("onUnPublishAlert");
                                },
                              },
                            },
                            [e._v("取消")]
                          )
                        : e._e(),
                    ],
              ],
              2
            ),
            e.organization
              ? i(
                  "div",
                  {
                    staticClass: "subscribe-tab",
                  },
                  [
                    i(
                      "div",
                      {
                        class: [
                          "subscribe-tab__item",
                          {
                            "subscribe-tab__active":
                              e.active === e.TeamTabEnum.Team,
                          },
                        ],
                        on: {
                          click: function (t) {
                            return e.changeTab(e.TeamTabEnum.Team);
                          },
                        },
                      },
                      [
                        i("span", [e._v("团队")]),
                        i("div", {
                          staticClass: "subscribe-tab__tag",
                        }),
                      ]
                    ),
                    i(
                      "div",
                      {
                        class: [
                          "subscribe-tab__item",
                          {
                            "subscribe-tab__active":
                              e.active === e.TeamTabEnum.Company,
                          },
                        ],
                        on: {
                          click: function (t) {
                            return e.changeTab(e.TeamTabEnum.Company);
                          },
                        },
                      },
                      [
                        e._v(" 企业 "),
                        i("div", {
                          staticClass: "subscribe-tab__tag",
                        }),
                      ]
                    ),
                  ]
                )
              : e._e(),
            i(
              "div",
              {
                staticClass: "subscribe-content",
              },
              [
                e.active === e.TeamTabEnum.Team
                  ? [
                      e.closePreset
                        ? e._e()
                        : i(
                            "div",
                            {
                              staticClass: "subscribe-content__preset",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass:
                                    "subscribe-lib__preset text-tran-85",
                                  staticStyle: {
                                    border: "none",
                                  },
                                },
                                [e._v("预置组件库")]
                              ),
                              e._l(e.subscribedPresetLibraries, function (t) {
                                return [
                                  i("LibraryItem", {
                                    key: t.id,
                                    attrs: {
                                      library: t,
                                    },
                                    on: {
                                      toggle: e.togglePresetSubscribe,
                                    },
                                  }),
                                ];
                              }),
                              i(
                                "div",
                                {
                                  staticClass: "subscribe-lib__all",
                                  on: {
                                    click: function (t) {
                                      return e.$emit("setSubscribePanel");
                                    },
                                  },
                                },
                                [
                                  e._v(" 查看全部预置组件库 "),
                                  i("AngleDownIcon", {
                                    style: {
                                      transform: "rotate(-90deg)",
                                    },
                                    attrs: {
                                      size: "14",
                                    },
                                  }),
                                ],
                                1
                              ),
                            ],
                            2
                          ),
                      e._l(e.teamLibraries, function (t) {
                        return i(
                          "span",
                          {
                            key: t.id,
                          },
                          [
                            t.teamName
                              ? i(
                                  "div",
                                  {
                                    staticClass:
                                      "subscribe-lib__team text-tran-85",
                                  },
                                  [e._v(e._s(t.teamName))]
                                )
                              : e._e(),
                            i("LibraryItem", {
                              key: t.id,
                              attrs: {
                                library: t,
                              },
                              on: {
                                toggle: e.subscribe,
                              },
                            }),
                          ],
                          1
                        );
                      }),
                    ]
                  : e._e(),
                e.active === e.TeamTabEnum.Company
                  ? e._l(e.companyLibraries, function (t, s) {
                      return i(
                        "span",
                        {
                          key: t.id,
                        },
                        [
                          t.teamName
                            ? i(
                                "div",
                                {
                                  staticClass:
                                    "subscribe-lib__team text-tran-85",
                                  style: {
                                    border: 0 === s ? "none" : "",
                                  },
                                },
                                [e._v(e._s(t.teamName))]
                              )
                            : e._e(),
                          i("LibraryItem", {
                            key: t.id,
                            attrs: {
                              library: t,
                            },
                            on: {
                              toggle: e.subscribe,
                            },
                          }),
                        ],
                        1
                      );
                    })
                  : e._e(),
              ],
              2
            ),
          ]);
        },
        vi = [];
      (function (e) {
        (e[(e["Disabled"] = 0)] = "Disabled"),
          (e[(e["Empty"] = 1)] = "Empty"),
          (e[(e["NeedAdd"] = 2)] = "NeedAdd"),
          (e[(e["NeedUpdate"] = 3)] = "NeedUpdate"),
          (e[(e["Clean"] = 4)] = "Clean");
      })(di || (di = {})),
        (function (e) {
          (e["Team"] = "team"), (e["Company"] = "company");
        })(ui || (ui = {}));
      let fi = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.LocalStateEnum = di),
            (this.TeamTabEnum = ui),
            (this.subscribedPresetLibraries = []),
            (this.presetLibrariesLoaded = !1),
            (this.active = ui.Team);
        }
        get localState() {
          const e =
            this.stylePublishList.length || this.componentPublishList.length;
          return this.disableTeamlibPublish
            ? di.Disabled
            : "" !== this.publishedId || e
            ? "" === this.publishedId && e
              ? di.NeedAdd
              : this.stylePublishList.length || this.componentPublishList.length
              ? di.NeedUpdate
              : di.Clean
            : di.Empty;
        }
        get asideText() {
          return [
            "只有在团队中的文件才能发布为团队库",
            "本地没有组件或样式可以发布",
            "未发布",
            this.updateCount[0] + "个更改",
            "已是最新版本",
          ][this.localState];
        }
        get isHiddenButton() {
          var e;
          return (
            "" ===
            (null === (e = this.currentDocument) || void 0 === e
              ? void 0
              : e.teamRole)
          );
        }
        get teamLibraries() {
          return this.teamLibraryList.filter(
            (e) => "organization" !== e.subFrom
          );
        }
        get companyLibraries() {
          return this.teamLibraryList.filter(
            (e) => "organization" === e.subFrom
          );
        }
        handlePreset(e) {
          e.length <= 0 ||
            this.presetLibrariesLoaded ||
            ((this.presetLibrariesLoaded = !0),
            (this.subscribedPresetLibraries = e.filter(
              (e) => !!e.isSubscribe
            )));
        }
        changeTab(e) {
          this.active = e;
        }
        togglePresetSubscribe(e, t, i) {
          var s;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const o = {
              presets: [
                ...(null !== (s = this.presets) && void 0 !== s
                  ? s
                  : []
                ).filter((t) => t.library_id !== e),
                {
                  library_id: e,
                  status: t,
                },
              ],
            };
            yield Object(ie["nd"])(o),
              this.patchUserSettings(o),
              t
                ? (this.setLibrarySubscribeStatus({
                    libraryId: e,
                    subscribeStatus: !0,
                  }),
                  this.subscribeLibrary({
                    libraryId: e,
                    documentId: this.$route.params.id,
                  }))
                : (this.setLibrarySubscribeStatus({
                    libraryId: e,
                    subscribeStatus: !1,
                  }),
                  this.unsubscribeLibrary(e)),
              d["a"].track(_e["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter1: "component",
                action_parameter2: "manage",
                action_detail: i,
                action_type: t ? "on" : "off",
              });
          });
        }
        subscribe(e, t) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(ie["rd"])(this.fileId, e, t),
              t && this.setUsedComponentList(this.fileId);
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("presetLibraryList", {
            immediate: !0,
          }),
        ],
        fi.prototype,
        "handlePreset",
        null
      ),
        (fi = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Toggle: de["a"],
                LibraryItem: Wt,
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      {},
                      Object(r["e"])({
                        fileName: (e) => e.app.currentDocument.name,
                        fileId: (e) => e.app.currentDocument.id,
                        currentDocument: (e) => e.app.currentDocument,
                        teamLibraryList: (e) => e.teamLibrary.teamLibraryList,
                        presetLibraryList: (e) =>
                          e.teamLibrary.presetLibraryList,
                        presets: (e) => e.main.userSetting.presets,
                        closePreset: (e) => e.main.userSetting.closePreset,
                        organization: (e) => e.app.currentDocument.organization,
                      })
                    ),
                    Object(r["e"])("teamLibrary", [
                      "publishedId",
                      "stylePublishList",
                      "componentPublishList",
                    ])
                  ),
                  Object(r["c"])("teamLibrary", ["updateCount"])
                ),
                Object(r["c"])(["disableTeamlibPublish"])
              ),
              methods: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["b"])("teamLibrary", [
                      "unsubscribeLibrary",
                      "subscribeLibrary",
                      "setLibrarySubscribeStatus",
                    ])
                  ),
                  Object(r["b"])("component", ["setUsedComponentList"])
                ),
                Object(r["b"])(["patchUserSettings"])
              ),
            }),
          ],
          fi
        ));
      var yi,
        _i,
        Ci = fi,
        Si = Ci,
        Ii =
          (i("ad9c"), Object(_["a"])(Si, bi, vi, !1, null, "a37d9fec", null)),
        Oi = Ii.exports;
      (function (e) {
        (e["all"] = "all"), (e["preset"] = "preset");
      })(yi || (yi = {})),
        (function (e) {
          (e["update"] = "update"), (e["manage"] = "manage");
        })(_i || (_i = {}));
      let ki = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.showDialog = !1),
            (this.messageFlag = !0),
            (this.removeShow = !1),
            (this.presetMessageFlag = !0),
            (this.dragOffsetData = {
              x: 0,
              y: 0,
            }),
            (this.domOffset = {
              x: 0,
              y: 0,
            }),
            (this.SubscribePanelEnum = yi),
            (this.TeamTabEnum = ui),
            (this.TabEnum = _i),
            (this.subscribeActive = yi.all),
            (this.dialogShow = !1),
            (this.activedTab = _i.manage);
        }
        get isShowPublish() {
          var e;
          const { teamRole: t } =
            null !== (e = this.currentDocument) && void 0 !== e ? e : {};
          return this.needPublish && "" !== t;
        }
        watchTabActive(e) {
          e
            ? this.showDialog || this.handleShowDialog()
            : ((this.showDialog = !1),
              (this.subscribeActive = yi.all),
              (this.activedTab = _i.manage));
        }
        onSubscribeDialogOpen() {
          this.$refs.subscribeDialog.opanDialog(), this.onClose();
        }
        get settingFlag() {
          let e = !1;
          for (const t of this.teams || [])
            if (t.id === this.teamId) {
              e = t.roleName === We["l"].Owner || t.roleName === We["l"].Admin;
              break;
            }
          return e && !this.disableTeamlibPublish && this.messageFlag;
        }
        goTeamLibrarySetup() {
          const { host: e, protocol: t } = window.location,
            i = `${t}//${e}/files/team/${this.teamId}?tab=setup`;
          Object(Z["qb"])(i, void 0, !1);
        }
        goUserSetup() {
          const { host: e, protocol: t } = window.location,
            i = `${t}//${e}/files/account?tab=preset`;
          this.setPresetSensor("go_setting"), Object(Z["qb"])(i, void 0, !1);
        }
        closeMessage() {
          (this.messageFlag = !1),
            Object(Z["Db"])("dialog-subscribe-message", "notshow");
        }
        closePresetMessage() {
          (this.presetMessageFlag = !1),
            Object(Z["Db"])("dialog-preset-subscribe-message", "notshow"),
            this.setPresetSensor("close");
        }
        setPresetSensor(e) {
          d["a"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter1: "component",
            action_parameter2: "manage",
            action_detail: e,
          });
        }
        unPublishAlert() {
          (this.removeShow = !0), this.onClose();
        }
        onClose() {
          this.$emit("update:openDialog", !1);
        }
        unPublishHandler() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            try {
              yield Object(ie["Cd"])(this.fileId),
                yield this.getPublishedData(this.fileId),
                k["a"].updateMasterData(),
                (this.removeShow = !1);
            } catch (e) {}
          });
        }
        handleShowDialog() {
          (this.showDialog = !0),
            this.$nextTick(() => {
              const e = this.$refs.dialog;
              (e.style.top = "102px"),
                (e.style.left = "50%"),
                this.$set(
                  this.domOffset,
                  "x",
                  Math.round(document.body.offsetWidth / 2 - 130)
                ),
                this.$set(this.domOffset, "y", 102);
            });
        }
        dragStartHandler(e) {
          const t = this.$refs.dialog;
          this.$set(this.dragOffsetData, "x", e.clientX - t.offsetLeft),
            this.$set(this.dragOffsetData, "y", e.clientY - t.offsetTop),
            document.addEventListener("mousemove", this.dragHandler),
            document.addEventListener("mouseup", this.dragEndHandler);
        }
        dragHandler(e) {
          e.stopPropagation();
          const t = this.$refs.dialog;
          (t.style.left =
            Object(c["clamp"])(
              e.clientX - this.dragOffsetData.x,
              180,
              document.body.offsetWidth - 180
            ) + "px"),
            (t.style.top =
              Object(c["clamp"])(
                e.clientY - this.dragOffsetData.y,
                0,
                document.body.offsetHeight - 600
              ) + "px");
        }
        dragEndHandler() {
          const e = this.$refs.dialog;
          document.removeEventListener("mousemove", this.dragHandler),
            document.removeEventListener("mouseup", this.dragEndHandler),
            this.$set(this.domOffset, "x", e.offsetLeft - 180),
            this.$set(this.domOffset, "y", e.offsetTop);
        }
        switchTeamLib() {
          this.openDialog
            ? this.activedTab === _i.update
              ? (this.activedTab = _i.manage)
              : this.$emit("update:openDialog", !1)
            : this.$emit("update:openDialog", !0);
        }
        mounted() {
          document.body.appendChild(this.$el);
          const e = Object(Z["J"])("dialog-subscribe-message"),
            t = Object(Z["J"])("dialog-preset-subscribe-message");
          (this.messageFlag = "notshow" !== e),
            (this.presetMessageFlag = "notshow" !== t),
            this.inline ||
              this.$eventBus.$on("switchTeamLib", this.switchTeamLib);
        }
        beforeDestroy() {
          document.body.removeChild(this.$el),
            this.inline ||
              this.$eventBus.$off("switchTeamLib", this.switchTeamLib);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            required: !0,
          }),
        ],
        ki.prototype,
        "openDialog",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !1,
            }),
          ],
          ki.prototype,
          "inline",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("openDialog", {
              immediate: !0,
            }),
          ],
          ki.prototype,
          "watchTabActive",
          null
        ),
        (ki = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                SubscribeList: Oi,
                UpdateBox: Bt,
                PresetList: Xt,
                SubscribeDialog: gi,
                MasterDialog: b["a"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      fileId: (e) => e.app.currentDocument.id,
                      currentDocument: (e) => e.app.currentDocument,
                      teamId: (e) => e.file.teamId,
                      teams: (e) => e.main.userInfo.teams,
                      organization: (e) => e.app.currentDocument.organization,
                    })
                  ),
                  Object(r["c"])(["disableTeamlibPublish"])
                ),
                Object(r["c"])("teamLibrary", [
                  "needPublish",
                  "needUpdate",
                  "isPublishOrganization",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("teamLibrary", ["getPublishedData"])
              ),
            }),
          ],
          ki
        ));
      var wi = ki,
        xi = wi,
        Li =
          (i("de7f"), Object(_["a"])(xi, Ot, kt, !1, null, "f531e47c", null)),
        Ai = Li.exports,
        Ti = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "tab_bar border-b-block",
            },
            [
              i(
                "div",
                {
                  staticClass: "align",
                  attrs: {
                    name: "align",
                  },
                },
                [
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignLeftTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignLeftTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignLeftTopBar'].label}<span>${hotkeyDictionary['alignLeftTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignLeftIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "Left");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignHorizontalCenterTopBar"]
                              .label +
                            "<span>" +
                            e.hotkeyDictionary["alignHorizontalCenterTopBar"]
                              .char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignHorizontalCenterTopBar'].label}<span>${hotkeyDictionary['alignHorizontalCenterTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignCenterHIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "HorizontalCenter");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignRightTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignRightTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignRightTopBar'].label}<span>${hotkeyDictionary['alignRightTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignRightIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "Right");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignTopTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignTopTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignTopTopBar'].label}<span>${hotkeyDictionary['alignTopTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignTopIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "Top");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignVerticalCenterTopBar"]
                              .label +
                            "<span>" +
                            e.hotkeyDictionary["alignVerticalCenterTopBar"]
                              .char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignVerticalCenterTopBar'].label}<span>${hotkeyDictionary['alignVerticalCenterTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignCenterVIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "VerticalCenter");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignBottomTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignBottomTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignBottomTopBar'].label}<span>${hotkeyDictionary['alignBottomTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "AlignBottomIcon",
                      disabled: e.alignDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "Bottom");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignVerticalTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignVerticalTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignVerticalTopBar'].label}<span>${hotkeyDictionary['alignVerticalTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "DistributeSpacingHIcon",
                      disabled: e.distributeDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "VerticalSpacing");
                      },
                    },
                  }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: {
                          content:
                            e.hotkeyDictionary["alignHorizontalTopBar"].label +
                            "<span>" +
                            e.hotkeyDictionary["alignHorizontalTopBar"].char +
                            "</span>",
                        },
                        expression:
                          "{\n        content: `${hotkeyDictionary['alignHorizontalTopBar'].label}<span>${hotkeyDictionary['alignHorizontalTopBar'].char}</span>`,\n      }",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    attrs: {
                      icon: "DistributeSpacingVIcon",
                      disabled: e.distributeDisabled,
                    },
                    on: {
                      click: function (t) {
                        return e.alignItem("Align", "HorizontalSpacing");
                      },
                    },
                  }),
                ],
                1
              ),
            ]
          );
        },
        ji = [],
        Mi = i("b29f");
      let Ei = class extends n["g"] {
        constructor() {
          super(...arguments), (this.isMac = Object(Z["hb"])());
        }
        get alignDisabled() {
          return (
            !(1 & this.type) ||
            this.modestate === se["r"].GeometricScale ||
            (this.selectItem.isAllInAL && !this.isAbsolute) ||
            this.selectItem.isPartOfInstance ||
            this.selectItem.parentIsConnector ||
            this.selectItem.type === se["o"].Connector
          );
        }
        get isAbsolute() {
          return (
            null !== this.selectItem.layoutPositioning &&
            this.selectItem.layoutPositioning === se["p"].Absolute
          );
        }
        get distributeDisabled() {
          return (
            !(2 & this.type) ||
            this.modestate === se["r"].GeometricScale ||
            this.selectItem.isAllInAL ||
            this.selectItem.parentIsConnector ||
            this.selectItem.type === se["o"].Connector
          );
        }
        alignItem(e, t) {
          k["a"].alignSelection(this.$variable.ALIGN_LIST["" + t]);
        }
      };
      Ei = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterButtonIcon: Mi["a"],
            },
            computed: Object(r["e"])({
              type: (e) => {
                if (e.basicState.state === se["r"].PenEdit) return 3;
                const t = Object(j["d"])(),
                  i = e.basicState.selectIds;
                if (1 !== i.length) return 3;
                const s = t[i[0]];
                if (!s) return 0;
                let o = 0;
                return (
                  (null === s || void 0 === s ? void 0 : s.type) ===
                    se["o"].Group && (o |= 2),
                  (null === s || void 0 === s ? void 0 : s.parent) && (o |= 1),
                  o
                );
              },
              modestate: (e) => e.basicState.state,
              selectItem: (e) => e.basicProps.item,
              hotkeyDictionary: (e) => e.dictionary.HOTKEY_DICTIONARY,
            }),
          }),
        ],
        Ei
      );
      var Pi = Ei,
        Di = Pi,
        Bi = Object(_["a"])(Di, Ti, ji, !1, null, null, null),
        Ni = Bi.exports,
        Fi = function () {
          var e = this,
            t = e.$createElement;
          e._self._c;
          return e._m(0);
        },
        Ri = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "tab_bar border-b-block",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "tab flex-between",
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "tab_container",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "tab_item active h6",
                          },
                          [e._v(" 页面 ")]
                        ),
                      ]
                    ),
                  ]
                ),
              ]
            );
          },
        ];
      let Hi = class extends n["g"] {};
      Hi = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {},
          }),
        ],
        Hi
      );
      var $i = Hi,
        Vi = $i,
        zi = Object(_["a"])(Vi, Fi, Ri, !1, null, null, null),
        Ui = zi.exports,
        qi = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass: "panel-wrap",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "file_cover",
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "file_cover__img",
                      },
                      [
                        i("img", {
                          staticStyle: {
                            "object-position": "center",
                            "object-fit": "cover",
                          },
                          attrs: {
                            src: e.coverSrc,
                            width: "108",
                            height: "60",
                          },
                        }),
                      ]
                    ),
                    i(
                      "div",
                      {
                        staticClass: "file_cover__info",
                      },
                      [
                        e.document.containerId
                          ? i(
                              "div",
                              {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip",
                                    value: {
                                      content:
                                        "<div style='max-width: 146px;'>" +
                                        this.coverFrameName +
                                        "</div>",
                                    },
                                    expression:
                                      "{\n            content: `<div style='max-width: 146px;'>${this.coverFrameName}</div>`,\n          }",
                                  },
                                ],
                                ref: "coverFrameTitle",
                                staticClass: "file_cover__info__frame_title",
                              },
                              [e._v(" " + e._s(e.coverFrameName) + " ")]
                            )
                          : i(
                              "div",
                              {
                                staticClass: "file_cover__info__title",
                              },
                              [e._v("默认封面")]
                            ),
                        i(
                          "div",
                          {
                            staticClass: "file_cover__info__tip",
                          },
                          [
                            e._v(" 如何设置封面 "),
                            i("InfoColorIcon", {
                              directives: [
                                {
                                  name: "tip",
                                  rawName: "v-tip",
                                  value: {
                                    content:
                                      "<div style='width: 146px; line-height: 20px;margin: 10px 0;'>选中容器后右键即可设置建议比例为 16:9 (默认容器尺寸 / iMac)</div>",
                                    placement: "bottom-end",
                                    offsetX: "8px",
                                  },
                                  expression:
                                    "{\n              content: `<div style='width: 146px; line-height: 20px;margin: 10px 0;'>选中容器后右键即可设置建议比例为 16:9 (默认容器尺寸 / iMac)</div>`,\n              placement: 'bottom-end',\n              offsetX: '8px',\n            }",
                                },
                              ],
                              staticClass: "file_cover__info__tip__icon",
                              attrs: {
                                size: "14",
                              },
                            }),
                          ],
                          1
                        ),
                      ]
                    ),
                  ]
                ),
              ]
            ),
            i(
              "div",
              {
                staticClass: "panel-wrap",
              },
              [
                i(
                  "TodoList",
                  {
                    attrs: {
                      list: e.bkcolor,
                      maxSize: 1,
                      type: "bkcolor",
                      disabledSort: "",
                    },
                    on: {
                      add: function (t) {
                        return e.setBackgroundMode(0);
                      },
                      del: function (t) {
                        return e.setBackgroundMode(1);
                      },
                    },
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "panel_title",
                        attrs: {
                          slot: "header",
                        },
                        slot: "header",
                      },
                      [i("span", [e._v("画布背景色")])]
                    ),
                    [
                      i("ColorItem", {
                        attrs: {
                          data: {
                            color: e.pagebkcolor,
                            type: 0,
                            isVisible: e.pagebkvisible,
                          },
                          title: "画布背景色",
                          actionType: "canvas",
                        },
                        on: {
                          change: e.bkchange,
                        },
                      }),
                    ],
                  ],
                  2
                ),
              ],
              1
            ),
            i(
              "div",
              {
                staticClass: "panel-wrap",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "default__props--item",
                  },
                  [
                    i("div", [e._v("标签")]),
                    i("MSelector", {
                      staticClass: "label_select",
                      attrs: {
                        value: e.currentPage.label + "",
                        color: e.LABEL_LIST[e.currentPage.label || 0].color,
                        options: e.LABEL_LIST,
                      },
                      on: {
                        change: e.changeHandler,
                      },
                    }),
                    i("MasterButtonIcon", {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "恢复为无标签状态",
                          expression: "'恢复为无标签状态'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      attrs: {
                        icon: "ReturnIcon",
                        focusable: "",
                      },
                      nativeOn: {
                        click: function (t) {
                          return e.resetPageLabel(t);
                        },
                      },
                    }),
                  ],
                  1
                ),
              ]
            ),
            i(
              "div",
              {
                staticClass: "panel-wrap",
              },
              [
                i("ExportItem", {
                  ref: "export",
                  attrs: {
                    name: e.currentPage.name,
                    fullCanvas: 0 === e.selectIds.length,
                  },
                }),
              ],
              1
            ),
          ]);
        },
        Wi = [],
        Gi = i("d9d9"),
        Ki = i("3759"),
        Qi = i("f92b"),
        Yi = i("7d9b"),
        Xi = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right-export",
            },
            [
              i(
                "TodoList",
                {
                  attrs: {
                    type: "export",
                    list: e.exportList,
                    disabledDelete: !0,
                    headToursName: "export",
                  },
                  on: {
                    add: e.addItem,
                    del: e.delItem,
                    resort: e.resortExport,
                    select: e.handleSelect,
                    change: function (t) {
                      return e.changHandler("export", t);
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "default",
                      fn: function (t) {
                        return [
                          i("ExportItem", {
                            attrs: {
                              data: t.data,
                            },
                            on: {
                              change: function (i) {
                                return e.editItem(i, t.data.index);
                              },
                            },
                          }),
                        ];
                      },
                    },
                  ]),
                },
                [
                  i(
                    "template",
                    {
                      slot: "header",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "panel_title",
                        },
                        [i("span", [e._v("导出")])]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "todolist__header--aside",
                        },
                        [
                          i(
                            "master-dropdown",
                            {
                              attrs: {
                                placement: "bottom-end",
                                offset: 0,
                              },
                              on: {
                                command: e.presetClick,
                              },
                              nativeOn: {
                                click: function (e) {
                                  e.stopPropagation();
                                },
                              },
                            },
                            [
                              i("MasterButtonIcon", {
                                attrs: {
                                  slot: "dropButton",
                                  icon: "SlidersHIcon",
                                },
                                slot: "dropButton",
                              }),
                              i("master-menu", {
                                attrs: {
                                  slot: "dropMenu",
                                  list: e.exportSettingList,
                                },
                                slot: "dropMenu",
                              }),
                            ],
                            1
                          ),
                        ],
                        1
                      ),
                      e.exportList.length > 0
                        ? i(
                            "div",
                            {
                              staticClass: "todolist__header--aside",
                            },
                            [
                              i("MasterButtonIcon", {
                                attrs: {
                                  icon: "MinusIcon",
                                  focusable: "",
                                },
                                on: {
                                  click: e.delItem,
                                },
                              }),
                            ],
                            1
                          )
                        : e._e(),
                    ]
                  ),
                ],
                2
              ),
              e.exportList.length
                ? i(
                    "div",
                    {
                      staticClass: "right-export-bar",
                    },
                    [
                      i(
                        "MButton",
                        {
                          staticClass: "export-button",
                          attrs: {
                            type: "gray",
                            size: "xs",
                            tabindex: "0",
                            asyncClick: e.exportClick,
                          },
                          nativeOn: {
                            mouseup: function (e) {
                              e.stopPropagation();
                            },
                          },
                        },
                        [
                          e.selectIds.length > 1
                            ? [
                                e._v(
                                  " 导出 " + e._s(e.exportCount) + " 个图层 "
                                ),
                              ]
                            : [e._v(" 导出 " + e._s(e.lableName) + " ")],
                        ],
                        2
                      ),
                      (1 === e.exportCount && 1 === e.selectIds.length) ||
                      e.fullCanvas
                        ? i(
                            "div",
                            {
                              staticClass: "preview",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "resource-title p6 text-tran-50",
                                  on: {
                                    click: e.previewClickHandler,
                                  },
                                },
                                [
                                  i("CaretDownIcon", {
                                    attrs: {
                                      size: "14",
                                      rotate: e.showPreview ? "0" : "-90",
                                    },
                                  }),
                                  i("span", [e._v("预览")]),
                                ],
                                1
                              ),
                              e.showPreview
                                ? i("ExportPreview", {
                                    attrs: {
                                      exportPreviewIMG: e.exportPreviewIMG,
                                    },
                                    on: {
                                      dragStartHandler: e.dragStartHandler,
                                      dragEndHandler: e.dragEndHandler,
                                    },
                                  })
                                : e._e(),
                            ],
                            1
                          )
                        : e._e(),
                    ],
                    1
                  )
                : e._e(),
            ],
            1
          );
        },
        Zi = [],
        Ji = i("80e7"),
        es = Ji["a"],
        ts =
          (i("5d97"), Object(_["a"])(es, Xi, Zi, !1, null, "2eb32ea2", null)),
        is = ts.exports,
        ss = i("e22a");
      let os = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.LABEL_LIST = Pe["e"].dictionaries.LABEL_LIST()),
            (this.defaultBgcolor = {
              dark: Object(Gi["c"])(4281084972),
              light: Object(Gi["e"])("ffefefef"),
            }),
            (this.coverFrameName = "");
        }
        get coverSrc() {
          var e;
          return (
            null === (e = this.document) || void 0 === e ? void 0 : e.cover
          )
            ? Object(Tt["A"])(this.document.cover)
            : i("d309");
        }
        containerIdHandler(e) {
          e
            ? O["a"].nextFrame(() => {
                var t;
                const i = Qi["a"].getNodeById(e);
                this.coverFrameName =
                  null !== (t = null === i || void 0 === i ? void 0 : i.name) &&
                  void 0 !== t
                    ? t
                    : "默认缩略图";
              })
            : (this.coverFrameName = "默认缩略图");
        }
        changeHandler(e) {
          this.disableUpdateLayer ||
            k["a"].pages.setPageLabel(this.currentPage.id, +e);
        }
        bkchange(e) {
          "undefined" !== typeof e.color &&
            (k["a"].pageState.setBackgroundColor(e.color),
            "debounce" === e.manualType && Ki["a"].setTag("pagebkcolor")),
            "undefined" !== typeof e.isVisible &&
              k["a"].pageState.setBackgroundVisible(e.isVisible);
        }
        get bkcolor() {
          return 0 === this.canvasColorMode ? [1] : [];
        }
        setBackgroundMode(e) {
          k["a"].pageState.setBackgroundMode(e), 0 === e && this.setBkColor();
        }
        setBkColor() {
          const e = this.$store.state.main.isDark;
          e &&
          JSON.stringify(this.pagebkcolor) !==
            JSON.stringify(this.defaultBgcolor.dark)
            ? k["a"].pageState.setBackgroundColor(this.defaultBgcolor.dark)
            : e ||
              JSON.stringify(this.pagebkcolor) ===
                JSON.stringify(this.defaultBgcolor.light) ||
              k["a"].pageState.setBackgroundColor(this.defaultBgcolor.light);
        }
        resetPageLabel() {
          this.changeHandler("0");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("document.containerId", {
            immediate: !0,
          }),
        ],
        os.prototype,
        "containerIdHandler",
        null
      ),
        (os = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ColorItem: Yi["a"],
                MasterSelector: Pe["e"],
                ExportItem: is,
                MSelector: Pe["b"],
                TodoList: ss["a"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      pagebkcolor: (e) =>
                        Object(Gi["c"])(e.basicState.pagebkcolor),
                      pagebkvisible: (e) => e.basicState.pagebkvisible,
                      document: (e) => e.app.currentDocument,
                      currentPageId: (e) => e.basicState.currentPageId,
                      selectIds: (e) => e.basicState.selectIds,
                      canvasColorMode: (e) => e.basicState.canvasColorMode,
                    })
                  ),
                  Object(r["c"])(["disableUpdateLayer"])
                ),
                Object(r["c"])("pages", ["currentPage"])
              ),
              methods: Object.assign({}, Object(r["b"])(["setPageItem"])),
            }),
          ],
          os
        ));
      var as = os,
        ns = as,
        rs = (i("dd94"), Object(_["a"])(ns, qi, Wi, !1, null, null, null)),
        cs = rs.exports,
        ls = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            [
              i(
                "div",
                {
                  staticClass: "right__container--layout panel-wrap",
                },
                [
                  e.geometricScale
                    ? e._e()
                    : [
                        9 !== e.selectItem.type ||
                        (void 0 !== e.selectItem.booleanOperation &&
                          0 !== e.selectItem.booleanOperation)
                          ? e._e()
                          : i(
                              "div",
                              {
                                staticClass: "multi-item-wrap",
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "type_top",
                                  },
                                  [
                                    i("MasterFilter", {
                                      attrs: {
                                        list: e.$variable.GROUP_FRAME,
                                        current:
                                          null === e.selectItem.isFrame
                                            ? 0
                                            : e.selectItem.isFrame
                                            ? 2
                                            : 1,
                                        disabled: !e.enableSwitchFrame,
                                      },
                                      on: {
                                        changeVal: e.changeGroupType,
                                      },
                                    }),
                                    e.selectItem.isFrame &&
                                    !e.disabledFrameAdapt
                                      ? i("MasterButtonIcon", {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content:
                                                  "适应内容大小<span>" +
                                                  (e.isMac ? "⌥ R" : "Alt R") +
                                                  "</span>",
                                              },
                                              expression:
                                                "{\n              content: `适应内容大小<span>${isMac ? '⌥ R' : 'Alt R'}</span>`,\n            }",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          attrs: {
                                            icon: "CompressArrowsAltIcon",
                                            focusable: "",
                                          },
                                          on: {
                                            click: function (t) {
                                              return e.adaptFrame(
                                                !e.selectItem.frameAdapt
                                              );
                                            },
                                          },
                                        })
                                      : e._e(),
                                  ],
                                  1
                                ),
                                e.selectItem.isFrame
                                  ? i(
                                      "div",
                                      {
                                        staticClass: "size_list",
                                      },
                                      [
                                        i("MSelector", {
                                          attrs: {
                                            options: e.frameList,
                                            value: e.currentFrame,
                                            placeholder: "自定义",
                                            optionClass: "basic__frame--option",
                                            placeholderDisable: !1,
                                            offset: -20,
                                          },
                                          on: {
                                            change: function (t) {
                                              e.setWidthAndHeight(
                                                Number(e.frameList[+t].width),
                                                Number(e.frameList[+t].height)
                                              );
                                            },
                                          },
                                        }),
                                        i("MasterButtonSwitch", {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: "裁剪超出内容",
                                              expression: "'裁剪超出内容'",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          attrs: {
                                            checkVal: e.selectItem.frameClip,
                                            icon: "crop",
                                            focusable: "",
                                          },
                                          on: {
                                            click: function (t) {
                                              return e.clipFrame(
                                                !e.selectItem.frameClip
                                              );
                                            },
                                          },
                                        }),
                                      ],
                                      1
                                    )
                                  : e._e(),
                              ]
                            ),
                        i(
                          "div",
                          {
                            staticClass: "basic__props--item position",
                            attrs: {
                              name: "weight",
                            },
                          },
                          [
                            "undefined" !== typeof e.selectItem.bound.x
                              ? i("master-input", {
                                  attrs: {
                                    disabled: e.disabledBoundX,
                                    showDataIcon: !0,
                                    value: e.selectItem.bound.x,
                                    validate: e.validate.checkPosition,
                                    valueDecorator:
                                      e.valueDecorator.numDecorator,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === e.selectItem.bound.x
                                        ? "多个值"
                                        : "",
                                  },
                                  on: {
                                    iconMousedown: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMousedown.apply(
                                        void 0,
                                        s.concat(["x"])
                                      );
                                    },
                                    iconMouseup: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMouseup.apply(
                                        void 0,
                                        s.concat(["x"])
                                      );
                                    },
                                    change: function (t) {
                                      return e.setField("x", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              attrs: {
                                                masterIconName: "LabelXIcon",
                                                disabled: e.disabledBoundX,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.multiHandler("x", t);
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    117587118
                                  ),
                                })
                              : e._e(),
                            "undefined" !== typeof e.selectItem.bound.y
                              ? i("master-input", {
                                  attrs: {
                                    disabled: e.disabledBoundY,
                                    value: e.selectItem.bound.y,
                                    showDataIcon: !0,
                                    validate: e.validate.checkPosition,
                                    valueDecorator:
                                      e.valueDecorator.numDecorator,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === e.selectItem.bound.y
                                        ? "多个值"
                                        : "",
                                  },
                                  on: {
                                    iconMousedown: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMousedown.apply(
                                        void 0,
                                        s.concat(["y"])
                                      );
                                    },
                                    iconMouseup: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMouseup.apply(
                                        void 0,
                                        s.concat(["y"])
                                      );
                                    },
                                    change: function (t) {
                                      return e.setField("y", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              attrs: {
                                                masterIconName: "LabelYIcon",
                                                disabled: e.disabledBoundY,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.multiHandler("y", t);
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    2306494127
                                  ),
                                })
                              : e._e(),
                            e.isInAutoLayoutLayer
                              ? i("MasterButtonSwitch", {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: "绝对定位",
                                      expression: "'绝对定位'",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  attrs: {
                                    disabled: e.absoluteDisabled,
                                    checkVal: e.isAbsolute,
                                    icon: "AbsoluteIcon",
                                    focusable: "",
                                  },
                                  on: {
                                    click: e.changeAbsolute,
                                  },
                                })
                              : e._e(),
                          ],
                          1
                        ),
                      ],
                  i(
                    "div",
                    {
                      staticClass: "basic__props--item wh",
                      attrs: {
                        name: "weight",
                      },
                    },
                    [
                      void 0 !== e.selectItem.bound.width
                        ? i("master-input", {
                            attrs: {
                              disabled: e.widthDisabled,
                              value: e.selectWidthValue,
                              showDataIcon: !0,
                              validate: e.validate.checkWH,
                              valueDecorator: e.valueDecorator.numDecorator,
                              focusSelectAll: !0,
                              placeholder: e.selectWidthPlaceholder,
                            },
                            on: {
                              iconMousedown: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMousedown.apply(
                                  void 0,
                                  s.concat(["width"], [e.validate.checkWH])
                                );
                              },
                              iconMouseup: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMouseup.apply(
                                  void 0,
                                  s.concat(["width"])
                                );
                              },
                              change: function (t) {
                                return e.setField("width", t, e.anchorMode);
                              },
                              keydown: e.keydownHandler,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i("BasicLeftIcon", {
                                        attrs: {
                                          masterIconName: "LabelWIcon",
                                          disabled: e.widthDisabled,
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.multiHandler(
                                              "width",
                                              t,
                                              e.validate.checkWH
                                            );
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              1661430222
                            ),
                          })
                        : e._e(),
                      void 0 !== e.selectItem.bound.height
                        ? i("master-input", {
                            attrs: {
                              disabled: e.heightDisabled,
                              value: e.selectHeightValue,
                              showDataIcon: !0,
                              validate: e.validate.checkWH,
                              valueDecorator: e.valueDecorator.numDecorator,
                              focusSelectAll: !0,
                              placeholder: e.selectHeightPlaceholder,
                            },
                            on: {
                              iconMousedown: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMousedown.apply(
                                  void 0,
                                  s.concat(["height"], [e.validate.checkWH])
                                );
                              },
                              iconMouseup: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMouseup.apply(
                                  void 0,
                                  s.concat(["height"])
                                );
                              },
                              change: function (t) {
                                return e.setField("height", t, e.anchorMode);
                              },
                              keydown: e.keydownHandler,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i("BasicLeftIcon", {
                                        attrs: {
                                          masterIconName: "LabelHIcon",
                                          disabled: e.heightDisabled,
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.multiHandler(
                                              "height",
                                              t,
                                              e.validate.checkWH
                                            );
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              4227845905
                            ),
                          })
                        : e._e(),
                      e.geometricScale || (e.widthDisabled && e.heightDisabled)
                        ? e._e()
                        : i("MasterButtonSwitch", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: "锁定比例",
                                expression: "'锁定比例'",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              disabled: e.lockRatioDisabled,
                              checkVal: e.selectItem.isPreserveRatio,
                              icon: e.selectItem.isPreserveRatio
                                ? "lock-ratio-on"
                                : "lock-ratio-off",
                              focusable: "",
                            },
                            on: {
                              "update:checkVal": function (t) {
                                return e.setField("isPreserveRatio", t);
                              },
                            },
                          }),
                    ],
                    1
                  ),
                  e.showAdjust
                    ? i("Adjust", {
                        attrs: {
                          selectItem: e.selectItem,
                        },
                      })
                    : e._e(),
                  e.geometricScale
                    ? i(
                        "div",
                        {
                          staticClass: "basic__props--item wh",
                          attrs: {
                            name: "weight",
                          },
                        },
                        [
                          i("master-input", {
                            attrs: {
                              value: e.scale,
                              disabled: e.widthDisabled,
                              showDataIcon: !0,
                              validate: e.validate.checkScale,
                              valueDecorator:
                                e.valueDecorator.layerPacityDecorator,
                              focusSelectAll: !0,
                              placeholder: "比例",
                            },
                            on: {
                              iconMousedown: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMousedown.apply(
                                  void 0,
                                  s.concat(["scale"], [e.validate.checkScale])
                                );
                              },
                              iconMouseup: function (t) {
                                var i = arguments.length,
                                  s = Array(i);
                                while (i--) s[i] = arguments[i];
                                return e.iconMouseup.apply(
                                  void 0,
                                  s.concat(["scale"])
                                );
                              },
                              change: function (t) {
                                return e.setField("scale", t);
                              },
                              keydown: e.keydownHandler,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i("BasicLeftIcon", {
                                        directives: [
                                          {
                                            name: "tip",
                                            rawName: "v-tip.bottom",
                                            value: "比例",
                                            expression: "'比例'",
                                            modifiers: {
                                              bottom: !0,
                                            },
                                          },
                                        ],
                                        attrs: {
                                          masterIconName: "ExpandAltIcon",
                                          disabled:
                                            e.selectItem.isPartOfInstance ||
                                            !e.selectIds.length,
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.multiHandler(
                                              "scale",
                                              t,
                                              e.validate.checkScale
                                            );
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              2559728475
                            ),
                          }),
                        ],
                        1
                      )
                    : e._e(),
                  e.geometricScale
                    ? e._e()
                    : [
                        e.isShowGeometric
                          ? i(
                              "div",
                              {
                                staticClass: "basic__props--item radio",
                                attrs: {
                                  name: "weight",
                                },
                              },
                              [
                                i("master-input", {
                                  attrs: {
                                    value: e.selectItem.rotation,
                                    disabled:
                                      e.selectItem.isPartOfInstance ||
                                      e.hasConnectorText ||
                                      e.isExtendLayer,
                                    validate: e.validate.checkAngle,
                                    focusSelectAll: !0,
                                    valueDecorator:
                                      e.valueDecorator.angleDecorator,
                                    placeholder:
                                      null === e.selectItem.rotation
                                        ? "多个值"
                                        : "",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.setField("rotation", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: "角度",
                                                  expression: "'角度'",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              attrs: {
                                                masterIconName:
                                                  "LabelAngleIcon",
                                                disabled:
                                                  null ===
                                                    e.selectItem.rotation ||
                                                  e.selectItem
                                                    .isPartOfInstance ||
                                                  e.hasConnectorText ||
                                                  e.isExtendLayer,
                                              },
                                              on: {
                                                change: function (t) {
                                                  e.setField(
                                                    "rotation",
                                                    e.validate.checkAngle(
                                                      e.selectItem.rotation + t
                                                    )
                                                  );
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    1655234611
                                  ),
                                }),
                                e.selectItem.isAllSlice || e.lockRatioDisabled
                                  ? e._e()
                                  : i(
                                      "div",
                                      {
                                        staticClass: "rotate",
                                      },
                                      [
                                        i("MasterButtonFill", {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content:
                                                  "水平翻转<span>" +
                                                  (e.isMac
                                                    ? "⇧ H"
                                                    : "Shift H") +
                                                  "</span>",
                                              },
                                              expression:
                                                "{content: `水平翻转<span>${isMac ? '⇧ H' : 'Shift H'}</span>`}",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          attrs: {
                                            icon: "FlipHIcon",
                                            focusable: "",
                                          },
                                          on: {
                                            click: function (t) {
                                              return e.setFlip(!0);
                                            },
                                          },
                                        }),
                                        i("MasterButtonFill", {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content:
                                                  "垂直翻转<span>" +
                                                  (e.isMac
                                                    ? "⇧ V"
                                                    : "Shift V") +
                                                  "</span>",
                                              },
                                              expression:
                                                "{content: `垂直翻转<span>${isMac ? '⇧ V' : 'Shift V'}</span>`}",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          attrs: {
                                            icon: "FlipVIcon",
                                            focusable: "",
                                          },
                                          on: {
                                            click: function (t) {
                                              return e.setFlip(!1);
                                            },
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                              ],
                              1
                            )
                          : e._e(),
                        e.displayCornerRadius
                          ? i(
                              "div",
                              {
                                key: "radius",
                                staticClass: "basic__props--item radio_more",
                                attrs: {
                                  name: "weight",
                                },
                              },
                              [
                                i("RadiusItem", {
                                  attrs: {
                                    rectValue: e.selectItem.cornerRadius,
                                    cornerSmooth: e.selectItem.cornerSmooth,
                                    independentCorners: e.cornerRadiusVisible,
                                  },
                                  on: {
                                    "update:independentCorners": function (t) {
                                      e.cornerRadiusVisible = t;
                                    },
                                    "update:independent-corners": function (t) {
                                      e.cornerRadiusVisible = t;
                                    },
                                    change: function (t) {
                                      return e.setField(
                                        "cornerRadius",
                                        t.cornerRadius,
                                        t.index
                                      );
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                }),
                              ],
                              1
                            )
                          : e._e(),
                        e.arcDataVisible
                          ? i(
                              "div",
                              {
                                staticClass: "basic__props--item arc_data",
                                attrs: {
                                  name: "weight",
                                },
                              },
                              [
                                i("master-input", {
                                  attrs: {
                                    value: [
                                      e.selectItem.arcData.startingAngle,
                                      -1 === e.selectItem.arcData.sweep
                                        ? 1
                                        : e.selectItem.arcData.sweep,
                                      e.selectItem.arcData.innerRadius,
                                    ],
                                    validate: e.arcDataValidate,
                                    valueDecorator: e.arcDataDecorator,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === e.selectItem.numberOfPoints
                                        ? "多个值"
                                        : "",
                                    tips: ["起点", "弧度", "内径"],
                                  },
                                  on: {
                                    change: e.setArcData,
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              attrs: {
                                                masterIconName: "ArcIcon",
                                                disabledDrag: !0,
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    2617757818
                                  ),
                                }),
                              ],
                              1
                            )
                          : e._e(),
                        "undefined" !== typeof e.selectItem.ratio ||
                        "undefined" !== typeof e.selectItem.numberOfPoints
                          ? i(
                              "div",
                              {
                                staticClass: "basic__props--item expand",
                                attrs: {
                                  name: "weight",
                                },
                              },
                              [
                                "undefined" !==
                                typeof e.selectItem.numberOfPoints
                                  ? i("master-input", {
                                      attrs: {
                                        value: e.selectItem.numberOfPoints,
                                        validate: e.validate.checkEdge,
                                        valueDecorator:
                                          e.valueDecorator.numDecorator,
                                        focusSelectAll: !0,
                                        placeholder:
                                          null === e.selectItem.numberOfPoints
                                            ? "多个值"
                                            : "",
                                      },
                                      on: {
                                        change: function (t) {
                                          return e.setField(
                                            "numberOfPoints",
                                            t
                                          );
                                        },
                                        keydown: e.keydownHandler,
                                      },
                                      scopedSlots: e._u(
                                        [
                                          {
                                            key: "header",
                                            fn: function () {
                                              return [
                                                i("BasicLeftIcon", {
                                                  directives: [
                                                    {
                                                      name: "tip",
                                                      rawName: "v-tip.bottom",
                                                      value: "角数",
                                                      expression: "'角数'",
                                                      modifiers: {
                                                        bottom: !0,
                                                      },
                                                    },
                                                  ],
                                                  attrs: {
                                                    masterIconName:
                                                      "LabelCornersIcon",
                                                    disabled:
                                                      null ===
                                                      e.selectItem
                                                        .numberOfPoints,
                                                  },
                                                  on: {
                                                    change: function (t) {
                                                      e.setField(
                                                        "numberOfPoints",
                                                        e.validate.checkEdge(
                                                          e.selectItem
                                                            .numberOfPoints + t
                                                        )
                                                      );
                                                    },
                                                  },
                                                }),
                                              ];
                                            },
                                            proxy: !0,
                                          },
                                        ],
                                        null,
                                        !1,
                                        3310322688
                                      ),
                                    })
                                  : e._e(),
                                "undefined" !== typeof e.selectItem.ratio
                                  ? i("master-input", {
                                      attrs: {
                                        value: e.selectItem.ratio,
                                        validate: e.validate.ratioValidate,
                                        valueDecorator:
                                          e.valueDecorator.ratioDecorator,
                                        focusSelectAll: !0,
                                        placeholder:
                                          null === e.selectItem.ratio
                                            ? "多个值"
                                            : "",
                                      },
                                      on: {
                                        change: function (t) {
                                          return e.setField("ratio", t);
                                        },
                                        keydown: e.keydownHandler,
                                      },
                                      scopedSlots: e._u(
                                        [
                                          {
                                            key: "header",
                                            fn: function () {
                                              return [
                                                i("BasicLeftIcon", {
                                                  directives: [
                                                    {
                                                      name: "tip",
                                                      rawName: "v-tip.bottom",
                                                      value: "内角",
                                                      expression: "'内角'",
                                                      modifiers: {
                                                        bottom: !0,
                                                      },
                                                    },
                                                  ],
                                                  attrs: {
                                                    masterIconName:
                                                      "LabelInsideProportionIcon",
                                                    disabled:
                                                      null ===
                                                      e.selectItem.ratio,
                                                  },
                                                  on: {
                                                    change: function (t) {
                                                      e.setField(
                                                        "ratio",
                                                        e.validate.ratioValidate(
                                                          100 *
                                                            e.selectItem.ratio +
                                                            t / 10
                                                        )
                                                      );
                                                    },
                                                  },
                                                }),
                                              ];
                                            },
                                            proxy: !0,
                                          },
                                        ],
                                        null,
                                        !1,
                                        56712695
                                      ),
                                    })
                                  : e._e(),
                              ],
                              1
                            )
                          : e._e(),
                        "undefined" !== typeof e.selectItem.horizontalSpacing &&
                        "undefined" !== typeof e.selectItem.verticalSpacing &&
                        e.selectIds &&
                        e.selectIds.length >= 2 &&
                        e.selectIds.length <= 100
                          ? i(
                              "div",
                              {
                                staticClass: "basic__props--item wh",
                                attrs: {
                                  name: "weight",
                                },
                              },
                              [
                                i("master-input", {
                                  attrs: {
                                    value: e.selectItem.horizontalSpacing,
                                    showDataIcon: !0,
                                    validate:
                                      e.validate
                                        .checkHorizontalOrVerticalSpacing,
                                    valueDecorator:
                                      e.valueDecorator.numDecorator,
                                    focusSelectAll: !0,
                                    disabled:
                                      !e.selectItem.horizontalFlag ||
                                      e.selectItem.isAllInAL,
                                    hideOnDisabled: !0,
                                  },
                                  on: {
                                    iconMousedown: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMousedown.apply(
                                        void 0,
                                        s.concat(
                                          ["horizontalSpacing"],
                                          [
                                            e.validate
                                              .checkHorizontalOrVerticalSpacing,
                                          ],
                                          [e.selectItem.horizontalSpacing]
                                        )
                                      );
                                    },
                                    iconMouseup: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMouseup.apply(
                                        void 0,
                                        s.concat(["horizontalSpacing"])
                                      );
                                    },
                                    change: function (t) {
                                      return e.setField("horizontalSpacing", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: "间距",
                                                  expression: "'间距'",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              attrs: {
                                                masterIconName: "SpaceHIcon",
                                                disabled:
                                                  !e.selectItem
                                                    .horizontalFlag ||
                                                  e.selectItem.isAllInAL,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.multiHandler(
                                                    "horizontalSpacing",
                                                    t,
                                                    e.validate
                                                      .checkHorizontalOrVerticalSpacing
                                                  );
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    1655292254
                                  ),
                                }),
                                i("master-input", {
                                  attrs: {
                                    value: e.selectItem.verticalSpacing,
                                    showDataIcon: !0,
                                    validate:
                                      e.validate
                                        .checkHorizontalOrVerticalSpacing,
                                    valueDecorator:
                                      e.valueDecorator.numDecorator,
                                    focusSelectAll: !0,
                                    disabled:
                                      !e.selectItem.verticalFlag ||
                                      e.selectItem.isAllInAL,
                                    hideOnDisabled: !0,
                                  },
                                  on: {
                                    iconMousedown: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMousedown.apply(
                                        void 0,
                                        s.concat(
                                          ["verticalSpacing"],
                                          [
                                            e.validate
                                              .checkHorizontalOrVerticalSpacing,
                                          ],
                                          [e.selectItem.verticalSpacing]
                                        )
                                      );
                                    },
                                    iconMouseup: function (t) {
                                      var i = arguments.length,
                                        s = Array(i);
                                      while (i--) s[i] = arguments[i];
                                      return e.iconMouseup.apply(
                                        void 0,
                                        s.concat(["verticalSpacing"])
                                      );
                                    },
                                    change: function (t) {
                                      return e.setField("verticalSpacing", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("BasicLeftIcon", {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: "间距",
                                                  expression: "'间距'",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              attrs: {
                                                masterIconName: "SpaceVIcon",
                                                disabled:
                                                  !e.selectItem.verticalFlag ||
                                                  e.selectItem.isAllInAL,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.multiHandler(
                                                    "verticalSpacing",
                                                    t,
                                                    e.validate
                                                      .checkHorizontalOrVerticalSpacing
                                                  );
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    3774628320
                                  ),
                                }),
                                i("MasterButtonIcon", {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: "整理",
                                      expression: "'整理'",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  attrs: {
                                    icon: "TidyIcon",
                                    disabled: !e.selectItem.autolayoutFlag,
                                  },
                                  on: {
                                    click: e.autoLayout,
                                  },
                                }),
                              ],
                              1
                            )
                          : e._e(),
                      ],
                ],
                2
              ),
              e.geometricScale
                ? e._e()
                : [
                    e.partOfComponent
                      ? i(
                          "div",
                          {
                            staticClass: "right__container--layout panel-wrap",
                          },
                          [
                            i(
                              "span",
                              {
                                staticClass: "panel_title",
                              },
                              [e._v("父组件")]
                            ),
                            i("div", {}, [
                              i(
                                "div",
                                {
                                  staticClass: "component-parent__box",
                                },
                                [
                                  i("MasterButtonIcon", {
                                    attrs: {
                                      icon: e.partOfComponent.isComponentSet
                                        ? "ComponentSetIcon"
                                        : "ComponentIcon",
                                      disableHover: "",
                                    },
                                  }),
                                  i(
                                    "span",
                                    {
                                      staticClass: "truncate",
                                    },
                                    [e._v(e._s(e.partOfComponent.name))]
                                  ),
                                  i("MasterButtonIcon", {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.bottom",
                                        value: "跳转到父组件",
                                        expression: "'跳转到父组件'",
                                        modifiers: {
                                          bottom: !0,
                                        },
                                      },
                                    ],
                                    attrs: {
                                      icon: "GoToParentIcon",
                                    },
                                    on: {
                                      click: function (t) {
                                        return e.gotoComponent(
                                          e.partOfComponent
                                        );
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]),
                          ]
                        )
                      : e._e(),
                    (!e.selectItem.isComponent &&
                      !e.selectItem.isComponentSet) ||
                    1 !== e.selectIds.length ||
                    e.isPartOfComponentSet
                      ? e._e()
                      : i(
                          "div",
                          {
                            staticClass: "right__container--layout panel-wrap",
                          },
                          [
                            i("ComponentItem", {
                              attrs: {
                                compoentId: e.selectItem.layerId,
                                isSet: e.selectItem.isComponentSet,
                              },
                            }),
                          ],
                          1
                        ),
                    null !== e.selectItem.isInstance &&
                    (e.selectItem.isPartOfInstance || e.selectItem.isInstance)
                      ? i(
                          "div",
                          {
                            staticClass: "right__container--layout panel-wrap",
                          },
                          [
                            i("InstanceItem", {
                              attrs: {
                                variantData: e.variantProperties,
                                fullData: e.componentStatus,
                                componentAssignments: e.componentAssignments,
                              },
                              on: {
                                variantChange: e.handleVariantChange,
                              },
                            }),
                            e.variantConflict
                              ? i(
                                  "div",
                                  {
                                    staticClass: "alart-box",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass:
                                          "alart-icon alart-opacity-group",
                                      },
                                      [
                                        i("WarningIcon", {
                                          attrs: {
                                            size: "13",
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                    i(
                                      "div",
                                      {
                                        staticClass: "alart-msg-box",
                                      },
                                      [
                                        i(
                                          "span",
                                          {
                                            staticClass:
                                              "alart-msg alart-opacity-group",
                                          },
                                          [e._v(e._s(e.variantConflict))]
                                        ),
                                      ]
                                    ),
                                  ]
                                )
                              : e._e(),
                          ],
                          1
                        )
                      : e._e(),
                  ],
            ],
            2
          );
        },
        ds = [],
        us = i("e1e6"),
        hs = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "mas-button-fill mas-button-gray flex-c transition",
              class: {
                active: e.isActive,
              },
              attrs: {
                tabindex: e.focusable ? "0" : "",
              },
              on: {
                mousedown: function (t) {
                  return t.preventDefault(), e.click(t);
                },
                keydown: [
                  function (t) {
                    return !t.type.indexOf("key") &&
                      e._k(t.keyCode, "enter", 13, t.key, "Enter")
                      ? null
                      : e.keydownHandler(t);
                  },
                  function (t) {
                    return !t.type.indexOf("key") &&
                      e._k(t.keyCode, "space", 32, t.key, [" ", "Spacebar"])
                      ? null
                      : e.keydownHandler(t);
                  },
                ],
                keyup: function (t) {
                  e.isActive = !1;
                },
                focus: e.suspendHotkey,
                blur: e.resumeHotkey,
              },
            },
            [
              i(e.icon, {
                tag: "component",
                attrs: {
                  opacity: "0.8",
                  size: "14",
                },
              }),
            ],
            1
          );
        },
        ps = [];
      let ms = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isActive = !1),
            (this.suspendKeyCodes = [32, 13]);
        }
        click() {}
        suspendHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.suspendKeydown(e);
        }
        resumeHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.resumeKeydown(e);
        }
        keydownHandler() {
          (this.isActive = !0), this.$emit("click");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
            required: !0,
          }),
        ],
        ms.prototype,
        "icon",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ms.prototype,
          "focusable",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["b"])()],
          ms.prototype,
          "click",
          null
        ),
        (ms = Object(a["__decorate"])([n["a"]], ms));
      var gs = ms,
        bs = gs,
        vs =
          (i("dcd5"), Object(_["a"])(bs, hs, ps, !1, null, "dc3dea86", null)),
        fs = vs.exports,
        ys = i("a411");
      class _s {
        static addVariant() {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: {
                action: se["t"].AddVariant,
              },
            },
          });
        }
        static addProperty(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].AddProperty,
                },
                e
              ),
            },
          });
        }
        static sortProperty(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].SortProperty,
                },
                e
              ),
            },
          });
        }
        static sortValue(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].SortValue,
                },
                e
              ),
            },
          });
        }
        static updateProperty(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].UpdateProperty,
                },
                e
              ),
            },
          });
        }
        static updateValue(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].UpdateValue,
                },
                e
              ),
            },
          });
        }
        static removeProperty(e) {
          return x["d"].command(Lt["a"].ComponentStatus, {
            data: {
              value: Object.assign(
                {
                  action: se["t"].RemoveProperty,
                },
                e
              ),
            },
          });
        }
      }
      var Cs = i("691a"),
        Ss = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "constraints-box",
              class: {
                "constraints-box-disabled": e.disabled,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "constraints-top",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "constraints-screen",
                    },
                    [
                      i("div", {
                        staticClass: "constraints-screen-item h",
                        class: {
                          active: "3" === e.horizontalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("horizontalType", "3", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item h s l",
                        class: {
                          active:
                            "0" === e.horizontalType ||
                            "2" === e.horizontalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("horizontalType", "0", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item h s r",
                        class: {
                          active:
                            "1" === e.horizontalType ||
                            "2" === e.horizontalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("horizontalType", "1", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item v",
                        class: {
                          active: "3" === e.verticalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("verticalType", "3", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item v s t",
                        class: {
                          active:
                            "0" === e.verticalType || "2" === e.verticalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("verticalType", "0", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item v s b",
                        class: {
                          active:
                            "1" === e.verticalType || "2" === e.verticalType,
                        },
                        on: {
                          click: function (t) {
                            return e.changeType("verticalType", "1", t);
                          },
                        },
                      }),
                      i("div", {
                        staticClass: "constraints-screen-item c",
                        on: {
                          click: function (t) {
                            return e.changeType("all", "3", t);
                          },
                        },
                      }),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "constraints-select__box",
                    },
                    [
                      i("MSelector", {
                        staticClass: "constraints-select",
                        staticStyle: {
                          width: "132px",
                        },
                        attrs: {
                          disabled: e.disabled,
                          icon: "label-constraints-h",
                          masterIcon: "ArrowsAltHIcon",
                          options: e.CONSTRAINTS_HORIZONTAL_LIST,
                          value: e.horizontalType,
                          placeholder: "水平",
                        },
                        on: {
                          change: e.setHorizontal,
                        },
                      }),
                      i("MSelector", {
                        staticClass: "constraints-select",
                        staticStyle: {
                          width: "132px",
                        },
                        attrs: {
                          disabled: e.disabled,
                          icon: "label-constraints-v",
                          masterIcon: "ArrowsAltVIcon",
                          options: e.CONSTRAINTS_VERTICAL_LIST,
                          value: e.verticalType,
                          placeholder: "垂直",
                        },
                        on: {
                          change: e.setVertical,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              void 0 !== e.isFixed
                ? i(
                    "div",
                    {
                      staticClass: "constraints-fixed",
                    },
                    [
                      i(
                        "BasicCheckbox",
                        {
                          attrs: {
                            disabled: e.disabled,
                            indeterminate: null === e.isFixed,
                            checked: e.isFixed,
                          },
                          on: {
                            change: e.toggleFixed,
                          },
                        },
                        [
                          i(
                            "span",
                            {
                              staticStyle: {
                                "margin-left": "9px",
                              },
                            },
                            [e._v("演示滚动时位置固定")]
                          ),
                        ]
                      ),
                    ],
                    1
                  )
                : e._e(),
            ]
          );
        },
        Is = [],
        Os = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            e._l(e.data, function (t, s) {
              return i(
                "Option",
                {
                  key: s,
                  attrs: {
                    disabled: t.disabled,
                    divid: t.divid,
                  },
                  on: {
                    select: function (i) {
                      return e.$emit("change", t.value);
                    },
                    mouseenter: function (t) {
                      e.setHoveredValue && e.setHoveredValue(-1);
                    },
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "master-select__icon checked",
                    },
                    [
                      e.getItemIsSelected(t)
                        ? i("CheckIcon", {
                            attrs: {
                              size: "12",
                              opacity: "0.8",
                            },
                          })
                        : e._e(),
                      t.masterIcon
                        ? i(t.masterIcon, {
                            tag: "component",
                            attrs: {
                              opacity: "0.8",
                              size: "12",
                            },
                          })
                        : e._e(),
                    ],
                    1
                  ),
                  e._t(
                    "label",
                    [
                      i(
                        "div",
                        {
                          staticClass: "master-select__label",
                        },
                        [
                          t.color
                            ? i("div", {
                                staticClass: "color",
                                style: {
                                  background: t.color,
                                  border:
                                    "transparent" === t.color
                                      ? "1px solid rgba(255, 255, 255, 0.5)"
                                      : "none",
                                },
                              })
                            : e._e(),
                          e._v(" " + e._s(t.label) + " "),
                        ]
                      ),
                    ],
                    {
                      label: t.label,
                      value: t.value,
                    }
                  ),
                ],
                2
              );
            }),
            1
          );
        },
        ks = [],
        ws = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "dropdown-item",
              class: {
                divid: e.divid,
                "mas-button-disabled ": e.disabled,
              },
              on: {
                mouseup: e.handleMouseUp,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "dropdown-item-content radius-s",
                  class: {
                    current: e.hoverActived && (e.isOpen || e.isHover),
                  },
                  on: {
                    mouseenter: e.mousenterHandler,
                  },
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        xs = [];
      let Ls = class extends n["g"] {
        constructor() {
          super(...arguments), (this.isOpen = !1), (this.isHover = !1);
        }
        mounted() {
          this.firstHover &&
            ((this.isHover = !0),
            this.dropdownEnterHander(() => {
              this.isHover = !1;
            }));
        }
        popoverHide() {
          this.isOpen = !1;
        }
        mousenterHandler() {
          this.disabled || ((this.isOpen = !0), this.$emit("mouseenter"));
        }
        handleMouseUp() {
          this.disabled || this.$emit("select");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        Ls.prototype,
        "divid",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          Ls.prototype,
          "disabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          Ls.prototype,
          "selected",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          Ls.prototype,
          "hoverActived",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          Ls.prototype,
          "firstHover",
          void 0
        ),
        (Ls = Object(a["__decorate"])([Object(n["a"])({})], Ls));
      var As = Ls,
        Ts = As,
        js =
          (i("8fb5"), Object(_["a"])(Ts, ws, xs, !1, null, "21b73839", null)),
        Ms = js.exports;
      let Es = class extends n["g"] {
        getItemIsSelected(e) {
          return this.multiple && Object(c["isArray"])(this.value)
            ? this.value.includes(e.value)
            : this.value === e.value;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        Es.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Es.prototype,
          "value",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          Es.prototype,
          "multiple",
          void 0
        ),
        (Es = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Option: Ms,
              },
              inject: ["setHoveredValue"],
            }),
          ],
          Es
        ));
      var Ps = Es,
        Ds = Ps,
        Bs = (i("bae3"), Object(_["a"])(Ds, Os, ks, !1, null, null, null)),
        Ns = Bs.exports;
      const Fs = {
          0: 4,
          1: 1,
          2: 5,
          3: 2,
          4: 0,
        },
        Rs = {
          6: "0",
          3: "1",
          7: "3",
        };
      Object.keys(Fs).forEach((e) => {
        Rs[Fs[e]] = e;
      });
      let Hs = class extends n["g"] {
        constructor() {
          super(...arguments), (this.encodeMap = Fs), (this.decodeMap = Rs);
        }
        get horizontalType() {
          const e = null === this.XAlign ? this.XAlign : String(this.XAlign),
            t = this.CONSTRAINTS_HORIZONTAL_LIST.find((t) => t.value === e);
          return (null === t || void 0 === t ? void 0 : t.disabled) ? "0" : e;
        }
        get verticalType() {
          const e = null === this.YAlign ? this.YAlign : String(this.YAlign),
            t = this.CONSTRAINTS_VERTICAL_LIST.find((t) => t.value === e);
          return (null === t || void 0 === t ? void 0 : t.disabled) ? "0" : e;
        }
        get CONSTRAINTS_HORIZONTAL_LIST() {
          const e = Pe["e"].dictionaries.CONSTRAINTS_HORIZONTAL_LIST();
          return (
            ((this.widthResizing === ys["b"].Auto &&
              this.type !== se["o"].Text) ||
              this.isFixed ||
              null === this.isFixed) &&
              e.forEach((e) => {
                ["2", "4"].includes(e.value) &&
                  ((e.disabled = !0),
                  (this.isFixed || null === this.isFixed) &&
                    (e.footerTip =
                      "2" === e.value
                        ? "所选内容无法在<br>演示滚动效果时<br>相对两端固定"
                        : "所选内容无法在<br>演示滚动效果时<br>缩放"));
              }),
            e
          );
        }
        get CONSTRAINTS_VERTICAL_LIST() {
          const e = Pe["e"].dictionaries.CONSTRAINTS_VERTICAL_LIST();
          return (
            ((this.heightResizing === ys["b"].Auto &&
              this.type !== se["o"].Text) ||
              this.isFixed ||
              null === this.isFixed) &&
              e.forEach((e) => {
                ["2", "4"].includes(e.value) &&
                  ((e.disabled = !0),
                  (this.isFixed || null === this.isFixed) &&
                    (e.footerTip =
                      "2" === e.value
                        ? "所选内容无法在<br>演示滚动效果时<br>相对两端固定"
                        : "所选内容无法在<br>演示滚动效果时<br>缩放"));
              }),
            e
          );
        }
        changeType(e, t, i) {
          if (this.disabled) return;
          let s = t;
          s = this.encodeMap[s];
          const o = this.encodeMap[this[e]];
          (i.shiftKey || i.ctrlKey) && (s = String(+o ^ +s)),
            (s = this.decodeMap[s]),
            s &&
              ("horizontalType" === e
                ? this.setHorizontal(s)
                : "verticalType" === e
                ? this.setVertical(s)
                : "3" === this.horizontalType &&
                  "3" === this.verticalType &&
                  (i.shiftKey || i.ctrlKey)
                ? this.setVertical("4")
                : "3" === this.horizontalType
                ? this.setVertical("3")
                : this.setHorizontal("3"));
        }
        setHorizontal(e) {
          this.horizontalType !== e &&
            this.$emit("change", ["horizontal", Number(e)]);
        }
        setVertical(e) {
          this.verticalType !== e &&
            this.$emit("change", ["vertical", Number(e)]);
        }
        moveLayersToFixedOrScroll(e, t) {
          var i;
          const s = Object(j["d"])(),
            o = s[e[0]],
            a = s[o.parent];
          let n;
          n = a.numOfFixedChildren ? a.numOfFixedChildren : 0;
          const r = (
            null === (i = null === a || void 0 === a ? void 0 : a.children) ||
            void 0 === i
              ? void 0
              : i[n]
          )
            ? a.children[n]
            : "";
          k["a"].layers.move(r, o.parent, !1, t ? 1 : 2, e);
        }
        toggleFixed() {
          const e = Object(j["d"])(),
            t = !this.isFixed;
          if (this.currents.length > 1) {
            const i = [],
              s = {};
            this.currents.forEach((t) => {
              const o = e[t],
                a = e[o.parent];
              void 0 === s[a.id] && (i.push([]), (s[a.id] = i.length - 1)),
                i[s[a.id]].push(t);
            }),
              k["a"].mergeStepStart(),
              i.forEach((e) => {
                this.moveLayersToFixedOrScroll(e, t);
              }),
              k["a"].mergeStepEnd();
          } else this.moveLayersToFixedOrScroll(this.currents, t);
          t &&
            d["a"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "fix_position",
              action_type: "checked",
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            default: "",
            required: !1,
          }),
        ],
        Hs.prototype,
        "selectId",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Hs.prototype,
          "isFixed",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          Hs.prototype,
          "XAlign",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          Hs.prototype,
          "YAlign",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Hs.prototype,
          "widthResizing",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Hs.prototype,
          "heightResizing",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Hs.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          Hs.prototype,
          "disabled",
          void 0
        ),
        (Hs = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterSelector: Pe["e"],
                Options: Ns,
                MSelector: Pe["b"],
                BasicCheckbox: z["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  currents: (e) => e.basicState.selectIds,
                })
              ),
            }),
          ],
          Hs
        ));
      var $s = Hs,
        Vs = $s,
        zs = (i("e9ed"), Object(_["a"])(Vs, Ss, Is, !1, null, null, null)),
        Us = zs.exports,
        qs = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "master-radius",
              class: {
                open: e.independentCorners,
              },
            },
            [
              [
                i(
                  "ul",
                  {
                    staticClass: "master-radius__options",
                  },
                  e._l(e.roundedList, function (t, s) {
                    return i(
                      "li",
                      {
                        key: s,
                        style: {
                          gridArea: e.gridArea[s],
                        },
                      },
                      [
                        i("IconInput", {
                          staticClass: "master-radius__options__input",
                          attrs: {
                            value: t.value,
                            validate: e.validate.checkRadius,
                            valueDecorator: e.valueDecorator.numDecorator,
                            placeholder: e.placeHolder(t.value),
                            iconName: "LabelCornerTopLeftIcon",
                            iconDisabledDrag: null === t.value,
                            focusSelectAll: !0,
                            iconStyle: {
                              transform:
                                "rotate(" +
                                (e.independentCorners ? e.angle[t.index] : 0) +
                                "deg)",
                            },
                            tip: e.tooltips[s],
                            disabled: e.radiusDisabled,
                            iconDisabled: e.radiusDisabled,
                          },
                          on: {
                            change: function (i) {
                              return e.roundedOptionChangeHandler(i, t.index);
                            },
                            keydown: e.keydownHandler,
                          },
                        }),
                      ],
                      1
                    );
                  }),
                  0
                ),
              ],
              i(
                "div",
                {
                  staticClass: "buttonSwitch",
                },
                [
                  e.isShowRoundedOption
                    ? i("MasterButtonSwitch", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "展开圆角",
                            expression: "'展开圆角'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          icon: "unfold",
                          focusable: "",
                          checkVal: e.independentCorners,
                        },
                        on: {
                          "update:checkVal": function (t) {
                            return e.$emit(
                              "update:independentCorners",
                              !e.independentCorners
                            );
                          },
                        },
                      })
                    : e._e(),
                  e.isShowSmoothCorners && !e.radiusDisabled
                    ? [
                        i("Bounced", {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: "平滑效果",
                              expression: "'平滑效果'",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          attrs: {
                            title: "平滑圆角",
                            trigger: "manual",
                            offsetLeft: 220,
                            width: "252",
                            open: e.openSmoothRoundedCornersBounced,
                          },
                          on: {
                            "update:open": function (t) {
                              e.openSmoothRoundedCornersBounced = t;
                            },
                          },
                          scopedSlots: e._u(
                            [
                              {
                                key: "button",
                                fn: function () {
                                  return [
                                    i("MasterButtonIcon", {
                                      attrs: {
                                        isLocalIcon: !1,
                                        icon: "EllipsisHIcon",
                                        focusable: "",
                                      },
                                      on: {
                                        click: function (t) {
                                          e.openSmoothRoundedCornersBounced =
                                            !e.openSmoothRoundedCornersBounced;
                                        },
                                      },
                                    }),
                                  ];
                                },
                                proxy: !0,
                              },
                              {
                                key: "content",
                                fn: function () {
                                  return [
                                    i(
                                      "div",
                                      {
                                        staticClass: "popup-container",
                                      },
                                      [
                                        i(
                                          "div",
                                          {
                                            staticClass:
                                              "smooth-corner-content",
                                          },
                                          [
                                            i("SmoothCornersSlider", {
                                              ref: "SmoothCornersSlider",
                                              attrs: {
                                                width: e.width,
                                                minNum: 0,
                                                maxNum: 100,
                                                value: e.cornerSmoothValue,
                                                stopStyle: e.stopStyle,
                                                progressStyle: e.progressStyle,
                                                centerStyle:
                                                  e.sliderCenterStyle,
                                                sliderContentStyle:
                                                  e.sliderContentStyle,
                                              },
                                              on: {
                                                change:
                                                  e.cornerSmoothValueChangeHandler,
                                              },
                                            }),
                                            i(
                                              "div",
                                              {
                                                staticClass: "iosButton",
                                                on: {
                                                  click: function (t) {
                                                    return (
                                                      t.preventDefault(),
                                                      e.clickIos(t)
                                                    );
                                                  },
                                                  mousedown: function (e) {
                                                    e.preventDefault();
                                                  },
                                                },
                                              },
                                              [
                                                i("div", {
                                                  staticClass:
                                                    "iosButton__line",
                                                }),
                                                i("span", [e._v("iOS")]),
                                              ]
                                            ),
                                          ],
                                          1
                                        ),
                                        i("master-input", {
                                          staticClass: "popup-container--input",
                                          attrs: {
                                            focusSelectAll: !0,
                                            valueDecorator:
                                              e.valueDecorator
                                                .smoothCornersDecorator,
                                            value: e.cornerSmooth,
                                          },
                                          on: {
                                            change: e.handleChange,
                                            keydown:
                                              e.cornerInputKeydownHandler,
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                  ];
                                },
                                proxy: !0,
                              },
                            ],
                            null,
                            !1,
                            2010583804
                          ),
                        }),
                      ]
                    : e._e(),
                ],
                2
              ),
            ],
            2
          );
        },
        Ws = [],
        Gs = i("a44a"),
        Ks = i("e3a1"),
        Qs = i("c296"),
        Ys = i("9588"),
        Xs = i("8b633");
      const Zs = {
          width: "12px",
          height: "12px",
          "border-radius": "372px",
          background: "#FFFFFF",
          border: "1px",
          "box-shadow":
            "0px 0px 0px 1px var(--m-slider__dot--inner), 0px 2px 4px 0px var(--m-slider__dot--outer)",
        },
        Js = {
          width: "154px",
          height: "8px",
          "border-radius": "234px",
        },
        eo = {
          position: "absolute",
          height: "8px",
          "border-radius": "234px",
          background: "--color-blue-700",
        },
        to = {
          height: "8px",
          background: "var(--theme-color-gray-300)",
          borderRadius: "4px",
          transform: "scale(1.07)",
        };
      let io = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.openSmoothRoundedCornersBounced = !1),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.keyUpDownHandler = Gs["e"]),
            (this.gridArea = ["", "", "c", "d"]),
            (this.width = 154),
            (this.angle = [0, 90, 180, 270]),
            (this.stopStyle = Zs),
            (this.sliderContentStyle = Js),
            (this.progressStyle = eo),
            (this.sliderCenterStyle = to);
        }
        get radiusDisabled() {
          return (
            this.selectItem.type === se["o"].Path &&
            this.selectItem.isPartOfInstance
          );
        }
        clickIos() {
          k["a"].selector.setField("smooth corner", 0.6);
        }
        get cornerSmoothValue() {
          return 100 * this.cornerSmooth;
        }
        get isShowRoundedOption() {
          return 4 === this.selectItem.cornerRadius.length;
        }
        get isShowSmoothCorners() {
          return (
            !this.hasConnector &&
            (this.isShowRoundedOption
              ? void 0 !== this.selectItem.cornerSmooth &&
                this.independentCorners
              : void 0 !== this.selectItem.cornerSmooth)
          );
        }
        get tooltips() {
          return this.independentCorners && this.isShowRoundedOption
            ? ["左上圆角", "右上圆角", "右下圆角", "左下圆角"]
            : ["圆角"];
        }
        get roundedList() {
          const e = this.rectValue;
          return this.independentCorners && this.isShowRoundedOption
            ? [
                {
                  index: 0,
                  direction: "左上",
                  value: e[0],
                },
                {
                  index: 1,
                  direction: "右上",
                  value: e[1],
                },
                {
                  index: 2,
                  direction: "右下",
                  value: e[2],
                },
                {
                  index: 3,
                  direction: "左下",
                  value: e[3],
                },
              ]
            : (1 !== e.length && !this.checkSame(e)) || null === e[0]
            ? [
                {
                  index: -1,
                  direction: "默认",
                  value: null,
                },
              ]
            : [
                {
                  index: 0,
                  direction: "左上",
                  value: e[0],
                },
              ];
        }
        placeHolder(e) {
          return null === e ? "多个值" : "";
        }
        roundedOptionChangeHandler(e, t) {
          this.$emit("change", {
            cornerRadius: e,
            index: this.independentCorners ? t : -1,
          });
        }
        keydownHandler(e, t, i) {
          this.$emit("keydown", e, t, i), this.keyUpDownHandler(e, t, i);
        }
        cornerInputKeydownHandler(e, t, i) {
          this.keyUpDownHandler(e, t, i);
        }
        checkSame(e) {
          let t = !0;
          return e.reduce((e, i) => ((t = t && e === i), i)), t;
        }
        cornerSmoothValueChangeHandler(e) {
          k["a"].selector.setField("smooth corner", e / 100);
        }
        handleChange(e) {
          Ki["a"].setTag("smooth corner");
          const t = +(+e.split("%")[0]).toFixed() / 100;
          k["a"].selector.setField("smooth corner", t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            default: !1,
            required: !1,
          }),
        ],
        io.prototype,
        "rectValue",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !0,
            }),
          ],
          io.prototype,
          "independentCorners",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: 1,
              required: !0,
            }),
          ],
          io.prototype,
          "cornerSmooth",
          void 0
        ),
        (io = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicLeftIcon: Qs["a"],
                MasterButtonSwitch: us["a"],
                Bounced: Ys["a"],
                MasterButtonIcon: Mi["a"],
                SmoothCornersSlider: Ks["a"],
                IconInput: Xs["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  selectItem: (e) => e.basicProps.item,
                  hasConnector: (e) =>
                    e.navBtnState.status[se["K"].hasConnector],
                })
              ),
            }),
          ],
          io
        ));
      var so = io,
        oo = so,
        ao = (i("9ba7"), Object(_["a"])(oo, qs, Ws, !1, null, null, null)),
        no = ao.exports,
        ro = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel_title",
            },
            [
              i(
                "span",
                {
                  staticClass: "text-title component-title truncate",
                },
                [
                  i("MasterButtonIcon", {
                    staticClass: "component-icon",
                    attrs: {
                      icon: e.isSet ? "ComponentSetIcon" : "ComponentIcon",
                      disableHover: "",
                    },
                  }),
                  e._v(e._s(e.componentName)),
                ],
                1
              ),
              i("Bounced", {
                ref: "bounced",
                staticClass: "component-propitem__popover",
                attrs: {
                  offsetLeft: 216,
                  width: "252",
                  open: e.isShow,
                },
                on: {
                  "update:open": function (t) {
                    e.isShow = t;
                  },
                },
                scopedSlots: e._u([
                  {
                    key: "button",
                    fn: function () {
                      return [
                        i("MasterButtonIcon", {
                          attrs: {
                            icon: "EllipsisHIcon",
                            focusable: "",
                          },
                        }),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "title",
                    fn: function () {
                      return [e._v(" 更多设置 ")];
                    },
                    proxy: !0,
                  },
                  {
                    key: "content",
                    fn: function () {
                      return [
                        i(
                          "div",
                          {
                            staticStyle: {
                              padding: "12px",
                            },
                          },
                          [
                            i("master-input", {
                              attrs: {
                                textarea: "",
                                value: e.componentDescription,
                                focusSelectAll: "",
                                placeholder: "输入描述",
                                row: 2,
                              },
                              on: {
                                change: e.changeHandler,
                              },
                            }),
                          ],
                          1
                        ),
                      ];
                    },
                    proxy: !0,
                  },
                ]),
              }),
            ],
            1
          );
        },
        co = [];
      let lo = class extends n["g"] {
        constructor() {
          super(...arguments), (this.isShow = !1);
        }
        get currentComponent() {
          let e = this.componentMap[this.compoentId];
          return (
            (null === e || void 0 === e ? void 0 : e.parentId) &&
              (e = this.componentMap[e.parentId]),
            e
          );
        }
        get componentDescription() {
          var e;
          return null === (e = this.currentComponent) || void 0 === e
            ? void 0
            : e.description;
        }
        get componentName() {
          var e;
          return null === (e = this.currentComponent) || void 0 === e
            ? void 0
            : e.name;
        }
        changeHandler(e) {
          k["a"].setComponentDesc(this.compoentId, e),
            x["n"].setLog(
              "INFO",
              "userAction",
              "update_components_description"
            );
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])()],
        lo.prototype,
        "compoentId",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          lo.prototype,
          "isSet",
          void 0
        ),
        (lo = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Bounced: Ys["a"],
                MasterButtonIcon: Mi["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])("component", ["componentMap"])
              ),
            }),
          ],
          lo
        ));
      var uo,
        ho,
        po = lo,
        mo = po,
        go =
          (i("a14a"), Object(_["a"])(mo, ro, co, !1, null, "bba07312", null)),
        bo = go.exports,
        vo = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "instance-container",
            },
            [
              i(
                "div",
                {
                  staticClass: "instance-cell",
                },
                [
                  i(
                    "div",
                    {
                      class: {
                        "instance-title":
                          e.showProps || e.referenceShow || e.isInstance,
                      },
                    },
                    [
                      i("ReferenceButton", {
                        ref: "reference",
                        staticClass: "instance-ref",
                        attrs: {
                          type: 1,
                          mode: 1,
                          isShow: e.referenceShow,
                          disabledMarginTop: !0,
                        },
                        on: {
                          "update:isShow": function (t) {
                            e.referenceShow = t;
                          },
                          "update:is-show": function (t) {
                            e.referenceShow = t;
                          },
                        },
                      }),
                      e.referenceShow
                        ? e._e()
                        : i("ComponentSelector", {
                            class: {
                              "component-status-selector": !0,
                            },
                            attrs: {
                              componentId: e.componentId,
                              currentComponent: e.currentComponent,
                              disabled: !e.isInstance,
                            },
                          }),
                      e.isPartOfComponent
                        ? i("ReferenceButton", {
                            attrs: {
                              type: 1,
                            },
                          })
                        : e._e(),
                      (!e.showProps && !e.isInstance) || e.isEditComponentHidden
                        ? e._e()
                        : i("MasterButtonIcon", {
                            directives: [
                              {
                                name: "feature",
                                rawName: "v-feature",
                                value: "component",
                                expression: "'component'",
                              },
                              {
                                name: "tip",
                                rawName: "v-tip",
                                value: "编辑组件",
                                expression: "'编辑组件'",
                              },
                            ],
                            key: "componentStatus",
                            staticClass: "component-btn",
                            attrs: {
                              icon: "ComponentIcon",
                            },
                            on: {
                              click: e.handleLocate,
                            },
                          }),
                    ],
                    1
                  ),
                  i(
                    "master-dropdown",
                    {
                      attrs: {
                        placement: "bottom-end",
                        offset: 0,
                      },
                      on: {
                        command: e.changeCurrent,
                      },
                      nativeOn: {
                        click: function (e) {
                          e.stopPropagation();
                        },
                      },
                      scopedSlots: e._u([
                        {
                          key: "dropMenu",
                          fn: function () {
                            return [
                              i("master-menu", {
                                attrs: {
                                  list: e.list,
                                  width: "210px",
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                      ]),
                    },
                    [
                      i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "重置属性",
                            expression: "'重置属性'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          slot: "dropButton",
                          icon: "EllipsisHIcon",
                        },
                        slot: "dropButton",
                      }),
                    ],
                    1
                  ),
                ],
                1
              ),
              e.isHidden
                ? i(
                    "div",
                    {
                      staticClass: "instance-cell",
                    },
                    [
                      i(
                        "MButton",
                        {
                          attrs: {
                            type: "gray",
                            size: "xs",
                          },
                          on: {
                            click: e.restoreComponent,
                          },
                        },
                        [e._v("恢复组件")]
                      ),
                    ],
                    1
                  )
                : e._e(),
              (e.showProps && e.description) || e.variantDescription
                ? i(
                    "div",
                    {
                      staticClass: "instance-aside",
                    },
                    [e._v(e._s(e.description || e.variantDescription))]
                  )
                : e._e(),
              e.isHidden
                ? e._e()
                : [
                    e.showProps
                      ? i(
                          "div",
                          [
                            i("VariantItem", {
                              attrs: {
                                variantData: e.variantData,
                                fullData: e.fullData,
                                isInstance: !0,
                                componentAssignments: e.componentAssignments,
                              },
                              on: {
                                change: e.handleVariantChange,
                              },
                            }),
                          ],
                          1
                        )
                      : e._e(),
                  ],
            ],
            2
          );
        },
        fo = [],
        yo = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("master-dropdown", {
            staticClass: "master-component",
            attrs: {
              offset: 0,
              open: e.open,
              disabled: e.disabled,
              placement: "bottom-start",
            },
            on: {
              "update:open": function (t) {
                e.open = t;
              },
            },
            scopedSlots: e._u([
              {
                key: "dropButton",
                fn: function () {
                  return [
                    i("master-input", {
                      staticClass: "select-input master-component__input ",
                      attrs: {
                        value: e.currentComponent.name || "",
                        readonly: "",
                        noborder: "",
                        disabled: e.disabled,
                        placeholder:
                          null === e.componentId ? "多个值" : "请选择",
                      },
                      scopedSlots: e._u([
                        {
                          key: "footer",
                          fn: function () {
                            return [
                              i(
                                "div",
                                {
                                  staticClass: "label-icon",
                                },
                                [
                                  i("AngleDownIcon", {
                                    attrs: {
                                      size: "14",
                                    },
                                  }),
                                ],
                                1
                              ),
                            ];
                          },
                          proxy: !0,
                        },
                        {
                          key: "header",
                          fn: function () {
                            return [
                              i(
                                "div",
                                {
                                  staticClass: "label-icon",
                                },
                                [
                                  i("InstanceIcon", {
                                    attrs: {
                                      size: "14",
                                    },
                                  }),
                                ],
                                1
                              ),
                            ];
                          },
                          proxy: !0,
                        },
                      ]),
                    }),
                  ];
                },
                proxy: !0,
              },
              {
                key: "dropMenu",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "master-component__container",
                      },
                      [
                        e.open
                          ? i(
                              "div",
                              {
                                staticStyle: {
                                  height: "100%",
                                },
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "master-component__box",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass:
                                          "master-component__library",
                                      },
                                      [
                                        i("MasterSelector", {
                                          staticStyle: {
                                            width: "100px",
                                          },
                                          attrs: {
                                            options: e.libraryOptions,
                                            value: e.currentLibrary,
                                            theme: "simple",
                                            size: "small",
                                          },
                                          on: {
                                            change: e.onLibraryChange,
                                          },
                                        }),
                                        i("MasterButtonIcon", {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content:
                                                  e.listIconData[e.menuType]
                                                    .tooltip,
                                              },
                                              expression:
                                                "{ content: listIconData[menuType].tooltip }",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          attrs: {
                                            icon: e.listIconData[e.menuType]
                                              .icon,
                                          },
                                          on: {
                                            click: function (t) {
                                              return (
                                                t.stopPropagation(),
                                                e.handleListStyleSwitch(t)
                                              );
                                            },
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                    i("MInput", {
                                      ref: "searchInput",
                                      staticStyle: {
                                        margin: "0 5px 12px 5px",
                                      },
                                      attrs: {
                                        size: "xs",
                                        borderAction: "none",
                                        placeholder: "搜索",
                                      },
                                      scopedSlots: e._u(
                                        [
                                          {
                                            key: "prefix",
                                            fn: function () {
                                              return [
                                                i(
                                                  "div",
                                                  {
                                                    staticClass:
                                                      "search-input__prefix",
                                                  },
                                                  [
                                                    i("SearchIcon", {
                                                      attrs: {
                                                        size: "13",
                                                        opacity: "0.5",
                                                      },
                                                    }),
                                                  ],
                                                  1
                                                ),
                                              ];
                                            },
                                            proxy: !0,
                                          },
                                        ],
                                        null,
                                        !1,
                                        2529299328
                                      ),
                                      model: {
                                        value: e.searchKeyWord,
                                        callback: function (t) {
                                          e.searchKeyWord = t;
                                        },
                                        expression: "searchKeyWord",
                                      },
                                    }),
                                    e.searchKeyWord
                                      ? [
                                          i(
                                            "div",
                                            {
                                              ref: "searchScroll",
                                              staticClass:
                                                "master-component__list overflow-overlay",
                                              on: {
                                                scroll: e.searchScrollHandler,
                                              },
                                            },
                                            e._l(
                                              e.searchedComponentList,
                                              function (t, s) {
                                                return i(
                                                  "div",
                                                  {
                                                    key: t.ukey,
                                                    staticClass:
                                                      "master-component__item",
                                                    class: [
                                                      !t.isComponent &&
                                                        "master-component__sub-item",
                                                      t.isComponent &&
                                                        "master-component__item--" +
                                                          e.listType,
                                                    ],
                                                  },
                                                  [
                                                    s <= e.showIdxs[1] &&
                                                    s >= e.showIdxs[0]
                                                      ? i("Cell", {
                                                          attrs: {
                                                            "cell-type":
                                                              e.listType,
                                                            item: t,
                                                            componentId:
                                                              e.currentComponent
                                                                .id ||
                                                              e.componentId,
                                                            componentKey:
                                                              e.currentComponent
                                                                .ukey,
                                                            componentMap:
                                                              e.getComponentMap(
                                                                t
                                                              ),
                                                            isShow:
                                                              s <=
                                                                e.showIdxs[1] &&
                                                              s >=
                                                                e.showIdxs[0],
                                                          },
                                                          on: {
                                                            click:
                                                              e.clickHandler,
                                                          },
                                                        })
                                                      : e._e(),
                                                  ],
                                                  1
                                                );
                                              }
                                            ),
                                            0
                                          ),
                                        ]
                                      : [
                                          e.parent
                                            ? i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "master-component__title",
                                                  on: {
                                                    click: function (t) {
                                                      return e.previousLevel(
                                                        e.parent
                                                      );
                                                    },
                                                  },
                                                },
                                                [
                                                  i("AngleLeftIcon", {
                                                    staticClass: "back-icon",
                                                    attrs: {
                                                      size: "14",
                                                    },
                                                  }),
                                                  i(
                                                    "span",
                                                    {
                                                      staticClass:
                                                        "master-component__title__text",
                                                    },
                                                    [
                                                      e._v(
                                                        e._s(
                                                          e.parentName ||
                                                            "返回上一级"
                                                        )
                                                      ),
                                                    ]
                                                  ),
                                                ],
                                                1
                                              )
                                            : e._e(),
                                          i(
                                            "div",
                                            {
                                              ref: "componentsContainer",
                                              staticClass:
                                                "master-component__list overflow-overlay",
                                            },
                                            e._l(
                                              e.componentCascadeList,
                                              function (t) {
                                                return i(
                                                  "div",
                                                  {
                                                    key: t.id,
                                                    staticClass:
                                                      "master-component__item",
                                                    class: [
                                                      !t.isComponent &&
                                                        "master-component__sub-item",
                                                      t.isComponent &&
                                                        "master-component__item--" +
                                                          e.listType,
                                                    ],
                                                  },
                                                  [
                                                    i("Cell", {
                                                      attrs: {
                                                        "data-id": t.id,
                                                        "cell-type": e.listType,
                                                        item: t,
                                                        componentId:
                                                          e.currentComponent
                                                            .id ||
                                                          e.componentId,
                                                        componentKey:
                                                          e.currentComponent
                                                            .ukey,
                                                        componentMap:
                                                          e.currentLibraryData
                                                            .componentMap || {},
                                                        isShow: !0,
                                                      },
                                                      on: {
                                                        click: e.clickHandler,
                                                        scrollTo:
                                                          e.scrollToHandler,
                                                      },
                                                    }),
                                                  ],
                                                  1
                                                );
                                              }
                                            ),
                                            0
                                          ),
                                        ],
                                  ],
                                  2
                                ),
                              ]
                            )
                          : e._e(),
                      ]
                    ),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        _o = [],
        Co = i("324f"),
        So = i("1f2a");
      (function (e) {
        (e["INIT"] = "init"),
          (e["SEARCH"] = "search"),
          (e["ADD"] = "add"),
          (e["UPDATE"] = "update");
      })(uo || (uo = {})),
        (function (e) {
          (e["COMPONENT_LIST_RESULTS"] = "component_list_results"),
            (e["DIALOG_COMPONENT_LIST_RESULTS"] =
              "dialog_component_list_results"),
            (e["INSTANCE_RESULTS"] = "instance_results");
        })(ho || (ho = {}));
      const Io = i("cb2d").default,
        Oo = {
          includeScore: !0,
          keys: [
            {
              name: "name",
              weight: 0.6,
            },
            {
              name: "stateNames",
              weight: 0.4,
            },
            {
              name: "frameName",
              weight: 0.1,
            },
            {
              name: "pageName",
              weight: 0.1,
            },
            {
              name: "description",
              weight: 0.05,
            },
            {
              name: "descriptions",
              weight: 0.05,
            },
          ],
          shouldSort: !0,
          threshold: 0.3,
          tokenize: !0,
        };
      class ko {
        constructor() {
          (this.types = {}),
            (this.worker = new Io()),
            (this.worker.onmessage = (e) => {
              const { type: t, data: i } = e.data;
              t && So["a"].$emit(t, i);
            }),
            (this.worker.onerror = () => {}),
            (this.types = {});
        }
        on(e, t) {
          So["a"].$on(e, t);
        }
        off(e, t) {
          So["a"].$off(e, t), (this.types[e] = null);
        }
        once(e, t) {
          So["a"].$once(e, t);
        }
        postInitMessage(e, t, i) {
          this.worker.postMessage({
            type: uo.INIT,
            list: t,
            options: Oo,
            documentId: e,
          }),
            i && this.updateSubscribe();
        }
        postUpdateMessage(e, t) {
          this.worker.postMessage({
            type: uo.UPDATE,
            documentId: e,
            updateList: t,
          }),
            this.updateSubscribe();
        }
        postSearchMessage(e, t, i) {
          this.worker.postMessage({
            type: uo.SEARCH,
            documentId: t,
            pattern: i,
            resultType: e,
          }),
            (this.types[e] = {
              type: e,
              documentId: t,
              pattern: i,
            });
        }
        updateSubscribe() {
          Object.keys(this.types).forEach((e) => {
            if (this.types[e]) {
              const { type: t, documentId: i, pattern: s } = this.types[e];
              this.postSearchMessage(t, i, s);
            }
          });
        }
        terminate() {
          this.worker.terminate();
        }
      }
      let wo;
      ko.getInstance = () => wo || ((wo = new ko()), wo);
      var xo = ko;
      let Lo = class extends n["g"] {
        hander(e) {
          if (e.length <= 0) return;
          const t = this.getSearchList(e, "id");
          this.worker && this.worker.postUpdateMessage(this.documentId, t),
            this.resetComponentUpdateByWorker();
        }
        teamChange() {
          this.worker &&
            this.worker.postInitMessage(
              this.documentId,
              this.allComponentList,
              !0
            );
        }
        getSearchList(e, t, i = !0) {
          const s = {},
            o = {},
            a = [];
          return (
            (null !== e && void 0 !== e ? e : []).forEach((e) => {
              e.isHidden ||
                (i && e.isExternal) ||
                (e.parentId
                  ? (s[e.parentId] || (s[e.parentId] = []),
                    o[e.parentId] || (o[e.parentId] = []),
                    s[e.parentId].push(e.name),
                    o[e.parentId].push(e.description))
                  : (s[e[t]] || (s[e[t]] = []),
                    o[e[t]] || (o[e[t]] = []),
                    (e.stateNames = s[e[t]]),
                    (e.descriptions = o[e[t]]),
                    a.push(e)));
            }),
            a
          );
        }
        get localComponents() {
          return this.getSearchList(Object.values(this.componentMap), "id");
        }
        get teamComponents() {
          return this.libraryList.reduce(
            (e, t) =>
              e.concat(
                this.getSearchList(Object.values(t.componentMap), "ukey", !1)
              ),
            []
          );
        }
        get allComponentList() {
          return [...this.localComponents, ...this.teamComponents];
        }
        get allComponentMap() {
          return this.allComponentList.reduce(
            (e, t) => ((e[t.ukey] = t), e),
            {}
          );
        }
        search(e) {
          this.SEARCH_TYPE &&
            this.searchCallback &&
            (this.worker ||
              ((this.worker = xo.getInstance()),
              this.worker.postInitMessage(
                this.documentId,
                this.allComponentList
              ),
              this.worker.on(this.SEARCH_TYPE, this.searchCallback)),
            this.worker &&
              this.worker.postSearchMessage(
                this.SEARCH_TYPE,
                this.documentId,
                e
              ));
        }
        mounted() {
          this.resetComponentUpdateByWorker();
        }
        beforeDestroy() {
          this.worker && this.worker.off(this.SEARCH_TYPE, this.searchCallback);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("componentUpdateByWorker", {
            immediate: !1,
          }),
        ],
        Lo.prototype,
        "hander",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("libraryList", {
              immediate: !1,
            }),
          ],
          Lo.prototype,
          "teamChange",
          null
        ),
        (Lo = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])("component", [
                  "componentMap",
                  "componentUpdateByWorker",
                  "libraryList",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["resetComponentUpdateByWorker"])
              ),
            }),
          ],
          Lo
        ));
      var Ao,
        To,
        jo = Lo,
        Mo = jo,
        Eo = Object(_["a"])(Mo, Ao, To, !1, null, null, null),
        Po = Eo.exports,
        Do = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              directives: [
                {
                  name: "tip",
                  rawName: "v-tip",
                  value: "list" === e.cellType ? "" : e.componentName,
                  expression: "cellType === 'list' ? '' : componentName",
                },
              ],
              staticClass: "master-component__item--inner",
              class: [
                e.active && ("list" === e.cellType ? "active_list" : "active"),
              ],
              on: {
                click: function (t) {
                  return e.$emit("click", e.item, e.componentMap[e.item.id]);
                },
              },
            },
            [
              e.isShow
                ? [
                    e.item.isComponent
                      ? i(
                          "div",
                          {
                            staticClass: "master-component__icon",
                            style: {
                              backgroundColor: e.componentBg,
                            },
                          },
                          [
                            e.cover
                              ? i("img", {
                                  staticClass: "master-component__icon-img",
                                  attrs: {
                                    src: e.cover,
                                    width: e.coverWidth,
                                    height: e.coverHeight,
                                  },
                                })
                              : e._e(),
                          ]
                        )
                      : i("FileFolderIcon", {
                          staticStyle: {
                            margin: "0 8px 0 2px",
                          },
                          attrs: {
                            size: "14",
                          },
                        }),
                    e.item.isComponent && "list" !== e.cellType
                      ? e._e()
                      : i(
                          "div",
                          {
                            staticClass: "master-component__name",
                          },
                          [
                            e._v(
                              " " +
                                e._s(e.decodePageName(e.componentName)) +
                                " "
                            ),
                          ]
                        ),
                    e.item.isComponent
                      ? e._e()
                      : i("CaretRightIcon", {
                          staticStyle: {
                            opacity: "0.5",
                            "margin-right": "3px",
                          },
                        }),
                  ]
                : e._e(),
            ],
            2
          );
        },
        Bo = [];
      let No = class extends n["g"] {
        constructor() {
          super(...arguments), (this.decodePageName = Z["x"]);
        }
        isShowHandler(e) {
          e &&
            this.item.isComponent &&
            this.getComponentItemCover(this.item.id);
        }
        get cover() {
          if (this.item.isComponent) {
            const e = this.componentMap[this.item.id];
            return e.cover;
          }
          return "";
        }
        get active() {
          const e = this.componentMap[this.item.id];
          return (null === e || void 0 === e ? void 0 : e.isLibrary)
            ? this.componentKey === e.ukey
            : this.item.id === this.componentId;
        }
        get componentName() {
          return this.item.isComponent
            ? this.componentMap[this.item.id].labelName
            : this.item.id;
        }
        get componentDes() {
          return this.item.isComponent
            ? this.componentMap[this.item.id].description
            : this.item.id;
        }
        get coverWidth() {
          return this.item.isComponent
            ? this.componentMap[this.item.id].width
            : void 0;
        }
        get coverHeight() {
          return this.item.isComponent
            ? this.componentMap[this.item.id].height
            : void 0;
        }
        get componentBg() {
          const e = this.item.isComponent
            ? this.componentMap[this.item.id].backgroundColor
            : void 0;
          if (e) return `rgb(${255 * e.red},${255 * e.green},${255 * e.blue})`;
        }
        mounted() {
          setTimeout(() => {
            this.active && this.$emit("scrollTo", this.$el.offsetTop);
          }, 0);
        }
      };
      Object(a["__decorate"])([Object(n["e"])()], No.prototype, "item", void 0),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          No.prototype,
          "componentMap",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          No.prototype,
          "componentId",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          No.prototype,
          "componentKey",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "list",
            }),
          ],
          No.prototype,
          "cellType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !0,
            }),
          ],
          No.prototype,
          "isShow",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("isShow", {
              immediate: !0,
            }),
          ],
          No.prototype,
          "isShowHandler",
          null
        ),
        (No = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])("component", ["versionCatlog"])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["getComponentItemCover"])
              ),
            }),
          ],
          No
        ));
      var Fo = No,
        Ro = Fo,
        Ho = Object(_["a"])(Ro, Do, Bo, !1, null, "824d8ebe", null),
        $o = Ho.exports;
      let Vo = class extends Po {
        constructor() {
          super(...arguments),
            (this.open = !1),
            (this.componentCascadeList = []),
            (this.searchedComponentList = []),
            (this.parent = null),
            (this.currentLibrary = "-1"),
            (this.libraryOptions = [
              {
                label: "加载中...",
                value: "-1",
              },
            ]),
            (this.searchKeyWord = ""),
            (this.focusTimer = null),
            (this.listIconData = We["g"]),
            (this.SEARCH_TYPE = ho.INSTANCE_RESULTS),
            (this.searchKeyWordHandler = Object(c["debounce"])(
              this.searchedComponentListHandler,
              300
            )),
            (this.scrollTop = 0);
        }
        get scrollInfo() {
          return {
            height: 0,
            showList: [],
          };
        }
        get showIdxs() {
          if (!this.searchedComponentList.length) return [0, 0];
          const e = {
              list: [33, 1],
              wide: [66, 1],
              large: [114, 2],
              small: [57, 4],
            }[this.listType],
            t = 400,
            i = this.scrollTop,
            s = ~~(i / e[0]) * e[1],
            o = Math.ceil((i + t) / e[0]) * e[1];
          return [s, o];
        }
        searchScrollHandler() {
          this.scrollTop = this.$refs.searchScroll.scrollTop;
        }
        searchedComponentListHandler() {
          this.searchKeyWord
            ? this.search(this.searchKeyWord)
            : (this.searchedComponentList = []);
        }
        searchCallback(e) {
          this.searchedComponentList = e
            .map((e) => this.allComponentMap[e])
            .filter(Boolean)
            .map((e) =>
              Object.assign(Object.assign({}, e), {
                isComponent: !0,
              })
            );
        }
        openHandler(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.focusTimer && clearTimeout(this.focusTimer),
              e &&
                ((this.searchKeyWord = ""),
                yield this.setLibraryComponentList(),
                this.initComponentList(),
                (this.focusTimer = setTimeout(() => {
                  this.$refs.searchInput.focus();
                }, 100)),
                x["n"].setLog("INFO", "userAction", "swap_instance_popout"));
          });
        }
        currentLibraryHandler() {
          (this.parent = null), this.searchComponentList("");
        }
        get currentLibraryData() {
          return "-1" === this.currentLibrary
            ? this.$store.state.component
            : this.libraryList.find(
                (e) => e.libraryId === this.currentLibrary
              ) || {};
        }
        initComponentList() {
          var e;
          (this.libraryOptions = [
            ...this.libraryList.map((e) => ({
              label: e.libraryName,
              value: e.libraryId,
            })),
          ]),
            Object.keys(this.cascadeCatalogMap).length &&
              this.libraryOptions.unshift({
                label: "本地",
                value: "-1",
              });
          let t = this.componentMap[this.componentId];
          if (
            ((null === t || void 0 === t ? void 0 : t.parentId) &&
              (t = this.componentMap[t.parentId]),
            t)
          )
            this.currentLibrary = "-1";
          else {
            const i = this.currentComponent.ukey,
              s = this.libraryList.some((e) => {
                const s = Object.values(e.componentMap).find(
                  (e) => e.ukey === i
                );
                return (
                  !!s && ((this.currentLibrary = e.libraryId), (t = s), !0)
                );
              });
            s ||
              (this.currentLibrary =
                null === (e = this.libraryOptions[0]) || void 0 === e
                  ? void 0
                  : e.value);
          }
          this.$nextTick(() => {
            this.searchComponentList(
              null === t || void 0 === t ? void 0 : t.cascadeId
            );
          });
        }
        get parentName() {
          var e;
          if (!this.parent) return "";
          const t =
              "-1" === this.currentLibrary
                ? this.pageMap
                : (null === (e = this.currentLibraryData) || void 0 === e
                    ? void 0
                    : e.pageMap) || {},
            i = t[this.parent.id];
          return i ? i.name : this.parent.id;
        }
        searchComponentList(e) {
          var t, i;
          if (e) {
            const t =
              null === (i = this.currentLibraryData) || void 0 === i
                ? void 0
                : i.cascadeCatalogMap[e];
            t &&
              ((this.parent = t),
              (this.componentCascadeList = [...t.children]));
          } else {
            this.parent = null;
            const e = [],
              i =
                "-1" === this.currentLibrary
                  ? this.pageMap
                  : (null === (t = this.currentLibraryData) || void 0 === t
                      ? void 0
                      : t.pageMap) || {};
            Object(Z["D"])(i).forEach((t) => {
              var i;
              t &&
                (null === (i = this.currentLibraryData) || void 0 === i
                  ? void 0
                  : i.cascadeCatalogMap[t.id]) &&
                e.push({
                  isComponent: !1,
                  id: t.name,
                  parent: t.id,
                });
            }),
              (this.componentCascadeList = e);
          }
        }
        clickHandler(e, t) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (e.isComponent) {
              if (
                ((this.open = !1),
                null === t || void 0 === t ? void 0 : t.isLibrary)
              ) {
                Co["a"].createCache(t);
                const i = Co["a"].getCache(t.ukey),
                  s = yield i.buffer;
                if (
                  (s &&
                    O["a"].fbcommand(
                      At["a"].CreateComponentsFromFB,
                      "",
                      "",
                      s.data
                    ),
                  this.onChange)
                )
                  return void this.onChange(e, t);
                k["a"].selector.changeLibraryInstance(
                  t.ukey,
                  String(t.componentSignature)
                );
              } else {
                if (this.onChange) return void this.onChange(e, t);
                k["a"].selector.changeInstance(e.id);
              }
              x["n"].setLog("INFO", "userAction", "swap_instance");
            } else this.searchComponentList(e.parent);
          });
        }
        getComponentMap(e) {
          if (e.isLibrary) {
            const t = this.libraryList.find(
              (t) =>
                !!Object.values(t.componentMap).find(
                  (t) => t.libraryId === e.libraryId
                )
            );
            if (t) return t.componentMap;
          }
          return this.componentMap;
        }
        previousLevel(e) {
          e && this.searchComponentList(e.parent);
        }
        onLibraryChange(e) {
          this.currentLibrary = e;
        }
        handleListStyleSwitch() {
          const e = "list" === this.menuType ? "grid" : "list",
            t = this.$store.state.file;
          t.id &&
            (this.$store.commit(
              "file/setFileSettings",
              Object.assign(
                Object.assign({}, this.$store.state.file.settings),
                {
                  componentSelectorType: e,
                }
              )
            ),
            Object(ie["fd"])(t.id, t.settings));
        }
        getComponentGridType(e) {
          let t = e;
          this.searchKeyWord ||
            (t = this.currentLibraryData.componentMap[e.id]);
          const { width: i, height: s } = t;
          return i && s
            ? i / s >= 3
              ? "wide"
              : i > 64 || s > 64
              ? "large"
              : "small"
            : "large";
        }
        scrollToHandler(e) {
          const t = this.$refs.componentsContainer;
          t.scrollTop = e - t.clientHeight / 2;
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("searchKeyWord")],
        Vo.prototype,
        "searchKeyWordHandler",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Vo.prototype,
          "componentId",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Vo.prototype,
          "currentComponent",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Vo.prototype,
          "disabled",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Vo.prototype,
          "onChange",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("open")],
          Vo.prototype,
          "openHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("currentLibrary", {
              immediate: !0,
            }),
          ],
          Vo.prototype,
          "currentLibraryHandler",
          null
        ),
        (Vo = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Cell: $o,
                MasterSelector: Pe["e"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      {},
                      Object(r["e"])({
                        menuType: (e) => {
                          var t;
                          return null !==
                            (t = e.file.settings.componentSelectorType) &&
                            void 0 !== t
                            ? t
                            : "list";
                        },
                      })
                    ),
                    Object(r["e"])("component", [
                      "cascadeCatalogMap",
                      "componentMap",
                      "libraryList",
                      "versionCatlog",
                    ])
                  ),
                  Object(r["e"])("pages", {
                    pageMap: "map",
                  })
                ),
                {
                  listType() {
                    let e = this.componentCascadeList;
                    if (
                      (this.searchKeyWord && (e = this.searchedComponentList),
                      "grid" === this.menuType && e.length > 0)
                    ) {
                      let t;
                      for (let i = 0; i < e.length; i++)
                        if (e[i].isComponent) {
                          const s = this.getComponentGridType(e[i]);
                          if (t) {
                            if (t !== s) return "large";
                          } else t = s;
                        }
                      return null !== t && void 0 !== t ? t : e;
                    }
                    return "list";
                  },
                }
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["setLibraryComponentList"])
              ),
            }),
          ],
          Vo
        ));
      var zo = Vo,
        Uo = zo,
        qo =
          (i("3ab3"),
          i("67a2"),
          Object(_["a"])(Uo, yo, _o, !1, null, "ca03f4d8", null)),
        Wo = qo.exports,
        Go = i("3058"),
        Ko = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "wrap",
              staticClass: "variant-wrap",
            },
            [
              i(
                "div",
                {
                  staticClass: "component-assignment__box",
                },
                [
                  e._l(e.variantData, function (t) {
                    return [
                      i(
                        "div",
                        {
                          key: "state_" + t.property,
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "component-assignment__label",
                            },
                            [e._v(e._s(t.property))]
                          ),
                        ]
                      ),
                      i(
                        "div",
                        {
                          key: "state_content_" + t.property,
                          staticClass: "component-assignment__content",
                        },
                        [
                          e.isInstance && e.useToggle(t)
                            ? i("Toggle", {
                                attrs: {
                                  "default-open": e._f("toggleValue")(t.value),
                                },
                                on: {
                                  change: function (i) {
                                    var s = arguments.length,
                                      o = Array(s);
                                    while (s--) o[s] = arguments[s];
                                    return e.handleToggleChange.apply(
                                      void 0,
                                      o.concat([e.index], [t])
                                    );
                                  },
                                },
                              })
                            : i("master-selector", {
                                ref: "variantSelector",
                                refInFor: !0,
                                staticStyle: {
                                  flex: "1",
                                },
                                attrs: {
                                  "allow-input": !e.isInstance,
                                  options: e.getOptions(t),
                                  value: t.value || "",
                                  placeholder:
                                    "" === t.value ? "-" : t.value || "多个值",
                                  mode: "masterPopover",
                                },
                                on: {
                                  change: function (i) {
                                    var s = arguments.length,
                                      o = Array(s);
                                    while (s--) o[s] = arguments[s];
                                    return e.handleChangeValue.apply(
                                      void 0,
                                      o.concat([e.index], [t])
                                    );
                                  },
                                },
                              }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          key: "state_aside_" + t.property,
                        },
                        [
                          "" === t.value
                            ? i(
                                "div",
                                {
                                  staticClass: "alart-icon",
                                },
                                [
                                  i("WarningIcon", {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.left",
                                        value: "缺失属性值",
                                        expression: "'缺失属性值'",
                                        modifiers: {
                                          left: !0,
                                        },
                                      },
                                    ],
                                    attrs: {
                                      size: "14",
                                    },
                                  }),
                                ],
                                1
                              )
                            : e._e(),
                        ]
                      ),
                    ];
                  }),
                  e._l(e.componentAssignments, function (t) {
                    return [
                      i(
                        "div",
                        {
                          key: t.propertyId,
                          class: {
                            "component-assignment__mutil":
                              t.type === e.ComponentPropType.Content,
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "component-assignment__label",
                            },
                            [e._v(e._s(t.name))]
                          ),
                        ]
                      ),
                      i(
                        "div",
                        {
                          key: "content_" + t.propertyId,
                          staticClass: "component-assignment__content",
                        },
                        [
                          i("AssignmentItem", {
                            staticStyle: {
                              flex: "1",
                            },
                            attrs: {
                              data: t,
                            },
                          }),
                        ],
                        1
                      ),
                      i("div", {
                        key: "aside_" + t.propertyId,
                      }),
                    ];
                  }),
                ],
                2
              ),
            ]
          );
        },
        Qo = [],
        Yo = i("6e9f"),
        Xo = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("TodoList", {
            attrs: {
              list: e.list,
              type: e.type,
              styleMode: "",
              styleItem: e.styleItem,
              maxSize: e.maxSize,
              maxToast: e.maxToast,
              disabledSort: e.disabledSort,
              disabledAdd: e.disabledAdd,
              enableSelect: e.enableSelect,
              disabledDelete: e.disabledDelete,
              simpleStyle: e.simpleStyle,
              headToursName: e.headToursName,
            },
            on: {
              add: e.add,
              del: e.del,
              resort: e.resort,
              selectItem: function (t) {
                return e.$emit("selectItem");
              },
            },
            scopedSlots: e._u(
              [
                {
                  key: "header",
                  fn: function () {
                    return [
                      e._t("header"),
                      e.styleMode && !e.styleItem
                        ? i(
                            "div",
                            {
                              directives: [
                                {
                                  name: "feature",
                                  rawName: "v-feature",
                                  value: "style",
                                  expression: "'style'",
                                },
                              ],
                              staticClass: "todolist__header--aside",
                            },
                            [
                              i(
                                "master-dropdown",
                                {
                                  attrs: {
                                    placement: "bottom-start",
                                    offset: 0,
                                    open: e.openStyle,
                                    needShieldeddrop: !0,
                                    boundariesElement: e.el,
                                  },
                                  on: {
                                    "update:open": function (t) {
                                      e.openStyle = t;
                                    },
                                    "apply-show": e.applyShow,
                                  },
                                  nativeOn: {
                                    click: function (e) {
                                      e.stopPropagation();
                                    },
                                  },
                                },
                                [
                                  i("MasterButtonIcon", {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.bottom",
                                        value: "创建或使用样式",
                                        expression: "'创建或使用样式'",
                                        modifiers: {
                                          bottom: !0,
                                        },
                                      },
                                    ],
                                    staticClass: "display-style-button",
                                    attrs: {
                                      slot: "dropButton",
                                      icon: "StyleIcon",
                                      isLocalIcon: !1,
                                      focusable: "",
                                      "data-tours-name": e.dataToursNamePanel,
                                    },
                                    on: {
                                      click: function (t) {
                                        e.openStyle = !e.openStyle;
                                      },
                                    },
                                    slot: "dropButton",
                                  }),
                                  e.openStyle
                                    ? i("StylePanel", {
                                        ref: "stylePanel",
                                        attrs: {
                                          slot: "dropMenu",
                                          type: e.type,
                                          styleItem: e.styleItem,
                                          styleCatalogList: e.styleCatalogList,
                                          notAdd: e.notAddStyle,
                                          dataToursName: e.dataToursNameCreate,
                                        },
                                        on: {
                                          setStyle: e.setStyle,
                                          addStyle: e.addStyle,
                                        },
                                        slot: "dropMenu",
                                      })
                                    : e._e(),
                                ],
                                1
                              ),
                            ],
                            1
                          )
                        : e._e(),
                    ];
                  },
                  proxy: !0,
                },
                {
                  key: "default",
                  fn: function (t) {
                    return [
                      e._t("default", null, {
                        data: t.data,
                        index: t.index,
                      }),
                    ];
                  },
                },
                {
                  key: "style",
                  fn: function () {
                    return [
                      i("StyleTodo", {
                        attrs: {
                          styleItem: e.styleItem,
                          styleCatalogList: e.styleCatalogList,
                          type: e.type,
                        },
                        on: {
                          setGridLayoutVisible: function (t) {
                            return e.$emit("setGridLayoutVisible");
                          },
                          addStyle: e.addStyle,
                        },
                      }),
                    ];
                  },
                  proxy: !0,
                },
              ],
              null,
              !0
            ),
          });
        },
        Zo = [],
        Jo = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "todolist__item",
              class: {
                active:
                  e.selectType === e.type && e.selectStyleId === e.styleItem.id,
              },
              on: {
                mousedown: e.mousedownHandler,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "todolist__item--content bg-tran-6",
                  on: {
                    mousedown: function (e) {
                      e.stopPropagation();
                    },
                  },
                },
                [
                  i(
                    "master-dropdown",
                    {
                      staticClass: "dropdown-layout",
                      attrs: {
                        placement: "bottom-start",
                        offset: 0,
                        open: e.openPropStyle,
                        disabled: e.disabled,
                        needShieldeddrop: !0,
                        boundariesElement: e.el,
                      },
                      on: {
                        "update:open": function (t) {
                          e.openPropStyle = t;
                        },
                        "apply-show": e.applyShow,
                      },
                      nativeOn: {
                        click: function (e) {
                          e.stopPropagation();
                        },
                      },
                    },
                    [
                      i("StyleBase", {
                        class: [
                          e.openPropStyle && "current-todu",
                          "hoverClass",
                        ],
                        attrs: {
                          slot: "dropButton",
                          type: e.type,
                          item: e.styleItem,
                        },
                        slot: "dropButton",
                      }),
                      e.openPropStyle
                        ? i("StylePanel", {
                            ref: "stylePanel",
                            staticStyle: {
                              transform: "translateX(-7px)",
                            },
                            attrs: {
                              slot: "dropMenu",
                              type: e.type,
                              styleCatalogList: e.styleCatalogList,
                              styleItem: e.styleItem,
                              notAdd: e.isColorCollection,
                              isColorCollection: e.isColorCollection,
                            },
                            on: {
                              setStyle: e.setStyle,
                              addStyle: e.addStyle,
                            },
                            slot: "dropMenu",
                          })
                        : e._e(),
                    ],
                    1
                  ),
                  i("MasterButtonIcon", {
                    staticClass: "unlink-button",
                    attrs: {
                      icon: "UnlinkIcon",
                      isLocalIcon: !1,
                      "mousedown.stop": "",
                      disabled: e.disabled,
                    },
                    on: {
                      click: function (t) {
                        return t.stopPropagation(), e.unlinkStyle(t);
                      },
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "todolist__item--aside",
                  on: {
                    mousedown: function (e) {
                      e.stopPropagation();
                    },
                  },
                },
                [
                  "text" === e.type || e.isColorCollection
                    ? e._e()
                    : i("MasterButtonIcon", {
                        class: "remove-" + e.type + "-style",
                        attrs: {
                          icon: "MinusIcon",
                          isLocalIcon: !1,
                        },
                        on: {
                          click: e.moveoutStyle,
                        },
                      }),
                  e.isColorCollection
                    ? i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value:
                              "选中使用颜色样式的 " + e.styleCount + " 个图层",
                            expression:
                              "`选中使用颜色样式的 ${styleCount} 个图层`",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          icon: "AimIcon",
                          isLocalIcon: !1,
                        },
                        on: {
                          click: function (t) {
                            return e.locateStyle(e.styleItem);
                          },
                        },
                      })
                    : e._e(),
                ],
                1
              ),
            ]
          );
        },
        ea = [],
        ta = i("aca8"),
        ia = i("80e7c"),
        sa = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "style-basic--box",
              style: {
                borderRadius: "6px 0px 0px 6px",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "style-basic",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "style-basic--color size-14",
                    },
                    [
                      i("ColorIcon", {
                        attrs: {
                          data: e.styleItem,
                          isLibrary: e.styleItem && e.styleItem.isLibrary,
                          isStyle: !0,
                        },
                      }),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip",
                          value: {
                            content:
                              "<div style='max-width: 193px; word-wrap:break-word;'><div>" +
                              e.funEncodeHTML(e.styleItem.labelName) +
                              "</div>" +
                              (e.styleItem.description
                                ? "<div style='opacity: 0.5'>" +
                                  e.funEncodeHTML(e.styleItem.description) +
                                  "</div>"
                                : "") +
                              "</div>",
                            overflowDisplay: !e.styleItem.description,
                            offsetX: -3,
                          },
                          expression:
                            "{\n            content: `<div style='max-width: 193px; word-wrap:break-word;'><div>${funEncodeHTML(styleItem.labelName)}</div>${\n            styleItem.description ? `<div style='opacity: 0.5'>${funEncodeHTML(styleItem.description)}</div>` : ''\n            }</div>`,\n            overflowDisplay: !styleItem.description,\n            offsetX: -3\n          }",
                        },
                      ],
                      staticClass:
                        "style-basic--name text-tran-50 truncate item-name",
                    },
                    [e._v(" " + e._s(e.styleItem.name) + " ")]
                  ),
                ]
              ),
            ]
          );
        },
        oa = [],
        aa = i("33b1");
      let na = class extends n["g"] {
        constructor() {
          super(...arguments), (this.funEncodeHTML = aa["a"]);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !1,
          }),
        ],
        na.prototype,
        "type",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          na.prototype,
          "item",
          void 0
        ),
        (na = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ColorIcon: jt["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])("style", {
                  styleItem(e) {
                    if (!1 === this.item.isExternal)
                      return e.styleMap[this.item.ukey];
                    const t = this.item.ukey || this.item.id,
                      i = e.subscribeMap[t],
                      s = e.usedStyleMap[t];
                    return s &&
                      i &&
                      i.name === s.name &&
                      i.version === s.styleSignature
                      ? s
                      : i || s;
                  },
                })
              ),
            }),
          ],
          na
        ));
      var ra = na,
        ca = ra,
        la =
          (i("f8b5"), Object(_["a"])(ca, sa, oa, !1, null, "1528e7ec", null)),
        da = la.exports;
      let ua = class extends n["g"] {
        constructor() {
          super(...arguments), (this.openPropStyle = !1);
        }
        unlinkStyle() {
          this.setSelectProps({
            type: "",
          }),
            this.isColorCollection
              ? this.styleItem.isLibrary
                ? Object(ta["a"])(Lt["a"].ColorCollection, {
                    type: 15,
                    value: {
                      key: this.styleItem.ukey,
                      signature: this.styleItem.version,
                    },
                  })
                : Object(ta["a"])(Lt["a"].ColorCollection, {
                    type: 3,
                    value: {
                      styleId: this.styleItem.id,
                    },
                  })
              : k["a"].selector[this.type + "s"].changeStyleById(""),
            this.$emit("unlinkStyle");
        }
        get el() {
          return document.body;
        }
        applyShow() {
          this.$nextTick(this.$refs.stylePanel.inputFocus.bind(this));
        }
        addStyle(e) {
          this.$emit("addStyle", e), (this.openPropStyle = !1);
        }
        setStyle(e) {
          if (this.isColorCollection) {
            const t = {};
            let i = 5;
            this.styleItem.isLibrary
              ? "string" === typeof e
                ? ((i = 9),
                  (t.key = this.styleItem.ukey),
                  (t.signature =
                    this.styleOriginSign || this.styleItem.version),
                  (t.newStyleId = e))
                : ((i = 11),
                  (t.key = this.styleItem.ukey),
                  (t.signature =
                    this.styleOriginSign || this.styleItem.version),
                  (t.newKey = e.ukey),
                  (t.newSignature = e.version))
              : "string" === typeof e
              ? ((t.styleId = this.styleItem.id), (t.newStyleId = e))
              : ((i = 7),
                (t.styleId = this.styleItem.id),
                (t.newKey = e.ukey),
                (t.newSignature = e.version)),
              Object(ta["a"])(Lt["a"].ColorCollection, {
                type: i,
                value: Object.assign({}, t),
              });
          } else
            this.isColorCollection ||
              ("string" === typeof e
                ? k["a"].selector[this.type + "s"].changeStyleById(e)
                : k["a"].selector[this.type + "s"].changeStyleByLibrary(
                    e.ukey,
                    String(e.version)
                  ),
              this.$emit("setGridLayoutVisible"));
          this.openPropStyle = !1;
        }
        locateStyle(e) {
          this.$emit("locateStyle", e);
        }
        moveoutStyle() {
          k["a"].mergeStepStart(),
            this.unlinkStyle(),
            k["a"].selector[this.type + "s"].replaceItems([]),
            k["a"].mergeStepEnd();
        }
        mousedownHandler() {
          this.isColorCollection ||
            this.setSelectProps({
              type: this.type,
              styleItemId: this.styleItem.id,
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Array,
            default: () => [],
            required: !1,
          }),
        ],
        ua.prototype,
        "styleCatalogList",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          ua.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          ua.prototype,
          "styleCount",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          ua.prototype,
          "styleOriginSign",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          ua.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          ua.prototype,
          "disabled",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ua.prototype,
          "isColorCollection",
          void 0
        ),
        (ua = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                StylePanel: ia["a"],
                StyleBase: da,
              },
              methods: Object.assign(
                {},
                Object(r["b"])("basicState", ["setSelectProps"])
              ),
              computed: Object.assign(
                {},
                Object(r["e"])({
                  selectType: (e) => e.basicState.selectProps.type,
                  selectStyleId: (e) => e.basicState.selectProps.styleItemId,
                })
              ),
            }),
          ],
          ua
        ));
      var ha = ua,
        pa = ha,
        ma = (i("697a"), Object(_["a"])(pa, Jo, ea, !1, null, null, null)),
        ga = ma.exports;
      let ba = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isFirstOpenStyle = !0),
            (this.openStyle = !1);
        }
        get el() {
          return document.body;
        }
        get notAddStyle() {
          return this.notAdd || 0 === this.list.length;
        }
        applyShow() {
          this.$nextTick(this.$refs.stylePanel.inputFocus.bind(this));
        }
        add(e) {
          this.$emit("add", e);
        }
        del(e) {
          this.$emit("del", e);
        }
        resort(...e) {
          this.$emit("resort", ...e);
        }
        addStyle(e) {
          if (this.styleItem)
            return (
              k["a"].mergeStepStart(),
              k["a"].selector[this.type + "s"].changeStyleById(""),
              k["a"].selector[this.type + "s"].createStyle(e),
              (this.openStyle = !1),
              void k["a"].mergeStepEnd()
            );
          k["a"].selector[this.type + "s"].createStyle(e),
            (this.openStyle = !1);
        }
        setStyle(e) {
          "string" === typeof e
            ? k["a"].selector[this.type + "s"].changeStyleById(e)
            : k["a"].selector[this.type + "s"].changeStyleByLibrary(
                e.ukey,
                String(e.version)
              ),
            (this.openStyle = !1),
            this.$emit("setStyleSensor"),
            this.$emit("setGridLayoutVisible");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
          }),
        ],
        ba.prototype,
        "headToursName",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
            }),
          ],
          ba.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          ba.prototype,
          "list",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              default: () => [],
              required: !1,
            }),
          ],
          ba.prototype,
          "styleCatalogList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: -1,
              required: !1,
            }),
          ],
          ba.prototype,
          "maxSize",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          ba.prototype,
          "maxToast",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "disabledSort",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "enableSelect",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "simpleStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "styleMode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          ba.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "notAdd",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "disabledAdd",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ba.prototype,
          "disabledDelete",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          ba.prototype,
          "dataToursNamePanel",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          ba.prototype,
          "dataToursNameCreate",
          void 0
        ),
        (ba = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                TodoList: ss["a"],
                StyleTodo: ga,
                MasterButtonIcon: Mi["a"],
                StylePanel: ia["a"],
              },
            }),
          ],
          ba
        ));
      var va = ba,
        fa = va,
        ya = Object(_["a"])(fa, Xo, Zo, !1, null, null, null),
        _a = ya.exports,
        Ca = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "component-assignment",
            },
            [
              e.data.type === e.ComponentPropType.Boolean
                ? i("Toggle", {
                    attrs: {
                      "default-open": e.data.value,
                    },
                    on: {
                      change: e.setValue,
                    },
                  })
                : e._e(),
              e.data.type === e.ComponentPropType.Content
                ? i("MasterInput", {
                    attrs: {
                      textarea: "",
                      autoHeight: "",
                      placeholder: null === e.showValue ? "多个值" : "",
                    },
                    on: {
                      blur: function (t) {
                        return e.setValue(e.showValue);
                      },
                    },
                    model: {
                      value: e.showValue,
                      callback: function (t) {
                        e.showValue = t;
                      },
                      expression: "showValue",
                    },
                  })
                : e._e(),
              e.data.type === e.ComponentPropType.Instance
                ? i("ComponentSelector", {
                    attrs: {
                      componentId: e.data.value,
                      currentComponent: e.currentComponent,
                      onChange: e.onComponentChange,
                    },
                  })
                : e._e(),
            ],
            1
          );
        },
        Sa = [],
        Ia = i("cc9e");
      function Oa() {
        if (1 !== me["a"].state.basicState.selectIds.length) return null;
        const e = me["a"].state.basicProps.item;
        if (e.isPartOfComponent) {
          const e = Object(j["d"])();
          let t = e[me["a"].state.basicState.selectIds[0]];
          while (t && !t.isComponent) t = e[t.parent];
          return null === t || void 0 === t ? void 0 : t.id;
        }
        return e.isComponent
          ? me["a"].state.basicState.selectIds[0]
          : e.isInstance
          ? e.componentKey
          : e.isComponentSet
          ? e.children
          : "";
      }
      function ka(e) {
        const t = Oa();
        return (
          !t ||
          (t instanceof Array
            ? t.every(
                (t) =>
                  I["b"].Module.checkInstanceValidToComponent &&
                  I["b"].Module.checkInstanceValidToComponent(e, t)
              )
            : I["b"].Module.checkInstanceValidToComponent &&
              I["b"].Module.checkInstanceValidToComponent(e, t))
        );
      }
      let wa = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ComponentPropType = Yo["b"]),
            (this.showValue = "");
        }
        valueHandler(e) {
          this.showValue = e;
        }
        get currentComponent() {
          return this.data.type !== Yo["b"].Instance
            ? {}
            : Object(Ia["b"])(this.data.value, me["a"].state.component);
        }
        setValue(e) {
          "" !== e
            ? (_e["c"].track(_e["a"].COMPONENT_PROPERTIES, {
                action_type: "use",
                action_detail: ["", "instanceswipe", "boolean", "text"][
                  this.data.type
                ],
              }),
              k["a"].selector.setComponentPropAssign(
                this.data.propertyId,
                e,
                this.data.type
              ))
            : (this.showValue = this.data.value);
        }
        onComponentChange(e, t) {
          const i = (null === t || void 0 === t ? void 0 : t.isLibrary)
            ? O["a"].Module.getComponentIdByKey(t.ukey, t.componentSignature)
            : e.id;
          ka(i)
            ? this.setValue(i)
            : this.$toast({
                content: "不能设置包含该组件的实例",
                timeout: 1e3,
                position: "top",
              });
        }
      };
      Object(a["__decorate"])([Object(n["e"])()], wa.prototype, "data", void 0),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data.value", {
              immediate: !0,
            }),
          ],
          wa.prototype,
          "valueHandler",
          null
        ),
        (wa = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                MasterInput: pe["a"],
                MSelector: Pe["b"],
                ComponentSelector: Wo,
                Toggle: de["a"],
              },
            }),
          ],
          wa
        ));
      var xa = wa,
        La = xa,
        Aa =
          (i("381e"), Object(_["a"])(La, Ca, Sa, !1, null, "036f721e", null)),
        Ta = Aa.exports;
      let ja = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ComponentPropType = Yo["b"]),
            (this.labels = [
              {
                value: -1,
                label: "添加新值",
              },
              {
                value: -2,
                label: "重命名",
              },
            ]);
        }
        getOptions(e) {
          var t;
          const i = this.fullData.find((t) => t.property === e.property),
            s = i.values.map((e) => ({
              value: e,
              label: e,
            }));
          if (!this.isInstance) {
            s[s.length - 1].divid = !0;
            let o = 0;
            if (void 0 === e.value) o = 1;
            else if ("" === e.value) o = 0;
            else {
              const s = i.values.indexOf(e.value);
              o =
                (null !== (t = i.cnts[s]) && void 0 !== t ? t : 0) > 1 ? 1 : 0;
            }
            const a = this.labels[o];
            s.push({
              value: a.value,
              label: a.label,
            });
          }
          return s;
        }
        useToggle(e) {
          const t = this.fullData.find((t) => t.property === e.property).values;
          if (2 === t.length) {
            const e = t
              .map((e) => e.toLowerCase())
              .sort()
              .join();
            return (
              "false,true" === e ||
              "否,是" === e ||
              "off,on" === e ||
              "关,开" === e ||
              "no,yes" === e
            );
          }
          return !1;
        }
        handleChangeValue(e, t, i) {
          let s = e;
          (-1 !== e && -2 !== e) ||
            ((s = "新的值"),
            O["a"].nextFrame(() => {
              this.$nextTick(() => {
                this.$refs.variantSelector[t].$refs.select.$refs.input.focus();
              });
            })),
            this.$emit("change", s || "新的值", i);
        }
        handleToggleChange(e, t, i) {
          const s = this.fullData.find((e) => e.property === i.property).values,
            o = s.find((e) => e !== i.value);
          this.$emit("change", o, i);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
            default: () => [],
          }),
        ],
        ja.prototype,
        "variantData",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
              default: () => [],
            }),
          ],
          ja.prototype,
          "fullData",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: () => [],
            }),
          ],
          ja.prototype,
          "componentAssignments",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          ja.prototype,
          "isInstance",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: 30,
            }),
          ],
          ja.prototype,
          "paddingRight",
          void 0
        ),
        (ja = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterSelector: Pe["e"],
                Toggle: de["a"],
                StyleTodoList: _a,
                AssignmentItem: Ta,
              },
              filters: {
                toggleValue(e) {
                  return (
                    "true" === e.toLowerCase() ||
                    "是" === e ||
                    "on" === e.toLowerCase() ||
                    "yes" === e.toLowerCase() ||
                    "开" === e
                  );
                },
              },
            }),
          ],
          ja
        ));
      var Ma = ja,
        Ea = Ma,
        Pa =
          (i("2b18"), Object(_["a"])(Ea, Ko, Qo, !1, null, "4671f366", null)),
        Da = Pa.exports,
        Ba = i("9f9f"),
        Na = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.showReference && e.innerShow && e.hasRefs
            ? i(
                "div",
                {
                  class: {
                    panel_content_wrap: 1 === e.mode && !e.disabledMarginTop,
                  },
                },
                [
                  e.componentPropsList.length
                    ? i(
                        "master-dropdown",
                        {
                          staticClass: "component-status-menu",
                          attrs: {
                            placement: "bottom-start",
                          },
                          on: {
                            command: e.changeval,
                          },
                        },
                        [
                          0 === e.mode
                            ? i("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "关联组件属性",
                                    expression: "'关联组件属性'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  slot: "dropButton",
                                  icon: "ComponentPropIcon",
                                },
                                slot: "dropButton",
                              })
                            : i(
                                "div",
                                {
                                  staticClass: "component-ref",
                                  attrs: {
                                    slot: "dropButton",
                                  },
                                  slot: "dropButton",
                                },
                                [
                                  0 === e.type
                                    ? i("ComponentIcon")
                                    : 1 === e.type
                                    ? i("InstanceIcon")
                                    : 2 === e.type
                                    ? i("EyeIcon")
                                    : 3 === e.type
                                    ? i("TextIcon")
                                    : e._e(),
                                  i(
                                    "span",
                                    {
                                      staticStyle: {
                                        flex: "1",
                                      },
                                    },
                                    [e._v(e._s(e.activeValue.name))]
                                  ),
                                  i("MasterButtonSwitch", {
                                    staticClass: "component-ref__unlink",
                                    attrs: {
                                      type: "trans",
                                      icon: "UnlinkIcon",
                                    },
                                    nativeOn: {
                                      mousedown: function (t) {
                                        return (
                                          t.stopPropagation(), e.unbindRef(t)
                                        );
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                          i("master-menu", {
                            staticClass: "component-status-drop-menu",
                            attrs: {
                              slot: "dropMenu",
                              width: "127px",
                              list: e.dropMenu,
                              hoverActived: "",
                              getChecked: e.getChecked,
                            },
                            slot: "dropMenu",
                          }),
                        ],
                        1
                      )
                    : e.activeValue
                    ? i(
                        "div",
                        {
                          staticClass: "component-ref disabled",
                          attrs: {
                            slot: "dropButton",
                          },
                          slot: "dropButton",
                        },
                        [
                          0 === e.type
                            ? i("ComponentIcon")
                            : 1 === e.type
                            ? i("InstanceIcon")
                            : 2 === e.type
                            ? i("EyeIcon")
                            : 3 === e.type
                            ? i("TextIcon")
                            : e._e(),
                          i(
                            "span",
                            {
                              staticStyle: {
                                flex: "1",
                              },
                            },
                            [e._v(e._s(e.activeValue.name))]
                          ),
                        ],
                        1
                      )
                    : i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "关联组件属性",
                            expression: "'关联组件属性'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          slot: "dropButton",
                          icon: "ComponentPropIcon",
                        },
                        on: {
                          click: function (t) {
                            return e.changeval({
                              value: "new",
                            });
                          },
                        },
                        slot: "dropButton",
                      }),
                ],
                1
              )
            : e._e();
        },
        Fa = [];
      let Ra = class extends n["g"] {
        constructor() {
          super(...arguments), (this.menuStatus = !1);
        }
        get showReference() {
          return (
            (this.item.isPartOfComponent && !this.item.isPartOfInstance) ||
            (this.item.isPartOfInstance &&
              !this.item.isPartOfComponent &&
              this.activeValue)
          );
        }
        get componentPropsList() {
          var e;
          return null !== (e = this.componentPropsByType[this.type]) &&
            void 0 !== e
            ? e
            : [];
        }
        get dropMenu() {
          const e = this.componentPropsList.map((e) => ({
            label: e.name,
            value: e.propertyId,
          }));
          return (
            e.length && (e[e.length - 1].divid = !0),
            e.push({
              label: "新建属性",
              value: "new",
            }),
            e
          );
        }
        get activeValue() {
          var e;
          return null === (e = this.componentRef) || void 0 === e
            ? void 0
            : e[this.type];
        }
        get hasRefs() {
          return !!this.componentRef;
        }
        get innerShow() {
          return 0 === this.mode
            ? !this.activeValue
            : 1 === this.mode && !!this.activeValue;
        }
        innerShowHander(e) {
          this.$emit("update:isShow", e);
        }
        changeval(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            "new" === e.value
              ? O["a"].nextFrame(() => {
                  this.$nextTick(() => {
                    let e;
                    switch (this.type) {
                      default:
                      case Yo["b"].Boolean:
                        e = this.item.isVisible;
                        break;
                      case Yo["b"].Content:
                        e = this.item.characters;
                        break;
                      case Yo["b"].Instance:
                        e = this.item.componentKey;
                        break;
                    }
                    this.openAddCompPropDialog(
                      this.type,
                      this.item.name,
                      e,
                      !0
                    );
                  });
                })
              : (_e["c"].track(_e["a"].COMPONENT_PROPERTIES, {
                  action_position: "layer",
                  action_type: "link",
                  action_detail: ["", "instanceswipe", "boolean", "text"][
                    this.type
                  ],
                }),
                k["a"].selector.setComponentPropRef(e.value, this.type));
          });
        }
        unbindRef() {
          var e;
          k["a"].selector.removeComponentPropRef(
            null === (e = this.activeValue) || void 0 === e
              ? void 0
              : e.propertyId,
            this.type
          );
        }
        getChecked(e) {
          var t;
          return (
            e.value ===
            (null === (t = this.activeValue) || void 0 === t
              ? void 0
              : t.propertyId)
          );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        Ra.prototype,
        "type",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: 0,
            }),
          ],
          Ra.prototype,
          "mode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ra.prototype,
          "isShow",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          Ra.prototype,
          "disabledMarginTop",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("innerShow", {
              immediate: !0,
            }),
          ],
          Ra.prototype,
          "innerShowHander",
          null
        ),
        (Ra = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                MasterButtonSwitch: us["a"],
                MasterMenu: Pe["d"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["c"])("component", ["componentPropsByType"])
                  ),
                  Object(r["e"])("component", ["componentRef"])
                ),
                Object(r["e"])("basicProps", ["item"])
              ),
              inject: ["openAddCompPropDialog"],
            }),
          ],
          Ra
        ));
      var Ha = Ra,
        $a = Ha,
        Va =
          (i("600f"), Object(_["a"])($a, Na, Fa, !1, null, "12eeae43", null)),
        za = Va.exports;
      let Ua = class extends n["g"] {
        constructor() {
          super(...arguments), (this.referenceShow = !1);
        }
        get list() {
          var e, t;
          const i = this.INSTANCE_MENU_LIST;
          let s;
          const o = !(
            this.overrideState & Ba["a"].allState ||
            !1 !== this.isInstanceChanged
          );
          if (this.isInstance) {
            let t = 2;
            (s = i.slice(0, 3)),
              (this.componentSetKey || this.isEditComponentHidden) &&
                ((t = 1), s.splice(1, 1)),
              o &&
                (s[t] = Object.assign(
                  Object.assign(
                    {},
                    null !== (e = s[t]) && void 0 !== e ? e : {}
                  ),
                  {
                    disabled: !0,
                  }
                ));
          } else
            (s = i.slice(2, 3)),
              o &&
                (s[0] = Object.assign(
                  Object.assign(
                    {},
                    null !== (t = s[0]) && void 0 !== t ? t : {}
                  ),
                  {
                    disabled: !0,
                  }
                ));
          return (
            this.overrideState & Ba["a"].name && s.push(i[3]),
            this.overrideState & Ba["a"].size && s.push(i[4]),
            this.overrideState & Ba["a"].fill && s.push(i[5]),
            this.overrideState & Ba["a"].stroke && s.push(i[6]),
            this.overrideState & Ba["a"].effect && s.push(i[7]),
            this.overrideState & Ba["a"].other && s.push(i[8]),
            this.textState & Ba["a"].textOverride && s.push(i[9]),
            this.textState &
              (Ba["a"].rootTextStyleOverride |
                Ba["a"].superLinkOverride |
                Ba["a"].align |
                Ba["a"].paragraphAlign |
                Ba["a"].boundMode |
                Ba["a"].paragraphIndent |
                Ba["a"].SpacingOverride) && s.push(i[10]),
            this.overrideState & Ba["a"].prorotype && s.push(i[11]),
            s
          );
        }
        get variantDescription() {
          var e;
          const t =
            this.componentMap[this.componentId] ||
            this.usedComponentMap[this.versionCatlog[this.componentId]];
          return null !==
            (e = null === t || void 0 === t ? void 0 : t.description) &&
            void 0 !== e
            ? e
            : "";
        }
        get description() {
          var e;
          return null === (e = this.currentComponent) || void 0 === e
            ? void 0
            : e.description;
        }
        get isHidden() {
          var e, t;
          return (
            (null === (e = this.currentComponent) || void 0 === e
              ? void 0
              : e.isHidden) &&
            !(null === (t = this.currentComponent) || void 0 === t
              ? void 0
              : t.isExternal)
          );
        }
        get isEditComponentHidden() {
          return null === this.componentId || this.isHidden;
        }
        get showProps() {
          return (
            (this.variantData && this.variantData.length) ||
            (this.componentAssignments && this.componentAssignments.length)
          );
        }
        detachInstanceHandler() {
          this.detachInstance(),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "instance",
              action_parameter2: "detach",
            });
        }
        detachInstance() {
          k["a"].selector.detachInstance();
        }
        restoreComponent() {
          k["a"].selector.restoreComponent(this.componentId);
        }
        editComponentHandler() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(p["e"])();
          });
        }
        handleLocate() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield Object(p["e"])();
          });
        }
        changeCurrent(e) {
          switch (e.value) {
            default:
              break;
            case 0:
              this.detachInstance();
              break;
            case 1:
              Object(p["e"])();
              break;
            case 2:
              k["a"].selector.setOverrideState(Ba["a"].allState, !0);
              break;
            case 3:
              k["a"].selector.setOverrideState(Ba["a"].name);
              break;
            case 4:
              k["a"].selector.setOverrideState(Ba["a"].size);
              break;
            case 5:
              k["a"].selector.setOverrideState(Ba["a"].fill);
              break;
            case 6:
              k["a"].selector.setOverrideState(Ba["a"].stroke);
              break;
            case 7:
              k["a"].selector.setOverrideState(Ba["a"].effect);
              break;
            case 8:
              k["a"].selector.setOverrideState(Ba["a"].other);
              break;
            case 9:
              k["a"].selector.setTextState(Ba["a"].textOverride);
              break;
            case 10:
              k["a"].selector.setTextState(
                this.textState & Ba["a"].textOverride
                  ? this.textState - Ba["a"].textOverride
                  : this.textState
              );
              break;
            case 11:
              k["a"].selector.setOverrideState(Ba["a"].prorotype);
              break;
          }
        }
        handleVariantChange(e, t) {
          this.$emit("variantChange", e, t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
          }),
        ],
        Ua.prototype,
        "variantData",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ua.prototype,
          "fullData",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ua.prototype,
          "componentAssignments",
          void 0
        ),
        (Ua = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ComponentSelector: Wo,
                MasterMenu: Pe["d"],
                MasterToolButton: Go["a"],
                VariantItem: Da,
                ReferenceButton: za,
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        {},
                        Object(r["e"])("basicProps", {
                          overrideState: (e) => e.item.overrideState,
                          textState: (e) => e.item.textState,
                          isInstance: (e) => e.item.isInstance,
                          isInstanceChanged: (e) => e.item.isInstanceChanged,
                          componentId: (e) => e.item.componentKey,
                          componentSetKey: (e) => e.item.componentSetKey,
                          isPartOfComponent: (e) => e.item.isPartOfComponent,
                        })
                      ),
                      Object(r["c"])("basicProps", ["currentComponent"])
                    ),
                    Object(r["e"])("basicState", ["currentPageId"])
                  ),
                  Object(r["e"])("component", [
                    "componentMap",
                    "usedComponentMap",
                    "versionCatlog",
                  ])
                ),
                Object(r["c"])("dictionary", ["INSTANCE_MENU_LIST"])
              ),
            }),
          ],
          Ua
        ));
      var qa = Ua,
        Wa = qa,
        Ga =
          (i("64b6"), Object(_["a"])(Wa, vo, fo, !1, null, "6fd8958d", null)),
        Ka = Ga.exports,
        Qa = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "basic__props--item wh adjust",
              attrs: {
                name: "weight",
              },
            },
            [
              i("MSelector", {
                attrs: {
                  options: e.widthOptions,
                  value: e.widthAdjustValue,
                  masterIcon: e.widthSelectIcons[e.widthAdjustValue],
                },
                on: {
                  change: function (t) {
                    return e.handleAjustChange("width", t);
                  },
                },
              }),
              i("MSelector", {
                attrs: {
                  options: e.heightOptions,
                  value: e.heightAdjustValue,
                  masterIcon: e.heightSelectIcons[e.heightAdjustValue],
                },
                on: {
                  change: function (t) {
                    return e.handleAjustChange("height", t);
                  },
                },
              }),
            ],
            1
          );
        },
        Ya = [];
      const Xa = {
          [ys["b"].Auto]: "hug",
          [ys["b"].Fix]: "fixed",
          [ys["b"].Stretch]: "fill",
        },
        Za = {
          width: "horz",
          height: "vert",
        };
      function Ja(e, t) {
        _e["c"].track(_e["a"].EVENT_CLICK, {
          action_position: "canvas",
          action_parameter0: "design",
          action_parameter1: "resizing",
          action_parameter2: Za[e],
          action_type: "choose",
          action_detail: Xa[t],
        });
      }
      let en = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.widthSelectIcons = [
              "LineAltHIcon",
              "ArrowCompressionHIcon",
              "ArrowsAltHIcon",
            ]),
            (this.heightSelectIcons = [
              "LineAltVIcon",
              "ArrowCompressionVIcon",
              "ArrowsAltVIcon",
            ]);
        }
        get heightOptions() {
          return this.getOptions(ys["a"], this.selectItem.heightResizing);
        }
        get widthOptions() {
          return this.getOptions(ys["a"], this.selectItem.widthResizing);
        }
        get widthAdjustValue() {
          return this.widthOptions.length
            ? this.selectItem.widthResizing
            : null;
        }
        get heightAdjustValue() {
          return this.heightOptions.length
            ? this.selectItem.heightResizing
            : null;
        }
        get isInAutoLayoutLayer() {
          return this.selectItem.isAllInAL;
        }
        get isAutoLayoutLayer() {
          return this.selectItem.isAllAutoLayout;
        }
        get isAbsolute() {
          return (
            null !== this.selectItem.layoutPositioning &&
            this.selectItem.layoutPositioning === se["p"].Absolute
          );
        }
        getOptions(e, t) {
          if (!this.selectItem.isALrelevant) return [];
          let i = e.map((e) => Object.assign({}, e)),
            s = [];
          return (
            this.isAutoLayoutLayer &&
            this.isInAutoLayoutLayer &&
            this.isAbsolute
              ? ((s = [ys["b"].Fix, ys["b"].Auto]),
                (i = i.filter((e) => s.includes(e.value))))
              : (this.isInAutoLayoutLayer && this.isAutoLayoutLayer) ||
                this.selectItem.type === se["o"].Text ||
                ((s = [ys["b"].Fix]),
                this.isInAutoLayoutLayer &&
                  !this.isAutoLayoutLayer &&
                  (s = [ys["b"].Fix, ys["b"].Stretch]),
                this.isAutoLayoutLayer && (s = [ys["b"].Fix, ys["b"].Auto]),
                (i = i.filter((e) => s.includes(e.value)))),
            -1 === t &&
              i.unshift({
                label: "多个值",
                value: -1,
                divid: !0,
                disabled: !0,
              }),
            i
          );
        }
        handleAjustChange(e, t) {
          k["a"].selector[ee["a"].setAutoLayout]({
            [e + "Resizing"]: t,
          }),
            Ja(e, t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        en.prototype,
        "selectItem",
        void 0
      ),
        (en = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MSelector: Pe["b"],
              },
            }),
          ],
          en
        ));
      var tn = en,
        sn = tn,
        on =
          (i("b6d2"), Object(_["a"])(sn, Qa, Ya, !1, null, "056cee36", null)),
        an = on.exports;
      let nn = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.originWidth = 1),
            (this.validate = ut),
            (this.isMac = Object(Z["hb"])()),
            (this.valueDecorator = Cs),
            (this.timer = null),
            (this.cornerRadiusVisible = !1),
            (this.arcDataVisible = !1),
            (this.keydownHandler = Z["ob"]);
        }
        selectIdsHandler() {
          (this.originWidth = this.selectWidthValue || 1),
            (this.arcDataVisible = this.needShowArcData),
            (this.cornerRadiusVisible = this.selectItem.cornerRadius.some(
              (e) => e !== this.selectItem.cornerRadius[0]
            ));
        }
        get scale() {
          return this.selectWidthValue / this.originWidth;
        }
        get isShowGeometric() {
          return "undefined" !== typeof this.selectItem.rotation;
        }
        get partOfComponent() {
          var e;
          if (1 !== this.selectIds.length) return null;
          if (this.selectItem.isPartOfComponent) {
            const t = Object(j["d"])();
            let i = t[this.selectIds[0]];
            while (i && !i.isComponent) i = t[i.parent];
            return (
              null === (e = t[i.parent]) || void 0 === e
                ? void 0
                : e.isComponentSet
            )
              ? t[i.parent]
              : i;
          }
          if (this.selectItem.isComponent) {
            const e = Object(j["d"])(),
              t = e[this.selectItem.parent];
            if (t && t.isComponentSet) return t;
          }
          return null;
        }
        get isPartOfComponentSet() {
          var e;
          return (
            1 === this.selectIds.length &&
            !!(null === (e = Object(j["d"])()[this.selectIds]) || void 0 === e
              ? void 0
              : e.isPartOfComponentSet)
          );
        }
        get needShowArcData() {
          var e, t, i, s, o;
          return (
            "undefined" !==
              (null === (e = this.selectItem) || void 0 === e
                ? void 0
                : e.arcData) &&
            "undefined" !==
              typeof (null === (t = this.selectItem.arcData) || void 0 === t
                ? void 0
                : t.startingAngle) &&
            ((1 !==
              (null === (i = this.selectItem.arcData) || void 0 === i
                ? void 0
                : i.sweep) &&
              -1 !==
                (null === (s = this.selectItem.arcData) || void 0 === s
                  ? void 0
                  : s.sweep)) ||
              0 !==
                (null === (o = this.selectItem.arcData) || void 0 === o
                  ? void 0
                  : o.innerRadius))
          );
        }
        needShowArcDataHandler(e) {
          e && !this.arcDataVisible && (this.arcDataVisible = !0);
        }
        get isAbsolute() {
          return (
            null !== this.selectItem.layoutPositioning &&
            this.selectItem.layoutPositioning === se["p"].Absolute
          );
        }
        get disabledBoundX() {
          return (
            this.selectItem.isPartOfInstance ||
            this.isExtendLayer ||
            this.isConnectorText ||
            (this.isInAutoLayoutLayer && !this.isAbsolute)
          );
        }
        get disabledBoundY() {
          return this.disabledBoundX;
        }
        get lockRatioDisabled() {
          return this.widthDisabled || this.heightDisabled;
        }
        get widthDisabled() {
          return this.geometricScale
            ? this.selectItem.isPartOfInstance || !this.selectIds.length
            : this.selectItem.isPartOfInstance ||
                this.isExtendLayer ||
                this.isConnectorText ||
                !this.selectIds.length ||
                this.selectItem.widthResizing === ys["b"].Auto;
        }
        get heightDisabled() {
          return this.geometricScale
            ? this.selectItem.isPartOfInstance || !this.selectIds.length
            : this.selectItem.isPartOfInstance ||
                this.isExtendLayer ||
                this.isConnectorText ||
                !this.selectIds.length ||
                this.selectItem.heightResizing === ys["b"].Auto;
        }
        changeAbsolute() {
          let e;
          (e =
            null === this.selectItem.layoutPositioning
              ? se["p"].Absolute
              : this.selectItem.layoutPositioning === se["p"].Absolute
              ? se["p"].Auto
              : se["p"].Absolute),
            k["a"].selector.setLayoutPositioning(e),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "autolayout",
              action_parameter2: "absposition_btn",
            });
        }
        arcDataDecorator(e, t) {
          return 0 === t
            ? this.valueDecorator.angleDecorator(e)
            : this.valueDecorator.ratioDecorator(e);
        }
        arcDataValidate(e, t, i) {
          return 0 === i
            ? this.validate.checkAngle(e, t[i])
            : 1 === i
            ? this.validate.checkSweep(e, t[i])
            : this.validate.ratioValidate(e, t[i]);
        }
        setArcData(e, t, i) {
          0 === i
            ? k["a"].selector.setStartingAngle(e)
            : 1 === i
            ? k["a"].selector.setSweep(e)
            : k["a"].selector.setInnerRadius(e);
        }
        get variantConflict() {
          if (!this.variantProperties.length) return "";
          let e = !0,
            t = !1;
          for (const i of this.variantProperties)
            "" === i.value ? (t = !0) : (e = !1);
          return e
            ? "组件名称不合法"
            : t
            ? "该可变组件有属性未设置状态，需要添加状态解决该缺失。"
            : "";
        }
        get showAdjust() {
          return (
            !!Object(w["isFeatureEnabled"])("autoLayout") &&
            this.selectItem.isALrelevant &&
            (!this.isAbsolute || this.selectItem.isAllAutoLayout) &&
            !this.geometricScale
          );
        }
        get selectWidthValue() {
          return this.selectIds.length
            ? this.geometricScale
              ? this.selectItem.selectRect.W + ""
              : this.selectItem.bound.width
            : "";
        }
        get displayCornerRadius() {
          return (
            (this.selectItem.type !== se["o"].Ellipse || this.arcDataVisible) &&
            "undefined" !== typeof this.selectItem.cornerRadius &&
            this.selectItem.cornerRadius.length
          );
        }
        get selectWidthPlaceholder() {
          return this.geometricScale
            ? this.selectItem.selectRect.W + ""
            : null === this.selectItem.bound.width
            ? "多个值"
            : "";
        }
        get selectHeightValue() {
          return this.selectIds.length
            ? this.geometricScale
              ? this.selectItem.selectRect.H + ""
              : this.selectItem.bound.height
            : "";
        }
        get selectHeightPlaceholder() {
          return this.geometricScale
            ? this.selectItem.selectRect.H + ""
            : null === this.selectItem.bound.height
            ? "多个值"
            : "";
        }
        get isInAutoLayoutLayer() {
          return this.selectItem.isAllInAL;
        }
        get absoluteDisabled() {
          return this.selectItem.isPartOfInstance;
        }
        setField(e, t, ...i) {
          Ki["a"].setTag(e),
            "scale" !== e
              ? this.selectItem[e] !== t &&
                (("opacity" !== e && "blendMode" !== e) ||
                  (!this.selectItem.isVisible &&
                    this.setField("isVisible", !0)),
                k["a"].selector.setField(e, t, ...i))
              : k["a"].selector.setField(
                  "width",
                  this.originWidth * t,
                  this.anchorMode
                );
        }
        setFlip(e) {
          this.selectItem.isPartOfInstance ||
            (e
              ? k["a"].selector.horizontalFlip()
              : k["a"].selector.verticalFlip());
        }
        adaptFrame(e) {
          k["a"].selector.adeptFrame(e);
        }
        clipFrame(e) {
          k["a"].selector.clipFrame(e);
        }
        setWidthAndHeight(e, t) {
          k["a"].selector.bound.setRect(e, t);
        }
        iconMousedown(e, t, i, s) {
          this.timer && clearTimeout(this.timer);
          let o = 1;
          e.altKey ? (o = 0.5) : e.shiftKey && (o = 10);
          let a = !1;
          (this.loop = () => {
            this.multiHandler(i, o * ("+" === t ? 1 : -1), s),
              (this.timer = setTimeout(this.loop, a ? 100 : 300)),
              (a = !0);
          }),
            this.loop();
        }
        iconMouseup() {
          clearTimeout(this.timer), (this.timer = null);
        }
        multiHandler(e, t, i) {
          let s;
          switch (e) {
            case "scale":
              (s = 100 * this.scale + t), this.setField("scale", i ? i(s) : s);
              break;
            case "x":
              Ki["a"].setTag("layerMove"), k["a"].selector.bound.setStepX(t);
              break;
            case "y":
              Ki["a"].setTag("layerMove"), k["a"].selector.bound.setStepY(t);
              break;
            case "width":
              this.selectItem.bound.width
                ? ((s = this.selectItem.bound.width + t),
                  this.setField("width", i ? i(s) : s))
                : (Ki["a"].setTag("layerResize"),
                  k["a"].selector.bound.setStepWidth(t));
              break;
            case "height":
              this.selectItem.bound.width
                ? ((s = this.selectItem.bound.height + t),
                  this.setField("height", i ? i(s) : s))
                : (Ki["a"].setTag("layerResize"),
                  k["a"].selector.bound.setStepHeight(t));
              break;
            case "horizontalSpacing":
              Ki["a"].setTag("horizontalSpacing"),
                k["a"].selector.setHorizontalSpacingStep(t);
              break;
            case "verticalSpacing":
              Ki["a"].setTag("verticalSpacing"),
                k["a"].selector.setVerticalSpacingStep(t);
              break;
            default:
              break;
          }
        }
        changeGroupType(e) {
          const t = Object(j["d"])();
          if (1 === e) {
            for (let e = 0, i = this.selectIds.length; e < i; e++) {
              const i = t[this.selectIds[e]];
              if (!(null === i || void 0 === i ? void 0 : i.hasChild)) return;
            }
            this.selectItem.isAutoLayout &&
              k["a"].selector[ee["a"].setAutoLayout]({
                removeAutoLayout: "",
              });
          }
          k["a"].selector.toggleFrame(2 === e);
        }
        autoLayout() {
          k["a"].selector.autoLayout();
        }
        handleVariantChange(e, t) {
          _s.updateValue({
            property: t.property,
            newValue: e,
          });
        }
        gotoComponent(e) {
          k["a"].layers.select([e.id]);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        nn.prototype,
        "geometricScale",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !1,
            }),
          ],
          nn.prototype,
          "anchorMode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectIds", {
              immediate: !0,
              deep: !0,
            }),
          ],
          nn.prototype,
          "selectIdsHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("needShowArcData")],
          nn.prototype,
          "needShowArcDataHandler",
          null
        ),
        (nn = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicLeftIcon: Qs["a"],
                RadiusItem: no,
                Constraints: Us,
                MasterSelector: Pe["e"],
                MasterButtonSwitch: us["a"],
                MasterButtonFill: fs,
                ComponentItem: bo,
                InstanceItem: Ka,
                MSelector: Pe["b"],
                Adjust: an,
                ReferenceButton: za,
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["c"])("basicProps", [
                    "enableSwitchFrame",
                    "disabledFrameAdapt",
                    "isExtendLayer",
                    "isConnectorText",
                    "hasConnectorText",
                  ])
                ),
                Object(r["e"])({
                  selectItem: (e) => e.basicProps.item,
                  selectIds: (e) => e.basicState.selectIds,
                  componentStatus: (e) => e.component.componentStatus,
                  variantProperties: (e) => e.component.variantProperties,
                  componentAssignments: (e) => e.component.componentAssignments,
                  frameList() {
                    const e = [],
                      t = this.$variable.FRAME_LIST.reduce((e, t, i) => {
                        let s = e;
                        return (
                          (s = Object.assign(
                            s,
                            t.list.reduce(
                              (e, s, o) => (
                                (e[`${i}${o}`] = {
                                  sortKey: Number(`${i}${i}${o}`),
                                  label: s.name,
                                  value: s.name,
                                  width: s.width,
                                  height: s.height,
                                  divid:
                                    o === t.list.length - 1 &&
                                    i !== this.$variable.FRAME_LIST.length - 1,
                                  footer: `${s.width} × ${s.height}`,
                                }),
                                e
                              ),
                              {}
                            )
                          )),
                          s
                        );
                      }, {});
                    return (
                      Object.keys(t)
                        .sort((e, i) => t[e].sortKey - t[i].sortKey)
                        .forEach((i, s) => {
                          e.push(
                            Object.assign(Object.assign({}, t[i]), {
                              value: Number(s),
                            })
                          );
                        }),
                      e
                    );
                  },
                  currentFrame() {
                    var e, t, i, s, o, a, n, r, c, l;
                    if (
                      null ===
                        (null ===
                          (t =
                            null === (e = this.selectItem) || void 0 === e
                              ? void 0
                              : e.bound) || void 0 === t
                          ? void 0
                          : t.width) ||
                      null ===
                        (null ===
                          (s =
                            null === (i = this.selectItem) || void 0 === i
                              ? void 0
                              : i.bound) || void 0 === s
                          ? void 0
                          : s.height)
                    )
                      return null;
                    for (let d = 0; d < this.frameList.length; d++)
                      if (
                        +(null ===
                          (n =
                            null ===
                              (a =
                                null === (o = this.selectItem) || void 0 === o
                                  ? void 0
                                  : o.bound) || void 0 === a
                              ? void 0
                              : a.width) || void 0 === n
                          ? void 0
                          : n.toFixed(2)) === this.frameList[d].width &&
                        +(null ===
                          (l =
                            null ===
                              (c =
                                null === (r = this.selectItem) || void 0 === r
                                  ? void 0
                                  : r.bound) || void 0 === c
                              ? void 0
                              : c.height) || void 0 === l
                          ? void 0
                          : l.toFixed(2)) === this.frameList[d].height
                      )
                        return d;
                    return "";
                  },
                })
              ),
            }),
          ],
          nn
        ));
      var rn = nn,
        cn = rn,
        ln = (i("777a"), Object(_["a"])(cn, ls, ds, !1, null, null, null)),
        dn = ln.exports,
        un = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            [
              e.showComponentStatus
                ? i("ComponentStatus", {
                    key: "component-status",
                  })
                : e._e(),
              e.showAutoLayout
                ? i("AutoLayout", {
                    attrs: {
                      selectLayer: e.selectItem,
                      selectLayerCount: e.selectIds.length,
                    },
                  })
                : e._e(),
              e.showGridLayout
                ? i("GridLayout", {
                    attrs: {
                      selectLayer: e.selectItem,
                      grids: e.grids,
                      gridDirectory: e.gridDirectory,
                      styleItem: e.gridStyle,
                      mixGrid: e.mixGrid,
                      layoutGridVisible: e.layoutGridVisible,
                    },
                  })
                : e._e(),
              e.showConstraint
                ? i(
                    "div",
                    {
                      staticClass: "right__container--layout panel-wrap",
                    },
                    [
                      i(
                        "span",
                        {
                          staticClass: "panel_title",
                        },
                        [e._v("约束")]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "panel_content_wrap",
                        },
                        [
                          i("Constraints", {
                            attrs: {
                              selectId: e.selectItem.layerId,
                              isFixed: e.selectItem.isFixed,
                              disabled: e.selectItem.isPartOfInstance,
                              XAlign: e.selectItem.constraints.horizontal,
                              YAlign: e.selectItem.constraints.vertical,
                              heightResizing: e.selectItem.heightResizing,
                              widthResizing: e.selectItem.widthResizing,
                              type: e.selectItem.type,
                            },
                            on: {
                              change: function (t) {
                                return e.setField.apply(void 0, t);
                              },
                            },
                          }),
                        ],
                        1
                      ),
                    ]
                  )
                : e._e(),
              this.selectItem.isMask
                ? i(
                    "div",
                    {
                      staticClass: "panel-wrap",
                    },
                    [
                      i(
                        "span",
                        {
                          staticClass: "panel_title",
                        },
                        [e._v("蒙版")]
                      ),
                      i("MasterFilter", {
                        staticClass: "mask-switch",
                        attrs: {
                          list: e.MASK_LIST,
                          current: Number(e.selectItem.isMaskOutline),
                          width: "198",
                          showLabel: "",
                        },
                        on: {
                          changeVal: e.toggleOutlineMask,
                        },
                      }),
                      e.selectItem.isMaskOutline
                        ? i(
                            "BasicCheckbox",
                            {
                              attrs: {
                                checked: e.selectItem.isMaskVisible,
                                indeterminate: e.isIndeterminate,
                              },
                              on: {
                                change: e.toggleVisibleMask,
                              },
                            },
                            [
                              i(
                                "span",
                                {
                                  staticStyle: {
                                    "margin-left": "9px",
                                  },
                                },
                                [e._v("显示蒙版层")]
                              ),
                            ]
                          )
                        : e._e(),
                    ],
                    1
                  )
                : e._e(),
              e.isAllSlice
                ? e._e()
                : [
                    e.isExtendLayer || e.isConnectorText
                      ? e._e()
                      : i(
                          "div",
                          {
                            staticClass: "panel-wrap layer",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "panel_title",
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "text-title",
                                  },
                                  [e._v("图层")]
                                ),
                                i("ReferenceButton", {
                                  attrs: {
                                    type: 2,
                                  },
                                }),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "panel_content_wrap",
                              },
                              [
                                i("master-input", {
                                  key: "layer",
                                  class: [
                                    !e.selectItem.isVisible && "unvisible",
                                  ],
                                  staticStyle: {
                                    "margin-right": "36px",
                                    overflow: "hidden",
                                  },
                                  attrs: {
                                    value:
                                      (e.selectItem.opacity,
                                      e.selectItem.opacity),
                                    valueDecorator:
                                      e.valueDecorator.layerPacityDecorator,
                                    validate: e.validate.checkLayerPacity,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === e.selectItem.opacity
                                        ? "多个值"
                                        : "",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.setField("opacity", t);
                                    },
                                    keydown: e.keydownHandler,
                                  },
                                  scopedSlots: e._u(
                                    [
                                      {
                                        key: "header",
                                        fn: function () {
                                          return [
                                            i("MSelector", {
                                              staticClass: "layer-select",
                                              attrs: {
                                                masterIcon: "BlendOffIcon",
                                                value:
                                                  null ===
                                                  e.selectItem.blendMode
                                                    ? null
                                                    : e.selectItem.blendMode +
                                                      "",
                                                placeholder: "多个值",
                                                options: e.LAYER_BLENDTYPE_LIST,
                                              },
                                              on: {
                                                change: function (t) {
                                                  return e.setField(
                                                    "blendMode",
                                                    +t
                                                  );
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                      {
                                        key: "footer",
                                        fn: function () {
                                          return [
                                            i("MasterButtonSwitch", {
                                              attrs: {
                                                type: "trans",
                                                icon: e.selectItem.isVisible
                                                  ? "visible"
                                                  : "unvisible",
                                                focusable: "",
                                              },
                                              on: {
                                                click: function (t) {
                                                  return e.setField(
                                                    "isVisible",
                                                    !e.selectItem.isVisible
                                                  );
                                                },
                                              },
                                            }),
                                          ];
                                        },
                                        proxy: !0,
                                      },
                                    ],
                                    null,
                                    !1,
                                    4099519651
                                  ),
                                }),
                              ],
                              1
                            ),
                            i("ReferenceButton", {
                              attrs: {
                                type: 2,
                                mode: 1,
                              },
                            }),
                          ],
                          1
                        ),
                    i("TextPanel", {
                      attrs: {
                        selectItem: e.selectItem,
                        textStyleId: e.textStyleId,
                        textDirectory: e.textDirectory,
                        textStyle: e.textStyle,
                        notAdd: e.notAdd,
                      },
                    }),
                    (e.selectItem.isPartOfComponent ||
                      e.selectItem.isPartOfInstance) &&
                    25 === e.selectItem.type
                      ? i("TextContent")
                      : e._e(),
                    e.isExtendLayer
                      ? e._e()
                      : i("FillPanel", {
                          attrs: {
                            fill: e.fill,
                            paintDirectory: e.paintDirectory,
                            fillStyle: e.fillStyle,
                            mixFill: e.mixFill,
                            mode: e.mode,
                            isFrame: e.isFrame,
                          },
                        }),
                    e.isConnectorText
                      ? e._e()
                      : i("Stroke", {
                          attrs: {
                            stroke: e.stroke,
                            paintDirectory: e.paintDirectory,
                            mode: e.mode,
                            styleItem: e.strokeStyle,
                            mixStroke: e.mixStroke,
                            selectItem: e.selectItem,
                            selectIds: e.selectIds,
                            editVectorX: e.editVectorX,
                            editVectorY: e.editVectorY,
                            state: e.state,
                          },
                        }),
                    e.showColorCollection
                      ? i(
                          "div",
                          {
                            staticClass: "panel-wrap only-list",
                          },
                          [
                            i("ColorCollection", {
                              ref: "colorCollection",
                              attrs: {
                                type: "fill",
                                styleCatalogList: e.paintDirectory,
                              },
                              on: {
                                "replace-style-conflict":
                                  e.handleReplaceConflict,
                              },
                              scopedSlots: e._u(
                                [
                                  {
                                    key: "header",
                                    fn: function () {
                                      return [
                                        i(
                                          "div",
                                          {
                                            staticClass: "panel_title",
                                          },
                                          [i("span", [e._v("颜色选集")])]
                                        ),
                                      ];
                                    },
                                    proxy: !0,
                                  },
                                ],
                                null,
                                !1,
                                2195391451
                              ),
                            }),
                          ],
                          1
                        )
                      : e._e(),
                    e.isConnectorText || e.isExtendLayer
                      ? e._e()
                      : i("EffectPanel", {
                          attrs: {
                            effect: e.effect,
                            effectDirectory: e.effectDirectory,
                            effectStyle: e.effectStyle,
                            mixEffect: e.mixEffect,
                            mode: e.mode,
                            selectItem: e.selectItem,
                          },
                        }),
                  ],
              e.isConnectorText || e.isExtendLayer
                ? e._e()
                : i(
                    "div",
                    {
                      staticClass: "panel-wrap",
                    },
                    [
                      i("ExportItem", {
                        attrs: {
                          name: e.selectName,
                        },
                      }),
                      !e.exportItem.length && e.mixExport
                        ? i(
                            "div",
                            {
                              staticClass: "text-tran-30",
                            },
                            [e._v(" 存在不同属性值，可点击 + 号替换 ")]
                          )
                        : e._e(),
                    ],
                    1
                  ),
              i(
                "master-dialog",
                {
                  attrs: {
                    visible: e.showConflictDialog,
                    width: "360px",
                  },
                  on: {
                    "update:visible": function (t) {
                      e.showConflictDialog = t;
                    },
                  },
                  scopedSlots: e._u([
                    {
                      key: "title",
                      fn: function () {
                        return [e._v(" 颜色冲突 ")];
                      },
                      proxy: !0,
                    },
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "div",
                            {
                              staticClass: "transfer-footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    size: "sm",
                                    type: "secondary",
                                    width: "78",
                                    icon: "AimIcon",
                                    iconSize: "14",
                                  },
                                  on: {
                                    click: e.showConflict,
                                  },
                                },
                                [e._v("查看")]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "transfer-footer-right",
                                },
                                [
                                  i(
                                    "MButton",
                                    {
                                      attrs: {
                                        size: "sm",
                                        type: "secondary",
                                        width: "74",
                                      },
                                      on: {
                                        click: e.cancelConflict,
                                      },
                                    },
                                    [e._v("取消")]
                                  ),
                                  i(
                                    "MButton",
                                    {
                                      attrs: {
                                        size: "sm",
                                        width: "74",
                                      },
                                      on: {
                                        click: e.replaceConflict,
                                      },
                                    },
                                    [e._v("继续")]
                                  ),
                                ],
                                1
                              ),
                            ],
                            1
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i("div", [
                    e._v(
                      " 有 " +
                        e._s(e.conflictNum) +
                        " 个图层将该颜色与其他颜色组合使用。继续应用样式其他颜色将被删除。 "
                    ),
                  ]),
                ]
              ),
            ],
            2
          );
        },
        hn = [],
        pn = i("d101"),
        mn = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "container",
            },
            [
              i(
                "div",
                {
                  staticClass: "todolist__header transition",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "todolist__header--content",
                    },
                    [e._t("header")],
                    2
                  ),
                ]
              ),
              i(
                "div",
                {
                  ref: "todoListContent",
                  staticClass: "todolist__content",
                },
                [
                  e.collection.styleCollection.length
                    ? [
                        e._l(e.styleList, function (t, s) {
                          return [
                            i("StyleTodo", {
                              key: s,
                              attrs: {
                                styleItem: t.itemInstance,
                                styleCount: t.count,
                                styleOriginSign: t.originSign,
                                styleCatalogList: e.styleCatalogList,
                                type: "fill",
                                isColorCollection: !0,
                              },
                              on: {
                                locateStyle: e.locateStyle,
                                unlinkStyle: e.unlinkStyle,
                                addStyle: function (i) {
                                  return e.addUsedStyle(t.itemInstance, i, s);
                                },
                              },
                            }),
                          ];
                        }),
                        e.collection.styleCollection.length > 3 &&
                        e.showAllStyle
                          ? i(
                              "div",
                              {
                                staticClass: "show-all",
                                on: {
                                  click: e.showAllStyleClickHandler,
                                },
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "ellipsis-icon",
                                  },
                                  [
                                    i("EllipsisVIcon", {
                                      attrs: {
                                        size: "12",
                                        opacity: "1",
                                      },
                                    }),
                                  ],
                                  1
                                ),
                                i(
                                  "div",
                                  {
                                    staticClass: "show-all-content truncate",
                                  },
                                  [
                                    i(
                                      "span",
                                      {
                                        attrs: {
                                          id: "style-tip",
                                        },
                                      },
                                      [
                                        e._v(
                                          "查看全部 " +
                                            e._s(
                                              e.collection.styleCollection
                                                .length
                                            ) +
                                            " 个样式"
                                        ),
                                      ]
                                    ),
                                  ]
                                ),
                              ]
                            )
                          : e._e(),
                      ]
                    : e._e(),
                  e.collection.colorCollection.length
                    ? [
                        e._l(e.colorList, function (t, s) {
                          return i(
                            "div",
                            {
                              key: "color-item-" + s,
                              ref: "todoListItem",
                              refInFor: !0,
                              staticClass: "todolist__item",
                              attrs: {
                                "data-selectprop": "true",
                              },
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "todolist__item--content",
                                  on: {
                                    mousedown: function (e) {
                                      e.stopPropagation();
                                    },
                                  },
                                },
                                [
                                  i("ColorItem", {
                                    ref: "colorItem",
                                    refInFor: !0,
                                    attrs: {
                                      data: t.itemInstance,
                                      type: "fill",
                                      index: s,
                                      isColorCollection: !0,
                                      supportDragFill: !1,
                                      styleCatalogList: e.styleCatalogList,
                                      styleItem: e.fillStyle,
                                    },
                                    on: {
                                      open: function (t) {
                                        return e.onOpen(s);
                                      },
                                      close: function (t) {
                                        return e.onClose(s);
                                      },
                                      change: function (i) {
                                        var o = arguments.length,
                                          a = Array(o);
                                        while (o--) a[o] = arguments[o];
                                        return e.changeFill.apply(
                                          void 0,
                                          a.concat([t.itemInstance.index], [s])
                                        );
                                      },
                                      setStyle: function (t) {
                                        var i = arguments.length,
                                          o = Array(i);
                                        while (i--) o[i] = arguments[i];
                                        return e.setStyle.apply(
                                          void 0,
                                          o.concat([s])
                                        );
                                      },
                                      addStyle: function (t) {
                                        var i = arguments.length,
                                          o = Array(i);
                                        while (i--) o[i] = arguments[i];
                                        return e.addStyle.apply(
                                          void 0,
                                          o.concat([s])
                                        );
                                      },
                                      applyshow: e.changeDataSource,
                                    },
                                  }),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "todolist__item--aside",
                                  on: {
                                    mousedown: function (e) {
                                      e.stopPropagation();
                                    },
                                  },
                                },
                                [
                                  i("MasterButtonIcon", {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.bottom",
                                        value:
                                          "选中使用颜色的 " +
                                          t.count +
                                          " 个图层",
                                        expression:
                                          "`选中使用颜色的 ${item.count} 个图层`",
                                        modifiers: {
                                          bottom: !0,
                                        },
                                      },
                                    ],
                                    attrs: {
                                      icon: "AimIcon",
                                      isLocalIcon: !1,
                                    },
                                    on: {
                                      click: function (t) {
                                        return e.locateColor(s);
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          );
                        }),
                        e.collection.colorCollection.length > 3 &&
                        e.showAllColor
                          ? i(
                              "div",
                              {
                                staticClass: "show-all",
                                on: {
                                  click: e.showAllColorClickHandler,
                                },
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "ellipsis-icon",
                                  },
                                  [
                                    i("EllipsisVIcon", {
                                      attrs: {
                                        size: "12",
                                        opacity: "1",
                                      },
                                    }),
                                  ],
                                  1
                                ),
                                i(
                                  "div",
                                  {
                                    staticClass: "show-all-content truncate",
                                  },
                                  [
                                    i(
                                      "span",
                                      {
                                        attrs: {
                                          id: "color-tip",
                                        },
                                      },
                                      [
                                        e._v(
                                          "查看全部 " +
                                            e._s(
                                              e.collection.colorCollection
                                                .length
                                            ) +
                                            " 个颜色"
                                        ),
                                      ]
                                    ),
                                  ]
                                ),
                              ]
                            )
                          : e._e(),
                      ]
                    : e._e(),
                ],
                2
              ),
            ]
          );
        },
        gn = [];
      let bn = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.showStyleLength = 0),
            (this.showColorLength = 0),
            (this.showAllStyle = !0),
            (this.showAllColor = !0),
            (this.currentColorItemIdx = -1);
        }
        handleCollection() {
          0 !== this.selectIds.length && this.closeMenu(), this.initShowAll();
        }
        closeMenu() {
          ~this.currentColorItemIdx &&
            (this.$refs.colorItem[this.currentColorItemIdx] &&
              this.$refs.colorItem[this.currentColorItemIdx].hideMenu(),
            this.onClose(this.currentColorItemIdx));
        }
        showAllStyleClickHandler() {
          this.showAllStyle &&
            ((document.querySelector("#style-tip").innerHTML = "加载中..."),
            setTimeout(() => {
              (this.showStyleLength = this.collection.styleCollection.length),
                (this.showAllStyle = !1);
            }, 16));
        }
        showAllColorClickHandler() {
          this.showAllColor &&
            ((document.querySelector("#color-tip").innerHTML = "加载中..."),
            setTimeout(() => {
              (this.showColorLength = this.collection.colorCollection.length),
                (this.showAllColor = !1);
            }, 16));
        }
        get styleList() {
          return this.collection.styleCollection.slice(
            0,
            this.showAllStyle ? 3 : this.collection.styleCollection.length
          );
        }
        get colorList() {
          return this.collection.colorCollection.slice(
            0,
            this.showAllColor ? 3 : this.collection.colorCollection.length
          );
        }
        changeFill(e, t, i) {
          const { manualType: s } = e,
            o = Object(a["__rest"])(e, ["manualType"]);
          "debounce" === s && Ki["a"].setTag("fill"),
            (o.index = t),
            void 0 === o.isVisible && (o.isVisible = !0),
            k["a"].selector.fills.updateCollection(o, i);
        }
        locateStyle(e) {
          e.isLibrary
            ? Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 13,
                value: {
                  key: e.ukey,
                  signature: e.version,
                },
              })
            : Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 1,
                value: {
                  styleId: e.id,
                },
              });
        }
        locateColor(e) {
          Object(ta["a"])(Lt["a"].ColorCollection, {
            type: 2,
            value: {
              idx: e,
            },
          });
        }
        replaceStyle(e, t) {
          let i, s;
          "string" === typeof e
            ? ((i = 6),
              (s = {
                styleId: e,
                idx: t,
              }))
            : ((i = 8),
              (s = {
                key: e.ukey,
                signature: e.version,
                idx: t,
              })),
            Object(ta["a"])(Lt["a"].ColorCollection, {
              type: i,
              value: s,
            });
        }
        setStyle(e, t) {
          const i = Ct["b"].tryReplaceColorByStyle(t);
          i
            ? this.$emit("replace-style-conflict", i, e, t)
            : this.replaceStyle(e, t);
        }
        resortItem(e, t = "") {
          this.$emit(
            "resort",
            this.list.filter((t) => e.includes(t.id)).map((e) => e.index),
            t
          );
        }
        initShowAll() {
          (this.showAllStyle = !0), (this.showAllColor = !0);
        }
        addUsedStyle(e, t, i) {
          e.isLibrary
            ? Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 15,
                value: {
                  key: e.ukey,
                  signature: e.version,
                },
              })
            : Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 3,
                value: {
                  styleId: e.id,
                },
              }),
            this.addStyle([t], i);
        }
        addStyle(e, t) {
          Object(ta["a"])(Lt["a"].ColorCollection, {
            type: 0,
            value: {
              names: e,
              idx: t,
            },
          });
        }
        onOpen(e) {
          Object(ta["a"])(Lt["a"].ColorCollection, {
            type: 14,
            value: {
              open: !0,
              idx: e,
            },
          }),
            this.$store.dispatch("style/setColorCollectionEdit", {
              index: e,
              getCollectionMode: !1,
            }),
            (this.currentColorItemIdx = e);
        }
        onClose(e) {
          Object(ta["a"])(Lt["a"].ColorCollection, {
            type: 14,
            value: {
              open: !1,
              idx: e,
            },
          }),
            this.changeDataSource();
        }
        changeDataSource() {
          this.$store.dispatch("style/setColorCollectionEdit", {
            index: -1,
            getCollectionMode: !0,
          });
          const e = Ct["b"].Module.getColorCollcation();
          e.styleCollection &&
            this.$store.dispatch("style/setColorCollection", e),
            (this.currentColorItemIdx = -1);
        }
        unlinkStyle() {
          Object(It["a"])(), this.changeDataSource();
        }
        decoratorCloseMenu() {
          this.closeMenu();
        }
        mounted() {
          this.$keyWatcher.addListener("ctrl+z", this.decoratorCloseMenu),
            this.$eventBus.$on(
              "collection-bounced-item-toggle",
              this.closeMenu
            ),
            this.initShowAll();
        }
        beforeDestroy() {
          this.changeDataSource(),
            this.$keyWatcher.removeListener("ctrl+z", this.decoratorCloseMenu),
            this.$eventBus.$off(
              "collection-bounced-item-toggle",
              this.closeMenu
            );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        bn.prototype,
        "type",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              default: () => [],
              required: !1,
            }),
          ],
          bn.prototype,
          "styleCatalogList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectIds", {
              deep: !0,
            }),
          ],
          bn.prototype,
          "handleCollection",
          null
        ),
        (bn = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                StyleTodo: ga,
                ColorItem: Yi["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    selectIds: (e) => e.basicState.selectIds,
                    selectType: (e) => e.basicState.selectProps.type,
                    selectList: (e) => e.basicState.selectProps.list,
                    selectItem: (e) => e.basicProps.item,
                    collection: (e) => e.style.collection,
                  })
                ),
                Object(r["c"])("style", ["fillStyle"])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("basicState", ["setSelectProps"])
              ),
            }),
          ],
          bn
        ));
      var vn = bn,
        fn = vn,
        yn = (i("2615"), Object(_["a"])(fn, mn, gn, !1, null, null, null)),
        _n = yn.exports,
        Cn = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap",
            },
            [
              i("StyleTodoList", {
                attrs: {
                  list: e.stroke || [],
                  styleCatalogList: e.paintDirectory,
                  type: "stroke",
                  mode: e.mode,
                  styleMode: "",
                  styleItem: e.styleItem,
                  notAdd: e.mixStroke,
                  headToursName: "stroke",
                  dataToursNamePanel: "style_list",
                  dataToursNameCreate: "create_style",
                },
                on: {
                  add: e.addStroke,
                  del: e.delStroke,
                  resort: e.resortStroke,
                },
                scopedSlots: e._u([
                  {
                    key: "header",
                    fn: function () {
                      return [
                        i(
                          "div",
                          {
                            staticClass: "panel_title",
                          },
                          [i("span", [e._v("描边")])]
                        ),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "default",
                    fn: function (t) {
                      return [
                        i("ColorItem", {
                          attrs: {
                            data: t.data,
                            type: "stroke",
                            actionType: "stroke",
                            index: t.index,
                          },
                          on: {
                            change: function (i) {
                              var s = arguments.length,
                                o = Array(s);
                              while (s--) o[s] = arguments[s];
                              return e.changeStroke.apply(
                                void 0,
                                o.concat([t.data.index])
                              );
                            },
                          },
                        }),
                      ];
                    },
                  },
                ]),
              }),
              !e.stroke.length && e.mixStroke
                ? i(
                    "div",
                    {
                      staticClass: "text-tran-30 text-prompt",
                    },
                    [e._v(" 存在不同属性值，可点击 + 号替换 ")]
                  )
                : e._e(),
              i(
                "div",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: (e.stroke && e.stroke.length) || e.mixStroke,
                      expression: "(stroke && stroke.length) || mixStroke",
                    },
                  ],
                  staticClass: "expend__stroke",
                  class: {
                    expend_stroke_two_row: e.getGridLayoutRow,
                    expend_stroke_one_row: !e.getGridLayoutRow,
                  },
                },
                [
                  i("MSelector", {
                    attrs: {
                      options: e.STROKETYPE_LIST,
                      value: e.selectItem.strokeAlign,
                      placeholder: "多个值",
                      disabled: e.disabledStrokeAlign,
                    },
                    on: {
                      change: function (t) {
                        return e.strokeHandler({
                          strokeAlign: t,
                        });
                      },
                    },
                  }),
                  i(
                    "div",
                    {
                      staticClass: "expend__stroke__item",
                    },
                    [
                      i("IconInput", {
                        attrs: {
                          validate: e.validate.checkStroke,
                          valueDecorator: e.valueDecorator.numDecorator,
                          value: e.selectItem.strokeWeight,
                          iconName: "LabelStrokeWeightIcon",
                          focusSelectAll: !0,
                          placeholder:
                            null === e.selectItem.strokeWeight ? "多个值" : "",
                          iconDisabledDrag: null === e.selectItem.strokeWeight,
                          iconDragAccuracy: 1,
                        },
                        on: {
                          keydown: e.keydownHandler,
                          change: function (t) {
                            return e.strokeWeightHandler({
                              strokeWeight: t,
                            });
                          },
                        },
                      }),
                      e.isShowSingleStrokeSwitch
                        ? i(
                            "master-dropdown",
                            {
                              staticClass: "popover-container",
                              class: {
                                "mas-button-highlight":
                                  e.isShowSingleStrokeOption,
                                "mas-button-gray": !e.isShowSingleStrokeOption,
                              },
                              attrs: {
                                trigger: "click",
                                popoverClass: "popover-tip",
                                open: e.isOpenDropdownMenu,
                              },
                              on: {
                                "update:open": function (t) {
                                  e.isOpenDropdownMenu = t;
                                },
                                command: e.switchSingleStrokeType,
                              },
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "mas-tool-button-arrow",
                                  attrs: {
                                    slot: "dropButton",
                                  },
                                  slot: "dropButton",
                                },
                                [
                                  i("MasterButtonIcon", {
                                    attrs: {
                                      icon: e.getSingleStrokeIcon,
                                      isLocalIcon: !1,
                                      focusable: "",
                                    },
                                  }),
                                ],
                                1
                              ),
                              i("master-menu", {
                                directives: [
                                  {
                                    name: "show",
                                    rawName: "v-show",
                                    value: e.isOpenDropdownMenu,
                                    expression: "isOpenDropdownMenu",
                                  },
                                ],
                                attrs: {
                                  slot: "dropMenu",
                                  list: e.getSingleStrokeList,
                                  getChecked: e.getStrokeOptionChecked,
                                },
                                slot: "dropMenu",
                              }),
                            ],
                            1
                          )
                        : e._e(),
                    ],
                    1
                  ),
                  e.isShowTwoPoint
                    ? i("div")
                    : i("StrokePanel", {
                        attrs: {
                          open: e.openStroke,
                          stroke: e.stroke,
                          selectItem: e.selectItem,
                          isShowTwoPoint: e.isShowTwoPoint,
                        },
                        on: {
                          "update:open": function (t) {
                            e.openStroke = t;
                          },
                          change: function (t) {
                            return e.strokeHandler(Object.assign({}, t));
                          },
                        },
                      }),
                  e.isShowSingleStrokeSwitch && e.isShowSingleStrokeOption
                    ? [
                        i(
                          "ul",
                          {
                            staticClass: "stroke-type-input stroke__item",
                          },
                          e._l(e.sideDataList, function (t, s) {
                            return i(
                              "li",
                              {
                                key: s,
                              },
                              [
                                i("IconInput", {
                                  attrs: {
                                    validate: e.validate.checkStroke,
                                    valueDecorator:
                                      e.valueDecorator.numDecorator,
                                    value: t.value,
                                    iconName: t.icon,
                                    iconDisabled: null === t.value,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === t.value ? "多个值" : "",
                                  },
                                  on: {
                                    keydown: e.keydownHandler,
                                    change: function (i) {
                                      return e.singleStrokeChangeHandler({
                                        setSingleStroke: {
                                          value: i,
                                          index: t.index,
                                        },
                                      });
                                    },
                                  },
                                }),
                              ],
                              1
                            );
                          }),
                          0
                        ),
                      ]
                    : e._e(),
                  e.isShowTwoPoint
                    ? [
                        i("IconSelector", {
                          attrs: {
                            iconSize: "42",
                            options: e.STROKECAP_LEFT_LIST,
                            value: e.selectItem.leftPointStrokeCap,
                            placeholder:
                              null === e.selectItem.leftPointStrokeCap
                                ? "多个值"
                                : "",
                            tooltip: "起点",
                            disabled: e.selectItem.isPartOfInstance,
                          },
                          on: {
                            change: function (t) {
                              return e.strokeHandler({
                                leftPointStrokeCap: t,
                              });
                            },
                          },
                        }),
                        i("IconSelector", {
                          attrs: {
                            iconSize: "42",
                            options: e.STROKECAP_RIGHT_LIST,
                            value: e.selectItem.rightPointStrokeCap,
                            placeholder:
                              null === e.selectItem.rightPointStrokeCap
                                ? "多个值"
                                : "",
                            tooltip: "终点",
                            disabled: e.selectItem.isPartOfInstance,
                          },
                          on: {
                            change: function (t) {
                              return e.strokeHandler({
                                rightPointStrokeCap: t,
                              });
                            },
                          },
                        }),
                        i("StrokePanel", {
                          attrs: {
                            open: e.openStroke,
                            stroke: e.stroke,
                            selectItem: e.selectItem,
                            isShowTwoPoint: e.isShowTwoPoint,
                          },
                          on: {
                            "update:open": function (t) {
                              e.openStroke = t;
                            },
                            change: function (t) {
                              return e.strokeHandler(Object.assign({}, t));
                            },
                          },
                        }),
                      ]
                    : e._e(),
                ],
                2
              ),
              e.isConnector
                ? i(
                    "BasicCheckbox",
                    {
                      staticClass: "stroke_text--background",
                      attrs: {
                        checked: e.selectItem.isTextUseBackground,
                      },
                      on: {
                        change: e.toggleTextUseBackground,
                      },
                    },
                    [
                      i(
                        "span",
                        {
                          staticStyle: {
                            "margin-left": "9px",
                          },
                        },
                        [e._v("文字背景")]
                      ),
                    ]
                  )
                : e._e(),
            ],
            1
          );
        },
        Sn = [],
        In = i("d777"),
        On = i("891e"),
        kn = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("Bounced", {
            attrs: {
              title: "描边设置",
              offsetLeft: 220,
              open: e.isOpen,
              trigger: "manual",
            },
            on: {
              "update:open": function (t) {
                e.isOpen = t;
              },
            },
            scopedSlots: e._u([
              {
                key: "button",
                fn: function () {
                  return [
                    i("MasterButtonIcon", {
                      attrs: {
                        isLocalIcon: !1,
                        icon: "EllipsisHIcon",
                        focusable: "",
                      },
                      on: {
                        click: function (t) {
                          e.isOpen = !e.isOpen;
                        },
                      },
                    }),
                  ];
                },
                proxy: !0,
              },
              {
                key: "content",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "content",
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "list-item",
                          },
                          [
                            i("span", [e._v("样式")]),
                            i("MSelector", {
                              staticStyle: {
                                width: "108px",
                              },
                              attrs: {
                                value: e.selectItem.strokeStyle,
                                placeholder:
                                  null === e.selectItem.strokeStyle
                                    ? "多个值"
                                    : "",
                                options: e.STROKE_STYLE_LIST,
                                masterIcon: e.strokeStyleIcon,
                              },
                              on: {
                                change: function (t) {
                                  return e.changeStrokeStyle(+t);
                                },
                              },
                            }),
                          ],
                          1
                        ),
                        e.isDash
                          ? [
                              i(
                                "div",
                                {
                                  staticClass: "list-item",
                                },
                                [
                                  i("span", [e._v("长度")]),
                                  i("master-input", {
                                    staticStyle: {
                                      width: "108px",
                                      "padding-left": "8px",
                                    },
                                    attrs: {
                                      value: e.dashLen,
                                      focusSelectAll: !0,
                                      placeholder: e.dashLenPlaceholder,
                                      validate: e.validate.checkDashLen,
                                    },
                                    on: {
                                      change: function (t) {
                                        return e.changeDashLen(t);
                                      },
                                      keydown: e.keydownHandler,
                                    },
                                  }),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "list-item",
                                },
                                [
                                  i("span", [e._v("间隔")]),
                                  i("master-input", {
                                    staticStyle: {
                                      width: "108px",
                                      "padding-left": "8px",
                                    },
                                    attrs: {
                                      value: e.dashGap,
                                      focusSelectAll: !0,
                                      validate: e.validate.checkDashGap,
                                      placeholder: e.dashGapPlaceholder,
                                    },
                                    on: {
                                      change: function (t) {
                                        return e.changeDashGap(t);
                                      },
                                      keydown: e.keydownHandler,
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          : e._e(),
                        e.isCustom
                          ? i(
                              "div",
                              {
                                staticClass: "list-item",
                              },
                              [
                                i("span", [e._v("长度与间隔")]),
                                i("master-input", {
                                  staticStyle: {
                                    width: "108px",
                                    "padding-left": "8px",
                                  },
                                  attrs: {
                                    value: (e.selectItem.strokeDashes || [])
                                      .map(function (e) {
                                        return parseFloat(Number(e).toFixed(2));
                                      })
                                      .join(","),
                                    validate: e.validate.checkDashes,
                                    focusSelectAll: !0,
                                    placeholder:
                                      null === e.selectItem.strokeDashes
                                        ? "多个值"
                                        : "长度，间隔",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.changeStrokeDashes(t);
                                    },
                                  },
                                }),
                              ],
                              1
                            )
                          : e._e(),
                        e.selectItem.strokeStyle !== e.StrokeStyle.SOLID
                          ? i(
                              "div",
                              {
                                staticClass: "list-item",
                              },
                              [
                                i("span", [e._v("风格")]),
                                i("MasterFilter", {
                                  attrs: {
                                    list: e.DASH_CAP_LIST,
                                    current: e.selectItem.dashCap + "",
                                    width: "108",
                                  },
                                  on: {
                                    changeVal: function (t) {
                                      return e.$emit("change", {
                                        dashCap: +t,
                                      });
                                    },
                                  },
                                }),
                              ],
                              1
                            )
                          : e._e(),
                        e.isShowPoint
                          ? [
                              i("div", {
                                staticClass: "stroke-panel__divider",
                              }),
                              i(
                                "div",
                                {
                                  staticClass: "list-item",
                                },
                                [
                                  i("span", [e._v("端点")]),
                                  i("IconSelector", {
                                    staticStyle: {
                                      width: "108px",
                                    },
                                    attrs: {
                                      iconSize: "42",
                                      options: e.STROKECAP_RIGHT_LIST,
                                      value: e.selectItem.strokeCap,
                                      placeholder:
                                        null === e.selectItem.strokeCap
                                          ? "多个值"
                                          : "",
                                      disabled: e.selectItem.isPartOfInstance,
                                    },
                                    on: {
                                      change: function (t) {
                                        return e.$emit("change", {
                                          strokeCap: t,
                                        });
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          : e._e(),
                        e.isLine
                          ? e._e()
                          : [
                              i("div", {
                                staticClass: "stroke-panel__divider",
                              }),
                              i(
                                "div",
                                {
                                  staticClass: "list-item",
                                },
                                [
                                  i("span", [e._v("边角")]),
                                  i("MasterFilter", {
                                    attrs: {
                                      list: e.JOIN_LIST,
                                      current: e.selectItem.strokeJoin + "",
                                      width: "108",
                                    },
                                    on: {
                                      changeVal: function (t) {
                                        return e.$emit("change", {
                                          strokeJoin: +t,
                                        });
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                            ],
                      ],
                      2
                    ),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        wn = [];
      const xn = {
          [se["G"].SOLID]: "solid",
          [se["G"].DASH]: "dash",
          [se["G"].CUSTOM]: "custom",
        },
        Ln = {
          [se["f"].NONE]: "none",
          [se["f"].SQUARE]: "projecting",
          [se["f"].ROUND]: "round",
        },
        An = {
          [se["F"].BEVEL]: "bevel",
          [se["F"].MITER]: "miter",
          [se["F"].ROUND]: "round",
        },
        Tn = {
          [se["D"].CENTER]: "center",
          [se["D"].INSIDE]: "inside",
          [se["D"].OUTSIDE]: "outside",
        };
      var jn;
      (function (e) {
        (e["NONE"] = "none"),
          (e["NORMAL"] = "normal"),
          (e["TRIANGLE"] = "triangle"),
          (e["DIAMOND"] = "diamond"),
          (e["SOLID"] = "solid"),
          (e["TARGET"] = "target"),
          (e["LINE"] = "line"),
          (e["ROUND"] = "round"),
          (e["SQUARE"] = "square");
      })(jn || (jn = {}));
      const Mn = {
          [se["E"].NONE]: jn.NONE,
          [se["E"].ROUND]: jn.ROUND,
          [se["E"].SQUARE]: jn.SQUARE,
          [se["E"].LINE_ARROW]: jn.NORMAL,
          [se["E"].TRIANGLE_ARROW]: jn.TRIANGLE,
          [se["E"].ROUND_ARROW]: jn.SOLID,
          [se["E"].RING]: jn.TARGET,
          [se["E"].DIAMOND]: jn.DIAMOND,
          [se["E"].LINE]: jn.LINE,
        },
        En = {
          [se["C"].quad]: "quad",
          [se["C"].top]: "top",
          [se["C"].bottom]: "bottom",
          [se["C"].left]: "left",
          [se["C"].right]: "right",
          4: "custom",
        };
      let Pn = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.keydownHandler = Z["ob"]),
            (this.validate = ut),
            (this.DASH_CAP_LIST = Pe["e"].dictionaries.DASH_CAP_LIST()),
            (this.STROKE_STYLE_LIST = Pe["e"].dictionaries.STROKE_STYLE_LIST()),
            (this.JOIN_LIST = Pe["e"].dictionaries.JOIN_LIST()),
            (this.STROKECAP_RIGHT_LIST =
              Pe["e"].dictionaries.STROKECAP_RIGHT_LIST()),
            (this.StrokeStyle = se["G"]),
            (this.isOpen = !1);
        }
        openHandle(e) {
          this.isOpen = e;
        }
        strokeOpenHandler() {
          0 === this.stroke.length && (this.isOpen = !1);
        }
        openHandle1(e) {
          var t, i;
          e ||
            "undefined" === typeof this.selectItem.strokeStyle ||
            d["a"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "stroke",
              action_type: "close",
              action_parameter2:
                null !== (t = xn[this.selectItem.strokeStyle]) && void 0 !== t
                  ? t
                  : "",
              action_detail:
                null !== (i = Ln[this.selectItem.dashCap]) && void 0 !== i
                  ? i
                  : "",
              action_parameter3: Array.isArray(this.selectItem.strokeDashes)
                ? this.selectItem.strokeDashes.join(",")
                : "",
            });
        }
        get isDash() {
          return this.selectItem.strokeStyle === se["G"].DASH;
        }
        get isCustom() {
          return this.selectItem.strokeStyle === se["G"].CUSTOM;
        }
        get dashLen() {
          var e;
          return null === this.selectItem.strokeDashes
            ? ""
            : Array.isArray(this.selectItem.strokeDashes) &&
              null !== (e = this.selectItem.strokeDashes[0]) &&
              void 0 !== e
            ? e
            : "";
        }
        get dashGap() {
          var e;
          return null === this.selectItem.strokeDashes
            ? ""
            : Array.isArray(this.selectItem.strokeDashes) &&
              null !== (e = this.selectItem.strokeDashes[1]) &&
              void 0 !== e
            ? e
            : "";
        }
        get dashLenPlaceholder() {
          return null === this.selectItem.strokeDashes ? "多个值" : "";
        }
        get dashGapPlaceholder() {
          return null === this.selectItem.strokeDashes
            ? "多个值"
            : this.dashGap
            ? ""
            : this.dashLen + "";
        }
        get strokeStyleIcon() {
          var e, t;
          return null !==
            (t =
              null ===
                (e = this.STROKE_STYLE_LIST.find(
                  (e) => e.value === this.selectItem.strokeStyle
                )) || void 0 === e
                ? void 0
                : e.icon) && void 0 !== t
            ? t
            : "StrokeStyleNullIcon";
        }
        changeDashLen(e) {
          var t;
          const i =
            null !== (t = this.selectItem.strokeDashes) && void 0 !== t
              ? t
              : [];
          this.$emit("change", {
            strokeDashes: [+e, i[1]].filter((e) => "undefined" !== typeof e),
            manualType: "debounce",
          });
        }
        changeDashGap(e) {
          const t = this.selectItem.strokeDashes;
          if (null === this.selectItem.strokeDashes && "NaN" === e) return;
          if (null === this.selectItem.strokeDashes)
            return void this.$emit("change", {
              strokeDashes: [+e, +e],
              manualType: "debounce",
            });
          const i = [t[0], "NaN" === e ? t[0] : e].filter((e) => "" !== e);
          this.$emit("change", {
            strokeDashes: i,
            manualType: "debounce",
          });
        }
        changeStrokeDashes(e) {
          this.$emit("change", {
            strokeDashes: e,
            manualType: "debounce",
          });
        }
        changeStrokeStyle(e) {
          var t;
          let i = {
            strokeStyle: +e,
          };
          const s =
            null !== (t = this.selectItem.strokeWeight) && void 0 !== t ? t : 1;
          e === se["G"].DASH
            ? (i = Object.assign(Object.assign({}, i), {
                strokeDashes:
                  this.selectItem.type === se["o"].Connector
                    ? [4 * s, 2 * s]
                    : [2 * s],
                manualType: "debounce",
              }))
            : e === se["G"].CUSTOM &&
              (i = Object.assign(Object.assign({}, i), {
                strokeDashes: [2, 3, 4, 5].map((e) => e * s),
                manualType: "debounce",
              })),
            this.$emit("change", i);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        Pn.prototype,
        "open",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          Pn.prototype,
          "stroke",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          Pn.prototype,
          "selectItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Pn.prototype,
          "isShowTwoPoint",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("open", {
              immediate: !0,
            }),
          ],
          Pn.prototype,
          "openHandle",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("stroke.length", {
              immediate: !0,
            }),
          ],
          Pn.prototype,
          "strokeOpenHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isOpen")],
          Pn.prototype,
          "openHandle1",
          null
        ),
        (Pn = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Bounced: Ys["a"],
                MasterButtonIcon: Mi["a"],
                BasicLeftIcon: Qs["a"],
                IconSelector: Pe["a"],
                MasterFilter: pn["a"],
                MSelector: Pe["b"],
              },
              computed: {
                isLine() {
                  return this.selectItem.type === se["o"].Line;
                },
                isShowPoint() {
                  return (
                    !this.isShowTwoPoint &&
                    (null === this.selectItem.pointCount ||
                      this.selectItem.pointCount > 0)
                  );
                },
              },
            }),
          ],
          Pn
        ));
      var Dn = Pn,
        Bn = Dn,
        Nn =
          (i("25d2"), Object(_["a"])(Bn, kn, wn, !1, null, "45962123", null)),
        Fn = Nn.exports;
      const Rn = function (e, t, i) {
          const s = {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "stroke",
            action_parameter2: e,
            action_type: t,
          };
          null != i &&
            Object.assign(s, {
              action_detail: En[i],
            }),
            _e["c"].track(_e["a"].EVENT_CLICK, s);
        },
        Hn = function (e) {
          const t = {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "stroke",
            action_parameter2: "individualstroke",
            action_parameter3: e,
            action_detail: "custom",
          };
          _e["c"].track(_e["a"].EVENT_CLICK, t);
        },
        $n = function (e, t, i) {
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "stroke",
            action_parameter2: e,
            action_parameter4: i,
            action_type: "choose",
            action_detail: t,
          });
        },
        Vn = function (e, t) {
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "stroke",
            action_parameter2: e,
            action_parameter4: t,
            action_type: "choose",
          });
        },
        zn = function (e, t = "", i) {
          const s = ["Top", "Left", "Bottom", "Right"],
            o = e && Array.isArray(e) ? e : [0, 0, 0, 0],
            a = o.reduce((e, o, a) => {
              const n = i ? s[a].toLowerCase() : s[a];
              return 0 !== o ? `${e}${t}${n}` : e;
            }, "");
          return "_" === a[0] ? a.slice(1) : a;
        };
      var Un;
      (function (e) {
        (e["LEFT"] = "leftPointStrokeCap"),
          (e["RIGHT"] = "rightPointStrokeCap");
      })(Un || (Un = {}));
      const qn = [se["E"].SQUARE, se["E"].ROUND, se["E"].NONE];
      let Wn = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.STROKECAP_RIGHT_LIST =
              Pe["e"].dictionaries.STROKECAP_RIGHT_LIST()),
            (this.STROKETYPE_LIST = Pe["e"].dictionaries.STROKETYPE_LIST()),
            (this.STROKECAP_LEFT_LIST =
              Pe["e"].dictionaries.STROKECAP_LEFT_LIST()),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.keydownHandler = Z["ob"]),
            (this.openStroke = !1),
            (this.editPoint = ""),
            (this.prev = !1),
            (this.isOpenDropdownMenu = !1),
            (this.isShowSingleStrokeOption = !1),
            (this.currentSelectStatus = 0),
            (this.currentStrokeStatus = "quad");
        }
        get isColorMixed() {
          return !this.stroke.length && this.mixStroke;
        }
        get getGridLayoutRow() {
          return (
            (this.isShowSingleStrokeSwitch && this.isShowSingleStrokeOption) ||
            this.isShowTwoPoint
          );
        }
        get getSingleStrokeList() {
          const e = this.selectItem.strokeWidthType,
            t = Pe["d"].dictionaries.SINGLE_STROKE(),
            i = {
              label: "多个值",
              value: null,
              disabled: !0,
              masterIcon: "StrokeFullSideIcon",
              divid: !0,
            };
          return null !== e || this.isShowSingleStrokeOption ? t : [i, ...t];
        }
        get sideDataList() {
          const e = this.selectItem.strokeWidth,
            t = [
              "StrokeLeftIcon",
              "StrokeTopIcon",
              "StrokeRightIcon",
              "StrokeBottomIcon",
            ],
            i = [1, 0, 3, 2];
          return i.map((i, s) => ({
            index: i,
            value: e[i],
            icon: t[s],
          }));
        }
        get isShowSingleStrokeSwitch() {
          const { strokeWidth: e } = this.selectItem;
          return 4 === (null === e || void 0 === e ? void 0 : e.length);
        }
        get getSingleStrokeIcon() {
          var e;
          const t = this.selectItem.strokeWidth,
            i = this.currentSelectStatus,
            s = ["Top", "Left", "Bottom", "Right"],
            o = "Stroke",
            a = "Icon";
          if (!this.isShowSingleStrokeOption) {
            const t = null !== (e = s[i]) && void 0 !== e ? e : "FullSide";
            return `${o}${t}${a}`;
          }
          const n = zn(t),
            r = "TopLeftBottomRight" === n || "" === n;
          return r ? "StrokeFullSideIcon" : `${o}${n}${a}`;
        }
        isShowCustomOption() {
          const e = this.selectItem.strokeWidthType;
          return 999 === e;
        }
        switchSingleStrokeType(e) {
          const { value: t } = e;
          (this.isOpenDropdownMenu = !1),
            (this.currentSelectStatus = t),
            Rn("individualstroke", "click", t),
            t !== se["H"].custom
              ? (k["a"].selector.setStrokeWidthType(t),
                (this.isShowSingleStrokeOption = !1))
              : (this.isShowSingleStrokeOption = !0);
        }
        getStrokeOptionChecked(e) {
          return this.isShowSingleStrokeOption
            ? 999 === e.value
            : this.currentSelectStatus === e.value;
        }
        singleStrokeChangeHandler(e) {
          Ki["a"].setTag("single-stroke");
          const { setSingleStroke: t } = e;
          Vn("line_width", this.isColorMixed),
            k["a"].selector.setSingleStroke(t.value, t.index);
        }
        strokeWeightHandler(e) {
          const { strokeWeight: t, strokeWidthType: i } = e;
          if (
            (Ki["a"].setTag("stroke-weight"),
            k["a"].selector.setStrokeWeight(+t),
            Vn("line_width_all", this.isColorMixed),
            i !== this.currentSelectStatus)
          ) {
            const e =
              this.currentSelectStatus === se["H"].custom
                ? se["H"].all
                : this.currentSelectStatus;
            k["a"].selector.setStrokeWidthType(e);
          }
        }
        handler() {
          (this.editPoint = ""), (this.prev = !1);
        }
        strokeWidthTypeWatcher() {
          (this.currentSelectStatus = this.selectItem.strokeWidthType),
            this.isShowCustomOption() && (this.isShowSingleStrokeOption = !0);
        }
        selectIdsHandler() {
          this.isShowSingleStrokeOption = this.isShowCustomOption();
          const e = this.selectItem.strokeWidth;
          if (this.selectIds.length) {
            this.currentSelectStatus = this.selectItem.strokeWidthType;
            const t = zn(e, "_", !0),
              i = "top_left_bottom_right" === t || "" === t;
            this.currentStrokeStatus = i ? "quad" : t;
          }
          this.currentSelectStatus !== se["H"].custom ||
            this.selectIds.length ||
            Hn(this.currentStrokeStatus);
        }
        strokeWidthWatcher() {
          if (!this.selectIds.length) return;
          const e = zn(this.selectItem.strokeWidth, "_", !0),
            t = "top_left_bottom_right" === e || "" === e;
          this.currentStrokeStatus = t ? "quad" : e;
        }
        isOpenDropdownMenuWatcher(e) {
          e && Rn("individualstroke_btn", "clickbtn");
        }
        get disabledStrokeAlign() {
          return (
            this.selectItem.type === se["o"].Line ||
            this.status[se["K"].hasConnector]
          );
        }
        get isConnector() {
          return this.selectItem.type === se["o"].Connector;
        }
        get isTwoPoint() {
          return 2 === this.selectItem.pointCount || this.isConnector;
        }
        get isShowTwoPoint() {
          return this.state === se["r"].PenEdit
            ? this.isTwoPoint &&
                "" === this.editVectorX &&
                "" === this.editVectorY
            : this.isTwoPoint;
        }
        addStroke() {
          const e = Object(On["h"])();
          k["a"].selector.strokes.addItem(e);
        }
        delStroke(e) {
          k["a"].selector.strokes.deleteItem(e.map((e) => e.index));
        }
        resortStroke(e, t) {
          k["a"].selector.strokes.sortItems(e, t);
        }
        changeStroke(e, t) {
          const { manualType: i } = e,
            s = Object(a["__rest"])(e, ["manualType"]);
          "debounce" === i && Ki["a"].setTag("stroke"),
            (s.index = t),
            void 0 === s.isVisible && (s.isVisible = !0),
            k["a"].selector.strokes.updateItem(s);
        }
        setEndPoint(e, t) {
          var i, s, o, a;
          const { rightPointStrokeCap: n, leftPointStrokeCap: r } =
              this.selectItem,
            c = t[e],
            l = () => {
              this.prev = e === Un.LEFT ? t[Un.LEFT] === n : r === t[Un.RIGHT];
            };
          return r === n && qn.includes(c) && qn.includes(n) && qn.includes(r)
            ? this.editPoint || r !== n
              ? (this.prev &&
                  qn.includes(c) &&
                  k["a"].selector.setLeftPointStrokeCap(c, c),
                this.prev ||
                  this.editPoint === e ||
                  k["a"].selector.setLeftPointStrokeCap(
                    null !== (o = t[Un.LEFT]) && void 0 !== o
                      ? o
                      : this.selectItem.leftPointStrokeCap,
                    null !== (a = t[Un.RIGHT]) && void 0 !== a
                      ? a
                      : this.selectItem.rightPointStrokeCap
                  ),
                this.prev ||
                  this.editPoint !== e ||
                  k["a"].selector.setLeftPointStrokeCap(c, c),
                (this.editPoint = e),
                void l())
              : ((this.editPoint = e),
                l(),
                void k["a"].selector.setLeftPointStrokeCap(c, c))
            : ((this.editPoint = e),
              l(),
              void k["a"].selector.setLeftPointStrokeCap(
                null !== (i = t[Un.LEFT]) && void 0 !== i
                  ? i
                  : this.selectItem.leftPointStrokeCap,
                null !== (s = t[Un.RIGHT]) && void 0 !== s
                  ? s
                  : this.selectItem.rightPointStrokeCap
              ));
        }
        toggleTextUseBackground() {
          k["a"].selector.toggleTextUseBackround(
            !this.selectItem.isTextUseBackground
          );
        }
        strokeHandler(e) {
          Ue["a"].onToursEmit(In["a"].CONCAT_LINE);
          const { manualType: t } = e,
            i = Object(a["__rest"])(e, ["manualType"]);
          "debounce" === t && Ki["a"].setTag("stroke"),
            Object.keys(i).forEach((e) => {
              switch (e) {
                case "strokeWeight":
                  k["a"].selector.setStrokeWeight(i[e]);
                  break;
                case "strokeAlign":
                  Vn(Tn[i[e]], this.isColorMixed),
                    k["a"].selector.setStrokeAlign(i[e]);
                  break;
                case "strokeCap":
                  $n("advanced_endpoint", Mn[i[e]], this.isColorMixed),
                    k["a"].selector.setStrokeCap(i[e]);
                  break;
                case "leftPointStrokeCap":
                  this.selectItem.leftPointStrokeCap !== i.leftPointStrokeCap &&
                    ($n("endpoint_A", Mn[i[e]], this.isColorMixed),
                    this.setEndPoint(e, i));
                  break;
                case "rightPointStrokeCap":
                  this.selectItem.rightPointStrokeCap !==
                    i.rightPointStrokeCap &&
                    ($n("endpoint_B", Mn[i[e]], this.isColorMixed),
                    this.setEndPoint(e, i));
                  break;
                case "strokeJoin":
                  Vn(An[i[e]], this.isColorMixed),
                    k["a"].selector.setStrokeJoin(i[e]);
                  break;
                case "strokeDashes":
                  Vn("dash_gap", this.isColorMixed),
                    k["a"].selector.setStrokeDashes(i[e]);
                  break;
                case "strokeStyle":
                  Vn(xn[i[e]], this.isColorMixed),
                    k["a"].selector.setStrokeStyle(i[e]);
                  break;
                case "dashCap":
                  Vn(Ln[i[e]], this.isColorMixed),
                    k["a"].selector.setDashCap(i[e]);
                  break;
                default:
                  break;
              }
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Array,
            required: !0,
          }),
        ],
        Wn.prototype,
        "stroke",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          Wn.prototype,
          "paintDirectory",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "expend",
              required: !1,
            }),
          ],
          Wn.prototype,
          "mode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "mixStroke",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "selectItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "editVectorX",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "editVectorY",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Wn.prototype,
          "state",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Wn.prototype,
          "selectIds",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectItem", {
              immediate: !0,
            }),
          ],
          Wn.prototype,
          "handler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectItem.strokeWidthType", {
              immediate: !0,
            }),
          ],
          Wn.prototype,
          "strokeWidthTypeWatcher",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectIds", {
              immediate: !0,
            }),
          ],
          Wn.prototype,
          "selectIdsHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("selectItem.strokeWidth")],
          Wn.prototype,
          "strokeWidthWatcher",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isOpenDropdownMenu")],
          Wn.prototype,
          "isOpenDropdownMenuWatcher",
          null
        ),
        (Wn = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicCheckbox: z["a"],
                MasterButtonIcon: Mi["a"],
                StrokePanel: Fn,
                IconSelector: Pe["a"],
                StyleTodoList: _a,
                ColorItem: Yi["a"],
                BasicLeftIcon: Qs["a"],
                MSelector: Pe["b"],
                MasterMenu: Pe["d"],
                IconInput: Xs["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])("navBtnState", ["status"])
              ),
            }),
          ],
          Wn
        ));
      var Gn = Wn,
        Kn = Gn,
        Qn =
          (i("34dc"), Object(_["a"])(Kn, Cn, Sn, !1, null, "c910669e", null)),
        Yn = Qn.exports,
        Xn = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap auto-layout-container",
              style: {
                color: e.hasAutoLayout
                  ? "var(--color-text-primary)"
                  : "var(--color-text-secondary)",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "auto-layout-container_title ",
                  attrs: {
                    "data-tours-name": "autolayout",
                  },
                  on: {
                    mousedown: e.handleAddAutoLayout,
                  },
                },
                [
                  i("div", [e._v("自动布局")]),
                  i(
                    "div",
                    [
                      i("MasterButtonIcon", {
                        attrs: {
                          icon: e.canAddAutoLayout ? "PlusIcon" : "MinusIcon",
                          disabled: e.disableChangeAutoLayout,
                        },
                        on: {
                          click: e.handleToggleAutoLayout,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              e.hasAutoLayout
                ? i(
                    "div",
                    {
                      staticClass: "panel_content_wrap",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "row-1",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "flex-direction-button",
                            },
                            [
                              i("MasterFilter", {
                                attrs: {
                                  list: e.HorizontalVerticalAlign,
                                  current: e.flexMode,
                                  disabled: e.disableChangeFlexMode,
                                },
                                on: {
                                  changeVal: e.handleChangeFlexDirection,
                                },
                              }),
                            ],
                            1
                          ),
                          i("ItemSpacingInput", {
                            attrs: {
                              selectItem: e.selectLayer,
                              position: "panel",
                            },
                          }),
                          i("MasterButtonSwitch", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: "分布式",
                                expression: "'分布式'",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              checkVal: e.isSpaceBetween,
                              icon: e.spaceBetweenIcon,
                            },
                            on: {
                              "update:checkVal": e.handleSpaceBetweenChange,
                            },
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "row-3",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "grid-container",
                            },
                            [
                              i("AlignIconGrid", {
                                attrs: {
                                  mode: e.isSpaceBetween
                                    ? "multiple"
                                    : "single",
                                  isRotate: e.isRotateGrid,
                                  activeIndex: e.activeAlginIndex,
                                },
                                on: {
                                  "active-change": e.handleGridActiveChange,
                                },
                              }),
                            ],
                            1
                          ),
                          i("PaddingInput", {
                            staticClass: "select-container",
                            style: {
                              gridTemplateColumns: e.gridTemplate.column,
                              gridTemplateRows: e.gridTemplate.row,
                            },
                            attrs: {
                              inputList: e.inputList,
                              selectItem: e.selectLayer,
                              position: "panel",
                            },
                            on: {
                              mousedown: e.mousedownHandler,
                              blur: e.blurHandler,
                            },
                          }),
                          i(
                            "div",
                            {
                              staticClass: "grid-container-button",
                            },
                            [
                              i("MasterButtonSwitch", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "展开边距",
                                    expression: "'展开边距'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  icon: "PaddingsIcon",
                                  checkVal: e.isSeperatePadding,
                                },
                                on: {
                                  click: e.handleSeperatePanddingChange,
                                },
                              }),
                              i("AutolayoutPanel", {
                                attrs: {
                                  selectItem: e.selectLayer,
                                },
                              }),
                            ],
                            1
                          ),
                        ],
                        1
                      ),
                    ]
                  )
                : e._e(),
            ]
          );
        },
        Zn = [],
        Jn = i("8170"),
        er = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "container",
              class: {
                rotate90: e.isRotate,
              },
            },
            [
              "single" === e.mode
                ? i(
                    "div",
                    {
                      staticClass: "single",
                    },
                    e._l(9, function (t) {
                      return i(
                        "div",
                        {
                          key: t,
                          staticClass: "single-item",
                          on: {
                            click: function (i) {
                              return e.handleClick(t - 1);
                            },
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              class:
                                "bar-active " +
                                (t - 1 === e._activeIndex
                                  ? ""
                                  : "bar-active__hidden"),
                              style: {
                                alignItems: e.singleAligns[((t - 1) / 3) | 0],
                                opacity: t - 1 === e._activeIndex ? 1 : "",
                              },
                            },
                            [
                              i("div", {
                                staticClass: "bar1 bar",
                              }),
                              i("div", {
                                staticClass: "bar2 bar",
                              }),
                            ]
                          ),
                          i("div", {
                            class:
                              "dot-active " +
                              (t - 1 === e._activeIndex
                                ? "dot-active__hidden"
                                : ""),
                          }),
                        ]
                      );
                    }),
                    0
                  )
                : i(
                    "div",
                    {
                      staticClass: "multiple",
                    },
                    e._l(3, function (t) {
                      return i(
                        "div",
                        {
                          key: t,
                          staticClass: "multiple-row",
                          on: {
                            click: function (i) {
                              return e.handleClick(t - 1);
                            },
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "multiple-item",
                              class:
                                t - 1 === e._activeIndex
                                  ? ""
                                  : "multiple-item__hidden",
                              style: {
                                alignItems: e.multipleAligns[t - 1],
                                opacity: t - 1 === e._activeIndex ? 1 : "",
                              },
                            },
                            [
                              i("div", {
                                staticClass: "bar3 bar",
                              }),
                              i("div", {
                                staticClass: "bar4 bar",
                              }),
                              i("div", {
                                staticClass: "bar3 bar",
                              }),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "multiple-item multiple-item-dot",
                              class:
                                t - 1 === e._activeIndex
                                  ? "multiple-item__hidden"
                                  : "",
                            },
                            [
                              i("div", {
                                staticClass: "dot-active",
                              }),
                              i("div", {
                                staticClass: "dot-active",
                              }),
                              i("div", {
                                staticClass: "dot-active",
                              }),
                            ]
                          ),
                        ]
                      );
                    }),
                    0
                  ),
            ]
          );
        },
        tr = [];
      let ir = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.singleAligns = ["start", "center", "flex-end"]),
            (this.multipleAligns = ["start", "center", "end"]);
        }
        get rotateMap() {
          return this.isRotate
            ? "single" === this.mode
              ? [6, 3, 0, 7, 4, 1, 8, 5, 2]
              : [2, 1, 0]
            : [];
        }
        get rotateInverseMap() {
          return this.isRotate
            ? "single" === this.mode
              ? [2, 5, 8, 1, 4, 7, 0, 3, 6]
              : [2, 1, 0]
            : [];
        }
        get _activeIndex() {
          return this.isRotate
            ? this.rotateMap[this.activeIndex]
            : this.activeIndex;
        }
        handleClick(e) {
          let t = e;
          this.isRotate && (t = this.rotateInverseMap[e]),
            this.$emit("active-change", t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "single",
            required: !1,
          }),
        ],
        ir.prototype,
        "mode",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          ir.prototype,
          "isRotate",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 1,
              required: !1,
            }),
          ],
          ir.prototype,
          "activeIndex",
          void 0
        ),
        (ir = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {},
            }),
          ],
          ir
        ));
      var sr = ir,
        or = sr,
        ar =
          (i("1a7d"), Object(_["a"])(or, er, tr, !1, null, "c217db88", null)),
        nr = ar.exports,
        rr = i("b4a6"),
        cr = i("dd7a"),
        lr = i("6210"),
        dr = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("Bounced", {
            attrs: {
              title: "自动布局设置",
              offsetLeft: 220,
              width: "252",
              open: e.isOpen,
              trigger: "manual",
              noBorder: !0,
            },
            on: {
              "update:open": function (t) {
                e.isOpen = t;
              },
            },
            scopedSlots: e._u([
              {
                key: "button",
                fn: function () {
                  return [
                    i("MasterButtonIcon", {
                      attrs: {
                        isLocalIcon: !1,
                        icon: "EllipsisHIcon",
                        focusable: "",
                      },
                      on: {
                        click: function (t) {
                          e.isOpen = !e.isOpen;
                        },
                      },
                    }),
                  ];
                },
                proxy: !0,
              },
              {
                key: "content",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "autolayout-content",
                      },
                      [
                        i(
                          "div",
                          {
                            class: e.previewClass,
                          },
                          [
                            e.hoverType === e.HoverType.STROKE
                              ? i("StrokePreview")
                              : e.hoverType === e.HoverType.REVERT
                              ? i("ReversePreview", {
                                  attrs: {
                                    type: e.revertType,
                                  },
                                })
                              : i(
                                  "div",
                                  {
                                    staticClass: "autolayout-preview-none",
                                  },
                                  [e._v("预览")]
                                ),
                          ],
                          1
                        ),
                        i(
                          "div",
                          {
                            staticClass: "autolayout-preview-list",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "autolayout-preview-item",
                                on: {
                                  mouseenter: function (t) {
                                    return e.onMouseEnterItem(
                                      e.HoverType.STROKE
                                    );
                                  },
                                  mouseleave: e.onMouseLeave,
                                },
                              },
                              [
                                i("span", [e._v("描边")]),
                                i("MasterSelector", {
                                  staticStyle: {
                                    width: "90px",
                                  },
                                  attrs: {
                                    value: e.selectItem.strokesIncludedInLayout,
                                    placeholder:
                                      null ===
                                      e.selectItem.strokesIncludedInLayout
                                        ? "多个值"
                                        : "",
                                    options: e.STROKES_INCLUDED_IN_LAYOUT,
                                    mode: "masterPopover",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.changeStrokesIncludedInLayout(t);
                                    },
                                    mouseenter: function (t) {
                                      return e.onMouseEnterItem(
                                        e.HoverType.STROKE
                                      );
                                    },
                                    changeHover: function (t) {
                                      return e.onChangeHover(
                                        e.HoverType.STROKE,
                                        t
                                      );
                                    },
                                    close: e.onClose,
                                    open: e.onOpen,
                                  },
                                }),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "autolayout-preview-item",
                                on: {
                                  mouseenter: function (t) {
                                    return e.onMouseEnterItem(
                                      e.HoverType.REVERT
                                    );
                                  },
                                  mouseleave: e.onMouseLeave,
                                },
                              },
                              [
                                i("span", [e._v("堆叠")]),
                                i("MasterSelector", {
                                  staticStyle: {
                                    width: "90px",
                                  },
                                  attrs: {
                                    value: e.selectItem.itemReverseZIndex,
                                    placeholder:
                                      null === e.selectItem.itemReverseZIndex
                                        ? "多个值"
                                        : "",
                                    options: e.ITEM_REVERSE_ZINDEX,
                                    mode: "masterPopover",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.changeItemReverseZIndex(t);
                                    },
                                    mouseenter: function (t) {
                                      return e.onMouseEnterItem(
                                        e.HoverType.REVERT
                                      );
                                    },
                                    changeHover: function (t) {
                                      return e.onChangeRevertHover(
                                        e.HoverType.REVERT,
                                        t
                                      );
                                    },
                                    open: e.onOpenRevert,
                                    close: e.onClose,
                                  },
                                }),
                              ],
                              1
                            ),
                          ]
                        ),
                      ]
                    ),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        ur = [],
        hr = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return "last-top" === e.type
            ? i(
                "svg",
                {
                  attrs: {
                    xmlns: "http://www.w3.org/2000/svg",
                    "xmlns:xlink": "http://www.w3.org/1999/xlink",
                    fill: "none",
                    version: "1.1",
                    width: "124",
                    height: "56",
                    viewBox: "0 0 124 56",
                  },
                },
                [
                  i(
                    "g",
                    {
                      staticStyle: {
                        "mix-blend-mode": "passthrough",
                      },
                    },
                    [
                      i("g", [
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "0",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M22.91016,22.13039L18,34.980000000000004L20.25,34.980000000000004L21.41602,31.7632L26.80078,31.7632L27.972659999999998,34.980000000000004L30.2227,34.980000000000004L25.30664,22.13039L22.91016,22.13039ZM22.04883,30.0347L24.08203,24.39797L24.15234,24.39797L26.16797,30.0347L22.04883,30.0347Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "0.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "38",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M57.25977,22.13039L57.25977,34.980000000000004L63.16016,34.980000000000004C64.53125,34.980000000000004,65.60938,34.728,66.3652,34.2241C67.25,33.6148,67.6953,32.6597,67.6953,31.3648C67.6953,30.5034,67.4844,29.8003,67.0684,29.2964C66.6348,28.774900000000002,66.0078,28.4292,65.1582,28.271C65.80859,28.0191,66.2949,27.6734,66.6348,27.2046C66.9805,26.700699999999998,67.1562,26.0913,67.1562,25.3706C67.1562,24.39797,66.8164,23.62453,66.1484,23.05031C65.42773,22.43508,64.41992,22.13039,63.14258,22.13039L57.25977,22.13039ZM59.36328,23.85891L62.62109,23.85891C63.48828,23.85891,64.09766,23.99953,64.49609,24.2925C64.85352,24.56203,65.05273,25.0073,65.05273,25.6226C65.05273,26.2905,64.85352,26.776899999999998,64.49609,27.0816C64.11523,27.3687,63.48828,27.5327,62.58594,27.5327L59.36328,27.5327L59.36328,23.85891ZM59.36328,29.261200000000002L62.9082,29.261200000000002C63.8457,29.261200000000002,64.53125,29.4195,64.95898,29.7417C65.375,30.0698,65.5918,30.5913,65.5918,31.3296C65.5918,32.0503,65.30469,32.5542,64.73047,32.8765C64.2793,33.1284,63.64648,33.2573,62.85547,33.2573L59.36328,33.2573L59.36328,29.261200000000002Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "38.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "76",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M100.83789,21.87844C98.78711,21.87844,97.2168,22.54641,96.13867,23.91164C95.18359,25.101100000000002,94.714844,26.6655,94.714844,28.575699999999998C94.714844,30.521,95.16602,32.0679,96.08594,33.216300000000004C97.12891,34.5523,98.73438,35.2378,100.87305,35.2378C102.26172,35.2378,103.44531,34.8394,104.4355,34.0484C105.502,33.1987,106.1641,32.0327,106.457,30.521L104.4004,30.521C104.1484,31.4878,103.7207,32.2261,103.10547,32.7124C102.53125,33.146,101.77539,33.3804,100.85547,33.3804C99.44922,33.3804,98.40625,32.9292,97.74414,32.0679C97.12891,31.2593,96.82422,30.087400000000002,96.82422,28.575699999999998C96.82422,27.0991,97.12891,25.9448,97.76172,25.1187C98.44141,24.18117,99.44922,23.73,100.80273,23.73C101.69922,23.73,102.4375,23.91164,103.01758,24.31008C103.60938,24.70266,104.0078,25.3179,104.2246,26.1616L106.2754,26.1616C106.0762,24.86672,105.5195,23.82375,104.582,23.06789C103.60938,22.27102,102.34961,21.87844,100.83789,21.87844Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "76.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                      ]),
                    ]
                  ),
                ]
              )
            : i(
                "svg",
                {
                  attrs: {
                    xmlns: "http://www.w3.org/2000/svg",
                    "xmlns:xlink": "http://www.w3.org/1999/xlink",
                    fill: "none",
                    version: "1.1",
                    width: "124",
                    height: "56",
                    viewBox: "0 0 124 56",
                  },
                },
                [
                  i(
                    "g",
                    {
                      staticStyle: {
                        "mix-blend-mode": "passthrough",
                      },
                    },
                    [
                      i("g", [
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "76",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M100.83789,21.87844C98.78711,21.87844,97.2168,22.54641,96.13867,23.91164C95.18359,25.101100000000002,94.714844,26.6655,94.714844,28.575699999999998C94.714844,30.521,95.16602,32.0679,96.08594,33.216300000000004C97.12891,34.5523,98.73438,35.2378,100.87305,35.2378C102.26172,35.2378,103.44531,34.8394,104.4355,34.0484C105.502,33.1987,106.1641,32.0327,106.457,30.521L104.4004,30.521C104.1484,31.4878,103.7207,32.2261,103.10547,32.7124C102.53125,33.146,101.77539,33.3804,100.85547,33.3804C99.44922,33.3804,98.40625,32.9292,97.74414,32.0679C97.12891,31.2593,96.82422,30.087400000000002,96.82422,28.575699999999998C96.82422,27.0991,97.12891,25.9448,97.76172,25.1187C98.44141,24.18117,99.44922,23.73,100.80273,23.73C101.69922,23.73,102.4375,23.91164,103.01758,24.31008C103.60938,24.70266,104.0078,25.3179,104.2246,26.1616L106.2754,26.1616C106.0762,24.86672,105.5195,23.82375,104.582,23.06789C103.60938,22.27102,102.34961,21.87844,100.83789,21.87844Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "76.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "38",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M57.25977,22.13039L57.25977,34.980000000000004L63.16016,34.980000000000004C64.53125,34.980000000000004,65.60938,34.728,66.3652,34.2241C67.25,33.6148,67.6953,32.6597,67.6953,31.3648C67.6953,30.5034,67.4844,29.8003,67.0684,29.2964C66.6348,28.774900000000002,66.0078,28.4292,65.1582,28.271C65.80859,28.0191,66.2949,27.6734,66.6348,27.2046C66.9805,26.700699999999998,67.1562,26.0913,67.1562,25.3706C67.1562,24.39797,66.8164,23.62453,66.1484,23.05031C65.42773,22.43508,64.41992,22.13039,63.14258,22.13039L57.25977,22.13039ZM59.36328,23.85891L62.62109,23.85891C63.48828,23.85891,64.09766,23.99953,64.49609,24.2925C64.85352,24.56203,65.05273,25.0073,65.05273,25.6226C65.05273,26.2905,64.85352,26.776899999999998,64.49609,27.0816C64.11523,27.3687,63.48828,27.5327,62.58594,27.5327L59.36328,27.5327L59.36328,23.85891ZM59.36328,29.261200000000002L62.9082,29.261200000000002C63.8457,29.261200000000002,64.53125,29.4195,64.95898,29.7417C65.375,30.0698,65.5918,30.5913,65.5918,31.3296C65.5918,32.0503,65.30469,32.5542,64.73047,32.8765C64.2793,33.1284,63.64648,33.2573,62.85547,33.2573L59.36328,33.2573L59.36328,29.261200000000002Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "38.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                        i(
                          "g",
                          {
                            staticStyle: {
                              "mix-blend-mode": "passthrough",
                            },
                          },
                          [
                            i("rect", {
                              staticClass: "rect-fill",
                              attrs: {
                                x: "0",
                                y: "0",
                                width: "48",
                                height: "56",
                                rx: "6",
                                fill: "currentColor",
                                "fill-opacity": "1",
                              },
                            }),
                            i("g", [
                              i(
                                "g",
                                {
                                  staticStyle: {
                                    "mix-blend-mode": "passthrough",
                                  },
                                },
                                [
                                  i("path", {
                                    staticClass: "text-fill",
                                    attrs: {
                                      d: "M22.91016,22.13039L18,34.980000000000004L20.25,34.980000000000004L21.41602,31.7632L26.80078,31.7632L27.972659999999998,34.980000000000004L30.2227,34.980000000000004L25.30664,22.13039L22.91016,22.13039ZM22.04883,30.0347L24.08203,24.39797L24.15234,24.39797L26.16797,30.0347L22.04883,30.0347Z",
                                      fill: "currentColor",
                                      "fill-opacity": "1",
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            i("rect", {
                              staticClass: "stroke-fill",
                              attrs: {
                                x: "0.5",
                                y: "0.5",
                                width: "47",
                                height: "55",
                                rx: "5.5",
                                "fill-opacity": "0",
                                "stroke-opacity": "1",
                                stroke: "currentColor",
                                "stroke-width": "1",
                                fill: "none",
                                "stroke-dasharray": "",
                              },
                            }),
                          ]
                        ),
                      ]),
                    ]
                  ),
                ]
              );
        },
        pr = [];
      let mr = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        mr.prototype,
        "type",
        void 0
      ),
        (mr = Object(a["__decorate"])([Object(n["a"])({})], mr));
      var gr,
        br,
        vr = mr,
        fr = vr,
        yr = Object(_["a"])(fr, hr, pr, !1, null, null, null),
        _r = yr.exports,
        Cr = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "svg",
            {
              attrs: {
                xmlns: "http://www.w3.org/2000/svg",
                "xmlns:xlink": "http://www.w3.org/1999/xlink",
                fill: "none",
                version: "1.1",
                width: "166",
                height: "55.999996185302734",
                viewBox: "0 0 166 55.999996185302734",
              },
            },
            [
              i(
                "g",
                {
                  staticStyle: {
                    "mix-blend-mode": "passthrough",
                  },
                },
                [
                  i("g", [
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i("path", {
                          staticClass: "rect-left rect-transition",
                          attrs: {
                            d: "M1,7C1,3.68629,3.68629,1,7,1L49,1C52.3137,1,55,3.68629,55,7L55,49C55,52.3137,52.3137,55,49,55L7,55C3.68629,55,1,52.3137,1,49L1,7ZM5,7L5,49Q5,49.8284,5.58579,50.4142Q6.17157,51,7,51L49,51Q49.8284,51,50.4142,50.4142Q51,49.8284,51,49L51,7Q51,6.17157,50.4142,5.58579Q49.8284,5,49,5L7,5Q6.17157,5,5.58579,5.58579Q5,6.17157,5,7Z",
                            "fill-rule": "evenodd",
                            fill: "currentColor",
                            "fill-opacity": "1",
                          },
                        }),
                      ]
                    ),
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i("path", {
                          staticClass: "rect-right rect-transition",
                          attrs: {
                            d: "M75,7C75,3.68629,77.68629,1,81,1L159,1C162.31369999999998,1,165,3.68629,165,7L165,49C165,52.3137,162.31369999999998,55,159,55L81,55C77.68629,55,75,52.3137,75,49L75,7ZM79,7L79,49Q79,49.8284,79.58579,50.4142Q80.17157,51,81,51L159,51Q159.8284,51,160.4142,50.4142Q161,49.8284,161,49L161,7Q161,6.17158,160.4142,5.58579Q159.8284,5,159,5L81,5Q80.17157,5,79.58579,5.58579Q79,6.17157,79,7Z",
                            "fill-rule": "evenodd",
                            fill: "currentColor",
                            "fill-opacity": "1",
                          },
                        }),
                      ]
                    ),
                    i(
                      "g",
                      {
                        staticStyle: {
                          "mix-blend-mode": "passthrough",
                        },
                      },
                      [
                        i("path", {
                          staticClass: "rect-extral rect-transition",
                          attrs: {
                            d: "M2.76468,0.946131C3.58847,0.417674,4.54995,0.0851228,5.58335,0.0142411L5.65178,1.0119Q4.378,1.09927,3.30463,1.78783L2.76468,0.946131ZM0,7.64377L0,6C0,4.95534,0.26698,3.97303,0.736432,3.11758L1.6131,3.59868Q1,4.71588,1,6L1,7.64377L0,7.64377ZM0,13.6438L0,10.6438L1,10.6438L1,13.6438L0,13.6438ZM0,19.6438L0,16.6438L1,16.6438L1,19.6438L0,19.6438ZM0,25.6438L0,22.6438L1,22.6438L1,25.6438L0,25.6438ZM0,31.6438L0,28.6438L1,28.6438L1,31.6438L0,31.6438ZM0,37.6438L0,34.6438L1,34.6438L1,37.6438L0,37.6438ZM0,43.6438L0,40.6438L1,40.6438L1,43.6438L0,43.6438ZM0,49.6438L0,46.6438L1,46.6438L1,49.6438L0,49.6438ZM2.4705,54.8526C1.6619,54.2635,1.00617,53.4771,0.574014,52.5643L1.47784,52.1364Q2.02399,53.29,3.05937,54.0444L2.4705,54.8526ZM8.23282,56L6,56C5.73853,56,5.48096,55.9833,5.22831,55.9508L5.35567,54.959Q5.67516,55,6,55L8.23282,55L8.23282,56ZM14.2328,56L11.2328,56L11.2328,55L14.2328,55L14.2328,56ZM20.2328,56L17.2328,56L17.2328,55L20.2328,55L20.2328,56ZM26.2328,56L23.2328,56L23.2328,55L26.2328,55L26.2328,56ZM32.2328,56L29.2328,56L29.2328,55L32.2328,55L32.2328,56ZM38.2328,56L35.2328,56L35.2328,55L38.2328,55L38.2328,56ZM44.2328,56L41.2328,56L41.2328,55L44.2328,55L44.2328,56ZM50.2328,56L47.2328,56L47.2328,55L50.2328,55L50.2328,56ZM56.2328,56L53.2328,56L53.2328,55L56.2328,55L56.2328,56ZM62.2328,56L59.2328,56L59.2328,55L62.2328,55L62.2328,56ZM68.2328,56L65.2328,56L65.2328,55L68.2328,55L68.2328,56ZM74.2328,56L71.2328,56L71.2328,55L74.2328,55L74.2328,56ZM80.2328,56L77.2328,56L77.2328,55L80.2328,55L80.2328,56ZM86.2328,56L83.2328,56L83.2328,55L86.2328,55L86.2328,56ZM92.2328,56L89.2328,56L89.2328,55L92.2328,55L92.2328,56ZM98.2328,56L95.2328,56L95.2328,55L98.2328,55L98.2328,56ZM104.233,56L101.233,56L101.233,55L104.233,55L104.233,56ZM110.233,56L107.233,56L107.233,55L110.233,55L110.233,56ZM116.233,56L113.233,56L113.233,55L116.233,55L116.233,56ZM122.233,56L119.233,56L119.233,55L122.233,55L122.233,56ZM128.233,56L125.233,56L125.233,55L128.233,55L128.233,56ZM134.233,56L131.233,56L131.233,55L134.233,55L134.233,56ZM140.233,56L137.233,56L137.233,55L140.233,55L140.233,56ZM146.233,56L143.233,56L143.233,55L146.233,55L146.233,56ZM152.233,56L149.233,56L149.233,55L152.233,55L152.233,56ZM158.233,56L155.233,56L155.233,55L158.233,55L158.233,56ZM163.895,54.5636C163.144,55.206,162.231,55.6659,161.227,55.8745L161.023,54.8954Q162.271,54.6362,163.246,53.8033L163.895,54.5636ZM166,49.1781L166,50C166,50.7524,165.862,51.4724,165.609,52.136L164.674,51.7799Q165,50.9249,165,50L165,49.1781L166,49.1781ZM166,43.1781L166,46.1781L165,46.1781L165,43.1781L166,43.1781ZM166,37.1781L166,40.1781L165,40.1781L165,37.1781L166,37.1781ZM166,31.1781L166,34.1781L165,34.1781L165,31.1781L166,31.1781ZM166,25.1781L166,28.1781L165,28.1781L165,25.1781L166,25.1781ZM166,19.1781L166,22.1781L165,22.1781L165,19.1781L166,19.1781ZM166,13.1781L166,16.1781L165,16.1781L165,13.1781L166,13.1781ZM166,7.17812L166,10.1781L165,10.1781L165,7.17812L166,7.17812ZM164.16,1.67581C164.875,2.36433,165.42,3.22881,165.725,4.19963L164.771,4.49934Q164.39,3.285,163.466,2.39643L164.16,1.67581ZM158.589,0L160,0C160.545,0,161.074,0.0727915,161.576,0.209191L161.314,1.17424Q160.673,1,160,1L158.589,1L158.589,0ZM152.589,0L155.589,0L155.589,1L152.589,1L152.589,0ZM146.589,0L149.589,0L149.589,1L146.589,1L146.589,0ZM140.589,0L143.589,0L143.589,1L140.589,1L140.589,0ZM134.589,0L137.589,0L137.589,1L134.589,1L134.589,0ZM128.589,0L131.589,0L131.589,1L128.589,1L128.589,0ZM122.589,0L125.589,0L125.589,1L122.589,1L122.589,0ZM116.589,0L119.589,0L119.589,1L116.589,1L116.589,0ZM110.589,0L113.589,0L113.589,1L110.589,1L110.589,0ZM104.589,0L107.589,0L107.589,1L104.589,1L104.589,0ZM98.5891,0L101.589,0L101.589,1L98.5891,1L98.5891,0ZM92.5891,0L95.5891,0L95.5891,1L92.5891,1L92.5891,0ZM86.5891,0L89.5891,0L89.5891,1L86.5891,1L86.5891,0ZM80.5891,0L83.5891,0L83.5891,1L80.5891,1L80.5891,0ZM74.5891,0L77.5891,0L77.5891,1L74.5891,1L74.5891,0ZM68.5891,0L71.5891,0L71.5891,1L68.5891,1L68.5891,0ZM62.5891,0L65.5891,0L65.5891,1L62.5891,1L62.5891,0ZM56.5891,0L59.5891,0L59.5891,1L56.5891,1L56.5891,0ZM50.5891,0L53.5891,0L53.5891,1L50.5891,1L50.5891,0ZM44.5891,0L47.5891,0L47.5891,1L44.5891,1L44.5891,0ZM38.5891,0L41.5891,0L41.5891,1L38.5891,1L38.5891,0ZM32.5891,0L35.5891,0L35.5891,1L32.5891,1L32.5891,0ZM26.5891,0L29.5891,0L29.5891,1L26.5891,1L26.5891,0ZM20.5891,0L23.5891,0L23.5891,1L20.5891,1L20.5891,0ZM14.5891,0L17.5891,0L17.5891,1L14.5891,1L14.5891,0ZM11.5891,0L11.5891,1L8.58906,1L8.58906,0L11.5891,0Z",
                            "fill-rule": "evenodd",
                            fill: "currentColor",
                            "fill-opacity": "1",
                          },
                        }),
                      ]
                    ),
                  ]),
                ]
              ),
            ]
          );
        },
        Sr = [],
        Ir = {},
        Or = Object(_["a"])(Ir, Cr, Sr, !1, null, null, null),
        kr = Or.exports;
      (function (e) {
        (e["STROKE"] = "stroke"), (e["REVERT"] = "revert");
      })(gr || (gr = {})),
        (function (e) {
          (e["EXCLUDED"] = "excluded"),
            (e["INCLUDED"] = "included"),
            (e["LAST_TOP"] = "last-top"),
            (e["FIRST_TOP"] = "first-top");
        })(br || (br = {}));
      let wr = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ITEM_REVERSE_ZINDEX =
              Pe["e"].dictionaries.ITEM_REVERSE_ZINDEX()),
            (this.STROKES_INCLUDED_IN_LAYOUT =
              Pe["e"].dictionaries.STROKES_INCLUDED_IN_LAYOUT()),
            (this.HoverType = gr),
            (this.hoverType = ""),
            (this.optionHoverType = ""),
            (this.isOpen = !1),
            (this.isOpenSelector = !1);
        }
        get revertType() {
          return this.optionHoverType
            ? this.optionHoverType
            : this.selectItem.itemReverseZIndex
            ? br.FIRST_TOP
            : br.LAST_TOP;
        }
        get previewClass() {
          let e = "autolayout-preview";
          return (
            this.hoverType === gr.STROKE &&
              ((e += " autolayout-preview-stroke"),
              this.optionHoverType
                ? (e += " autolayout-preview-stroke-" + this.optionHoverType)
                : (e +=
                    " autolayout-preview-stroke-" +
                    (this.selectItem.strokesIncludedInLayout
                      ? br.EXCLUDED
                      : br.INCLUDED))),
            this.hoverType === gr.REVERT && (e += " autolayout-preview-revert"),
            e
          );
        }
        onChangeHover(e, t) {
          this.isOpenSelector &&
            ((this.hoverType = e),
            (this.optionHoverType = t ? br.EXCLUDED : br.INCLUDED));
        }
        onClose() {
          (this.isOpenSelector = !1), (this.optionHoverType = "");
        }
        onOpen() {
          (this.isOpenSelector = !0),
            (this.optionHoverType = this.selectItem.strokesIncludedInLayout
              ? br.EXCLUDED
              : br.INCLUDED);
        }
        onOpenRevert() {
          (this.isOpenSelector = !0),
            (this.optionHoverType = this.selectItem.itemReverseZIndex
              ? br.FIRST_TOP
              : br.LAST_TOP);
        }
        onChangeRevertHover(e, t) {
          this.isOpenSelector &&
            ((this.hoverType = e),
            (this.optionHoverType = t ? br.FIRST_TOP : br.LAST_TOP));
        }
        onMouseLeave() {
          this.optionHoverType || (this.hoverType = "");
        }
        onMouseEnterItem(e) {
          this.hoverType = e;
        }
        changeItemReverseZIndex(e) {
          k["a"].selector.setItemReverseZIndex(e),
            this.setSensors(e ? "first_on_top" : "last_on_top");
        }
        changeStrokesIncludedInLayout(e) {
          k["a"].selector.setStrokesIncludedInLayout(e),
            this.setSensors(e ? "include" : "exclude");
        }
        setSensors(e) {
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "autolayout",
            action_type: "choose",
            action_detail: e,
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        wr.prototype,
        "selectItem",
        void 0
      ),
        (wr = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Bounced: Ys["a"],
                MasterButtonIcon: Mi["a"],
                MSelector: Pe["b"],
                ReversePreview: _r,
                MasterSelector: Pe["e"],
                StrokePreview: kr,
              },
            }),
          ],
          wr
        ));
      var xr = wr,
        Lr = xr,
        Ar =
          (i("4029"), Object(_["a"])(Lr, dr, ur, !1, null, "3cf44d76", null)),
        Tr = Ar.exports;
      const jr = {
        [ys["d"].Horizontal]: "horz_direction",
        [ys["d"].Vertical]: "vert_direction",
      };
      function Mr(e) {
        _e["c"].track(_e["a"].EVENT_CLICK, {
          action_position: "canvas",
          action_parameter0: "design",
          action_parameter1: "autolayout",
          action_parameter2: "direction",
          action_type: "click",
          action_detail: jr[e],
        });
      }
      function Er() {
        _e["c"].track(_e["a"].EVENT_CLICK, {
          action_position: "canvas",
          action_parameter0: "design",
          action_parameter1: "autolayout",
          action_parameter2: "spacingmode_btn",
        });
      }
      const Pr =
        "https://mastergo.com/community/resource/58171549391678?from=card";
      var Dr;
      (function (e) {
        (e["Full"] = "full"),
          (e["Couple"] = "couple"),
          (e["Seperate"] = "seperate");
      })(Dr || (Dr = {}));
      const Br = {
          [Dr.Full]: {
            row: "1fr",
            column: "1fr ",
          },
          [Dr.Couple]: {
            row: "1fr",
            column: "1fr ",
          },
          [Dr.Seperate]: {
            row: "1fr 1fr",
            column: "1fr 1fr",
          },
        },
        Nr = [rr["c"].Full],
        Fr = [rr["c"].Top, rr["c"].Bottom, rr["c"].Left, rr["c"].Right],
        Rr = [rr["c"].TopBottom, rr["c"].LeftRight],
        Hr = {
          [Dr.Full]: Nr,
          [Dr.Couple]: Rr,
          [Dr.Seperate]: Fr,
        };
      let $r = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.keydownHandler = Z["ob"]),
            (this.HorizontalVerticalAlign = ys["f"]),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.paddingMode = Dr.Couple),
            (this.isMetaKey = !1),
            (this.PG = Pr);
        }
        get flexMode() {
          return this.selectLayer.flexMode;
        }
        get isSpaceBetween() {
          return this.mainAxisAlignValue === ys["c"].SpacingBetween;
        }
        get isRotateGrid() {
          return this.flexMode === ys["d"].Vertical;
        }
        get hasAutoLayout() {
          return this.selectLayer.isAllAutoLayout;
        }
        get mainAxisAlignValue() {
          return this.selectLayer.mainAxisAlignItems;
        }
        get crossAxisAlignValue() {
          return this.selectLayer.crossAxisAlignItems;
        }
        get spaceBetweenIcon() {
          const e = [
              ["SpacingBetweenHIcon", "SpacingPickedHIcon"],
              ["SpacingBetweenVIcon", "SpacingPickedVIcon"],
            ],
            t = this.flexMode === ys["d"].Horizontal ? 0 : 1,
            i = this.isSpaceBetween ? 0 : 1;
          return e[t][i];
        }
        get gridTemplate() {
          return Br[this.paddingMode];
        }
        get inputList() {
          return Hr[this.paddingMode];
        }
        get isSeperatePadding() {
          return this.paddingMode === Dr.Seperate;
        }
        get canAddAutoLayout() {
          return Object(Jn["a"])(this.selectLayer, this.selectLayerCount);
        }
        handleRemoveAutoLayout() {
          this.disableChangeAutoLayout ||
            k["a"].selector[ee["a"].setAutoLayout]({
              removeAutoLayout: "",
            });
        }
        get disableChangeAutoLayout() {
          return !this.canAddAutoLayout && !Object(Jn["b"])(this.selectLayer);
        }
        get disableChangeFlexMode() {
          return (
            this.selectLayer.isPartOfInstance || this.selectLayer.isInstance
          );
        }
        mounted() {
          (this.paddingMode =
            this.selectLayer.padding0 === this.selectLayer.padding2 &&
            this.selectLayer.padding3 === this.selectLayer.padding1
              ? Dr.Couple
              : Dr.Seperate),
            x["e"].$on("AddAutoLayout", this.handleAddAutoLayout),
            x["e"].$on("RemoveAutoLayout", this.handleRemoveAutoLayout);
        }
        beforeDestroy() {
          x["e"].$off("AddAutoLayout", this.handleAddAutoLayout),
            x["e"].$off("RemoveAutoLayout", this.handleRemoveAutoLayout);
        }
        mousedownHandler(e) {
          this.paddingMode !== Dr.Full &&
            e.metaKey &&
            ((this.isMetaKey = !0),
            (this.tempPaddingMode = this.paddingMode),
            (this.paddingMode = Dr.Full),
            requestAnimationFrame(() => {
              const e = document.querySelector(".select-container input");
              e && (e.focus(), e.setSelectionRange(0, -1)),
                (this.isMetaKey = !1);
            }));
        }
        blurHandler() {
          this.paddingMode !== Dr.Full ||
            this.isMetaKey ||
            (this.paddingMode = this.tempPaddingMode);
        }
        handleSpaceBetweenChange(e) {
          k["a"].selector[ee["a"].setAutoLayout]({
            mainAxisAlignItems: e ? ys["c"].SpacingBetween : ys["c"].FlexStart,
          }),
            e && Er();
        }
        handleSeperatePanddingChange() {
          this.isSeperatePadding
            ? (this.paddingMode = Dr.Couple)
            : (this.paddingMode = Dr.Seperate);
        }
        get activeAlginIndex() {
          const e = [0, 2, 1];
          return this.isSpaceBetween
            ? e[this.crossAxisAlignValue]
            : this.flexMode === ys["d"].Horizontal
            ? 3 * e[this.crossAxisAlignValue] + e[this.mainAxisAlignValue]
            : 3 * e[this.mainAxisAlignValue] + e[this.crossAxisAlignValue];
        }
        handleChangeFlexDirection(e) {
          k["a"].selector[ee["a"].setAutoLayout]({
            flexMode: e,
          }),
            Mr(e);
        }
        handleGridActiveChange(e) {
          const t = [0, 2, 1];
          if (this.isSpaceBetween)
            this.handleFlexPropsChange("crossAxisAlignItems", t[e]);
          else {
            const i = t[(e / 3) | 0],
              s = t[e % 3];
            this.flexMode === ys["d"].Horizontal
              ? (this.handleFlexPropsChange("mainAxisAlignItems", s),
                this.handleFlexPropsChange("crossAxisAlignItems", i))
              : (this.handleFlexPropsChange("mainAxisAlignItems", i),
                this.handleFlexPropsChange("crossAxisAlignItems", s));
          }
        }
        handleFlexPropsChange(e, t) {
          let i = this.parseInputValue(t);
          null !== i &&
            ("itemSpacing" === e &&
              (Ki["a"].setTag("itemSpacing"), (i = Math.max(i, 0))),
            k["a"].selector[ee["a"].setAutoLayout]({
              [e]: i,
            }));
        }
        handleAddAutoLayout() {
          this.disableChangeAutoLayout ||
            (this.canAddAutoLayout && k["a"].addAutoLayout());
        }
        handleToggleAutoLayout(e) {
          Ue["a"].onToursEmit(In["a"].AUTO_LAYOUT),
            e.stopPropagation(),
            this.disableChangeAutoLayout ||
              (this.canAddAutoLayout
                ? k["a"].addAutoLayout()
                : k["a"].removeAutoLayout());
        }
        parseInputValue(e) {
          const t = "string" === typeof e ? parseFloat(e) : e;
          return Number.isNaN(t) ? null : parseFloat(t.toFixed(2));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        $r.prototype,
        "selectLayer",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          $r.prototype,
          "selectLayerCount",
          void 0
        ),
        ($r = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                BasicLeftIcon: Qs["a"],
                MasterButtonSwitch: us["a"],
                AlignIconGrid: nr,
                PaddingInput: cr["a"],
                ItemSpacingInput: lr["a"],
                AutolayoutPanel: Tr,
              },
            }),
          ],
          $r
        ));
      var Vr = $r,
        zr = Vr,
        Ur =
          (i("8349"), Object(_["a"])(zr, Xn, Zn, !1, null, "3ddfc166", null)),
        qr = Ur.exports,
        Wr = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap only-list fill-box",
            },
            [
              i("StyleTodoList", {
                attrs: {
                  type: "grid",
                  list: e.grids,
                  styleCatalogList: e.gridDirectory,
                  notAdd: e.mixGrid,
                  styleItem: e.styleItem,
                  styleMode: "",
                  headToursName: "layoutgrid",
                },
                on: {
                  add: e.addGrid,
                  del: e.delGrid,
                  resort: e.resortGrid,
                  setStyleSensor: e.setGridStyleSensor,
                  setGridLayoutVisible: e.setGridLayoutVisible,
                },
                scopedSlots: e._u([
                  {
                    key: "header",
                    fn: function () {
                      return [
                        i(
                          "div",
                          {
                            staticClass: "panel_title",
                          },
                          [
                            i(
                              "span",
                              {
                                staticStyle: {
                                  "white-space": "nowrap",
                                },
                              },
                              [e._v("布局网格")]
                            ),
                          ]
                        ),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "default",
                    fn: function (t) {
                      return [
                        i("GridItem", {
                          attrs: {
                            data: t.data,
                          },
                          on: {
                            change: function (i) {
                              var s = arguments.length,
                                o = Array(s);
                              while (s--) o[s] = arguments[s];
                              return e.changeGrid.apply(
                                void 0,
                                o.concat([t.data.index])
                              );
                            },
                          },
                        }),
                      ];
                    },
                  },
                ]),
              }),
              !e.grids.length && e.mixGrid
                ? i(
                    "div",
                    {
                      staticClass: "text-tran-30",
                    },
                    [e._v(" 存在不同属性值，可点击 + 号替换 ")]
                  )
                : e._e(),
            ],
            1
          );
        },
        Gr = [],
        Kr = i("47d5");
      let Qr = class extends n["g"] {
        constructor() {
          super(...arguments), (this.hotkeyManager = ne["e"]);
        }
        setGridLayoutVisible() {
          this.layoutGridVisible ||
            (ne["e"].execute("shift+G"),
            this.$eventBus.$emit("changeGridLayoutVisible"),
            this.$toast({
              content: "布局网格已显示",
              buttonInfo: "隐藏",
              timeout: 1e4,
              position: "bottom",
              onclick: () => {
                ne["e"].execute("shift+G");
              },
            }));
        }
        setGridStyleSensor() {
          d["a"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "grid",
            action_type: "choose",
            action_detail: "style",
          });
        }
        addGrid() {
          const e = Object(On["a"])();
          k["a"].selector.grids.addItem(e),
            this.setGridLayoutVisible(),
            d["a"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "grid",
              action_detail: "add",
            });
        }
        delGrid(e) {
          k["a"].selector.grids.deleteItem(e.map((e) => e.index)),
            this.setGridLayoutVisible();
        }
        changeGrid(e, t) {
          const { manualType: i } = e,
            s = Object(a["__rest"])(e, ["manualType"]);
          (s.index = t),
            "debounce" === i && Ki["a"].setTag("grid"),
            (s.index = t),
            void 0 === s.isVisible && (s.isVisible = !0),
            k["a"].selector.grids.updateItem(s),
            this.setGridLayoutVisible();
        }
        resortGrid(e, t) {
          k["a"].selector.grids.sortItems(e, t), this.setGridLayoutVisible();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        Qr.prototype,
        "selectLayer",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          Qr.prototype,
          "grids",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          Qr.prototype,
          "gridDirectory",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Qr.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          Qr.prototype,
          "mixGrid",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          Qr.prototype,
          "layoutGridVisible",
          void 0
        ),
        (Qr = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                StyleTodoList: _a,
                GridItem: Kr["a"],
              },
            }),
          ],
          Qr
        ));
      var Yr = Qr,
        Xr = Yr,
        Zr = Object(_["a"])(Xr, Wr, Gr, !1, null, null, null),
        Jr = Zr.exports,
        ec = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.selectItem.style
            ? i("TextItem", {
                attrs: {
                  data: e.selectItem.style,
                  textStyleId: e.textStyleId,
                },
                scopedSlots: e._u(
                  [
                    {
                      key: "header",
                      fn: function () {
                        return [
                          "" === e.textStyleId
                            ? i(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "feature",
                                      rawName: "v-feature",
                                      value: "style",
                                      expression: "'style'",
                                    },
                                  ],
                                  staticClass: "text-title__align",
                                },
                                [
                                  i("master-dropdown", {
                                    attrs: {
                                      placement: "bottom-start",
                                      offset: 0,
                                      open: e.openStyle,
                                      trigger: "manual",
                                      needShieldeddrop: !0,
                                      boundariesElement: e.el,
                                    },
                                    on: {
                                      "update:open": function (t) {
                                        e.openStyle = t;
                                      },
                                      "apply-show": e.applyShow,
                                    },
                                    nativeOn: {
                                      click: function (e) {
                                        e.stopPropagation();
                                      },
                                    },
                                    scopedSlots: e._u(
                                      [
                                        {
                                          key: "dropButton",
                                          fn: function () {
                                            return [
                                              i("MasterButtonIcon", {
                                                directives: [
                                                  {
                                                    name: "tip",
                                                    rawName: "v-tip.bottom",
                                                    value: "创建或使用样式",
                                                    expression:
                                                      "'创建或使用样式'",
                                                    modifiers: {
                                                      bottom: !0,
                                                    },
                                                  },
                                                ],
                                                attrs: {
                                                  icon: "StyleIcon",
                                                  isLocalIcon: !1,
                                                  focusable: "",
                                                },
                                                on: {
                                                  click: function (t) {
                                                    e.openStyle = !e.openStyle;
                                                  },
                                                },
                                              }),
                                            ];
                                          },
                                          proxy: !0,
                                        },
                                        {
                                          key: "dropMenu",
                                          fn: function () {
                                            return [
                                              e.openStyle
                                                ? i("StylePanel", {
                                                    ref: "stylePanel",
                                                    staticStyle: {
                                                      transform:
                                                        "translateX(-7px)",
                                                    },
                                                    attrs: {
                                                      type: "text",
                                                      notAdd: e.notAdd,
                                                      styleCatalogList:
                                                        e.textDirectory,
                                                      styleItem: e.textStyle,
                                                    },
                                                    on: {
                                                      change: function (t) {
                                                        e.openStyle = !1;
                                                      },
                                                      setStyle: e.setTextStyle,
                                                      addStyle: e.addTextStyle,
                                                    },
                                                  })
                                                : e._e(),
                                            ];
                                          },
                                          proxy: !0,
                                        },
                                      ],
                                      null,
                                      !1,
                                      1072688339
                                    ),
                                  }),
                                ],
                                1
                              )
                            : null === e.textStyleId
                            ? i("MasterButtonIcon", {
                                attrs: {
                                  icon: "UnlinkIcon",
                                  isLocalIcon: !1,
                                },
                                nativeOn: {
                                  click: function (t) {
                                    return e.unlickText(t);
                                  },
                                },
                              })
                            : i(
                                "div",
                                {
                                  staticClass: "text-title__desc",
                                },
                                [e._v(e._s(e.textStyle.description))]
                              ),
                        ];
                      },
                      proxy: !0,
                    },
                    "" !== e.textStyleId
                      ? {
                          key: "content",
                          fn: function () {
                            return [
                              null !== e.textStyleId
                                ? i("StyleTodo", {
                                    attrs: {
                                      styleItem: e.textStyle,
                                      styleCatalogList: e.textDirectory,
                                      type: "text",
                                    },
                                    on: {
                                      addStyle: e.addTextStyle,
                                    },
                                  })
                                : i(
                                    "div",
                                    {
                                      staticClass: "text-tran-30",
                                    },
                                    [
                                      e._v(
                                        "存在不同属性值，请断开连接以继续编辑"
                                      ),
                                    ]
                                  ),
                            ];
                          },
                          proxy: !0,
                        }
                      : null,
                  ],
                  null,
                  !0
                ),
              })
            : e._e();
        },
        tc = [],
        ic = i("c1b7");
      let sc = class extends n["g"] {
        constructor() {
          super(...arguments), (this.openStyle = !1);
        }
        get el() {
          return document.body;
        }
        setTextStyle(e) {
          "string" === typeof e
            ? k["a"].selector.texts.changeStyleById(e)
            : k["a"].selector.texts.changeStyleByLibrary(
                e.ukey,
                String(e.version)
              ),
            (this.openStyle = !1);
        }
        addTextStyle(e) {
          if (this.textStyleId)
            return (
              k["a"].mergeStepStart(),
              this.unlickText(),
              k["a"].selector.texts.createStyle(e),
              k["a"].mergeStepEnd(),
              void (this.openStyle = !1)
            );
          k["a"].selector.texts.createStyle(e), (this.openStyle = !1);
        }
        unlickText() {
          var e;
          null === (e = k["a"].selector.texts) ||
            void 0 === e ||
            e.changeStyleById("");
        }
        applyShow() {
          this.$nextTick(this.$refs.stylePanel.inputFocus.bind(this));
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
          }),
        ],
        sc.prototype,
        "selectItem",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          sc.prototype,
          "textStyleId",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          sc.prototype,
          "textDirectory",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          sc.prototype,
          "textStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          sc.prototype,
          "notAdd",
          void 0
        ),
        (sc = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                TextItem: ic["a"],
                MasterButtonIcon: Mi["a"],
                StyleTodo: ga,
                StylePanel: ia["a"],
              },
              computed: {},
            }),
          ],
          sc
        ));
      var oc = sc,
        ac = oc,
        nc = Object(_["a"])(ac, ec, tc, !1, null, "3d7e9c88", null),
        rc = nc.exports,
        cc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap component-status-container",
            },
            [
              i(
                "div",
                {
                  staticClass: "panel_title component-status__title",
                  style: {
                    color:
                      e.hasStatus || e.componentProps.length
                        ? "var(--color-text-primary)"
                        : "var(--color-text-secondary)",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticStyle: {
                        flex: "1",
                      },
                    },
                    [
                      e._v(
                        e._s(
                          !0 === e.selectItem.allPartOfCompoentSet
                            ? "组件状态"
                            : "组件属性"
                        )
                      ),
                    ]
                  ),
                  e.isShowAdd
                    ? i(
                        "div",
                        [
                          i(
                            "master-dropdown",
                            {
                              staticClass: "component-status-menu",
                              attrs: {
                                placement: "bottom-start",
                                open: e.menuStatus,
                              },
                              on: {
                                command: e.changeval,
                                "update:open": function (t) {
                                  e.menuStatus = t;
                                },
                              },
                            },
                            [
                              i("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "新建组件属性",
                                    expression: "'新建组件属性'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  slot: "dropButton",
                                  icon: "PlusIcon",
                                  dataToursName: "create_properties",
                                },
                                slot: "dropButton",
                              }),
                              e.menuStatus
                                ? i(
                                    "master-menu",
                                    {
                                      staticClass: "component-status-drop-menu",
                                      attrs: {
                                        slot: "dropMenu",
                                        width: "176px",
                                        list: e.dropMenu,
                                        hoverActived: "",
                                      },
                                      slot: "dropMenu",
                                    },
                                    [
                                      i(
                                        "div",
                                        {
                                          staticClass: "component-prop__aside",
                                          attrs: {
                                            slot: "aside",
                                          },
                                          slot: "aside",
                                        },
                                        [e._v("选择新建属性类型")]
                                      ),
                                    ]
                                  )
                                : e._e(),
                            ],
                            1
                          ),
                        ],
                        1
                      )
                    : e._e(),
                ]
              ),
              !1 === e.selectItem.allPartOfCompoentSet
                ? i("StyleTodoList", {
                    staticClass: "component-prop__list",
                    attrs: {
                      list: e.showData || [],
                      disabledDelete: !0,
                    },
                    on: {
                      resort: e.resortStatus,
                    },
                    scopedSlots: e._u(
                      [
                        {
                          key: "default",
                          fn: function (e) {
                            return [
                              i("ComponentPropItem", {
                                attrs: {
                                  data: e.data,
                                },
                              }),
                            ];
                          },
                        },
                      ],
                      null,
                      !1,
                      381250890
                    ),
                  })
                : e._e(),
              e.addStatusFlag
                ? i("MasterInput", {
                    ref: "addStatusInput",
                    staticStyle: {
                      "padding-left": "12px",
                      "margin-top": "3px",
                    },
                    attrs: {
                      focusSelectAll: "",
                      value: e.addStatusFlag,
                    },
                    on: {
                      blur: e.addStatus,
                    },
                  })
                : e._e(),
              !1 === e.selectItem.allPartOfCompoentSet
                ? i("StyleTodoList", {
                    staticClass: "component-prop__list",
                    attrs: {
                      list: e.componentProps || [],
                      disabledDelete: !0,
                    },
                    on: {
                      resort: e.resortProp,
                    },
                    scopedSlots: e._u(
                      [
                        {
                          key: "default",
                          fn: function (t) {
                            return [
                              i("ComponentPropItem", {
                                attrs: {
                                  data: t.data,
                                  nameMap: e.componentNamePropsMap,
                                },
                              }),
                            ];
                          },
                        },
                      ],
                      null,
                      !1,
                      3308013917
                    ),
                  })
                : e._e(),
              !e.showCombine &&
              e.selectItem.isComponentSet &&
              e.componentStatusConflict > 0
                ? i(
                    "div",
                    {
                      staticClass: "alart-box",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "alart-icon alart-opacity-group",
                        },
                        [
                          i("WarningIcon", {
                            attrs: {
                              size: "13",
                            },
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "alart-msg-box",
                        },
                        [
                          i(
                            "span",
                            {
                              staticClass: "alart-msg alart-opacity-group",
                            },
                            [e._v(e._s(e.componentSetConflictDes))]
                          ),
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "gray",
                                size: "sm",
                                padding:
                                  1 === e.componentStatusConflict ? 21 : 9,
                              },
                              on: {
                                click: e.handleSelectLayer,
                              },
                            },
                            [e._v(e._s(e.conflictBtn) + " ")]
                          ),
                        ],
                        1
                      ),
                    ]
                  )
                : e._e(),
              e.showCombine && !e.isVariant
                ? i(
                    "div",
                    {
                      staticClass: "combine-btn",
                    },
                    [
                      i(
                        "MButton",
                        {
                          attrs: {
                            type: "secondary",
                            width: "216",
                            size: "xs",
                          },
                          on: {
                            click: e.handleCombineAsCS,
                          },
                        },
                        [e._v(" 组合为组件状态 ")]
                      ),
                    ],
                    1
                  )
                : e._e(),
              e.isVariant && !e.showCombine
                ? i(
                    "div",
                    {
                      staticClass: "single-variant",
                    },
                    [
                      i("VariantItem", {
                        attrs: {
                          variantData: e.variantProperties,
                          fullData: e.componentStatus,
                          componentProps: e.componentProps,
                        },
                        on: {
                          change: e.handleVariantChange,
                        },
                      }),
                      void 0 !== e.description
                        ? i(
                            "div",
                            {
                              staticClass: "panel_main_wrap",
                            },
                            [
                              i("master-input", {
                                attrs: {
                                  textarea: "",
                                  value: e.description,
                                  focusSelectAll: "",
                                  placeholder: "输入描述内容",
                                  row: 2,
                                },
                                on: {
                                  change: e.handleChangeDescription,
                                },
                              }),
                            ],
                            1
                          )
                        : e._e(),
                    ],
                    1
                  )
                : e._e(),
              !e.showCombine && e.variantConflict && e.selectItem.isComponent
                ? i(
                    "div",
                    {
                      staticClass: "panel_main_wrap",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "alart-box",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "alart-icon alart-opacity-group",
                            },
                            [
                              i("WarningIcon", {
                                attrs: {
                                  size: "13",
                                },
                              }),
                            ],
                            1
                          ),
                          i(
                            "div",
                            {
                              staticClass: "alart-msg-box",
                            },
                            [
                              i(
                                "span",
                                {
                                  staticClass: "alart-msg alart-opacity-group",
                                },
                                [e._v(e._s(e.variantConflict))]
                              ),
                            ]
                          ),
                        ]
                      ),
                    ]
                  )
                : e._e(),
            ],
            1
          );
        },
        lc = [],
        dc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "component-propitem",
              class: {
                active: e.isShow,
              },
            },
            [
              e.popoverLazyLoad
                ? i("Bounced", {
                    ref: "bounced",
                    staticClass: "component-propitem__popover",
                    attrs: {
                      title: e.title,
                      offsetLeft: 14,
                      width: "252",
                      open: e.isShow,
                    },
                    on: {
                      "update:open": function (t) {
                        e.isShow = t;
                      },
                      open: e.onOpen,
                    },
                    scopedSlots: e._u(
                      [
                        {
                          key: "button",
                          fn: function () {
                            return [
                              i(
                                "div",
                                {
                                  staticClass: "component-propitem__name",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "component-propitem__icon",
                                    },
                                    [
                                      0 === e.data.type
                                        ? i("ComponentIcon")
                                        : 1 === e.data.type
                                        ? i("InstanceIcon")
                                        : 2 === e.data.type
                                        ? i("EyeIcon")
                                        : 3 === e.data.type
                                        ? i("TextIcon")
                                        : e._e(),
                                    ],
                                    1
                                  ),
                                  i(
                                    "div",
                                    {
                                      staticClass: "component-propitem__label",
                                    },
                                    [e._v(e._s(e.data.name))]
                                  ),
                                  0 === e.data.type
                                    ? i(
                                        "div",
                                        {
                                          staticClass:
                                            "component-propitem__status",
                                        },
                                        [
                                          e._v(
                                            " " +
                                              e._s(e.data.values.join(",")) +
                                              " "
                                          ),
                                        ]
                                      )
                                    : e._e(),
                                ]
                              ),
                            ];
                          },
                          proxy: !0,
                        },
                        {
                          key: "content",
                          fn: function () {
                            return [
                              i(
                                "div",
                                {
                                  staticClass: "property-form__area",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "property-form",
                                      class: {
                                        status: 0 === e.data.type,
                                      },
                                    },
                                    [
                                      i("span", [e._v("属性名称")]),
                                      i(
                                        "div",
                                        [
                                          i("MasterInput", {
                                            ref: "nameInput",
                                            staticStyle: {
                                              "padding-left": "12px",
                                            },
                                            attrs: {
                                              value: e.data.name,
                                              focusSelectAll: "",
                                            },
                                            on: {
                                              change: e.setName,
                                            },
                                          }),
                                        ],
                                        1
                                      ),
                                      i(
                                        "span",
                                        {
                                          staticClass: "property-form__mutil",
                                        },
                                        [
                                          e._v(
                                            e._s(
                                              0 === e.data.type
                                                ? "状态"
                                                : "默认"
                                            ) + "值"
                                          ),
                                        ]
                                      ),
                                      i(
                                        "div",
                                        [
                                          e.data.type ===
                                          e.ComponentPropType.Content
                                            ? i("MasterInput", {
                                                attrs: {
                                                  textarea: "",
                                                  autoHeight: "",
                                                },
                                                on: {
                                                  blur: function (t) {
                                                    return e.setValue(
                                                      e.showValue
                                                    );
                                                  },
                                                },
                                                model: {
                                                  value: e.showValue,
                                                  callback: function (t) {
                                                    e.showValue = t;
                                                  },
                                                  expression: "showValue",
                                                },
                                              })
                                            : e._e(),
                                          e.data.type ===
                                          e.ComponentPropType.Boolean
                                            ? i("MSelector", {
                                                attrs: {
                                                  options: [
                                                    {
                                                      label: "是",
                                                      value: 1,
                                                    },
                                                    {
                                                      label: "否",
                                                      value: 0,
                                                    },
                                                  ],
                                                  value: e.data.value ? 1 : 0,
                                                  placeholderDisable: !1,
                                                  offset: -20,
                                                },
                                                on: {
                                                  change: function (t) {
                                                    return e.setValue(1 === t);
                                                  },
                                                },
                                              })
                                            : e._e(),
                                          e.data.type ===
                                          e.ComponentPropType.Instance
                                            ? i("ComponentSelector", {
                                                attrs: {
                                                  componentId: e.data.value,
                                                  currentComponent:
                                                    e.currentComponent,
                                                  onChange: e.onComponentChange,
                                                },
                                              })
                                            : e._e(),
                                          0 === e.data.type
                                            ? i("StyleTodoList", {
                                                staticClass:
                                                  "component-prop__list",
                                                attrs: {
                                                  list: e.data.values.map(
                                                    function (e, t) {
                                                      return {
                                                        index: e,
                                                        id: e,
                                                      };
                                                    }
                                                  ),
                                                  disabledDelete: !0,
                                                },
                                                on: {
                                                  resort: e.resortValue,
                                                },
                                                scopedSlots: e._u(
                                                  [
                                                    {
                                                      key: "default",
                                                      fn: function (t) {
                                                        return [
                                                          i("MasterInput", {
                                                            staticClass:
                                                              "component-propitem__valueinput",
                                                            attrs: {
                                                              value:
                                                                t.data.index,
                                                            },
                                                            on: {
                                                              change: function (
                                                                i
                                                              ) {
                                                                return e.setStatusValue(
                                                                  i,
                                                                  t.data.index
                                                                );
                                                              },
                                                            },
                                                          }),
                                                        ];
                                                      },
                                                    },
                                                  ],
                                                  null,
                                                  !1,
                                                  3681986573
                                                ),
                                              })
                                            : e._e(),
                                        ],
                                        1
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                            ];
                          },
                          proxy: !0,
                        },
                      ],
                      null,
                      !1,
                      2127859182
                    ),
                  })
                : i(
                    "div",
                    {
                      staticClass: "component-propitem__name",
                      on: {
                        click: e.onFirstOpen,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "component-propitem__icon",
                        },
                        [
                          0 === e.data.type
                            ? i("ComponentIcon")
                            : 1 === e.data.type
                            ? i("InstanceIcon")
                            : 2 === e.data.type
                            ? i("EyeIcon")
                            : 3 === e.data.type
                            ? i("TextIcon")
                            : e._e(),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "component-propitem__label",
                        },
                        [e._v(e._s(e.data.name))]
                      ),
                      0 === e.data.type
                        ? i(
                            "div",
                            {
                              staticClass: "component-propitem__status",
                            },
                            [e._v(" " + e._s(e.data.values.join(",")) + " ")]
                          )
                        : e._e(),
                    ]
                  ),
              i("MasterButtonIcon", {
                attrs: {
                  icon: "MinusIcon",
                  focusable: "",
                },
                on: {
                  click: function (t) {
                    return e.delItem(e.data.propertyId);
                  },
                },
              }),
              e.nameMap[e.data.name] > 1
                ? i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "属性名称冲突",
                          expression: "'属性名称冲突'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "component-propitem__icon",
                    },
                    [i("WarningIcon")],
                    1
                  )
                : e.data.binding || 0 === e.data.type
                ? e._e()
                : i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: "此属性未关联任何图层",
                          expression: "'此属性未关联任何图层'",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "component-propitem__icon",
                    },
                    [i("WarningIcon")],
                    1
                  ),
            ],
            1
          );
        },
        uc = [];
      let hc = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ComponentPropType = Yo["b"]),
            (this.isShow = !1),
            (this.popoverLazyLoad = !1),
            (this.showValue = "");
        }
        valueHandler(e) {
          this.showValue = e;
        }
        get title() {
          return [
            "组件状态属性",
            "实例切换属性",
            "可见状态属性",
            "文本内容属性",
          ][this.data.type];
        }
        get currentComponent() {
          return this.data.type !== Yo["b"].Instance
            ? {}
            : Object(Ia["b"])(this.data.value, me["a"].state.component);
        }
        delItem(e) {
          0 !== this.data.type
            ? k["a"].selector.deleteComponentProp(e)
            : _s.removeProperty({
                value: this.data.name,
              });
        }
        onFirstOpen() {
          (this.popoverLazyLoad = !0),
            this.$nextTick(() => {
              this.isShow = !0;
            });
        }
        onOpen() {
          this.$nextTick(() => {
            this.$refs.nameInput.focus();
          });
        }
        setName(e) {
          if (e)
            return 0 === this.data.type
              ? (x["n"].setLog(
                  "INFO",
                  "userAction",
                  "selection_component edit_inspector_property"
                ),
                void _s.updateProperty({
                  oldValue: this.data.name,
                  newValue: e,
                }))
              : void k["a"].selector.setComponentPropName(
                  this.data.propertyId,
                  e
                );
        }
        setValue(e) {
          "" !== e
            ? k["a"].selector.setComponentPropValue(
                this.data.propertyId,
                this.data.type,
                e
              )
            : (this.showValue = this.data.value);
        }
        setStatusValue(e, t) {
          x["n"].setLog(
            "INFO",
            "userAction",
            "selection_component edit_inspector_state"
          ),
            _s.updateValue({
              property: this.data.name,
              oldValue: t,
              newValue: e,
            });
        }
        onComponentChange(e, t) {
          const i = (null === t || void 0 === t ? void 0 : t.isLibrary)
            ? O["a"].Module.getComponentIdByKey(t.ukey, t.componentSignature)
            : e.id;
          ka(i)
            ? this.setValue(i)
            : this.$toast({
                content: "不能设置包含该组件的实例",
                timeout: 1e3,
                position: "top",
              });
        }
        resortValue([e], t) {
          x["n"].setLog(
            "INFO",
            "userAction",
            "selection_component move_inspector_state"
          ),
            _s.sortValue({
              property: this.data.name,
              value: e,
              below: t,
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            default: !1,
            required: !0,
          }),
        ],
        hc.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default() {
                return {};
              },
              required: !1,
            }),
          ],
          hc.prototype,
          "nameMap",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data.value", {
              immediate: !0,
            }),
          ],
          hc.prototype,
          "valueHandler",
          null
        ),
        (hc = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                Bounced: Ys["a"],
                MasterInput: pe["a"],
                MSelector: Pe["b"],
                ComponentSelector: Wo,
                StyleTodoList: _a,
              },
            }),
          ],
          hc
        ));
      var pc = hc,
        mc = pc,
        gc =
          (i("f781"), Object(_["a"])(mc, dc, uc, !1, null, "15127aac", null)),
        bc = gc.exports,
        vc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("MDialog", {
            staticClass: "property-form__dialog",
            attrs: {
              top: "28vh",
              name: "preferencesDialog",
              modal: !0,
              width: "264px",
              visible: e.isShowAddProps,
              allowDrag: !0,
              showClose: !0,
            },
            on: {
              close: e.handleClose,
            },
            nativeOn: {
              click: function (e) {
                e.stopPropagation();
              },
            },
            scopedSlots: e._u([
              {
                key: "title",
                fn: function () {
                  return [e._v("新建组件属性")];
                },
                proxy: !0,
              },
              {
                key: "default",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "property-form",
                      },
                      [
                        i("span", [e._v("属性名称")]),
                        i(
                          "div",
                          [
                            i("MasterInput", {
                              attrs: {
                                placeholder: "",
                              },
                              model: {
                                value: e.addPropInfo.name,
                                callback: function (t) {
                                  e.$set(e.addPropInfo, "name", t);
                                },
                                expression: "addPropInfo.name",
                              },
                            }),
                          ],
                          1
                        ),
                        i(
                          "span",
                          {
                            staticClass: "property-cell__mutil",
                          },
                          [e._v("默认值")]
                        ),
                        i(
                          "div",
                          [
                            e.addPropInfo.type === e.ComponentPropType.Content
                              ? i("MasterInput", {
                                  attrs: {
                                    textarea: !0,
                                    autoHeight: !0,
                                    placeholder:
                                      null === e.addPropInfo.value
                                        ? "多个值"
                                        : "",
                                  },
                                  model: {
                                    value: e.addPropInfo.value,
                                    callback: function (t) {
                                      e.$set(e.addPropInfo, "value", t);
                                    },
                                    expression: "addPropInfo.value",
                                  },
                                })
                              : e._e(),
                            e.addPropInfo.type === e.ComponentPropType.Boolean
                              ? i("MSelector", {
                                  attrs: {
                                    options: [
                                      {
                                        label: "是",
                                        value: 1,
                                      },
                                      {
                                        label: "否",
                                        value: 0,
                                      },
                                    ],
                                    value: e.addPropInfo.value ? 1 : 0,
                                    placeholderDisable: !1,
                                    offset: -20,
                                  },
                                  on: {
                                    change: function (t) {
                                      return (e.addPropInfo.value = 1 === t);
                                    },
                                  },
                                })
                              : e._e(),
                            e.addPropInfo.type === e.ComponentPropType.Instance
                              ? i("ComponentSelector", {
                                  attrs: {
                                    componentId: e.addPropInfo.value,
                                    currentComponent:
                                      e.addPropInfo.currentComponent,
                                    onChange: e.onComponentChange,
                                  },
                                })
                              : e._e(),
                          ],
                          1
                        ),
                        i("span"),
                        i(
                          "div",
                          {
                            staticStyle: {
                              width: "78px",
                              "justify-self": "end",
                              "margin-top": "6px",
                            },
                          },
                          [
                            i(
                              "MButton",
                              {
                                attrs: {
                                  disabled:
                                    !e.addPropInfo.name ||
                                    "" === e.addPropInfo.value ||
                                    null === e.addPropInfo.value ||
                                    void 0 === e.addPropInfo.value,
                                  size: "xs",
                                },
                                on: {
                                  click: e.addProp,
                                },
                              },
                              [e._v("创建属性")]
                            ),
                          ],
                          1
                        ),
                      ]
                    ),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        fc = [],
        yc = i("3035");
      function _c(e, t) {
        let i = e;
        if (!t.some((t) => t.name === e)) return i;
        const s = i.match(/\d+$/);
        return (
          s ? (i = i.replace(/\d+$/, "" + (Number(s[0]) + 1))) : (i += "2"),
          _c(i, t)
        );
      }
      let Cc = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ComponentPropType = Yo["b"]),
            (this.isShowAddProps = !1),
            (this.addPropInfo = {
              name: "",
              type: 0,
              value: "",
              currentComponent: {},
              isReference: !1,
            });
        }
        addProp() {
          const e = _c(this.addPropInfo.name, this.componentProps);
          this.addPropInfo.isReference
            ? k["a"].selector.addAndRefComponentProp(
                e,
                this.addPropInfo.value,
                this.addPropInfo.type,
                this.addPropInfo.type
              )
            : k["a"].selector.addComponentProp(
                e,
                this.addPropInfo.value,
                this.addPropInfo.type
              ),
            this.handleClose();
        }
        get dropMenu() {
          return [
            {
              disabled: !1,
              label: "组件状态",
              value: "addVariant",
            },
            {
              disabled: !1,
              label: "显示状态",
              value: "addVisible",
            },
            {
              disabled: !1,
              label: "文本内容",
              value: "addContent",
            },
            {
              disabled: !1,
              label: "实例切换",
              value: "addInstance",
            },
          ];
        }
        openAddPropDialog(e, t, i, s = !1) {
          e === Yo["b"].Boolean
            ? ((this.addPropInfo.name = t ? "显示 " + t : "显示图层"),
              (this.addPropInfo.type = Yo["b"].Boolean),
              (this.addPropInfo.value = null === i || void 0 === i || i))
            : e === Yo["b"].Content
            ? ((this.addPropInfo.name = "文本"),
              (this.addPropInfo.type = Yo["b"].Content),
              (this.addPropInfo.value = void 0 === i ? "" : i))
            : e === Yo["b"].Instance &&
              ((this.addPropInfo.name = "实例"),
              (this.addPropInfo.type = Yo["b"].Instance),
              (this.addPropInfo.value = null !== i && void 0 !== i ? i : ""),
              (this.addPropInfo.currentComponent = i
                ? Object(Ia["b"])(i, me["a"].state.component)
                : {})),
            (this.addPropInfo.name = _c(
              this.addPropInfo.name,
              this.componentProps
            )),
            (this.isShowAddProps = !0),
            (this.addPropInfo.isReference = s),
            _e["c"].track(_e["a"].COMPONENT_PROPERTIES, {
              action_position: this.addPropInfo.isReference
                ? "layer"
                : "component",
              action_type: "create",
              action_parameter2: this.addPropInfo.isReference
                ? "layer_add_property"
                : "add_property",
              action_detail: ["", "instanceswipe", "boolean", "text"][
                this.addPropInfo.type
              ],
            });
        }
        onComponentChange(e, t) {
          const i = (null === t || void 0 === t ? void 0 : t.isLibrary)
            ? O["a"].Module.getComponentIdByKey(t.ukey, t.componentSignature)
            : e.id;
          ka(i)
            ? ((this.addPropInfo.currentComponent = I[
                "b"
              ].module.getLayerProperties(i, ["name"]).data),
              (this.addPropInfo.value = i))
            : this.$toast({
                content: "不能设置包含该组件的实例",
                timeout: 1e3,
                position: "top",
              });
        }
        handleClose() {
          this.isShowAddProps = !1;
        }
      };
      Cc = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterInputMultText: yc["a"],
              MSelector: Pe["b"],
              ComponentSelector: Wo,
              MasterInput: pe["a"],
            },
            computed: Object(r["e"])({
              selectItem: (e) => e.basicProps.item,
              componentProps: (e) => e.component.componentProps,
            }),
          }),
        ],
        Cc
      );
      var Sc = Cc,
        Ic = Sc,
        Oc =
          (i("0de5"), Object(_["a"])(Ic, vc, fc, !1, null, "221521f7", null)),
        kc = Oc.exports;
      let wc = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.menuStatus = !1),
            (this.componentSetConflictDes = ""),
            (this.conflictBtn = ""),
            (this.addStatusFlag = ""),
            (this.componentStatusItems = []);
        }
        menuStatusHandler(e) {
          e &&
            x["n"].setLog(
              "INFO",
              "userAction",
              "selection_component click_more_menu"
            );
        }
        handleComponentStatusConflict(e) {
          switch (e) {
            case se["c"].SameName:
              (this.componentSetConflictDes =
                "存在状态相同的可变组件，需要修改状态以解决冲突。"),
                (this.conflictBtn = "选中状态相同可变组件");
              break;
            case se["c"].InvalidName:
              (this.componentSetConflictDes = "可变组件名称不合法。"),
                (this.conflictBtn = "选中名称不合法的可变组件");
              break;
            case se["c"].MissingProp:
              (this.componentSetConflictDes =
                "存在属性未设置状态的可变组件，需要添加状态解决该缺失。"),
                (this.conflictBtn = "选中缺失属性值的可变组件");
              break;
            default:
              (this.componentSetConflictDes = ""), (this.conflictBtn = "");
              break;
          }
        }
        get isShowAdd() {
          return (
            !this.showCombine && !1 === this.selectItem.allPartOfCompoentSet
          );
        }
        handleIsShowAdd() {
          this.isShowAdd &&
            setTimeout(() => {
              Ue["a"].onToursEmit("componentProperties_tours_rightpannel");
            }, 200);
        }
        get componentNamePropsMap() {
          const e = {};
          return (
            this.componentProps.forEach((t) => {
              e[t.name] ? (e[t.name] += 1) : (e[t.name] = 1);
            }),
            e
          );
        }
        get variantConflict() {
          if (this.componentStatusConflict <= 0) return "";
          let e = !1;
          for (const i of this.componentStatusConflictLayers)
            this.selectIds.includes(i) && (e = !0);
          const t = this.selectIds.length > 1 ? "存在" : "该";
          if (!e) return "";
          switch (this.componentStatusConflict) {
            case se["c"].SameName:
              return (
                t + "可变组件与其他可变组件状态相同，需要修改状态以解决冲突。"
              );
            case se["c"].InvalidName:
              return t + "可变组件名称不合法";
            case se["c"].MissingProp:
              return t + "可变组件有属性未设置状态，需要添加状态解决该缺失。";
            default:
              return "";
          }
        }
        get description() {
          var e;
          return null === (e = this.componentMap[this.selectItem.layerId]) ||
            void 0 === e
            ? void 0
            : e.description;
        }
        get showCombine() {
          return this.navStatus[se["K"].combineAsComponentStatus];
        }
        get hasStatus() {
          return this.componentStatus.length > 0;
        }
        get isVariant() {
          return this.variantProperties.length > 0;
        }
        get showData() {
          const e = this.componentStatus.map((e, t) => ({
            id: t,
            name: e.property,
            values: e.values,
            cnts: e.cnts,
            type: 0,
            index: e.property,
          }));
          return e;
        }
        get dropMenu() {
          return [
            {
              disabled: !1,
              label: "组件状态",
              value: 0,
              masterIcon: "ComponentIcon",
            },
            {
              disabled: !1,
              label: "显示状态",
              value: Yo["b"].Boolean,
              masterIcon: "EyeIcon",
            },
            {
              disabled: !1,
              label: "文本内容",
              value: Yo["b"].Content,
              masterIcon: "TextIcon",
            },
            {
              disabled: !1,
              label: "实例切换",
              value: Yo["b"].Instance,
              masterIcon: "InstanceIcon",
            },
          ];
        }
        changeval(e) {
          0 === e.value
            ? (x["n"].setLog(
                "INFO",
                "userAction",
                "selection_component click_inspector_add"
              ),
              this.selectItem.isComponentSet
                ? (x["n"].setLog(
                    "INFO",
                    "userAction",
                    "selection_component click_add_property"
                  ),
                  (this.addStatusFlag = _c(
                    "属性 " + this.showData.length,
                    this.showData
                  )),
                  this.$nextTick(() => {
                    this.$refs.addStatusInput.focus();
                  }))
                : k["a"].createComponentStatus(!0))
            : this.openAddCompPropDialog(e.value);
        }
        addStatus(e) {
          const t = e.target.value;
          t &&
            (x["n"].setLog(
              "INFO",
              "userAction",
              "selection_component edit_inspector_property"
            ),
            _s.addProperty({
              value: _c(t, this.showData),
            })),
            (this.addStatusFlag = "");
        }
        resortProp([e], t) {
          var i;
          const s = t
              ? this.componentProps.findIndex((e) => e.index === t) - 1
              : this.componentProps.length - 1,
            o = ~s
              ? null === (i = this.componentProps[s]) || void 0 === i
                ? void 0
                : i.index
              : "";
          k["a"].selector.sortComponentProp(e, o);
        }
        resortStatus([e], t) {
          x["n"].setLog(
            "INFO",
            "userAction",
            "selection_component move_inspector_property"
          ),
            _s.sortProperty({
              value: e,
              below: t,
            });
        }
        handleClose() {
          this.isShowAddProps = !1;
        }
        handleSelectLayer() {
          k["a"].layers.select(this.componentStatusConflictLayers);
        }
        removeProperty(e) {
          _s.removeProperty({
            value: e.property,
          });
        }
        handleChangeDescription(e) {
          k["a"].setComponentDesc(this.selectItem.layerId, e);
        }
        handleCombineAsCS() {
          x["n"].setLog(
            "INFO",
            "userAction",
            "selection_component click_inspector_combine"
          ),
            k["a"].createComponentStatus();
        }
        handleVariantChange(e, t) {
          _s.updateValue({
            property: t.property,
            newValue: e,
          });
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("menuStatus")],
        wc.prototype,
        "menuStatusHandler",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("componentStatusConflict", {
              immediate: !0,
            }),
          ],
          wc.prototype,
          "handleComponentStatusConflict",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("isShowAdd", {
              immediate: !0,
            }),
          ],
          wc.prototype,
          "handleIsShowAdd",
          null
        ),
        (wc = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: Pe["d"],
                MasterSelector: Pe["e"],
                VariantItem: Da,
                StyleTodoList: _a,
                ComponentPropItem: bc,
                MasterInput: pe["a"],
              },
              computed: Object(r["e"])({
                componentStatus: (e) => e.component.componentStatus,
                variantProperties: (e) => e.component.variantProperties,
                selectItem: (e) => e.basicProps.item,
                componentMap: (e) => e.component.componentMap,
                componentStatusConflict: (e) =>
                  e.component.componentStatusConflict,
                componentStatusConflictLayers: (e) =>
                  e.component.componentStatusConflictLayers,
                componentProps: (e) => e.component.componentProps,
                selectIds: (e) => e.basicState.selectIds,
                navStatus: (e) => e.navBtnState.status,
              }),
              inject: ["openAddCompPropDialog"],
            }),
          ],
          wc
        ));
      var xc = wc,
        Lc = xc,
        Ac =
          (i("3644"),
          i("f2c1"),
          Object(_["a"])(Lc, cc, lc, !1, null, "70a9866b", null)),
        Tc = Ac.exports,
        jc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap only-list fill-box",
            },
            [
              i("StyleTodoList", {
                attrs: {
                  type: "fill",
                  styleMode: "",
                  list: e.fill || [],
                  styleCatalogList: e.paintDirectory,
                  mode: e.mode,
                  styleItem: e.fillStyle,
                  notAdd: e.mixFill,
                  headToursName: "fill",
                  dataToursNamePanel: "style_list",
                  dataToursNameCreate: "create_style",
                },
                on: {
                  resort: e.resortFill,
                  add: e.addFill,
                  del: e.delFill,
                },
                scopedSlots: e._u([
                  {
                    key: "header",
                    fn: function () {
                      return [
                        i(
                          "div",
                          {
                            staticClass: "panel_title",
                          },
                          [i("span", [e._v("填充")])]
                        ),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "default",
                    fn: function (t) {
                      return [
                        i("ColorItem", {
                          ref: "scope_" + t.data.index,
                          attrs: {
                            type: "fill",
                            actionType: "fill",
                            data: t.data,
                            index: t.index,
                          },
                          on: {
                            change: function (i) {
                              var s = arguments.length,
                                o = Array(s);
                              while (s--) o[s] = arguments[s];
                              return e.changeFill.apply(
                                void 0,
                                o.concat([t.data.index])
                              );
                            },
                          },
                        }),
                      ];
                    },
                  },
                ]),
              }),
              !e.fill.length && e.mixFill
                ? i(
                    "div",
                    {
                      staticClass: "text-tran-30",
                    },
                    [e._v("存在不同属性值，可点击 + 号替换")]
                  )
                : e._e(),
            ],
            1
          );
        },
        Mc = [];
      let Ec = class extends n["g"] {
        addFill() {
          var e;
          let t;
          (t = (null === (e = this.fill) || void 0 === e ? void 0 : e.length)
            ? Object(On["f"])()
            : this.isFrame
            ? Object(On["e"])()
            : Object(On["g"])()),
            k["a"].selector.fills.addItem(t);
        }
        delFill(e) {
          k["a"].selector.fills.deleteItem(e.map((e) => e.index));
        }
        changeFill(e, t) {
          const { manualType: i } = e,
            s = Object(a["__rest"])(e, ["manualType"]);
          "debounce" === i && Ki["a"].setTag("fill"),
            (s.index = t),
            void 0 === s.isVisible && (s.isVisible = !0),
            k["a"].selector.fills.updateItem(s);
        }
        resortFill(e, t) {
          k["a"].selector.fills.sortItems(e, t);
        }
        onOpenImageEditor(e) {
          this.$refs["scope_" + e] && this.$refs["scope_" + e].toggleMenu();
        }
        onOpenImageCrop(e) {
          this.$refs["scope_" + e] && this.$refs["scope_" + e].toggleMenu(!0);
        }
        mounted() {
          O["a"].addWasmEventListener(
            te["a"].OpenImageEdit,
            this.onOpenImageEditor
          ),
            O["a"].addWasmEventListener(
              te["a"].OpenImageCrop,
              this.onOpenImageCrop
            );
        }
        beforeDestroy() {
          O["a"].removeWasmEventListener(
            te["a"].OpenImageEdit,
            this.onOpenImageEditor
          ),
            O["a"].removeWasmEventListener(
              te["a"].OpenImageCrop,
              this.onOpenImageCrop
            );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
          }),
        ],
        Ec.prototype,
        "fill",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ec.prototype,
          "paintDirectory",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ec.prototype,
          "fillStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ec.prototype,
          "mixFill",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ec.prototype,
          "mode",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Ec.prototype,
          "isFrame",
          void 0
        ),
        (Ec = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                StyleTodoList: _a,
                ColorItem: Yi["a"],
              },
              computed: {},
            }),
          ],
          Ec
        ));
      var Pc = Ec,
        Dc = Pc,
        Bc = Object(_["a"])(Dc, jc, Mc, !1, null, "e5008f00", null),
        Nc = Bc.exports,
        Fc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap only-list expend__effect",
            },
            [
              i("StyleTodoList", {
                attrs: {
                  styleMode: "",
                  type: "effect",
                  list: e.effect || [],
                  styleCatalogList: e.effectDirectory,
                  styleItem: e.effectStyle,
                  mode: e.mode,
                  notAdd: e.mixEffect,
                  headToursName: "effects",
                },
                on: {
                  add: e.addEffect,
                  del: e.delEffect,
                  resort: e.resortEffect,
                },
                scopedSlots: e._u([
                  {
                    key: "header",
                    fn: function () {
                      return [
                        i(
                          "div",
                          {
                            staticClass: "panel_title",
                          },
                          [i("span", [e._v("特效")])]
                        ),
                      ];
                    },
                    proxy: !0,
                  },
                  {
                    key: "default",
                    fn: function (t) {
                      return [
                        i("ShadowItem", {
                          attrs: {
                            list: e.effect,
                            data: t.data,
                            selectItem: e.selectItem,
                          },
                          on: {
                            change: function (i) {
                              var s = arguments.length,
                                o = Array(s);
                              while (s--) o[s] = arguments[s];
                              return e.changeEffect.apply(
                                void 0,
                                o.concat([t.data.index])
                              );
                            },
                          },
                        }),
                      ];
                    },
                  },
                ]),
              }),
              !e.effect.length && e.mixEffect
                ? i(
                    "div",
                    {
                      staticClass: "text-tran-30",
                    },
                    [e._v("存在不同属性值，可点击 + 号替换")]
                  )
                : e._e(),
            ],
            1
          );
        },
        Rc = [],
        Hc = i("4d7f");
      let $c = class extends n["g"] {
        addEffect() {
          const e = Object(On["c"])();
          k["a"].selector.effects.addItem(e);
        }
        delEffect(e) {
          k["a"].selector.effects.deleteItem(e.map((e) => e.index));
        }
        resortEffect(e, t) {
          k["a"].selector.effects.sortItems(e, t);
        }
        changeEffect(e, t) {
          const { manualType: i } = e,
            s = Object(a["__rest"])(e, ["manualType"]);
          "debounce" === i && Ki["a"].setTag("effect"),
            (s.index = t),
            void 0 === s.isVisible && (s.isVisible = !0),
            k["a"].selector.effects.updateItem(s);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
          }),
        ],
        $c.prototype,
        "effect",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          $c.prototype,
          "selectItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          $c.prototype,
          "effectDirectory",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          $c.prototype,
          "effectStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          $c.prototype,
          "mixEffect",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          $c.prototype,
          "mode",
          void 0
        ),
        ($c = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                StyleTodoList: _a,
                ShadowItem: Hc["a"],
              },
              computed: {},
            }),
          ],
          $c
        ));
      var Vc = $c,
        zc = Vc,
        Uc = Object(_["a"])(zc, Fc, Rc, !1, null, "5d717a3f", null),
        qc = Uc.exports,
        Wc = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap layer",
            },
            [
              i(
                "div",
                {
                  staticClass: "panel_title",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "text-title",
                    },
                    [e._v("文本内容")]
                  ),
                  i("ReferenceButton", {
                    attrs: {
                      type: 3,
                    },
                  }),
                ],
                1
              ),
              i("ReferenceButton", {
                attrs: {
                  type: 3,
                  mode: 1,
                  isShow: e.referenceShow,
                },
                on: {
                  "update:isShow": function (t) {
                    e.referenceShow = t;
                  },
                  "update:is-show": function (t) {
                    e.referenceShow = t;
                  },
                },
              }),
              i(
                "div",
                {
                  staticClass: "panel_content_wrap",
                },
                [
                  e.referenceShow
                    ? e._e()
                    : i("MasterInput", {
                        attrs: {
                          textarea: !0,
                          value: e.item.characters,
                          placeholder:
                            null === e.item.characters ? "多个值" : "",
                        },
                        on: {
                          change: e.setValue,
                        },
                      }),
                ],
                1
              ),
            ],
            1
          );
        },
        Gc = [];
      let Kc = class extends n["g"] {
        constructor() {
          super(...arguments), (this.referenceShow = !1);
        }
        setValue(e) {
          var t;
          k["a"].selector.texts &&
            (null === (t = k["a"].selector.texts) ||
              void 0 === t ||
              t.setText(e));
        }
      };
      Kc = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterInput: pe["a"],
              ReferenceButton: za,
            },
            computed: Object.assign({}, Object(r["e"])("basicProps", ["item"])),
          }),
        ],
        Kc
      );
      var Qc = Kc,
        Yc = Qc,
        Xc = Object(_["a"])(Yc, Wc, Gc, !1, null, "52b4bbf0", null),
        Zc = Xc.exports;
      let Jc = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.LAYER_BLENDTYPE_LIST =
              Pe["e"].dictionaries.LAYER_BLENDTYPE_LIST()),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.keydownHandler = Z["ob"]),
            (this.conflictNum = 0),
            (this.showConflictDialog = !1),
            (this.conflictStyle = ""),
            (this.conflictIndex = -1),
            (this.MASK_LIST = [
              {
                key: 0,
                label: "透明蒙版",
              },
              {
                key: 1,
                label: "轮廓蒙版",
              },
            ]);
        }
        get isIndeterminate() {
          const e = this.selectItem.isMaskVisible;
          return null === e;
        }
        toggleOutlineMask() {
          const e = this.selectItem.isMaskOutline;
          k["a"].selector.setMaskOutline(!e);
        }
        toggleVisibleMask() {
          const e = this.selectItem.isMaskVisible;
          k["a"].selector.setMaskVisible(!e);
        }
        get showColorCollection() {
          return this.collection.collectionSwitch;
        }
        get showComponentStatus() {
          return (
            this.navStatus[se["K"].componentStatus] ||
            this.navStatus[se["K"].combineAsComponentStatus] ||
            this.selectItem.isComponentSet ||
            this.selectItem.allPartOfCompoentSet
          );
        }
        get showAutoLayout() {
          const e = Object(j["d"])();
          return (
            !!Object(w["isFeatureEnabled"])("autoLayout") &&
            !Object(p["o"])(e, this.selectIds, ["booleanOperation"]) &&
            (1 === this.selectIds.length
              ? this.selectItem.isPartOfInstance || this.selectItem.isInstance
                ? this.selectItem.isAllAutoLayout
                : this.selectItem.type === se["o"].Group
              : !1 === this.selectItem.isPartOfInstance &&
                this.selectItem.type !== se["o"].Connector &&
                !this.hasConnectorText)
          );
        }
        get showGridLayout() {
          return (
            !!Object(w["isFeatureEnabled"])("gridLayout") &&
            !this.selectItem.isAllAutoLayout &&
            (this.selectItem.isFrame ||
              this.selectItem.isInstance ||
              this.selectItem.isComponent)
          );
        }
        get isAbsolute() {
          return (
            null !== this.selectItem.layoutPositioning &&
            this.selectItem.layoutPositioning === se["p"].Absolute
          );
        }
        get showConstraint() {
          return (
            this.selectItem.isParentFrame &&
            ((!this.selectItem.isAllInAL &&
              null !== this.selectItem.isAllInAL) ||
              this.isAbsolute)
          );
        }
        setField(e, t, ...i) {
          Ki["a"].setTag(e),
            ("opacity" !== e && "blendMode" !== e) ||
              (!this.selectItem.isVisible && this.setField("isVisible", !0)),
            k["a"].selector.setField(e, t, ...i);
        }
        handleReplaceConflict(e, t, i) {
          (this.conflictNum = e),
            (this.conflictStyle = t),
            (this.showConflictDialog = !0),
            (this.conflictIndex = i);
        }
        showConflict() {
          (this.showConflictDialog = !1),
            Object(ta["a"])(Lt["a"].ColorCollection, {
              type: 10,
              value: {
                idx: this.conflictIndex,
              },
            });
        }
        replaceConflict() {
          var e;
          "string" === typeof this.conflictStyle
            ? Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 6,
                value: {
                  styleId: this.conflictStyle,
                  idx: this.conflictIndex,
                },
              })
            : (null === (e = this.conflictStyle) || void 0 === e
                ? void 0
                : e.isLibrary) &&
              Object(ta["a"])(Lt["a"].ColorCollection, {
                type: 8,
                value: {
                  key: this.conflictStyle.ukey,
                  signature: this.conflictStyle.version,
                  idx: this.conflictIndex,
                },
              }),
            (this.showConflictDialog = !1);
        }
        cancelConflict() {
          (this.showConflictDialog = !1),
            Object(ta["a"])(Lt["a"].ColorCollection, {
              type: 12,
              value: {},
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "expend",
            required: !1,
          }),
        ],
        Jc.prototype,
        "mode",
        void 0
      ),
        (Jc = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicCheckbox: z["a"],
                ColorItem: Yi["a"],
                MasterSelector: Pe["e"],
                Stroke: Yn,
                MasterFilter: pn["a"],
                ExportItem: is,
                StyleTodoList: _a,
                AutoLayout: qr,
                Constraints: Us,
                ColorCollection: _n,
                MasterDialog: b["a"],
                MasterButtonSwitch: us["a"],
                ComponentStatus: Tc,
                MSelector: Pe["b"],
                IconSelector: Pe["a"],
                GridLayout: Jr,
                TextPanel: rc,
                FillPanel: Nc,
                EffectPanel: qc,
                ReferenceButton: za,
                TextContent: Zc,
              },
              data() {
                return {
                  dashes: "1,2",
                };
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        {},
                        Object(r["e"])({
                          selectName: (e) => e.basicProps.item.name,
                          isFrame: (e) => e.basicProps.item.isFrame,
                          copyZoom: (e) => e.file.copyZoom,
                          selectIds: (e) => e.basicState.selectIds,
                          state: (e) => e.basicState.state,
                        })
                      ),
                      Object(r["e"])({
                        fill: (e) => e.basicProps.item.fills || {},
                        grids: (e) => e.basicProps.item.grids || [],
                        stroke: (e) => e.basicProps.item.strokes || {},
                        effect: (e) => e.basicProps.item.effects || [],
                        exportItem: (e) =>
                          e.basicProps.item.exportSettings || [],
                        mixEffect: (e) => e.basicProps.item.mixEffect,
                        mixExport: (e) => e.basicProps.item.mixExport,
                        mixFill: (e) => e.basicProps.item.mixFill,
                        mixStroke: (e) => e.basicProps.item.mixStroke,
                        mixGrid: (e) => e.basicProps.item.mixGrid,
                        selectItem: (e) => e.basicProps.item,
                        editVectorX: (e) => e.penProps.vector.x,
                        editVectorY: (e) => e.penProps.vector.y,
                        textStyleId: (e) => e.basicProps.item.textStyleId,
                        paintDirectory: (e) => e.style.paint.catalog,
                        effectDirectory: (e) => e.style.effect.catalog,
                        textDirectory: (e) => e.style.text.catalog,
                        gridDirectory: (e) => e.style.grid.catalog,
                        collection: (e) => e.style.collection,
                        isPartOfInstance: (e) =>
                          e.basicProps.item.isPartOfInstance,
                        isInstance: (e) => e.basicProps.item.isInstance,
                        navStatus: (e) => e.navBtnState.status,
                        hasVariantProperties: (e) =>
                          !!e.component.variantProperties.length,
                        layoutGridVisible: (e) =>
                          e.basicState.layoutGridVisible,
                      })
                    ),
                    Object(r["c"])("style", [
                      "fillStyle",
                      "strokeStyle",
                      "effectStyle",
                      "textStyle",
                      "gridStyle",
                    ])
                  ),
                  Object(r["c"])("basicProps", [
                    "isExtendLayer",
                    "isConnectorText",
                    "hasConnectorText",
                  ])
                ),
                {
                  isAllSlice() {
                    return !!this.selectItem.isAllSlice;
                  },
                  hasGaussi() {
                    return this.effect && this.effect.some((e) => 2 === e.type);
                  },
                  notAdd() {
                    var e;
                    return Object.keys(
                      null !== (e = this.selectItem.style) && void 0 !== e
                        ? e
                        : {}
                    ).some((e) => null === this.selectItem.style[e]);
                  },
                  style() {
                    return this.selectItem.style || {};
                  },
                }
              ),
            }),
          ],
          Jc
        ));
      var el = Jc,
        tl = el,
        il = (i("7557"), Object(_["a"])(tl, un, hn, !1, null, null, null)),
        sl = il.exports,
        ol = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass: "right__container--layout panel-wrap",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "edit__props--item position",
                    attrs: {
                      name: "weight",
                    },
                  },
                  [
                    i("master-input", {
                      attrs: {
                        value: e.vectorData.x,
                        validate: e.validate.checkPosition,
                        valueDecorator: e.valueDecorator.numDecorator,
                        focusSelectAll: !0,
                        placeholder: null === e.vectorData.x ? "多个值" : "",
                        disabled: !e.vectorData.state || "" === e.vectorData.x,
                      },
                      on: {
                        keydown: e.keydownHandler,
                        change: function (t) {
                          return e.changeHandler({
                            x: +t,
                          });
                        },
                      },
                      scopedSlots: e._u([
                        {
                          key: "header",
                          fn: function () {
                            return [
                              i("BasicLeftIcon", {
                                attrs: {
                                  masterIconName: "LabelXIcon",
                                  disabled:
                                    !e.vectorData.state ||
                                    "" === e.vectorData.x ||
                                    null === e.vectorData.x,
                                },
                                on: {
                                  change: function (t) {
                                    return e.changeHandler({
                                      x: e.vectorData.x + t,
                                    });
                                  },
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                      ]),
                    }),
                    i("master-input", {
                      attrs: {
                        value: e.vectorData.y,
                        validate: e.validate.checkPosition,
                        valueDecorator: e.valueDecorator.numDecorator,
                        focusSelectAll: !0,
                        placeholder: null === e.vectorData.y ? "多个值" : "",
                        disabled: !e.vectorData.state || "" === e.vectorData.y,
                      },
                      on: {
                        keydown: e.keydownHandler,
                        change: function (t) {
                          return e.changeHandler({
                            y: +t,
                          });
                        },
                      },
                      scopedSlots: e._u([
                        {
                          key: "header",
                          fn: function () {
                            return [
                              i("BasicLeftIcon", {
                                attrs: {
                                  masterIconName: "LabelYIcon",
                                  disabled:
                                    !e.vectorData.state ||
                                    "" === e.vectorData.y ||
                                    null === e.vectorData.y,
                                },
                                on: {
                                  change: function (t) {
                                    return e.changeHandler({
                                      y: e.vectorData.y + t,
                                    });
                                  },
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                      ]),
                    }),
                  ],
                  1
                ),
                i(
                  "div",
                  {
                    staticClass: "edit__props--item position",
                    attrs: {
                      name: "weight",
                    },
                  },
                  [
                    i("master-input", {
                      attrs: {
                        value: e.vectorData.cornerRadius,
                        validate: e.validate.checkRadius,
                        valueDecorator: e.valueDecorator.numDecorator,
                        focusSelectAll: !0,
                        placeholder:
                          null === e.vectorData.cornerRadius ? "多个值" : "",
                        disabled: !e.vectorData.state,
                      },
                      on: {
                        keydown: e.keydownHandler,
                        change: function (t) {
                          return e.changeHandler({
                            cornerRadius: +t,
                          });
                        },
                      },
                      scopedSlots: e._u([
                        {
                          key: "header",
                          fn: function () {
                            return [
                              i("BasicLeftIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "圆角",
                                    expression: "'圆角'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  masterIconName: "LabelCornerTopLeftIcon",
                                  disabled:
                                    !e.vectorData.state ||
                                    null === e.vectorData.cornerRadius,
                                },
                                on: {
                                  change: function (t) {
                                    e.changeCornerRadius({
                                      cornerRadius: e.validate.checkRadius(
                                        e.vectorData.cornerRadius + t
                                      ),
                                    });
                                  },
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                      ]),
                    }),
                  ],
                  1
                ),
                i(
                  "div",
                  {
                    staticClass: "edit__props--item layer",
                  },
                  [
                    i("MasterFilter", {
                      attrs: {
                        list: e.EDIT_TYPE,
                        current: e.vectorData.ctrlType,
                        width: "126",
                        disabled: e.disableTypeChange,
                      },
                      on: {
                        changeVal: function (t) {
                          return e.changeHandler({
                            ctrlType: t,
                          });
                        },
                      },
                    }),
                  ],
                  1
                ),
                i(
                  "MButton",
                  {
                    staticClass: "edit__props--btn",
                    attrs: {
                      type: "highlight",
                      width: "198",
                      size: "xs",
                    },
                    on: {
                      click: e.goback,
                    },
                  },
                  [e._v("退出编辑模式")]
                ),
              ],
              1
            ),
          ]);
        },
        al = [],
        nl = i("d9ab");
      let rl = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.keydownHandler = Z["ob"]),
            (this.ALIGN_TYPE_LIST = Pe["e"].dictionaries.ALIGN_TYPE_LIST());
        }
        goback() {
          k["a"].pageState.setState(se["r"].Select);
        }
        changeCornerRadius(e) {
          Ki["a"].setTag("cornerRadius"), this.changeHandler(e);
        }
        changeHandler(e) {
          nl["a"].setPenProps(e);
        }
        get disableTypeChange() {
          return (
            !this.vectorData.state || 0 === this.vectorData.usableType.length
          );
        }
        get EDIT_TYPE() {
          const e = this.vectorData.usableType;
          return this.$variable.EDIT_TYPE.map((t) =>
            e.includes(t.key)
              ? Object.assign({}, t)
              : Object.assign(Object.assign({}, t), {
                  disabled: !0,
                })
          );
        }
      };
      rl = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              BasicLeftIcon: Qs["a"],
              MasterSelector: Pe["e"],
            },
            computed: Object(r["e"])({
              vectorData: (e) => e.penProps.vector,
            }),
          }),
        ],
        rl
      );
      var cl = rl,
        ll = cl,
        dl = (i("1080"), Object(_["a"])(ll, ol, al, !1, null, null, null)),
        ul = dl.exports,
        hl = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "panel-wrap",
            },
            [
              i(
                "div",
                {
                  staticClass: "props-title p6",
                },
                [e._v("等比缩放")]
              ),
              i("BasicProps", {
                staticClass: "right-container",
                attrs: {
                  geometricScale: !0,
                  anchorMode: e.zoomConfig[e.currentAnchor].key,
                },
              }),
              i(
                "div",
                {
                  staticClass: "zoom-area",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "zoom-box",
                    },
                    e._l(e.zoomConfig, function (t, s) {
                      return i("div", {
                        key: t.key,
                        staticClass: "zoom-box__item",
                        class: {
                          active: s === e.currentAnchor,
                        },
                        on: {
                          click: function (t) {
                            return e.selectAnchor(s);
                          },
                        },
                      });
                    }),
                    0
                  ),
                  i(
                    "div",
                    {
                      staticClass: "zoom-label",
                    },
                    [
                      e._v(
                        "从" + e._s(e.zoomConfig[e.currentAnchor].text) + "缩放"
                      ),
                    ]
                  ),
                ]
              ),
              i(
                "MButton",
                {
                  staticClass: "edit__props--btn",
                  attrs: {
                    type: "highlight",
                    width: "198",
                    size: "xs",
                  },
                  on: {
                    click: e.goback,
                  },
                },
                [e._v("退出等比缩放模式")]
              ),
            ],
            1
          );
        },
        pl = [];
      let ml = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.currentAnchor = 0),
            (this.zoomConfig = [
              {
                key: 1,
                text: "左上角",
              },
              {
                key: 2,
                text: "顶部",
              },
              {
                key: 3,
                text: "右上角",
              },
              {
                key: 4,
                text: "左侧",
              },
              {
                key: 5,
                text: "中心",
              },
              {
                key: 6,
                text: "右侧",
              },
              {
                key: 7,
                text: "左下角",
              },
              {
                key: 8,
                text: "底部",
              },
              {
                key: 9,
                text: "右下角",
              },
            ]);
        }
        anchorModeHandler(e) {
          0 !== e &&
            ((this.currentAnchor = e - 1), this.setLastCurrentAnchor(e - 1));
        }
        mounted() {
          this.currentAnchor = this.lastCurrentAnchor;
        }
        selectAnchor(e) {
          (this.currentAnchor = e),
            this.setLastCurrentAnchor(e),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "scale",
              action_detail: "scale_center",
            });
        }
        goback() {
          k["a"].pageState.setState(se["r"].Select);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("anchorMode")],
        ml.prototype,
        "anchorModeHandler",
        null
      ),
        (ml = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicProps: dn,
                BasicLeftIcon: Qs["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])("basicState", [
                  "anchorMode",
                  "lastCurrentAnchor",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["d"])("basicState", ["setLastCurrentAnchor"])
              ),
            }),
          ],
          ml
        ));
      var gl = ml,
        bl = gl,
        vl = (i("e5b8"), Object(_["a"])(bl, hl, pl, !1, null, null, null)),
        fl = vl.exports,
        yl = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "style-lib",
              on: {
                click: function (t) {
                  return t.preventDefault(), e.clickHandler(t);
                },
              },
            },
            [
              e.text.cascadeCatalog.length
                ? i(
                    "div",
                    {
                      staticClass: "style-lib__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "style-lib__title",
                        },
                        [e._v("文字样式")]
                      ),
                      i(
                        "div",
                        {
                          key: "text",
                          ref: "text",
                        },
                        e._l(e.text.cascadeCatalog, function (e) {
                          return i("StyleLibItem", {
                            key: e,
                            attrs: {
                              catalogId: e,
                              type: "text",
                            },
                          });
                        }),
                        1
                      ),
                    ]
                  )
                : e._e(),
              e.paint.cascadeCatalog.length
                ? i(
                    "div",
                    {
                      staticClass: "style-lib__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "style-lib__title",
                        },
                        [e._v("颜色样式")]
                      ),
                      i(
                        "div",
                        {
                          key: "paint",
                          ref: "paint",
                        },
                        e._l(e.paint.cascadeCatalog, function (e) {
                          return i("StyleLibItem", {
                            key: e,
                            attrs: {
                              catalogId: e,
                              type: "paint",
                            },
                          });
                        }),
                        1
                      ),
                    ]
                  )
                : e._e(),
              e.effect.cascadeCatalog.length
                ? i(
                    "div",
                    {
                      staticClass: "style-lib__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "style-lib__title",
                        },
                        [e._v("特效样式")]
                      ),
                      i(
                        "div",
                        {
                          key: "effect",
                          ref: "effect",
                        },
                        e._l(e.effect.cascadeCatalog, function (e) {
                          return i("StyleLibItem", {
                            key: e,
                            attrs: {
                              catalogId: e,
                              type: "effect",
                            },
                          });
                        }),
                        1
                      ),
                    ]
                  )
                : e._e(),
              e.grid.cascadeCatalog.length
                ? i(
                    "div",
                    {
                      staticClass: "style-lib__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "style-lib__title",
                        },
                        [e._v("网格样式")]
                      ),
                      i(
                        "div",
                        {
                          key: "effect",
                          ref: "effect",
                        },
                        e._l(e.grid.cascadeCatalog, function (e) {
                          return i("StyleLibItem", {
                            key: e,
                            attrs: {
                              catalogId: e,
                              type: "grid",
                            },
                          });
                        }),
                        1
                      ),
                    ]
                  )
                : e._e(),
              i("div", {
                staticStyle: {
                  height: "80px",
                },
              }),
            ]
          );
        },
        _l = [],
        Cl = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.styleItem
            ? i(
                "div",
                {
                  staticClass: "style-lib__layout",
                  class: {
                    active: e.styleItem.isSelect,
                    "active-start": e.styleItem.isStart,
                    "active-end": e.styleItem.isEnd,
                    "is-open": e.styleItem.isOpen && !e.styleItem.isStyle,
                  },
                  on: {
                    mouseenter: function (t) {
                      e.current = !0;
                    },
                    mouseleave: function (t) {
                      e.current = !1;
                    },
                  },
                },
                [
                  e.styleItem.isStyle
                    ? i(
                        "div",
                        {
                          staticClass: "style-lib__item",
                          class: {
                            "style-lib__item__hover":
                              !e.isDragging && e.current,
                          },
                          on: {
                            mousedown: e.mousedownHandler,
                            contextmenu: function (t) {
                              return (
                                t.stopPropagation(),
                                e.setStyleSelect({
                                  type: e.type,
                                  selectType: 0,
                                  select: e.styleItem.id,
                                })
                              );
                            },
                          },
                        },
                        [
                          i("StyleBasic", {
                            attrs: {
                              paddingLeft:
                                26 *
                                  (e.level > e.maxDepth
                                    ? e.maxDepth
                                    : e.level) +
                                9 +
                                "px",
                              item: e.styleMap[e.styleItem.name],
                              type: e.type,
                              isStylePanel: "",
                              isSelect: e.styleItem.isSelect,
                              current: e.current,
                            },
                            on: {
                              changeCatalog: e.changeCatalog,
                              deleteCatalog: e.deleteCatalog,
                            },
                          }),
                        ],
                        1
                      )
                    : i(
                        "div",
                        {
                          staticClass: "style-lib__box",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "style-lib__h",
                              class: {
                                active: e.styleItem.isSelect,
                                "style-lib__h__hover":
                                  !e.isDragging && e.current,
                                "style-lib__h__drop": e.isDropCatalog,
                              },
                              style: {
                                paddingLeft:
                                  26 *
                                    (e.level > e.maxDepth
                                      ? e.maxDepth
                                      : e.level) +
                                  9 +
                                  "px",
                              },
                              on: {
                                mousedown: e.mousedownHandler,
                                contextmenu: function (t) {
                                  return (
                                    t.preventDefault(),
                                    (function (t) {
                                      return e.showMenu(t);
                                    })(t)
                                  );
                                },
                              },
                            },
                            [
                              i("CaretDownIcon", {
                                staticClass: "style-lib__icon",
                                attrs: {
                                  size: "14",
                                  rotate: e.styleItem.isOpen ? "0" : "-90",
                                },
                                nativeOn: {
                                  mousedown: function (t) {
                                    return t.stopPropagation(), e.toggleOpen(t);
                                  },
                                  mouseup: function (e) {
                                    e.stopPropagation();
                                  },
                                },
                              }),
                              i(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "show",
                                      rawName: "v-show",
                                      value: e.editStatus,
                                      expression: "editStatus",
                                    },
                                  ],
                                  staticClass:
                                    "input_container style-lib__input",
                                },
                                [
                                  i("master-input", {
                                    ref: "input",
                                    staticClass: "input_box",
                                    attrs: {
                                      value: e.styleItem.name,
                                      focusSelectAll: !0,
                                    },
                                    on: {
                                      blur: function (t) {
                                        e.editStatus = !1;
                                      },
                                      change: function (t) {
                                        return e.setName(t, e.styleItem);
                                      },
                                    },
                                  }),
                                ],
                                1
                              ),
                              e.editStatus
                                ? e._e()
                                : i(
                                    "div",
                                    {
                                      staticClass: "style-lib__name",
                                      on: {
                                        dblclick: function (t) {
                                          t.stopPropagation(),
                                            (e.editStatus = !0);
                                        },
                                      },
                                    },
                                    [e._v(e._s(e.styleItem.name))]
                                  ),
                            ],
                            1
                          ),
                          e.styleItem.isOpen
                            ? i(
                                "div",
                                e._l(e.styleItem.children, function (t) {
                                  return i("style-item", {
                                    key: t,
                                    attrs: {
                                      catalogId: t,
                                      type: e.type,
                                      level: e.level + 1,
                                    },
                                  });
                                }),
                                1
                              )
                            : e._e(),
                        ]
                      ),
                  null !== e.lineTop
                    ? i("div", {
                        staticClass: "style-lib__line",
                        style: {
                          top: e.lineTop * e.STYLE_HEIGHT + "px",
                          left: e.lineLeftByDepth * e.STYLE_PADDING + "px",
                        },
                      })
                    : e._e(),
                ]
              )
            : e._e();
        },
        Sl = [],
        Il = i("3c24");
      let Ol = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.STYLE_HEIGHT = 30),
            (this.STYLE_PADDING = 26),
            (this.current = !1),
            (this.isDrag = 0),
            (this.startHeight = 0),
            (this.startLeft = 0),
            (this.startIdx = 0),
            (this.startScroll = 0),
            (this.lineTop = null),
            (this.lineLeft = 0),
            (this.selectType = 0),
            (this.editStatus = !1),
            (this.selectItems = []),
            (this.maxDepth = 6),
            (this.dropTargetId = ""),
            (this.canSetNewCatalogId = !1);
        }
        editStatusHandler(e) {
          e &&
            this.$nextTick(() => {
              this.$refs.input.focus();
            });
        }
        newCatalogIdHandler(e) {
          e && e === this.styleItem.id && this.canSetNewCatalogId
            ? (this.setNewCatalogSelected(), (this.canSetNewCatalogId = !1))
            : e &&
              e === this.styleItem.id &&
              !this.canSetNewCatalogId &&
              (this.canSetNewCatalogId = !0);
        }
        styleDataCateMapHandler() {
          this.newCatalogId &&
          this.newCatalogId === this.styleItem.id &&
          this.canSetNewCatalogId
            ? (this.setNewCatalogSelected(), (this.canSetNewCatalogId = !1))
            : this.newCatalogId &&
              this.newCatalogId === this.styleItem.id &&
              !this.canSetNewCatalogId &&
              (this.canSetNewCatalogId = !0);
        }
        get lineLeftByDepth() {
          var e, t, i;
          let s = this.maxDepth;
          return (
            (null === (e = this.target) || void 0 === e ? void 0 : e.isOpen) &&
              (null ===
                (i =
                  null === (t = this.target) || void 0 === t
                    ? void 0
                    : t.children) || void 0 === i
                ? void 0
                : i.length) &&
              (s += 1),
            this.lineLeft > s ? s : this.lineLeft
          );
        }
        get isDropCatalog() {
          return (
            this.dropTarget &&
            this.styleItem &&
            this.dropTarget.id === this.styleItem.id
          );
        }
        setNewCatalogSelected() {
          this.$nextTick(() => {
            this.setStyleSelect({
              type: this.type,
              selectType: 0,
              select: this.styleItem.id,
            }),
              (this.editStatus = !0);
          }),
            this.setNewCatalogId("");
        }
        showMenu(e) {
          this.setStyleSelect({
            type: this.type,
            selectType: 0,
            select: this.styleItem.id,
          });
          const t = this.getSelectItems(this.styleData.cataMap),
            i = t.filter((e) => e.isStyle);
          let s = [];
          i.length !== t.length && 0 === i.length && 1 === t.length
            ? (s = [
                {
                  key: "renameCatalog",
                  title: "重命名",
                },
                {
                  key: "addNewCatalog",
                  title: "添加到新分类",
                },
                {
                  key: "cancelCatalog",
                  title: "取消分类",
                },
                {
                  key: "deleteCatalog",
                  title: "删除 ",
                },
              ])
            : i.length !== t.length &&
              (s = [
                {
                  key: "addNewCatalog",
                  title: "添加到新分类",
                  divid: !0,
                },
                {
                  key: "cancelCatalog",
                  title: "取消分类",
                  divid: !0,
                },
                {
                  key: "deleteCatalog",
                  title: "删除",
                },
              ]);
          const o = {
            event: e,
            list: s,
            data: this.item,
            handler: this.changeVal,
          };
          this.$eventBus.$emit("contentMenu", o);
        }
        changeVal(e) {
          switch (e) {
            case "addNewCatalog":
              this.changeCatalog();
              break;
            case "deleteCatalog":
              this.deleteCatalog();
              break;
            case "cancelCatalog":
              this.deleteCatalog("cancel");
              break;
            case "renameCatalog":
              this.editStatus = !0;
              break;
            default:
              break;
          }
        }
        getSelectItems(e) {
          return Object.values(e).filter((e) => e.isSelect);
        }
        setName(e, t) {
          const i = [t];
          this.renameHandler(i, e, 0);
        }
        renameHandler(e, t, i) {
          const s = this.styleMap;
          k["a"].mergeStepStart(),
            e.forEach((e) => {
              let o;
              if (!e.isStyle && !t) {
                const t = this.styleData.originSort,
                  i = t.indexOf(this.getFirstStyleChild(e.id));
                o = s[t[i - 1]];
              }
              const a = this.getPreName(e.id),
                n = this.getStyle(e.id);
              n.reverse(),
                n.forEach((n) => {
                  const r = s[n.name];
                  let l;
                  if (i) {
                    const e = new RegExp(
                      "^/?" + Object(c["escapeRegExp"])(a) + "/?"
                    );
                    l = r.name.replace(/\/+/g, "/").replace(e, t);
                  } else {
                    const i = new RegExp(
                      "^(/?" +
                        Object(c["escapeRegExp"])(a) +
                        "/?)" +
                        Object(c["escapeRegExp"])(e.name)
                    );
                    l = r.name
                      .replace(/\/+/g, "/")
                      .replace(
                        i,
                        "$1" +
                          t.replace(/\/+/g, "/").replace(/(^\/)|(\/$)/g, "")
                      )
                      .replace(/\/+/g, "/");
                  }
                  (l = l.replace(/(^\/)|(\/$)/g, "")),
                    k["a"].getStyle(r).updateStyleAttribute(l, r.description),
                    o && k["a"].getStyle(r).moveStyle(o.id);
                });
            }),
            k["a"].mergeStepEnd();
        }
        changeCatalog() {
          const e = this.getSelectItems(this.styleData.cataMap),
            t = this.styleData.showList.find((t) => e.some((e) => e.id === t)),
            i = this.getPreName(t);
          this.renameHandler(e, i + "/未命名分类/", 1),
            this.setNewCatalogId(
              this.styleData.cataMap[t].parent + ":未命名分类"
            );
        }
        deleteCatalog(e) {
          const t = this.styleMap,
            i = this.getSelectItems(this.styleData.cataMap);
          k["a"].mergeStepStart(),
            "cancel" === e
              ? this.renameHandler(i, "", 0)
              : (k["a"].mergeStepStart(),
                i.forEach((e) => {
                  const i = this.getStyle(e.id);
                  i.forEach((e) => {
                    const i = t[e.name];
                    k["a"].deleteStyleById(i.type, i.id);
                  });
                }),
                k["a"].mergeStepEnd());
        }
        getStyle(e) {
          const t = [],
            i = (e) => {
              const s = this.styleData.cataMap[e];
              s.isStyle ? t.push(s) : s.children.forEach((e) => i(e));
            };
          return i(e), t;
        }
        getPreName(e) {
          let t = "",
            i = this.styleData.cataMap[e];
          while (i) {
            const e =
              this.styleData.cataMap[
                null === i || void 0 === i ? void 0 : i.parent
              ];
            e && (t = e.name + "/" + t), (i = e);
          }
          return t.slice(0, -1);
        }
        get styleItem() {
          return this.styleData.cataMap[this.catalogId];
        }
        toggleOpen() {
          (this.styleItem.isOpen = !this.styleItem.isOpen),
            this.buildShowList(this.type);
        }
        mousedownHandler(e) {
          if (2 === e.buttons) return void (this.isDrag = 5);
          this.setStyleSelect({
            type: this.type,
            selectType: e.shiftKey ? 2 : e.metaKey ? 1 : 0,
            select: this.styleItem.id,
          }),
            window.addEventListener("mousemove", this.windowMouseMoveHandler),
            window.addEventListener("mouseup", this.windowMouseUpHandler);
          const t = this.$el.getBoundingClientRect();
          (this.startHeight = t.top),
            (this.startScroll = this.getScrollTop()),
            (this.startIdx = this.styleData.showList.indexOf(this.catalogId)),
            (this.startLeft = this.$el.getBoundingClientRect().left),
            (this.isDrag = 0),
            this.setIsDragging(!0);
        }
        windowMouseMoveHandler(e) {
          var t, i, s;
          const o = this.styleData.cataMap,
            a = this.styleData.cascadeCatalog,
            n = this.styleData.showList;
          function r(e) {
            let t = 0;
            return (
              e.forEach((e) => {
                const i = o[e];
                i.isSelect && (t |= i.isStyle ? 1 : 2),
                  i.children && (t |= r(i.children));
              }),
              t
            );
          }
          if (((this.isDrag += 1), this.isDrag < 5)) return;
          6 === this.isDrag && (this.selectType = r(a));
          const c = this.startHeight - this.getScrollTop() + this.startScroll;
          let l =
            this.startIdx +
            ~~(
              (e.pageY - c > 0 ? e.pageY - c : e.pageY - c - 30) /
              this.STYLE_HEIGHT
            );
          l < -1 ? (l = -1) : l >= n.length && (l = n.length - 1),
            (this.target = o[n[~l ? l : 0]]),
            (this.idx = l),
            (this.lineTop = l - this.startIdx + 1);
          let d = this.target.level;
          this.target.isOpen &&
            (null === (t = this.target.children) || void 0 === t
              ? void 0
              : t.length) &&
            (d += 1);
          let u = !1;
          const h =
            null ===
              (s =
                o[
                  null === (i = o[this.target.id]) || void 0 === i
                    ? void 0
                    : i.parent
                ]) || void 0 === s
              ? void 0
              : s.children;
          if ((h && (u = h[h.length - 1] === this.target.id), u)) {
            let t = ~~((e.pageX - this.startLeft) / 30);
            t < 0 && (t = 0), t <= d && (d = t);
          }
          let p, m;
          if (((this.lineLeft = d), ~this.idx && this.target))
            if (this.target.level === this.lineLeft)
              m = this.styleData.cataMap[this.target.id].parent;
            else if (this.target.level > this.lineLeft) {
              p = this.target;
              for (let e = 0; e < this.target.level - this.lineLeft; e++)
                p = o[p.parent];
              m = this.styleData.cataMap[p.id].parent;
            } else m = this.target.id;
          (this.dropTargetId = m),
            m && -1 !== m.indexOf(this.styleItem.id) && (m = ""),
            this.setDropTarget(o[m]);
        }
        getFirstStyleChild(e) {
          var t, i;
          return (
            null === (t = this.styleData.cataMap[e]) || void 0 === t
              ? void 0
              : t.isStyle
          )
            ? this.styleData.cataMap[e].name
            : (
                null === (i = this.styleData.cataMap[e]) || void 0 === i
                  ? void 0
                  : i.children[0]
              )
            ? this.getFirstStyleChild(this.styleData.cataMap[e].children[0])
            : "";
        }
        windowMouseUpHandler(e) {
          if (
            (window.removeEventListener(
              "mousemove",
              this.windowMouseMoveHandler
            ),
            window.removeEventListener("mouseup", this.windowMouseUpHandler),
            (this.lineTop = null),
            this.setIsDragging(!1),
            this.setDropTarget(null),
            2 !== e.buttons)
          )
            if (this.isDrag < 5 && !e.ctrlKey && !e.shiftKey && !e.metaKey) {
              if (!this.styleItem) return;
              this.setStyleSelect({
                type: this.type,
                selectType: 3,
                select: this.styleItem.id,
              });
            } else if (this.isDrag >= 5) {
              const e = this.styleData.cataMap,
                t = Object.values(e),
                i = this.styleData.originSort,
                s = this.styleData.showList,
                o = this.styleMap,
                a = (i) => {
                  var s, o;
                  let a = t.find((e) => e.name === i);
                  const n = null === a || void 0 === a ? void 0 : a.id;
                  let r = "";
                  while (a) (r = a.isSelect ? "" : a.id), (a = e[a.parent]);
                  if (((a = e[r]), a)) {
                    let t = "";
                    while (!t && a)
                      (null === a || void 0 === a ? void 0 : a.isStyle)
                        ? (t = a.id)
                        : (a =
                            e[
                              null !==
                                (o =
                                  null ===
                                    (s =
                                      null === a || void 0 === a
                                        ? void 0
                                        : a.children) || void 0 === s
                                    ? void 0
                                    : s[0]) && void 0 !== o
                                ? o
                                : ""
                            ]);
                    return t === n ? r : "";
                  }
                  return "";
                };
              let n, r;
              if (~this.idx)
                if (this.target.level === this.lineLeft)
                  (n = o[this.getFirstStyleChild(this.target.id)]),
                    (r = this.getPreName(this.target.id));
                else if (this.target.level > this.lineLeft) {
                  n = this.target;
                  for (let t = 0; t < this.target.level - this.lineLeft; t++)
                    n = e[n.parent];
                  (r = this.getPreName(n.id)),
                    (n = o[this.getFirstStyleChild(n.id)]);
                } else {
                  const e = i.indexOf(this.getFirstStyleChild(this.target.id));
                  (r = this.getPreName(this.target.children[0])),
                    (n = o[i[e - 1]]);
                }
              const l = {};
              s.forEach((t, i) => {
                const s = e[t];
                if (!s.isSelect) return;
                const a = this.getPreName(s.id);
                (e[this.dropTargetId] &&
                  this.checkParent(e[this.dropTargetId].id, s.id)) ||
                  this.getStyle(s.id).forEach((e) => {
                    const t = o[e.name],
                      s = new RegExp(
                        "^/?" + Object(c["escapeRegExp"])(a) + "/?"
                      );
                    l[e.name] = {
                      name: t.name
                        .replace(/\/+/g, "/")
                        .replace(s, (r || "") + "/"),
                      showListIndex: i,
                    };
                  });
              }),
                (this.dropTargetId = "");
              let d = "";
              if (n) {
                const e = i.indexOf(n.ukey);
                for (let t = e; t >= 0; t--)
                  if (!l[i[t]]) {
                    d = o[i[t]].id;
                    break;
                  }
              }
              k["a"].mergeStepStart();
              for (let c = i.length - 1; c >= 0; c--)
                if (l[i[c]]) {
                  let t = d;
                  const s = o[i[c]],
                    n = k["a"].getStyle(s),
                    r = a(i[c]);
                  if (r) {
                    const e = this.getFirstUnSelectChild(r);
                    if (e) {
                      const t = k["a"].getStyle(e);
                      t.moveStyle(e.id);
                    }
                  }
                  const u = l[i[c]].name.replace(/(^\/)|(\/$)/g, ""),
                    h = this.getPreName(s.id);
                  u !== `${h ? h + "/" : ""}${s.name}` &&
                    n.updateStyleAttribute(u, s.description),
                    /(\/+.+){2,}/g.test(l[i[c]].name) && e[":" + t] && (t = ""),
                    n.moveStyle(t);
                }
              k["a"].mergeStepEnd(), k["a"].updateMasterData();
            }
        }
        getFirstUnSelectChild(e) {
          var t;
          const i = this.styleData.cataMap,
            s = this.styleMap,
            o = i[e],
            a = o.children;
          for (let n = 0; n < a.length; n++) {
            const e = i[a[n]];
            if (!e.isSelect && e.isStyle) return s[e.name];
            if (
              !e.isSelect &&
              (null === (t = e.children) || void 0 === t ? void 0 : t.length)
            ) {
              const t = this.getFirstUnSelectChild(e.id);
              if (t) return t;
            }
          }
          return null;
        }
        checkParent(e, t) {
          if (e === t) return !0;
          const i = this.styleData.cataMap[e];
          return !!i.parent && this.checkParent(i.parent, t);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("editStatus")],
        Ol.prototype,
        "editStatusHandler",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("newCatalogId", {
              immediate: !0,
            }),
          ],
          Ol.prototype,
          "newCatalogIdHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("styleData.cataMap", {
              immediate: !0,
            }),
          ],
          Ol.prototype,
          "styleDataCateMapHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Ol.prototype,
          "catalogId",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Ol.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: 0,
            }),
          ],
          Ol.prototype,
          "level",
          void 0
        ),
        (Ol = Object(a["__decorate"])(
          [
            Object(n["a"])({
              name: "styleItem",
              computed: Object.assign(
                {},
                Object(r["e"])("style", {
                  styleData(e) {
                    return e[this.type];
                  },
                  styleMap(e) {
                    return e.styleMap;
                  },
                  isDragging(e) {
                    return e.isDragging;
                  },
                  dropTarget(e) {
                    return e.dropTarget;
                  },
                  newCatalogId(e) {
                    return e.newCatalogId;
                  },
                  lastDragCatalog(e) {
                    return e.lastDragCatalog;
                  },
                })
              ),
              components: {
                StyleBasic: Il["a"],
              },
              methods: Object.assign(
                {},
                Object(r["b"])("style", [
                  "setStyleSelect",
                  "buildShowList",
                  "setIsDragging",
                  "setDropTarget",
                  "setNewCatalogId",
                  "setLastDragCatalog",
                ])
              ),
              inject: ["getScrollTop"],
            }),
          ],
          Ol
        ));
      var kl = Ol,
        wl = kl,
        xl = (i("1c04"), Object(_["a"])(wl, Cl, Sl, !1, null, null, null)),
        Ll = xl.exports;
      let Al = class extends n["g"] {
        handler(e, t) {
          e !== t &&
            "default" === t &&
            this.$eventBus.$emit("hideContentDropMenu");
        }
        clickHandler(e) {
          if (
            (!this.$refs.text || !this.$refs.text.contains(e.target)) &&
            (!this.$refs.paint || !this.$refs.paint.contains(e.target)) &&
            (!this.$refs.effect || !this.$refs.effect.contains(e.target))
          ) {
            const e = Object.assign(
              Object.assign(
                Object.assign({}, this.paint.cataMap),
                this.effect.cataMap
              ),
              this.text.cataMap
            );
            for (const t in e) Object(Z["R"])(e, t) && (e[t].isSelect = !1);
          }
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            default: 0,
          }),
        ],
        Al.prototype,
        "viewType",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("viewType", {
              immediate: !0,
            }),
          ],
          Al.prototype,
          "handler",
          null
        ),
        (Al = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])("style", ["paint", "effect", "text", "grid"])
              ),
              components: {
                StyleLibItem: Ll,
              },
            }),
          ],
          Al
        ));
      var Tl = Al,
        jl = Tl,
        Ml = (i("2c74"), Object(_["a"])(jl, yl, _l, !1, null, null, null)),
        El = Ml.exports;
      let Pl = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.modEnum = se["r"]),
            (this.width = 252),
            (this.loaded = !1),
            (this.tabActive = !1);
        }
        viewTypeHandler() {
          Object(It["a"])();
        }
        created() {
          window.addEventListener("resize", this.resize);
        }
        mounted() {
          this.resize(),
            (this.onLoaded = this.onLoaded.bind(this)),
            Ct["b"].addListener("masterTask-pageList-finished", this.onLoaded);
        }
        onLoaded() {
          this.loaded = !0;
        }
        beforeDestroy() {
          window.removeEventListener("resize", this.resize),
            Ct["b"].removeListener(
              "masterTask-pageList-finished",
              this.onLoaded
            );
        }
        resize() {
          this.loaded && Ct["b"].resize("right");
        }
        onOpenTeamLibrary() {
          this.tabActive = !0;
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("viewType")],
        Pl.prototype,
        "viewTypeHandler",
        null
      ),
        (Pl = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    state: (e) => e.basicState.state,
                  })
                ),
                Object(r["c"])("basicState", ["viewType"])
              ),
              provide() {
                return {
                  getScrollTop: () => this.$refs.panelScroll.scrollTop,
                  onOpenTeamLibrary: this.onOpenTeamLibrary,
                  openAddCompPropDialog: (...e) =>
                    this.$refs.addCompPropDialog.openAddPropDialog(...e),
                };
              },
              components: {
                TopInfo: Ui,
                TopAlign: Ni,
                DefaultProps: cs,
                BasicProps: dn,
                ExpendProps: sl,
                EditProps: ul,
                ZoomProps: fl,
                StyleProps: El,
                newscroll: St["a"],
                TeamLibraryDialog: Ai,
                AddCompPropDialog: kc,
              },
            }),
          ],
          Pl
        ));
      var Dl = Pl,
        Bl = Dl,
        Nl = (i("e425"), Object(_["a"])(Bl, yt, _t, !1, null, null, null)),
        Fl = Nl.exports,
        Rl = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right__container--scroll",
            },
            [
              i(
                "NewScroll",
                {
                  ref: "newScroll",
                  staticClass: "list_item",
                  attrs: {
                    type: "original",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "right__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "frame_panel",
                          attrs: {
                            name: "frame",
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "frame_title h6",
                            },
                            [e._v("默认容器尺寸")]
                          ),
                          i(
                            "ul",
                            {
                              staticClass: "frame_content",
                            },
                            e._l(e.frameList, function (t, s) {
                              return i(
                                "li",
                                {
                                  key: s,
                                  staticClass: "frame_category",
                                  on: {
                                    click: function (i) {
                                      return e.changeCategoryStatus(t.brand);
                                    },
                                  },
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "frame_category__title h6",
                                    },
                                    [
                                      i("CaretDownIcon", {
                                        attrs: {
                                          size: "12",
                                          opacity: "0.3",
                                          rotate: e.showChild[t.brand]
                                            ? "0"
                                            : "-90",
                                        },
                                      }),
                                      i(
                                        "span",
                                        {
                                          staticClass: "label",
                                        },
                                        [e._v(e._s(t.brand))]
                                      ),
                                    ],
                                    1
                                  ),
                                  e.showChild[t.brand]
                                    ? i(
                                        "div",
                                        {
                                          staticClass: "frame_type",
                                        },
                                        e._l(t.list, function (t, s) {
                                          return i(
                                            "div",
                                            {
                                              key: s,
                                              staticClass:
                                                "frame_category__item radius-s hover--bg-tran-12",
                                              on: {
                                                click: function (i) {
                                                  return e.clickFrameItem(t);
                                                },
                                              },
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass: "frame_name",
                                                },
                                                [
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "frame_name__icon",
                                                    },
                                                    [
                                                      t.masterIcon
                                                        ? i(t.masterIcon, {
                                                            tag: "component",
                                                            attrs: {
                                                              size: "14",
                                                              opacity: "0.3",
                                                            },
                                                          })
                                                        : i("svg-plugin", {
                                                            staticStyle: {
                                                              "font-size": "14",
                                                            },
                                                            attrs: {
                                                              name: t.icon,
                                                              opacity: "0.3",
                                                            },
                                                          }),
                                                    ],
                                                    1
                                                  ),
                                                  i("span", [
                                                    e._v(e._s(t.name)),
                                                  ]),
                                                ]
                                              ),
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "frame_size text-tran-50",
                                                },
                                                [
                                                  e._v(
                                                    " " +
                                                      e._s(
                                                        t.width +
                                                          " x " +
                                                          t.height
                                                      ) +
                                                      " "
                                                  ),
                                                ]
                                              ),
                                            ]
                                          );
                                        }),
                                        0
                                      )
                                    : e._e(),
                                ]
                              );
                            }),
                            0
                          ),
                        ]
                      ),
                    ]
                  ),
                ]
              ),
            ],
            1
          );
        },
        Hl = [];
      let $l = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.frameList = this.$variable.FRAME_LIST),
            (this.showChild = {});
        }
        mounted() {
          this.changeCategoryStatus(this.frameList[0].brand);
        }
        changeCategoryStatus(e = "") {
          this.showChild[e]
            ? this.$set(this.showChild, e, !1)
            : this.$set(this.showChild, e, !0),
            this.$refs.newScroll.refresh();
        }
        clickFrameItem(e) {
          k["a"].layers.createFrameByTpl(e.name, e.width, e.height);
        }
      };
      $l = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              NewScroll: St["a"],
            },
          }),
        ],
        $l
      );
      var Vl = $l,
        zl = Vl,
        Ul = (i("a5d8"), Object(_["a"])(zl, Rl, Hl, !1, null, null, null)),
        ql = Ul.exports,
        Wl = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "comments-sidebar",
            },
            [
              i(
                "div",
                {
                  staticClass: "comments-sidebar__header",
                },
                [
                  i(
                    "span",
                    {
                      staticClass: "comments-sidebar__header-label",
                    },
                    [e._v("评论区")]
                  ),
                  i(
                    "master-dropdown",
                    {
                      on: {
                        command: e.checkFilter,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "comments-sidebar__command-container",
                          attrs: {
                            slot: "dropButton",
                          },
                          on: {
                            click: e.filterClick,
                          },
                          slot: "dropButton",
                        },
                        [
                          i("BarsIcon", {
                            staticClass: "comments-sidebar__command-icon",
                          }),
                        ],
                        1
                      ),
                      i("master-menu", {
                        attrs: {
                          slot: "dropMenu",
                          list: e.FILTER_OPTIONS,
                          getChecked: e.isFilterChecked,
                        },
                        slot: "dropMenu",
                      }),
                    ],
                    1
                  ),
                  i(
                    "master-dropdown",
                    {
                      on: {
                        command: e.checkNotice,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: {
                                content: "通知设置",
                              },
                              expression: "{ content: '通知设置' }",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "comments-sidebar__command-container",
                          attrs: {
                            slot: "dropButton",
                          },
                          on: {
                            click: e.settingClick,
                          },
                          slot: "dropButton",
                        },
                        [
                          i("SlidersHIcon", {
                            staticClass: "comments-sidebar__command-icon",
                          }),
                        ],
                        1
                      ),
                      i("master-menu", {
                        attrs: {
                          slot: "dropMenu",
                          list: e.NOTICE_OPTIONS,
                          getChecked: e.isNoticeChecked,
                          description: "选择你希望关注的邮件通知",
                        },
                        slot: "dropMenu",
                      }),
                    ],
                    1
                  ),
                ],
                1
              ),
              i("comment-list", {
                staticClass: "comments-sidebar__list",
              }),
            ],
            1
          );
        },
        Gl = [],
        Kl = i("b39e"),
        Ql = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "comment_list",
              staticClass: "comment-list",
            },
            [
              e.sidebarComments.every(function (e) {
                return 0 === e.comments.length;
              })
                ? i(
                    "div",
                    {
                      staticClass: "comment-list__empty",
                    },
                    [
                      i("CommentIcon", {
                        attrs: {
                          size: "26",
                        },
                      }),
                      i("div", [e._v("当前画布中无公开评论")]),
                      i("div", [e._v("点击画布中任意位置留下你的评论")]),
                    ],
                    1
                  )
                : [
                    e._l(e.sidebarComments, function (t) {
                      return [
                        t.comments.length > 0
                          ? i(
                              "div",
                              {
                                key: t.id,
                                staticClass: "comment-list__group",
                              },
                              [
                                t.label
                                  ? i(
                                      "div",
                                      {
                                        staticClass:
                                          "comment-list__group-label h6",
                                      },
                                      [
                                        e._v(" " + e._s(t.label) + " "),
                                        t.info
                                          ? i("InfoColorIcon", {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip.bottom",
                                                  value: t.info,
                                                  expression: "group.info",
                                                  modifiers: {
                                                    bottom: !0,
                                                  },
                                                },
                                              ],
                                              staticClass:
                                                "comment-list__group-info",
                                            })
                                          : e._e(),
                                      ],
                                      1
                                    )
                                  : e._e(),
                                e._l(t.comments, function (t) {
                                  return i("comment-item", {
                                    key: t.id,
                                    staticClass: "comment-list__item",
                                    attrs: {
                                      permission: e.commentPermission(t),
                                      comment: t,
                                      focus: e.focusCommentId === t.id,
                                      hover: e.hoverCommentId === t.id,
                                      "data-comment-id": t.id,
                                    },
                                    nativeOn: {
                                      click: function (i) {
                                        return (function () {
                                          return e.onCommentClick(t.id);
                                        })();
                                      },
                                      mouseenter: function (i) {
                                        return (function () {
                                          return e.setHoverCommentId(t.id);
                                        })();
                                      },
                                      mouseleave: function (t) {
                                        return (function () {
                                          return e.setHoverCommentId("");
                                        })();
                                      },
                                    },
                                  });
                                }),
                                i("hr", {
                                  staticClass: "comment-list__group-divider",
                                }),
                              ],
                              2
                            )
                          : e._e(),
                      ];
                    }),
                  ],
            ],
            2
          );
        },
        Yl = [],
        Xl = i("5f1c"),
        Zl = i("aa26");
      let Jl = class extends n["g"] {
        constructor() {
          super(...arguments), (this.changingFocus = !1);
        }
        judgeKeycode(e) {
          27 === e.keyCode && this.commentCancel();
        }
        commentCancel() {
          this.$eventBus.$emit("CommentCancel");
        }
        onCommentClick(e) {
          this.changingFocus = !0;
          const t = this.allComments.find((t) => t.id === e);
          k["a"].pageState.currentPageId !== t.location.pageID &&
            this.pageList.includes(t.location.pageID) &&
            this.$eventBus.$emit("CommentPageSwitch", t.location.pageID),
            setTimeout(() => {
              this.setFocusCommentId(e),
                this.$eventBus.$emit("CommentSelect", t),
                (this.changingFocus = !1),
                Object(Zl["i"])(t);
            }, 10);
        }
        onFocusCommentChange(e) {
          e &&
            setTimeout(() => {
              var e, t, i;
              return null ===
                (i =
                  null ===
                    (t =
                      null === (e = this.$el) || void 0 === e
                        ? void 0
                        : e.querySelector(".comment-item--focus")) ||
                  void 0 === t
                    ? void 0
                    : t.scrollIntoView) || void 0 === i
                ? void 0
                : i.call(t);
            }, 0);
        }
        onPageChange(e) {
          if (this.changingFocus) return;
          const { focusComment: t } = this;
          t && t.location.pageID !== e && this.setFocusCommentId("");
        }
        created() {
          this.createdTime = window.performance.now();
        }
        mounted() {
          const e = window.performance.now() - this.createdTime;
          x["n"].setLog("INFO", "component", "comment-list mounted", {
            time: e,
          }),
            document.addEventListener("keyup", this.judgeKeycode);
        }
        beforeDestroy() {
          document.removeEventListener("keyup", this.judgeKeycode);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("$store.state.comments.focusCommentId", {
            immediate: !0,
          }),
        ],
        Jl.prototype,
        "onFocusCommentChange",
        null
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("$store.state.basicState.currentPageId")],
          Jl.prototype,
          "onPageChange",
          null
        ),
        (Jl = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                CommentItem: Xl["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    allComments: (e) => e.comments.allComments,
                    hoverCommentId: (e) => e.comments.hoverCommentId,
                    focusCommentId: (e) => e.comments.focusCommentId,
                    activeType: (e) => e.comments.activeType,
                    pageList: (e) => e.pages.list,
                  })
                ),
                Object(r["c"])("comments", [
                  "sidebarComments",
                  "commentPermission",
                  "focusComment",
                ])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("comments", [
                  "setHoverCommentId",
                  "setFocusCommentId",
                ])
              ),
            }),
          ],
          Jl
        ));
      var ed = Jl,
        td = ed,
        id = (i("182c"), Object(_["a"])(td, Ql, Yl, !1, null, null, null)),
        sd = id.exports,
        od = i("6165");
      let ad = class extends n["g"] {
        constructor() {
          super(),
            (this.isOnShow = !1),
            (this.type = "全部评论"),
            (this.index = 0),
            (this.settingIndex = 0),
            (this.commentList = []),
            (this.showComment = !1),
            (this.onNotice = !1),
            (this.cacheSettings = {}),
            (this.FILTER_OPTIONS = [
              {
                label: "按时间排序",
                value: Kl["c"].DATE,
              },
              {
                label: "按未读排序",
                value: Kl["c"].READ,
                divid: !0,
              },
              {
                label: "全部",
                value: Kl["a"].ALL,
              },
              {
                label: "与我相关的",
                value: Kl["a"].SELF,
              },
              {
                label: "评论",
                value: ie["c"].Normal,
              },
              {
                label: "校对",
                value: ie["c"].Proofread,
              },
              {
                label: "圈话",
                value: ie["c"].CircleTalk,
                divid: !0,
              },
              {
                label: "显示已解决",
                value: "withResolved",
              },
            ]),
            (this.NOTICE_OPTIONS = [
              {
                label: "全部通知",
                value: Kl["b"].ALL,
              },
              {
                label: "和我相关的通知",
                value: Kl["b"].SELF,
              },
              {
                label: "不接收通知",
                value: Kl["b"].NONE,
                divid: !0,
              },
            ]);
        }
        closeMenus() {
          this.onNotice = !1;
        }
        created() {
          Object(od["p"])(this.document.id).then((e) => {
            var t, i;
            (
              null === (t = null === e || void 0 === e ? void 0 : e.data) ||
              void 0 === t
                ? void 0
                : t.settings.subscribeComment
            )
              ? (this.cacheSettings =
                  (null ===
                    (i = null === e || void 0 === e ? void 0 : e.data) ||
                  void 0 === i
                    ? void 0
                    : i.settings) || {})
              : (this.cacheSettings = {
                  subscribeComment: 0,
                });
          });
        }
        mounted() {
          this.closeMenus();
        }
        mouseoutHandle() {
          this.onNotice = !1;
        }
        showFilter() {
          this.isOnShow = !this.isOnShow;
        }
        isFilterChecked({ value: e }) {
          const {
            queryConfigs: { sort: t, filter: i, withResolved: s },
          } = this;
          return "withResolved" === e ? s : t === e || i === e;
        }
        filterClick() {
          _e["c"].track(_e["a"].COMMENT_AREA, {
            action_parameter1: "menu_list",
            action_type: "menu_list",
          });
        }
        settingClick() {
          _e["c"].track(_e["a"].COMMENT_AREA, {
            action_parameter1: "set",
            action_type: "notice_set",
          });
        }
        checkFilter({ value: e }) {
          const { queryConfigs: t } = this,
            i = {};
          "withResolved" === e
            ? ((i.withResolved = !t.withResolved),
              i.withResolved
                ? this.$store.dispatch("comments/getResolvedComments", {
                    documentID: this.document.id,
                  })
                : this.$store.commit("comments/ELIMINATE_UNRESOLVED_COMMENTS"))
            : "string" === typeof e && e.startsWith("sort-")
            ? (i.sort = e)
            : (i.filter = e),
            this.$store.commit("comments/SET_QUERY_CONFIGS", i),
            this.trackCommentFilter(e);
        }
        trackCommentFilter(e) {
          const t = {
              [Kl["c"].DATE]: "time_sort",
              [Kl["c"].READ]: "unread_sort",
              [Kl["a"].ALL]: "all",
              [Kl["a"].SELF]: "related_me",
              [ie["c"].Normal]: "comment",
              [ie["c"].Proofread]: "proof",
              [ie["c"].CircleTalk]: "circledraw",
              withResolved: "show_complete",
            },
            i = t[e];
          _e["c"].track(_e["a"].COMMENT_AREA, {
            action_parameter1: "menu_list",
            action_type: i,
          });
        }
        isNoticeChecked({ value: e }) {
          return this.cacheSettings.subscribeComment === e;
        }
        checkNotice({ value: e }) {
          Object(od["hb"])(
            this.document.id,
            Object.assign(Object.assign({}, this.cacheSettings), {
              subscribeComment: e,
            })
          ).then(() => {
            this.cacheSettings = Object.assign(
              Object.assign({}, this.cacheSettings),
              {
                subscribeComment: e,
              }
            );
          }),
            this.trackCommentNoticeCheck(e);
        }
        trackCommentNoticeCheck(e) {
          const t = {
              [Kl["b"].ALL]: "all",
              [Kl["b"].SELF]: "related_me",
              [Kl["b"].NONE]: "reject",
            },
            i = t[e];
          _e["c"].track(_e["a"].COMMENT_AREA, {
            action_parameter1: "set",
            action_type: i,
          });
        }
      };
      ad = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              ToolButton: Go["a"],
              MasterSelector: Pe["e"],
              MasterMenu: Pe["d"],
              CommentList: sd,
            },
            computed: Object.assign(
              {},
              Object(r["e"])({
                document: (e) => e.app.currentDocument,
                queryConfigs: (e) => e.comments.queryConfigs,
              })
            ),
          }),
        ],
        ad
      );
      var nd = ad,
        rd = nd,
        cd = (i("7a0b"), Object(_["a"])(rd, Wl, Gl, !1, null, null, null)),
        ld = cd.exports,
        dd = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.show
            ? i("toast", {
                key: "back-instance-tip",
                attrs: {
                  icon: "ReturnIcon",
                  content: "返回实例",
                  type: "normal",
                  buttonInfoIcon: "TimesIcon",
                  buttonStopPropapation: !0,
                  contentHover: !0,
                  buttonHandle: e.onClose,
                  onclick: e.onBack,
                },
              })
            : e._e();
        },
        ud = [];
      let hd = class extends n["g"] {
        get show() {
          if (!this.backInstanceInfo || !this.selectIds.length) return !1;
          if (
            1 === this.selectIds.length &&
            this.basicProps.isComponent &&
            this.selectIds[0] === this.backInstanceInfo.componentId
          )
            return !0;
          if (this.selectIds.length > 1 && !this.basicProps.isPartOfComponent)
            return !1;
          const e = Object(j["d"])();
          for (let t = 0; t < this.selectIds.length; t++) {
            let i = this.selectIds[t],
              s = !1;
            while (e[i].parent)
              if (
                ((i = e[i].parent), i === this.backInstanceInfo.componentId)
              ) {
                s = !0;
                break;
              }
            if (!s) return !1;
          }
          return !0;
        }
        onClose() {
          d["a"].track(u["b"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "re_to_instance",
            action_type: "close",
            action_detail: this.disableUpdateLayer ? "viewer" : "editor",
          }),
            this.setBackInstanceInfo(null);
        }
        onBack() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (
              (d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "re_to_instance",
                action_type: "return",
                action_detail: this.disableUpdateLayer ? "viewer" : "editor",
              }),
              !I["b"].getLayerProperties(this.backInstanceInfo.instanceId, [
                "name",
              ]).data)
            )
              return (
                this.setBackInstanceInfo(null),
                void this.$toast({
                  content: "无法返回实例，实例已被删除",
                  timeout: 3e3,
                  type: "warning",
                })
              );
            k["a"].mergeStepStart(),
              I["b"].getBasicStateVal().currentPageId !==
                this.backInstanceInfo.instancePageId &&
                (yield k["a"].pages.switchPage(
                  this.backInstanceInfo.instancePageId
                )),
              k["a"].layers.select([this.backInstanceInfo.instanceId]),
              k["a"].viewPort.fixedToLayer(),
              k["a"].mergeStepEnd(),
              this.setBackInstanceInfo(null);
          });
        }
      };
      hd = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              Toast: H["a"],
            },
            methods: Object.assign(
              {},
              Object(r["d"])("component", ["setBackInstanceInfo"])
            ),
            computed: Object.assign(
              Object.assign(
                {},
                Object(r["e"])({
                  backInstanceInfo: (e) => e.component.backInstanceInfo,
                  selectIds: (e) => e.basicState.selectIds,
                  basicProps: (e) => e.basicProps.item,
                })
              ),
              Object(r["c"])(["disableUpdateLayer"])
            ),
          }),
        ],
        hd
      );
      var pd = hd,
        md = pd,
        gd = Object(_["a"])(md, dd, ud, !1, null, null, null),
        bd = gd.exports,
        vd = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "top_container",
              attrs: {
                id: "topContainer",
                "data-newGuide": "step1",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "left_btn",
                },
                [
                  1 === e.versionType
                    ? [
                        i(
                          "MButton",
                          {
                            staticClass: "top_versiontype__btn",
                            attrs: {
                              type: "highlight",
                              padding: "12",
                              size: "xs",
                            },
                            on: {
                              click: e.goBack,
                            },
                          },
                          [e._v("返回编辑")]
                        ),
                      ]
                    : e.mode === e.modEnum.PenEdit
                    ? [
                        i("MasterToolButton", {
                          key: "v-0",
                          attrs: {
                            selected: 0 === e.editMode,
                            tip: e.hotkeyDictionary["select"].label,
                            buttonTip: e.hotkeyDictionary["select"].char,
                            icon: e.hotkeyDictionary["select"].masterIcon,
                          },
                          on: {
                            click: function (t) {
                              return e.editSelectHandler(0);
                            },
                          },
                        }),
                        i("MasterToolButton", {
                          key: "v-1",
                          attrs: {
                            selected: 1 === e.editMode,
                            tip: e.hotkeyDictionary["vector"].label,
                            buttonTip: e.hotkeyDictionary["vector"].char,
                            icon: e.hotkeyDictionary["vector"].masterIcon,
                          },
                          on: {
                            click: function (t) {
                              return e.editSelectHandler(1);
                            },
                          },
                        }),
                        i("MasterToolButton", {
                          key: "v-2",
                          staticStyle: {
                            display: "flex",
                          },
                          attrs: {
                            selected: 2 === e.editMode,
                            tip: e.hotkeyDictionary["curveTool"].label,
                            buttonTip: e.hotkeyDictionary["curveTool"].char,
                            icon: e.hotkeyDictionary["curveTool"].masterIcon,
                          },
                          on: {
                            click: function (t) {
                              return e.editSelectHandler(2);
                            },
                          },
                        }),
                        i("MasterToolButton", {
                          directives: [
                            {
                              name: "feature",
                              rawName: "v-feature",
                              value: "penFill",
                              expression: "'penFill'",
                            },
                          ],
                          key: "v-3",
                          attrs: {
                            selected: 3 === e.editMode,
                            tip: "填充工具",
                            buttonTip: "B",
                            icon: "PaintIcon",
                          },
                          on: {
                            click: function (t) {
                              return e.editSelectHandler(3);
                            },
                          },
                        }),
                        i("MasterToolButton", {
                          key: "v-4",
                          attrs: {
                            selected: 4 === e.editMode,
                            icon: "ScissorsTopBarIcon",
                            tip: "裁剪工具",
                            buttonTip: "X",
                          },
                          on: {
                            click: function (t) {
                              return e.editSelectHandler(4);
                            },
                          },
                        }),
                      ]
                    : [
                        e.disableUpdateLayer
                          ? i("MasterToolButton", {
                              key: "m-0",
                              attrs: {
                                selected: e.mode == e.modEnum.Select,
                                icon: "SelectTopBarIcon",
                                tip: "选择工具",
                                buttonTip: "V",
                                hotkey: "V",
                              },
                              on: {
                                click: function (t) {
                                  return e.selectTool(e.modEnum.Select);
                                },
                              },
                            })
                          : i("MasterToolButton", {
                              key: "m-0",
                              attrs: {
                                selected: e.mode === e.currentSelect,
                                list: e.TOOLBAR_SELECT_LIST,
                                current: e.currentSelect,
                                icon: "select-tool",
                                dataToursName: "move_tool",
                                tip: "选择工具",
                              },
                              on: {
                                change: e.selectTool,
                                click: e.selectTool,
                              },
                            }),
                        e.disableUpdateLayer
                          ? e._e()
                          : i("MasterToolButton", {
                              key: "m-4",
                              attrs: {
                                list: e.TOOLBAR_FRAME_LIST,
                                selected: e.mode === e.currentFrame,
                                current: e.currentFrame,
                                icon: "FrameTopBarIcon",
                                tip: "区域工具",
                                dataToursName: "region_tool",
                              },
                              on: {
                                click: e.selectTool,
                                change: e.selectTool,
                              },
                            }),
                        e.disableUpdateLayer
                          ? e._e()
                          : i("MasterToolButton", {
                              key: "m-1",
                              attrs: {
                                selected: e.mode === e.currentShape,
                                current: e.currentShape,
                                list: e.shapeList,
                                icon: "RectangleSolidTopBarIcon",
                                tip: "形状工具",
                                dataToursName: "shape_tool",
                              },
                              on: {
                                change: e.changeMenu,
                                click: e.selectTool,
                              },
                            }),
                        e.disableUpdateLayer
                          ? e._e()
                          : i("MasterToolButton", {
                              key: "m-2",
                              attrs: {
                                selected: e.mode === e.currentPen,
                                list: e.TOOLBAR_PEN_LIST,
                                current: e.currentPen,
                                tip: "绘图工具",
                                dataToursName: "drawing_tool",
                                icon: "PenNibTopBarIcon",
                              },
                              on: {
                                change: e.selectTool,
                                click: e.selectTool,
                              },
                            }),
                        e.disableUpdateLayer
                          ? e._e()
                          : i("MasterToolButton", {
                              key: "m-3",
                              attrs: {
                                selected: e.mode == e.modEnum.CreateText,
                                icon: "TextTopBarIcon",
                                tip: "文本",
                                buttonTip: "T",
                                hotkey: "T",
                                dataToursName: "text_tool",
                              },
                              on: {
                                click: function (t) {
                                  return e.selectTool(e.modEnum.CreateText);
                                },
                              },
                            }),
                        e.disableUpdateLayer
                          ? e._e()
                          : i("MasterToolButton", {
                              directives: [
                                {
                                  name: "feature",
                                  rawName: "v-feature",
                                  value: "autoflow",
                                  expression: "'autoflow'",
                                },
                              ],
                              key: "m-7",
                              attrs: {
                                selected: e.mode === e.modEnum.CreateAutoFlow,
                                icon: "AutoflowIcon",
                                tip: "连接线",
                                dataToursName: "flow_tool",
                                buttonTip: "X",
                              },
                              on: {
                                click: function (t) {
                                  return e.selectTool(e.modEnum.CreateAutoFlow);
                                },
                              },
                            }),
                        i("MasterToolButton", {
                          key: "m-5",
                          attrs: {
                            selected: e.isHand,
                            icon: "HandPaperTopBarIcon",
                            tip: "移动视图",
                            buttonTip: "H",
                            dataToursName: "hand_tool",
                            "data-select": "tool-hand",
                          },
                          on: {
                            click: function (t) {
                              e.isHand = !0;
                            },
                          },
                        }),
                        e.showCommentButton
                          ? i("MasterToolButton", {
                              key: "m-6",
                              attrs: {
                                icon: "CommentTopBarIcon",
                                selected: e.mode === e.modEnum.CommentView,
                                current: e.commentType,
                                list: e.commentToolMenuList,
                                hotkey: "C",
                                tip: "评论工具",
                                dataToursName: "comment_tool",
                                badge: e.commentToolMenuList.some(function (e) {
                                  return e.badge;
                                }),
                                "data-select": "tool-comment",
                              },
                              on: {
                                change: e.selectCommentType,
                                click: e.selectCommentType,
                              },
                            })
                          : e._e(),
                        e.disableUpdateLayer ? e._e() : i("PluginEntry"),
                      ],
                ],
                2
              ),
              i(
                "div",
                {
                  staticClass: "middle_container",
                },
                [
                  e.mode === e.modEnum.PenEdit ||
                  e.disableUpdateLayer ||
                  1 === e.versionType
                    ? e._e()
                    : [
                        i(
                          "div",
                          {
                            directives: [
                              {
                                name: "show",
                                rawName: "v-show",
                                value: e.selectIds.length,
                                expression: "selectIds.length",
                              },
                            ],
                            staticClass: "middle_container_action",
                          },
                          [
                            e.showEdit
                              ? i("MasterToolButton", {
                                  directives: [
                                    {
                                      name: "feature",
                                      rawName: "v-feature",
                                      value: "pen",
                                      expression: "'pen'",
                                    },
                                  ],
                                  key: "pen",
                                  attrs: {
                                    icon: "EditObjectTopBarIcon",
                                    tip: "编辑模式",
                                    buttonTip: "↵",
                                    dataToursName: "edit_tool",
                                  },
                                  on: {
                                    click: e.changePen,
                                  },
                                })
                              : e._e(),
                            e.createComponent
                              ? i("MasterToolButton", {
                                  directives: [
                                    {
                                      name: "feature",
                                      rawName: "v-feature",
                                      value: "component",
                                      expression: "'component'",
                                    },
                                  ],
                                  key: "component",
                                  attrs: {
                                    icon: "ComponentTopBarIcon",
                                    list: e.componentCreationMenuList,
                                    tip: "创建组件",
                                    buttonTip: "" + e.createComponentHotKey,
                                    dataToursName: "component_tools",
                                  },
                                  on: {
                                    click: e.setComponent,
                                    change: e.setComponent,
                                  },
                                })
                              : e.componentStatus
                              ? i("MasterToolButton", {
                                  key: "componentStatus",
                                  attrs: {
                                    icon: "AddVariantIcon",
                                    tip: "新建可变组件",
                                  },
                                  on: {
                                    click: e.setComponentSet,
                                  },
                                })
                              : e._e(),
                            e.showMask
                              ? i("MasterToolButton", {
                                  directives: [
                                    {
                                      name: "feature",
                                      rawName: "v-feature",
                                      value: "featureMask",
                                      expression: "'featureMask'",
                                    },
                                  ],
                                  key: "mask",
                                  attrs: {
                                    selected: e.isMask,
                                    icon: "MaskTopBarIcon",
                                    tip: "设为蒙版图层",
                                    buttonTip: e.isMac ? "⌃ ⌘ M" : "Ctrl Alt M",
                                    dataToursName: "mask_tool",
                                  },
                                  on: {
                                    click: e.setMask,
                                  },
                                })
                              : e._e(),
                            "number" === typeof e.booleanOperation &&
                            e.isBooleanOperation &&
                            !1 === e.isPartOfInstance
                              ? i("MasterToolButton", {
                                  key: "bool",
                                  attrs: {
                                    current: String(e.booleanOperation),
                                    list: e.boolList,
                                    tip: "布尔运算",
                                    svgEvent: !0,
                                    dataToursName: "boolean_tool",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.setBoolean(t);
                                    },
                                    click: e.setBoolean,
                                  },
                                })
                              : e._e(),
                            e.showTextLink
                              ? i("MasterToolButton", {
                                  key: "link",
                                  attrs: {
                                    icon: "LinkTopBarIcon",
                                    tip: "创建链接",
                                    buttonTip: e.isMac ? "⌘ K" : "Ctrl K",
                                    dataToursName: "link_tool",
                                    selected: !!e.superLinkUrl,
                                  },
                                  on: {
                                    click: e.openTxtLinkPanel,
                                  },
                                })
                              : e._e(),
                            e.showCrop
                              ? i("MasterToolButton", {
                                  key: "crop",
                                  attrs: {
                                    icon: "CropTopBarIcon",
                                    tip: "裁剪图片",
                                    dataToursName: "crop_tool",
                                  },
                                  on: {
                                    click: e.setCrop,
                                  },
                                })
                              : e._e(),
                          ],
                          1
                        ),
                      ],
                ],
                2
              ),
              i(
                "div",
                {
                  staticClass: "right_container",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "about_view",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "button_content",
                        },
                        [
                          i("MasterButtonSwitch", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: {
                                  content:
                                    "对齐像素网格<span> " +
                                    (e.isMac ? "⇧ ⌘ '" : "Shift Ctrl '") +
                                    "</span>",
                                },
                                expression:
                                  "{\n            content: `对齐像素网格<span> ${\n              isMac ? '⇧ ⌘ \\'' : 'Shift Ctrl \\''\n            }</span>`,\n          }",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              icon: "SnapGridOnTopBarIcon",
                              type: "round",
                              checkVal: e.gridAlign,
                              "data-tours-name": "round_to_pixel",
                            },
                            on: {
                              click: e.alignPixelMesh,
                            },
                          }),
                        ],
                        1
                      ),
                      e.isRateLimiting
                        ? e._e()
                        : i(
                            "div",
                            {
                              staticClass: "button_content",
                            },
                            [
                              i("MasterButtonSwitch", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: {
                                      content:
                                        "显示多人光标<span>" +
                                        (e.isMac ? "⌘ ⌥ \\" : "Ctrl Alt \\") +
                                        "</span>",
                                    },
                                    expression:
                                      "{\n            content: `显示多人光标<span>${\n              isMac ? '⌘ ⌥ \\\\' : 'Ctrl Alt \\\\'\n            }</span>`,\n          }",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  icon: "MutiplayerTopBarIcon",
                                  type: "round",
                                  checkVal: e.showCoordination,
                                  "data-tours-name": "multi_cursors",
                                },
                                on: {
                                  click: e.displayCursor,
                                },
                              }),
                            ],
                            1
                          ),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "resize",
                    },
                    [
                      i(
                        "master-dropdown",
                        {
                          attrs: {
                            open: e.resizeStatus,
                            globalClose: !0,
                          },
                          on: {
                            "update:open": function (t) {
                              e.resizeStatus = t;
                            },
                            "apply-show": e.resizeApplyShow,
                            command: e.changeZoom,
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "resize_title",
                              class: {
                                "mas-tool-button-checked": e.resizeStatus,
                              },
                              attrs: {
                                slot: "dropButton",
                                "data-tours-name": "view_mode",
                              },
                              slot: "dropButton",
                            },
                            [
                              i("span", [e._v(e._s(e.resizePercent))]),
                              i(
                                "div",
                                {
                                  staticClass:
                                    "label-icon mas-tool-button-arrow transition",
                                },
                                [
                                  i("AngleDownIcon", {
                                    attrs: {
                                      size: "14",
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          ),
                          i(
                            "template",
                            {
                              slot: "dropMenu",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "resize__dropmenu",
                                },
                                [
                                  i("master-input", {
                                    ref: "input",
                                    attrs: {
                                      value: e.resizePercent,
                                      validate: e.validate.checkResize,
                                      focusSelectAll: !0,
                                      "data-tours-name": "scale",
                                    },
                                    on: {
                                      keydown: function (t) {
                                        return !t.type.indexOf("key") &&
                                          e._k(
                                            t.keyCode,
                                            "enter",
                                            13,
                                            t.key,
                                            "Enter"
                                          )
                                          ? null
                                          : e.closeResizeSelect(t);
                                      },
                                      change: e.resizeChangeHandler,
                                    },
                                  }),
                                  i("div", {
                                    staticClass: "resize__divid",
                                  }),
                                  i("master-menu", {
                                    attrs: {
                                      list: e.resizeMenuList,
                                      getChecked: e.getChecked,
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          ),
                        ],
                        2
                      ),
                    ],
                    1
                  ),
                ]
              ),
            ]
          );
        },
        fd = [],
        yd = i("6aad"),
        _d = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "file-info h5",
            },
            [
              e.isSass
                ? e._e()
                : i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.fileOrganization.abbr,
                          expression: "fileOrganization.abbr",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "org-logo-wrap",
                    },
                    [
                      i("OrgLogo", {
                        attrs: {
                          logo: e.fileOrganization.logo,
                        },
                      }),
                    ],
                    1
                  ),
              i(
                "div",
                {
                  staticClass: "project-name",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "name truncate text-tran-50 inweb",
                      attrs: {
                        "data-tours-name": "breadcrumb",
                      },
                      on: {
                        click: e.navigateHandler,
                      },
                    },
                    [e._v(e._s(e.displayProjectName))]
                  ),
                  e.displayProjectName
                    ? i("DividerIcon", {
                        attrs: {
                          opacity: "0.3",
                          size: "12",
                        },
                      })
                    : e._e(),
                ],
                1
              ),
              e.isEidt
                ? i("master-input", {
                    ref: "input",
                    staticClass: "rename_input",
                    attrs: {
                      value: e.fileName,
                      "data-tours-name": "file_name",
                      noborder: !0,
                      focusSelectAll: !1,
                    },
                    on: {
                      change: e.changeName,
                      blur: function (t) {
                        e.isEidt = !1;
                      },
                    },
                  })
                : i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip",
                          value: {
                            content: e.funEncodeHTML(e.fileName),
                            overflowDisplay: !0,
                          },
                          expression:
                            "{ content: funEncodeHTML(fileName), overflowDisplay: true }",
                        },
                      ],
                      staticClass: "file-name truncate text-tran-85",
                      attrs: {
                        "data-tours-name": "file_name",
                      },
                      on: {
                        click: function (t) {
                          return t.preventDefault(), e.changeEdit(t);
                        },
                      },
                    },
                    [e._v(" " + e._s(e.fileName) + " ")]
                  ),
              i(
                "master-dropdown",
                {
                  on: {
                    command: e.changeCurrent,
                    isOpen: e.isOpen,
                  },
                },
                [
                  i(
                    "template",
                    {
                      slot: "dropButton",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "file_button transition",
                          attrs: {
                            "data-tours-name": "file_menu",
                          },
                        },
                        [
                          0 !== e.versionType || e.isEidt
                            ? e._e()
                            : i("AngleDownIcon", {
                                style: {
                                  transform: e.statusBadge
                                    ? "translate(2px, -50px)"
                                    : "translate(2px, 11px)",
                                },
                                attrs: {
                                  size: "14",
                                },
                              }),
                        ],
                        1
                      ),
                      0 !== e.versionType || e.isEidt
                        ? e._e()
                        : i(
                            "div",
                            {
                              directives: [
                                {
                                  name: "tip",
                                  rawName: "v-tip.bottom",
                                  value: {
                                    content: e.tipsContent,
                                  },
                                  expression: "{ content: tipsContent }",
                                  modifiers: {
                                    bottom: !0,
                                  },
                                },
                              ],
                              staticClass: "save_status",
                              style: {
                                transform: e.statusBadge
                                  ? "translate(0px, -8px)"
                                  : "translate(0px, -60px)",
                              },
                            },
                            [
                              i("i", {
                                class: e.statusBadge,
                              }),
                            ]
                          ),
                    ]
                  ),
                  i("master-menu", {
                    attrs: {
                      slot: "dropMenu",
                      width: "200px",
                      list: e.menuList,
                    },
                    slot: "dropMenu",
                  }),
                ],
                2
              ),
              1 === e.versionType || (e.disableUpdateLayer && !e.isEidt)
                ? i(
                    "div",
                    {
                      staticClass:
                        "line-tip truncate h6 bg-tran-8 text-tran-50",
                      style: {
                        right: 1 === e.versionType ? "-80px" : "-74px",
                      },
                    },
                    [i("span", [e._v("仅可查看")])]
                  )
                : e._e(),
              i("AddVersioon", {
                ref: "addVersion",
                on: {
                  addSuccess: e.refreshHistoryVersion,
                },
              }),
            ],
            1
          );
        },
        Cd = [],
        Sd = i("3954"),
        Id = i("1216"),
        Od = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "MasterDialog",
            {
              staticClass: "file-name__dialog add__version__dialog",
              attrs: {
                "show-close": !1,
                visible: e.dialogShow,
                title: e.item
                  ? 1 === e.item.saveType
                    ? "命名版本"
                    : "重命名版本"
                  : "添加到历史版本",
                width: "360px",
              },
              on: {
                "update:visible": function (t) {
                  e.dialogShow = t;
                },
                opened: e.dialogOpened,
              },
            },
            [
              i("MasterInput", {
                ref: "input",
                staticClass: "add__version__title",
                attrs: {
                  placeholder: "标题",
                },
                on: {
                  input: e.onNameInput,
                },
                model: {
                  value: e.name,
                  callback: function (t) {
                    e.name = "string" === typeof t ? t.trim() : t;
                  },
                  expression: "name",
                },
              }),
              i("MasterInputMultText", {
                ref: "textarea",
                attrs: {
                  value: e.versionDesc,
                  placeholder: "请描述更改内容",
                  height: "102",
                },
                on: {
                  "update:value": function (t) {
                    e.versionDesc = t;
                  },
                },
              }),
              i(
                "template",
                {
                  slot: "footer",
                },
                [
                  i(
                    "MButton",
                    {
                      attrs: {
                        type: "secondary",
                        size: "sm",
                        padding: "24",
                      },
                      on: {
                        click: function (t) {
                          return e.closedialog(!1);
                        },
                      },
                    },
                    [e._v("取消")]
                  ),
                  i(
                    "MButton",
                    {
                      attrs: {
                        disabled: e.disabled,
                        type: "highlight",
                        size: "sm",
                        padding: "24",
                      },
                      on: {
                        click: function (t) {
                          return e.closedialog(!0);
                        },
                      },
                    },
                    [e._v("保存")]
                  ),
                ],
                1
              ),
            ],
            2
          );
        },
        kd = [];
      let wd = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.disabled = !0),
            (this.dialogShow = !1),
            (this.name = ""),
            (this.versionDesc = ""),
            (this.versionId = -1),
            (this.item = null);
        }
        get fileName() {
          return this.$store.getters.document.name;
        }
        get documentId() {
          return this.$store.getters.document.id;
        }
        get hasVersionId() {
          return ~this.versionId;
        }
        dialogOpened() {
          this.$refs.input.focus();
        }
        showAddVersion(e, t, i) {
          e
            ? (1 === i.saveType
                ? ((this.name = ""), (this.disabled = !0))
                : ((this.name = i.name), (this.disabled = !1)),
              (this.versionDesc = t),
              (this.versionId = e),
              (this.item = i))
            : ((this.name = ""),
              (this.versionDesc = ""),
              (this.versionId = -1),
              (this.item = null),
              (this.disabled = !0)),
            (this.dialogShow = !0);
        }
        onkeydown(e) {
          const t = window.event || e,
            i = t.keyCode || t.which || t.charCode;
          13 === i && this.dialogShow && this.closedialog(!0);
        }
        closedialog(e) {
          (this.dialogShow = !1),
            e &&
              Object(ie["E"])(
                this.hasVersionId ? "put" : "post",
                this.hasVersionId
                  ? {
                      name: this.name,
                      desc: this.versionDesc,
                      documentId: this.documentId,
                      versionId: this.versionId,
                    }
                  : {
                      saveType: 2,
                      name: this.name,
                      desc: this.versionDesc,
                      documentId: this.documentId,
                    }
              )
                .then(() => {
                  this.$toast({
                    content: "保存历史版本成功",
                    timeout: 3e3,
                    position: "top",
                  }),
                    this.hasVersionId
                      ? ((this.item.name = this.name),
                        (this.item.desc = this.versionDesc),
                        (this.item.saveType = 2),
                        this.$emit("editSuccess", this.item.id))
                      : this.$emit("addSuccess", this.versionDesc);
                })
                .catch((e) => {
                  console.error(e);
                  let t = "";
                  (t = this.hasVersionId
                    ? 1 === this.item.saveType
                      ? "命名版本失败"
                      : "重命名版本失败"
                    : "保存历史版本失败"),
                    this.$toast({
                      content: t,
                      timeout: 3e3,
                      position: "top",
                    });
                });
        }
        onNameInput() {
          this.name ? (this.disabled = !1) : (this.disabled = !0);
        }
      };
      wd = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterInput: pe["a"],
              MasterDialog: b["a"],
              MasterInputMultText: yc["a"],
            },
            watch: {
              dialogShow(e) {
                e
                  ? document.addEventListener("keydown", this.onkeydown, !0)
                  : document.removeEventListener("keydown", this.onkeydown, !0);
              },
            },
          }),
        ],
        wd
      );
      var xd = wd,
        Ld = xd,
        Ad =
          (i("ee7f"), Object(_["a"])(Ld, Od, kd, !1, null, "7678bd82", null)),
        Td = Ad.exports;
      const jd = {
        offline: "网络中断，您可继续编辑，数据会存在本地；网络恢复后将自动同步",
        online: "",
        resuming: "有未同步的离线编辑，正在同步至云端",
        saving: "编辑正在同步至云端",
      };
      let Md = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isElectron = Object(Z["ab"])()),
            (this.isEidt = !1),
            (this.statusBadge = "offline"),
            (this.funEncodeHTML = aa["a"]),
            (this.menuStatus = !1);
        }
        get tipsContent() {
          const { statusBadge: e } = this;
          return e && jd[e];
        }
        setStatusBadge(e, t = !1) {
          window.clearTimeout(this.statusBadgeTimer),
            (this.statusBadge = e),
            t &&
              (this.statusBadgeTimer = window.setTimeout(() => {
                this.statusBadge = null;
              }, 500));
        }
        handleWssStatus(e, t) {
          const { statusBadge: i } = this;
          if (e.joinedRoom || !t.joinedRoom)
            if (!e.joinedRoom || t.joinedRoom) {
              if (e.mergingCount > 0) {
                if ("resuming" === i || "offline" === i) return;
                this.setStatusBadge("saving");
              } else if (0 === e.mergingCount && t.mergingCount > 0) {
                if ("resuming" === i)
                  return void this.setStatusBadge("resuming", !0);
                this.setStatusBadge("saving", !0);
              }
            } else
              e.mergingCount > 0
                ? this.setStatusBadge("resuming")
                : this.setStatusBadge("online", !0);
          else this.setStatusBadge("offline");
        }
        changeEdit() {
          this.disableUpdateLayer ||
            ((this.isEidt = !0),
            this.$nextTick(() => {
              const e = this.$refs.input;
              e.focus(), e.selectAll();
            }));
        }
        changeName(e) {
          var t, i, s;
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const o = this.document.name;
            this.setCurDocument(
              Object.assign(Object.assign({}, this.document), {
                name: e,
              })
            );
            try {
              yield Object(ie["Sc"])({
                projectId: this.document.projectId,
                teamId: this.document.teamId,
                documentId: this.document.id,
                name: e,
              }),
                x["n"].mta(u["a"].RENAME_FILE, () => ({
                  projectId: this.document.projectId,
                  teamId: this.document.teamId,
                  documentId: this.document.id,
                  name: e,
                }));
            } catch (a) {
              this.setCurDocument(
                Object.assign(Object.assign({}, this.document), {
                  name: o,
                })
              );
              const e =
                null ===
                  (s =
                    null ===
                      (i =
                        null ===
                          (t =
                            null === a || void 0 === a ? void 0 : a.response) ||
                        void 0 === t
                          ? void 0
                          : t.data) || void 0 === i
                      ? void 0
                      : i.meta) || void 0 === s
                  ? void 0
                  : s.msg;
              e.includes("'max' tag") &&
                this.$toast({
                  content: "文件名应在64个字符以内",
                  timeout: 3e3,
                  position: "top",
                });
            }
          });
        }
        versionHandler(e) {
          1 === e
            ? this.$refs.addVersion.showAddVersion()
            : 2 === e && this.setVersionType(1);
        }
        refreshHistoryVersion() {
          this.$eventBus.$emit("refreshHistoryVersion");
        }
        get fileName() {
          return this.$store.getters.document.name;
        }
        get documentId() {
          return this.$store.getters.document.id;
        }
        changeCurrent(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = e.value;
            if (
              (d["a"].track(u["b"].MENU_USED, {
                action_position: "toolbarMenu",
                action_detail: e.label,
              }),
              "addHistory" === t)
            )
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "file_name_menu",
                action_parameter2: "add_history_version",
                action_parameter3: "add_history_version",
                action_type: "add",
              }),
                this.$refs.addVersion.showAddVersion();
            else if ("showHistory" === t)
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "file_name_menu",
                action_parameter2: "view_history_version",
                action_type: "view",
              }),
                this.setVersionType(1);
            else if ("rename" === t) this.changeEdit();
            else if ("createCopy" === t)
              try {
                x["n"].setLog("INFO", "userAction", "create file copy", {
                  source: "file name dropdown",
                  originalId: this.document.id,
                });
                const e = yield Object(ie["r"])(this.document.id),
                  t = e.data.id,
                  i = this.$router.resolve({
                    path: "/file/" + t,
                  });
                Object(Z["qb"])(i.href, "_blank");
              } catch (i) {
                this.$toast({
                  content: "创建副本失败",
                  timeout: 3e3,
                  position: "top",
                }),
                  x["n"].setLog("ERROR", "userAction", "create file copy", {
                    source: "file name dropdown",
                    originalId: this.document.id,
                    error: Object(Z["F"])(i),
                  });
              }
            else if ("delete" === t) {
              const e = this.document.teamId,
                t = this.userInfo.teams,
                s = t.find((t) => t.id === e).isPersonal;
              x["h"].open({
                title: "确认删除文件吗？",
                desc: `删除后，文件将被移入${s ? "" : "团队"}回收站。`,
                cancelLabel: "取消",
                confirmLabel: "确认",
                onconfirm: () =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    try {
                      d["a"].track(u["b"].DEL_DOC, {
                        action_type: "del",
                      }),
                        yield Object(ie["f"])([this.document.id]),
                        this.isElectron &&
                          oe["a"].deleteFile([
                            {
                              id: this.document.id,
                            },
                          ]);
                    } catch (i) {
                      console.error(i);
                    }
                  }),
              });
            }
          });
        }
        isOpen(e) {
          e &&
            d["a"].track(u["b"].MENU_LOAD, {
              action_position: "toolbarMenu",
            });
        }
        navigateHandler() {
          this.$emit("navigate");
        }
        handleBreadcrumbChange(e) {
          const { action: t, data: i } = e;
          if ("ChangeProjectName" === t || "MoveDocument" === t) {
            const { destTeamID: e, breadcrumb: t, DestProjectID: s } = i,
              o = this.$store.getters.userteams.find((t) => t.id === e);
            if (!o)
              return (
                this.setFileProjectName("分享给我的"),
                void this.setIsTeamMember(!1)
              );
            t && this.setFileProjectName(t), s && this.setFileProjectId(s);
          }
        }
        mounted() {
          x["e"].$on(
            A["b"][A["b"].WSSBreadcrumbChange],
            this.handleBreadcrumbChange
          ),
            this.$eventBus.$on(
              "addHistoryVersionHotKey",
              this.onAddHistoryVersionHotKey
            );
        }
        onAddHistoryVersionHotKey() {
          this.disableUpdateLayer || this.$refs.addVersion.showAddVersion();
        }
        beforeDestroy() {
          window.clearTimeout(this.statusBadgeTimer),
            x["e"].$off(
              A["b"][A["b"].WSSBreadcrumbChange],
              this.handleBreadcrumbChange
            ),
            this.$eventBus.$off(
              "addHistoryVersionHotKey",
              this.onAddHistoryVersionHotKey
            );
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("wssStatus")],
        Md.prototype,
        "handleWssStatus",
        null
      ),
        (Md = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: Pe["d"],
                AddVersioon: Td,
                OrgLogo: Id["a"],
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      document: (e) => e.app.currentDocument,
                      userInfo: (e) => e.main.userInfo,
                      isPersonal: (e) => e.file.isPersonal,
                      isTeamMember: (e) => e.file.isTeamMember,
                      autoProjectName: (e) => e.file.projectName,
                      versionType: (e) => e.file.versionType,
                      wssStatus: (e) => e.file.wssStatus,
                      fileOrganization: (e) => e.file.fileOrganization,
                    })
                  ),
                  Object(r["c"])(["disableUpdateLayer"])
                ),
                {
                  displayProjectName() {
                    return this.isPersonal
                      ? "草稿箱"
                      : this.isTeamMember
                      ? this.autoProjectName
                      : "分享给我的";
                  },
                  isSass() {
                    return Object(Sd["b"])(this.fileOrganization);
                  },
                  menuList() {
                    let e = Pe["d"].dictionaries.TOP_NAME_TYPE_LIST(
                      this.topMenuPermissions
                    );
                    if (this.disableUpdateLayer) {
                      const t = this.document.allowOnlookerCopy;
                      e = [
                        {
                          value: "createCopy",
                          label: "创建文件副本",
                          icon: "duplicate",
                          masterIcon: "DuplicateIcon",
                          disabled: !t,
                          dataToursName: "duplicate",
                        },
                        {
                          value: "showHistory",
                          label: "查看历史版本",
                          icon: "backup",
                          masterIcon: "ClockIcon",
                          disabled: !1,
                          dataToursName: "show_version_history",
                        },
                      ];
                    }
                    return e;
                  },
                  topMenuPermissions() {
                    const { document: e } = this;
                    return Object(J["c"])(e);
                  },
                }
              ),
              methods: Object.assign(
                Object.assign({}, Object(r["b"])(["setCurDocument"])),
                Object(r["b"])("file", [
                  "setVersionType",
                  "setFileProjectName",
                  "setFileProjectId",
                  "setIsTeamMember",
                ])
              ),
            }),
          ],
          Md
        ));
      var Ed = Md,
        Pd = Ed,
        Dd =
          (i("8558"), Object(_["a"])(Pd, _d, Cd, !1, null, "dbb41104", null)),
        Bd = Dd.exports,
        Nd = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "pluginEntry",
              staticClass: "mas-plugin-entry",
            },
            [
              i(
                "master-dropdown",
                {
                  attrs: {
                    trigger: "click",
                    offset: 4,
                    cascade: "",
                    open: e.menuOpen && !!e.pluginMenu.length,
                    closeWhenSelect: !1,
                  },
                  on: {
                    command: e.handleSelect,
                    "update:open": e.handlePluginMenuOpen,
                  },
                },
                [
                  i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: {
                            content: "插件",
                          },
                          expression: "{ content: '插件' }",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "mas-tool-plugin",
                      class: {
                        "entry-active": e.menuOpen,
                      },
                      attrs: {
                        slot: "dropButton",
                        "data-tours-name": "resource_tool",
                      },
                      slot: "dropButton",
                    },
                    [
                      i("PluginTopBarIcon", {
                        staticClass: "mas-tool-button-icon",
                        attrs: {
                          size: "16",
                          opacity: e.menuOpen ? 1 : 0.8,
                        },
                      }),
                    ],
                    1
                  ),
                  i("master-menu", {
                    staticClass: "mas-tool-plugin__menu",
                    attrs: {
                      slot: "dropMenu",
                      list: e.pluginMenu,
                      maxHeight: "444px",
                      menuWidth: "220px",
                    },
                    slot: "dropMenu",
                    scopedSlots: e._u([
                      {
                        key: "customizeLabel",
                        fn: function (t) {
                          return [
                            i(
                              "div",
                              {
                                staticClass: "plugin-menu-box",
                              },
                              [
                                t.item.plugin_logo
                                  ? i("img", {
                                      staticClass: "plugin-logo",
                                      attrs: {
                                        src: t.item.plugin_logo,
                                      },
                                    })
                                  : e._e(),
                                i(
                                  "span",
                                  {
                                    class: {
                                      "menu-title":
                                        "recentlyTitle" === t.item.key,
                                    },
                                    attrs: {
                                      "data-tours-name": t.dataToursName,
                                    },
                                  },
                                  [e._v(e._s(t.item.label))]
                                ),
                              ]
                            ),
                          ];
                        },
                      },
                    ]),
                  }),
                ],
                1
              ),
            ],
            1
          );
        },
        Fd = [],
        Rd = i("0f32"),
        Hd = i.n(Rd),
        $d = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "master-dropdown-menu",
            {
              attrs: {
                maxHeight: "444px",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "plugin-recommend",
                  on: {
                    click: function (e) {
                      e.stopPropagation();
                    },
                    mousedown: function (e) {
                      e.stopPropagation();
                    },
                    mouseup: function (e) {
                      e.stopPropagation();
                    },
                  },
                },
                [
                  e.list.length
                    ? e._l(e.list, function (t) {
                        return i("RecommendItem", {
                          key: t.id,
                          staticClass: "plugin-recommend__item",
                          attrs: {
                            data: t,
                          },
                          on: {
                            install: function (i) {
                              return e.handleInstall(t.id);
                            },
                          },
                        });
                      })
                    : i(
                        "div",
                        {
                          staticClass: "plugin-recommend__empty",
                        },
                        [
                          i("div", {
                            staticClass: "plugin-recommend__empty__img",
                            class: {
                              dark: e.isDark,
                            },
                          }),
                          i(
                            "div",
                            {
                              staticClass: "plugin-recommend__empty__content",
                            },
                            [e._v(" 暂时没有其他插件推荐 ")]
                          ),
                        ]
                      ),
                ],
                2
              ),
            ]
          );
        },
        Vd = [],
        zd = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "recommend-item",
            },
            [
              i(
                "div",
                {
                  staticClass: "recommend-item__header",
                },
                [
                  i("img", {
                    staticClass: "recommend-item__header__logo",
                    attrs: {
                      src: e.data.logo,
                      alt: "plugin-logo",
                    },
                  }),
                  i(
                    "h4",
                    {
                      staticClass: "recommend-item__header__title",
                    },
                    [e._v(e._s(e.data.name))]
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "recommend-item__desc",
                },
                [e._v(e._s(e.data.desc))]
              ),
              i(
                "div",
                {
                  staticClass: "recommend-item__footer",
                },
                [
                  i(
                    "MButton",
                    {
                      staticClass: "recommend-item__footer__more",
                      class: {
                        dark: e.isDark,
                      },
                      attrs: {
                        type: "text",
                        width: 72,
                      },
                      on: {
                        click: function (t) {
                          return e.goPluginDetail(e.data.id);
                        },
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "recommend-item__footer__more__content",
                        },
                        [
                          i("span", [e._v("了解更多")]),
                          i("AngleRightIcon", {
                            attrs: {
                              size: "16",
                            },
                          }),
                        ],
                        1
                      ),
                    ]
                  ),
                  i(
                    "MButton",
                    {
                      staticClass: "recommend-item__footer__install",
                      class: {
                        installed: e.data.installed,
                      },
                      attrs: {
                        type: "gray",
                        size: "xs",
                        width: 70,
                        disabled: e.data.installed,
                      },
                      on: {
                        click: e.handleInstall,
                      },
                    },
                    [
                      e.isLoading
                        ? i("loading-icon", {
                            staticClass:
                              "mastergo-loading-active recommend-icon",
                          })
                        : e._e(),
                      e.data.installed
                        ? i("CheckIcon", {
                            staticClass: "recommend-icon",
                          })
                        : e._e(),
                      e._v(" 安装 "),
                    ],
                    1
                  ),
                ],
                1
              ),
            ]
          );
        },
        Ud = [];
      let qd = class extends n["g"] {
        constructor() {
          super(...arguments), (this.isLoading = !1);
        }
        goPluginDetail(e) {
          window.open("/community/plugin/" + e, "_blank"),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "toolbar",
              action_parameter2: "plugin",
              action_type: "click",
              action_detail: "know-more",
            });
        }
        handleInstall() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.isLoading) {
              this.isLoading = !0;
              try {
                yield Object(ie["oc"])(this.data.id);
              } catch (e) {
                return (this.isLoading = !1), void console.error(e);
              }
              (this.isLoading = !1),
                this.$emit("install"),
                _e["c"].track(_e["a"].EVENT_CLICK, {
                  action_position: "canvas",
                  action_parameter0: "design",
                  action_parameter1: "toolbar",
                  action_parameter2: "plugin",
                  action_type: "click",
                  action_detail: "install",
                });
            }
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        qd.prototype,
        "data",
        void 0
      ),
        (qd = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])({
                  isDark: (e) => e.main.isDark,
                })
              ),
            }),
          ],
          qd
        ));
      var Wd = qd,
        Gd = Wd,
        Kd =
          (i("ad54"), Object(_["a"])(Gd, zd, Ud, !1, null, "71a0523e", null)),
        Qd = Kd.exports;
      let Yd = class extends n["g"] {
        handleInstall(e) {
          const t = this.list.find((t) => t.id === e);
          t && (t.installed = !0), this.onInstall();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        Yd.prototype,
        "list",
        void 0
      ),
        (Yd = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                RecommendItem: Qd,
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  isDark: (e) => e.main.isDark,
                })
              ),
              inject: ["onInstall"],
            }),
          ],
          Yd
        ));
      var Xd = Yd,
        Zd = Xd,
        Jd =
          (i("d9b4"), Object(_["a"])(Zd, $d, Vd, !1, null, "c44fc4ca", null)),
        eu = Jd.exports,
        tu = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "target",
              staticClass: "help-tooltip",
            },
            [
              e._t("default"),
              i(
                "div",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: e.showHelpTip,
                      expression: "showHelpTip",
                    },
                  ],
                  ref: "popover",
                  staticClass: "help-tooltip__popover",
                  style: e.popoverStyle,
                },
                [
                  e._t("popover"),
                  i("div", {
                    staticClass: "help-tooltip__popover__arrow",
                    class: ["placement-" + e.placement],
                  }),
                ],
                2
              ),
            ],
            2
          );
        },
        iu = [];
      let su = class extends n["g"] {
        constructor() {
          super(...arguments), (this.popoverStyle = {});
        }
        showHelpTipHandler(e, t) {
          e !== t && (e ? this.showPopover() : this.hidePopover());
        }
        mounted() {
          (this.popover = this.$refs.popover),
            this.removeNode(this.popover),
            this.showHelpTip && this.showPopover();
        }
        removeNode(e) {
          e && e.parentNode && e.parentNode.removeChild(e);
        }
        addNode(e, t) {
          this.removeNode(e);
          const i = this.$refs.target,
            s = i.getBoundingClientRect();
          (this.popoverStyle = {
            position: "absolute",
            zIndex: "10000",
          }),
            Object.entries(this.offset).forEach(([e, t]) => {
              this.popoverStyle[e] = s[e] + t + "px";
            });
          const o = t || document.body;
          o.appendChild(e);
        }
        showPopover() {
          this.$nextTick(() => {
            this.addNode(this.popover);
          });
        }
        hidePopover() {
          this.removeNode(this.popover);
        }
        beforeDestroy() {
          this.removeNode(this.popover);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        su.prototype,
        "showHelpTip",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "right",
            }),
          ],
          su.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: {
                top: -22,
                left: 160,
              },
            }),
          ],
          su.prototype,
          "offset",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("showHelpTip")],
          su.prototype,
          "showHelpTipHandler",
          null
        ),
        (su = Object(a["__decorate"])([Object(n["a"])({})], su));
      var ou = su,
        au = ou,
        nu =
          (i("a52b"), Object(_["a"])(au, tu, iu, !1, null, "97482cac", null)),
        ru = nu.exports;
      let cu = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.pluginMenu = []),
            (this.menuOpen = !1),
            (this.toolbarLoaded = !1),
            (this.guideConflict = !0),
            (this.pluginGuideShowed = !0),
            (this.isCovered = !0),
            (this.handleResize = Hd()(this.checkEntryCovered, 200));
        }
        get showHelpTip() {
          return (
            !Object(Z["ib"])() &&
            this.toolbarLoaded &&
            !this.pluginGuideShowed &&
            !this.disableShowToolbar &&
            !this.guideConflict &&
            this.isCovered &&
            !this.currentPopup.name
          );
        }
        handlePageLoaded() {
          setTimeout(() => {
            (this.toolbarLoaded = this.pageLoaded), this.checkEntryCovered();
          }, 100);
        }
        handleGuideState() {
          const {
            autoShowStartingGuide: e,
            startingGuideShow: t,
            pluginGuideState: i,
          } = this.guideStates;
          (this.guideConflict = this.guideConflict && e && t),
            (this.pluginGuideShowed = 1 === i);
        }
        get localList() {
          return this.$store.state.community.localPluginList;
        }
        handleInstall() {
          this.getPluginList();
        }
        getPluginList() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = yield Object(p["m"])("toolbar");
            let t = [];
            if ((e && (t = e.children), !this.IS_PRI)) {
              const e =
                  (yield Object(Ne["h"])(() =>
                    Object(a["__awaiter"])(this, void 0, void 0, function* () {
                      const e = yield this.getRecommendList();
                      return e;
                    })
                  )) || [],
                i = {
                  label: "插件推荐",
                  title: "插件推荐",
                  key: "plugin-recommend",
                  divid: !0,
                  value: "plugin-recommend",
                  customPopover: {
                    component: eu,
                    props: {
                      list: e || [],
                    },
                  },
                };
              for (let s = 0; s < t.length; ++s)
                if ("已安装" === t[s].label) {
                  s && (t[s].divid = !1), t.splice(s + 1, 0, i);
                  break;
                }
            }
            this.pluginMenu = t;
          });
        }
        getRecommendList() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = (yield Object(ie["Gb"])()).data || [],
              t = e.map((e) => ({
                logo: e.plugin_logo,
                name: e.plugin_name,
                desc: e.plugin_desc,
                id: e.plugin_id,
              }));
            return t;
          });
        }
        handleSelect(e) {
          const { key: t, id: i, label: s, handler: o } = e;
          o &&
            (o({
              entry: "tooltip",
            }),
            (this.menuOpen = !1));
          let a = s;
          "runPlugin" === t && (a = i),
            _e["c"].track(_e["a"].MENU_USED, {
              action_position: "plugin_menu",
              action_type: "toolbar",
              action_detail: a,
            });
        }
        appendMenuList(e, t) {
          e.length && (e[e.length - 1].divid = !0),
            Array.isArray(t) ? e.push(...t) : e.push(t);
        }
        handlePluginMenuOpen(e) {
          (this.menuOpen = e),
            e &&
              (this.getPluginList(),
              _e["c"].track(_e["a"].MENU_LOAD, {
                action_position: "plugin_menu",
                action_type: "toolbar",
              }),
              this.pluginGuideShowed || this.finishPluginHelper());
        }
        finishPluginHelper() {
          Object(ie["hd"])({
            pluginGuideState: 1,
          }),
            this.$store.commit("SET_GUIDE_STATES", {
              pluginGuideState: 1,
            });
        }
        experiencePlugin() {
          this.finishPluginHelper(), (this.menuOpen = !0);
        }
        checkEntryCovered() {
          const e = this.$refs.pluginEntry.getBoundingClientRect(),
            t = 252;
          this.isCovered = window.innerWidth - e.left > t;
        }
        created() {
          this.getPluginList();
          const {
            autoShowStartingGuide: e,
            startingGuideShow: t,
            pluginGuideState: i,
          } = this.guideStates;
          (this.pluginGuideShowed = 1 === i),
            (this.guideConflict = e && t),
            window.addEventListener("resize", this.handleResize);
        }
        beforeDestroy() {
          window.removeEventListener("resize", this.handleResize);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("pageLoaded")],
        cu.prototype,
        "handlePageLoaded",
        null
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("guideStates")],
          cu.prototype,
          "handleGuideState",
          null
        ),
        (cu = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: Pe["d"],
                HelpTooltip: ru,
                MenuItem: De["a"],
              },
              inject: ["IS_PRI"],
              provide() {
                return {
                  onInstall: (e) => {
                    this.handleInstall(e);
                  },
                };
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    userId: (e) => e.main.userInfo.id,
                    pageLoaded: (e) => e.main.pageLoaded,
                    guideStates: (e) => e.main.guideStates,
                  })
                ),
                Object(r["c"])(["disableShowToolbar", "currentPopup"])
              ),
              name: "plugin-entry",
            }),
          ],
          cu
        ));
      var lu = cu,
        du = lu,
        uu =
          (i("a013"),
          i("c541"),
          Object(_["a"])(du, Nd, Fd, !1, null, "4125f4b4", null)),
        hu = uu.exports;
      let pu = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isMac = Object(Z["hb"])()),
            (this.resizeStatus = !1),
            (this.menuType = 0),
            (this.panelStatus = !1),
            (this.modEnum = se["r"]),
            (this.hotkeyManager = ne["e"]),
            (this.isHand = !1),
            (this.currentSelect = se["r"].Select),
            (this.currentPen = se["r"].CreatePen),
            (this.currentShape = se["r"].CreatRect),
            (this.currentFrame = se["r"].CreateFrame),
            (this.menuItem = {
              10: "Star",
              9: "Polygon",
              6: "Line",
              8: "Ellipse",
              7: "Rectangle",
              1: "select",
              14: "Scale",
              12: "Frame",
              13: "Pen",
              19: "Pencil",
              11: "Text",
              23: "Slice",
              handtool: !1,
            }),
            (this.validate = ut);
        }
        get shapeList() {
          return (() => this.TOOLBAR_MENU_LIST)().map((e) =>
            Object.assign(Object.assign({}, e), {
              masterIcon: e.icon,
            })
          );
        }
        modestateHandler(e) {
          [
            [this.TOOLBAR_SELECT_LIST, "currentSelect"],
            [this.TOOLBAR_PEN_LIST, "currentPen"],
            [this.TOOLBAR_MENU_LIST, "currentShape"],
            [this.TOOLBAR_FRAME_LIST, "currentFrame"],
          ].forEach(([t, i]) => {
            t.some((t) => t.value === e) && (this[i] = e);
          });
        }
        createComponentHander() {
          this.createComponent &&
            setTimeout(() => {
              Ue["a"].onToursEmit("componentProperties_tours");
            }, 200);
        }
        get resizePercent() {
          return (100 * this.resizeType).toFixed(0) + "%";
        }
        get mode() {
          return this.isHand ? se["r"].Hand : this.modestate;
        }
        get showTextLink() {
          return (
            this.isSingleTextLayer && Object(w["isFeatureEnabled"])("textLink")
          );
        }
        get showCommentButton() {
          return (
            Object(w["isFeatureEnabled"])("comment") && !this.isRateLimiting
          );
        }
        get showCrop() {
          return (
            this.selectIds.length &&
            this.fills.some((e) => e.type === yd["E"].IMAGE)
          );
        }
        get componentCreationMenuList() {
          const e = this.CREATE_COMPONENT_MENU_LIST,
            t = [e[0]];
          return (
            this.createMultiComponent && t.push(e[1]),
            this.componentStatusTop && t.push(e[2]),
            1 === t.length ? null : t
          );
        }
        get resizeMenuList() {
          const e = this.HOTKEY_LIST;
          return e;
        }
        get createComponentHotKey() {
          var e;
          const t = this.CREATE_COMPONENT_MENU_LIST;
          return null !== (e = t[0].char) && void 0 !== e ? e : "";
        }
        get boolList() {
          const e = Pe["d"].dictionaries.BOOLEAN_MENU_LIST(),
            t = [...e[0]];
          return (
            this.isValidFlatten &&
              ((t[t.length - 1].divid = !0), t.push(...e[1])),
            t.map((e) =>
              Object.assign(Object.assign({}, e), {
                masterIcon: e.icon,
              })
            )
          );
        }
        get showEdit() {
          return (
            this.type !== se["o"].Group &&
            1 === this.selectIds.length &&
            this.modestate !== se["r"].TextEdit &&
            this.type !== se["o"].Connector
          );
        }
        get isSingleTextLayer() {
          return this.type === se["o"].Text && 1 === this.selectIds.length;
        }
        get showMask() {
          return (
            this.modestate !== se["r"].TextEdit &&
            !this.isExtendLayer &&
            !this.isConnectorText
          );
        }
        closeResizeSelect() {
          this.resizeStatus = !1;
        }
        resizeChangeHandler(e) {
          k["a"].viewPort.setViewPort({
            scale: parseInt(e, 10) / 100,
          });
        }
        resizeApplyShow() {
          x["n"].setLog("INFO", "userAction", "click_Canvas scale button"),
            setTimeout(() => {
              this.$refs.input && this.$refs.input.focus();
            });
        }
        getChecked(e) {
          return "显示布局网格" === e.label
            ? this.layoutGridVisible
            : "显示像素网格" === e.label
            ? this.gridVisible
            : "对齐像素网格" === e.label
            ? this.gridAlign
            : "显示标尺" === e.label
            ? this.rulerVisible
            : "显示多人光标" === e.label
            ? this.showCoordination
            : "显示 / 隐藏操作界面" === e.label
            ? this.isHideToolbar
            : "显示切图" === e.label
            ? this.sliceVisible
            : "显示评论" === e.label && this.showCommentMark;
        }
        setMask() {
          const e = !1;
          k["a"].selector.setMask(!this.isMask, e),
            d["a"].track(u["b"].MENU_USED, {
              action: "menu_used",
              action_position: "toolbarmenu",
              action_detail: this.isMask ? "取消蒙版" : "设为蒙版",
            });
        }
        setCrop() {
          const e = this.fills.findIndex((e) => e.type === yd["E"].IMAGE);
          if (~e) {
            const t = this.fills[e];
            O["a"].Module.TriggerAction(te["a"].OpenImageCrop, t.index),
              this.$nextTick(() => {
                t.image.scaleMode !== yd["G"].Crop &&
                  (k["a"].pageState.enterImageEdit(
                    String(e),
                    "fill",
                    yd["G"].Crop
                  ),
                  (t.image.scaleMode = yd["G"].Crop),
                  k["a"].selector.fills.updateItem(t));
              });
          }
        }
        setBoolean(e) {
          "5" === e
            ? k["a"].selector.turnLayerToFlatten()
            : k["a"].selector.setBooleanOperation(+e);
        }
        openTxtLinkPanel() {
          k["a"].pageState.setEditTextLink(!0);
        }
        setComponent(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if ((Ue["a"].onToursEmit(In["a"].COMPONENT), 3 === e))
              x["n"].setLog("INFO", "userAction", "create_component_set", {
                position: "tool_bar",
              }),
                yield k["a"].createBatchComponentSet();
            else if (2 === e)
              yield k["a"].createBatchComponent(),
                x["n"].setLog("INFO", "userAction", "create_components", {
                  position: "tool_bar",
                });
            else {
              const e = yield k["a"].createComponent();
              if (5 === e.code)
                return void this.$toast({
                  content: "创建组件失败",
                  timeout: 1e3,
                  position: "bottom",
                });
              x["n"].setLog("INFO", "userAction", "create_component", {
                position: "tool_bar",
              });
            }
          });
        }
        setComponentSet() {
          k["a"].createComponentStatus();
        }
        selectTool(e) {
          const t = {
            [se["r"].CreateFrame]: In["a"].CONTAINER,
            [se["r"].CreatePen]: In["a"].PEN,
            [se["r"].CreateAutoFlow]: In["a"].CONCAT_LINE,
          };
          t[e] && Ue["a"].onToursEmit(t[e]),
            this.menuItem[e] &&
              (d["a"].track(u["b"].DRAW_TOOL, {
                action_type: this.menuItem[e],
              }),
              (this.menuItem[e] = "")),
            e === se["r"].CreateAutoFlow &&
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "toolbar",
                action_parameter2: "connector",
              }),
            k["a"].pageState.setState(Number(e));
        }
        get fileName() {
          return this.$store.getters.document.name;
        }
        checkShow() {
          this.panelStatus = !this.panelStatus;
        }
        changePen() {
          this.selectTool(
            this.type === se["o"].Text ? se["r"].TextEdit : se["r"].PenEdit
          );
        }
        changeMenu(e) {
          this.menuItem[e] &&
            (d["a"].track(u["b"].DRAW_TOOL, {
              action_type: this.menuItem[e],
            }),
            (this.menuItem[e] = "")),
            100 === e ? ne["e"].execute("shift+ctrl+K") : this.selectTool(e);
        }
        changeZoom(e) {
          d["a"].track(u["b"].MENU_USED, {
            action_position: "viewmenu",
            action_detail: e.label,
          });
          const t = e.value;
          if (t < 5 && t > 1) {
            this.menuType = Number(e.label.substr(0, e.label.length - 1)) / 100;
            const t = Number(this.menuType);
            k["a"].viewPort.scaleCanvas(t);
          } else if (e.callback) e.callback();
          else if (e.char) {
            const t = ne["b"].hotkeyMapping(e.char);
            ne["e"].execute(t, null);
          }
        }
        alignPixelMesh() {
          ne["e"].execute("shift+ctrl+'");
        }
        displayCursor() {
          ne["e"].execute("ctrl+alt+|");
        }
        editSelectHandler(e) {
          k["a"].pageState.setEditState(e);
        }
        goBack() {
          d["a"].track(u["b"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "history_version",
            action_parameter1: "back_to_edit",
            action_type: "back",
          }),
            this.setVersionType(0),
            this.toggleDisableWebsocket(!1),
            this.changeDocument();
        }
        selectCommentType(e) {
          switch ((k["a"].pageState.setState(se["r"].CommentView), e)) {
            case ie["c"].Proofread:
              this.$store.commit("comments/SET_ACTIVE_TYPE", ie["c"].Proofread),
                x["n"].setLog("INFO", "userAction", "proofreader button", {
                  source: "toolbars button",
                });
              break;
            case ie["c"].CircleTalk:
              this.$store.commit(
                "comments/SET_ACTIVE_TYPE",
                ie["c"].CircleTalk
              ),
                x["n"].setLog("INFO", "userAction", "circletalk button", {
                  source: "toolbars button",
                });
              break;
            default:
              this.$store.commit("comments/SET_ACTIVE_TYPE", ie["c"].Normal),
                x["n"].setLog("INFO", "userAction", "comment button", {
                  source: "toolbars button",
                });
          }
        }
        selectHand() {
          (this.isHand = !0),
            this.$store.state.app.observationUser &&
              this.$store.dispatch("toggleObservationUser", "");
        }
        mounted() {
          (this.setHand = Object(l["a"])("set-handKey", (e) => {
            this.isHand = e;
          })),
            Object(Z["ib"])() && (this.isHand = !0);
        }
        beforeDestroy() {
          this.setHand();
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("modestate")],
        pu.prototype,
        "modestateHandler",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("createComponent", {
              immediate: !0,
            }),
          ],
          pu.prototype,
          "createComponentHander",
          null
        ),
        (pu = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        Object.assign(
                          {},
                          Object(r["e"])({
                            versionType: (e) => e.file.versionType,
                            editMode: (e) => e.basicState.editMode,
                            selectIds: (e) => e.basicState.selectIds,
                            selectBasic: (e) => e.basicProps.item,
                            modestate: (e) => e.basicState.state,
                            resizeType: (e) => e.basicState.scale,
                            gridVisible: (e) => e.basicState.gridVisible,
                            layoutGridVisible: (e) =>
                              e.basicState.layoutGridVisible,
                            isHideToolbar: (e) => e.file.isHideToolbar,
                            isRateLimiting: (e) => e.file.isRateLimiting,
                            showCommentMark: (e) =>
                              e.basicState.showCommentMark,
                            gridAlign: (e) => e.basicState.gridAlign,
                            showCoordination: (e) =>
                              e.basicState.showCoordination,
                            rulerVisible: (e) => e.basicState.rulerVisible,
                            sliceVisible: (e) => e.basicState.sliceVisible,
                            superLinkUrl: (e) => e.basicState.superLinkUrl,
                            type: (e) => e.basicProps.item.type,
                            isMask: (e) => e.basicProps.item.isMask,
                            fills: (e) => e.basicProps.item.fills,
                            booleanOperation: (e) =>
                              e.basicProps.item.booleanOperation,
                            isBooleanOperation: (e) =>
                              e.basicState.booleanOperation &&
                              !e.navBtnState.status[se["K"].hasConnector],
                            document: (e) => e.app.currentDocument,
                            isPartOfInstance: (e) =>
                              e.basicProps.item.isPartOfInstance,
                            createComponent: (e) =>
                              e.navBtnState.status[se["K"].createComponent],
                            createMultiComponent: (e) =>
                              e.navBtnState.status[
                                se["K"].createMultiComponent
                              ],
                            componentStatusTop: (e) =>
                              e.navBtnState.status[se["K"].componentStatusTop],
                            isValidFlatten: (e) =>
                              e.navBtnState.status[se["K"].isValidFlatten],
                            componentStatus: (e) =>
                              e.navBtnState.status[se["K"].componentStatus],
                            commentType: (e) => e.comments.activeType,
                            hotkeyDictionary: (e) =>
                              e.dictionary.HOTKEY_DICTIONARY,
                          })
                        ),
                        Object(r["c"])(["disableUpdateLayer"])
                      ),
                      Object(r["c"])("comments", ["commentToolMenuList"])
                    ),
                    Object(r["c"])("circletalk", ["isCirclePlaying"])
                  ),
                  Object(r["c"])("basicProps", [
                    "isExtendLayer",
                    "isConnectorText",
                  ])
                ),
                Object(r["c"])("dictionary", [
                  "TOOLBAR_SELECT_LIST",
                  "TOOLBAR_PEN_LIST",
                  "TOOLBAR_MENU_LIST",
                  "TOOLBAR_FRAME_LIST",
                  "CREATE_COMPONENT_MENU_LIST",
                  "HOTKEY_LIST",
                ])
              ),
              components: {
                MasterMenu: Pe["d"],
                MasterToolButton: Go["a"],
                FileTopBar: Bd,
                MasterButtonSwitch: us["a"],
                PluginEntry: hu,
              },
              methods: Object.assign(
                Object.assign({}, Object(r["b"])("file", ["setVersionType"])),
                Object(r["b"])(["toggleDisableWebsocket"])
              ),
              inject: ["changeDocument"],
              watch: {
                isHand: {
                  immediate: !0,
                  handler(e) {
                    e &&
                      this.modestate === this.modEnum.CommentView &&
                      k["a"].pageState.setState(se["r"].Select),
                      e &&
                        !this.handtool &&
                        (d["a"].track(u["b"].DRAW_TOOL, {
                          action_type: "handtool",
                        }),
                        (this.handtool = !0)),
                      (l["b"].handKey = e);
                  },
                },
                resizeStatus(e) {
                  e &&
                    d["a"].track(u["b"].MENU_LOAD, {
                      action_position: "viewmenu",
                    });
                },
              },
            }),
          ],
          pu
        ));
      var mu = pu,
        gu = mu,
        bu =
          (i("2f5b"), Object(_["a"])(gu, vd, fd, !1, null, "70ac6f04", null)),
        vu = bu.exports,
        fu = i("e2e6"),
        yu = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s(
            "div",
            {
              ref: "container",
              staticClass: "left_container",
            },
            [
              t.isShowTopBar
                ? s(
                    "div",
                    {
                      staticClass: "tab_bar border-b-block",
                      attrs: {
                        "data-newGuide": "step3",
                      },
                    },
                    [
                      s(
                        "div",
                        {
                          staticClass: "tab flex-between",
                        },
                        [
                          s(
                            "div",
                            {
                              staticClass: "tab_container flex-12",
                            },
                            [
                              s(
                                "div",
                                {
                                  staticClass: "tab_item transition h6",
                                  class: {
                                    active: "layer" === t.tab,
                                  },
                                  attrs: {
                                    "data-tours-name": "layer",
                                  },
                                  on: {
                                    mousedown: function (e) {
                                      return t.changeTab("layer");
                                    },
                                  },
                                },
                                [t._v(" 图层 ")]
                              ),
                              s(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "feature",
                                      rawName: "v-feature",
                                      value: "component",
                                      expression: "'component'",
                                    },
                                  ],
                                  staticClass: "tab_item transition",
                                  class: {
                                    active: "component" === t.tab,
                                  },
                                  attrs: {
                                    "data-tours-name": "component",
                                  },
                                  on: {
                                    mousedown: function (e) {
                                      return t.changeTab("component");
                                    },
                                  },
                                },
                                [
                                  s(
                                    "span",
                                    {
                                      class: {
                                        badge: t.componentBadge,
                                      },
                                    },
                                    [t._v("组件")]
                                  ),
                                ]
                              ),
                              t.disableUpdateLayer
                                ? t._e()
                                : s(
                                    "div",
                                    {
                                      staticClass: "tab_item transition h6",
                                      class: {
                                        active: "lib" === t.tab,
                                      },
                                      attrs: {
                                        "data-tours-name": "library",
                                      },
                                      on: {
                                        mousedown: function (e) {
                                          return t.changeTab("lib");
                                        },
                                      },
                                    },
                                    [t._v(" 资源库 ")]
                                  ),
                            ]
                          ),
                        ]
                      ),
                    ]
                  )
                : t._e(),
              s(
                "div",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: "layer" === t.tab,
                      expression: "tab === 'layer'",
                    },
                  ],
                  ref: "page",
                  staticClass: "page_container border-b-block",
                  style: {
                    height: t.barHeight + "px",
                    maxHeight: t.maxHeight + "px",
                  },
                },
                [
                  s(
                    "div",
                    {
                      staticClass: "page_top_bar",
                    },
                    [
                      s(
                        "div",
                        {
                          staticClass: "page_name",
                        },
                        [
                          s(
                            "div",
                            {
                              staticClass: "page_name__title",
                            },
                            [
                              t._v(
                                " " +
                                  t._s(
                                    t.isPageFolded
                                      ? t.decodePageName(t.currentPage.name)
                                      : "页面"
                                  ) +
                                  " "
                              ),
                            ]
                          ),
                        ]
                      ),
                      s(
                        "div",
                        {
                          staticClass: "page_top_bar_color_tag_container",
                        },
                        [
                          t.isPageFolded
                            ? s("div", {
                                staticClass: "color_tag",
                                style: {
                                  background:
                                    t.LABEL_LIST[t.currentPage.label].color,
                                },
                              })
                            : t._e(),
                        ]
                      ),
                      s(
                        "div",
                        {
                          staticClass: "btn_container",
                        },
                        [
                          t.disableUpdateLayer ||
                          1 === t.versionType ||
                          t.isPageFolded
                            ? t._e()
                            : s("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "搜索",
                                    expression: "'搜索'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  icon: "SearchIcon",
                                  "data-tours-name": "search_page",
                                },
                                on: {
                                  click: t.clickSearchPage,
                                },
                              }),
                          t.disableUpdateLayer ||
                          1 === t.versionType ||
                          t.isPageFolded
                            ? t._e()
                            : s("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "添加到新分类",
                                    expression: "'添加到新分类'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                attrs: {
                                  icon: "FolderLineIcon",
                                  "data-tours-name": "new_cata",
                                },
                                on: {
                                  click: function (e) {
                                    return t.addToNewCatalog(!1);
                                  },
                                },
                              }),
                          t.disableUpdateLayer || 1 === t.versionType
                            ? t._e()
                            : s("MasterButtonIcon", {
                                directives: [
                                  {
                                    name: "tip",
                                    rawName: "v-tip.bottom",
                                    value: "添加新页面",
                                    expression: "'添加新页面'",
                                    modifiers: {
                                      bottom: !0,
                                    },
                                  },
                                ],
                                staticClass: "left__add_page",
                                attrs: {
                                  icon: "PlusIcon",
                                  "data-tours-name": "new_page",
                                },
                                on: {
                                  click: t.addPage,
                                },
                              }),
                          t.disableUpdateLayer || 1 === t.versionType
                            ? t._e()
                            : s("MasterButtonIcon", {
                                attrs: {
                                  iconClass: [
                                    t.isPageFolded ? "rotate_-90" : "",
                                    "transition",
                                  ],
                                  "data-tours-name": "show_panel",
                                  icon: "ChevronDownIcon",
                                },
                                on: {
                                  click: function (e) {
                                    return t.handlePageFold();
                                  },
                                },
                              }),
                          t.isSearching
                            ? s(
                                "div",
                                {
                                  staticClass: "search",
                                },
                                [
                                  s(
                                    "master-input",
                                    {
                                      ref: "searchRef",
                                      staticClass:
                                        "search__input radius-m bg-tran-8 fx-exclude",
                                      attrs: {
                                        placeholder: "搜索页面...",
                                        debounceTime: 500,
                                        noborder: !0,
                                      },
                                      on: {
                                        "debounce-input": t.searchPage,
                                        blur: t.cancelSearchInput,
                                        focus: t.focusSearchInput,
                                      },
                                      model: {
                                        value: t.searchKey,
                                        callback: function (e) {
                                          t.searchKey = e;
                                        },
                                        expression: "searchKey",
                                      },
                                    },
                                    [
                                      s(
                                        "template",
                                        {
                                          slot: "header",
                                        },
                                        [
                                          s("SearchIcon", {
                                            staticClass: "search__input__icon",
                                            attrs: {
                                              size: "14",
                                              opacity: "0.5",
                                            },
                                          }),
                                        ],
                                        1
                                      ),
                                      t.searchKey
                                        ? s(
                                            "template",
                                            {
                                              slot: "footer",
                                            },
                                            [
                                              s("TimesSolidIcon", {
                                                directives: [
                                                  {
                                                    name: "tip",
                                                    rawName: "v-tip.bottom",
                                                    value: "清除",
                                                    expression: "'清除'",
                                                    modifiers: {
                                                      bottom: !0,
                                                    },
                                                  },
                                                ],
                                                staticClass:
                                                  "search__input__clearicon",
                                                attrs: {
                                                  size: "14",
                                                  opacity: "0.5",
                                                },
                                                nativeOn: {
                                                  click: function (e) {
                                                    return t.clearSearchKey(e);
                                                  },
                                                },
                                              }),
                                            ],
                                            1
                                          )
                                        : t._e(),
                                    ],
                                    2
                                  ),
                                ],
                                1
                              )
                            : t._e(),
                        ],
                        1
                      ),
                    ]
                  ),
                  t.isPageFolded
                    ? t._e()
                    : s("MasterTree", {
                        staticClass: "list_item",
                        attrs: {
                          treeItems: t.pageListForSearch,
                          selectIds: t.pageSelectIds,
                        },
                        on: {
                          onSelect: t.selectHandler,
                          onDrop: t.dropHandler,
                          contextmenu: t.contextmenuHandler,
                          toggle: t.toggleHandler,
                          mousedown: t.selectPage,
                          mouseup: t.selectPage,
                          cancelSelect: t.cancelSelectPage,
                        },
                        scopedSlots: t._u(
                          [
                            {
                              key: "default",
                              fn: function (e) {
                                return [
                                  s(
                                    "div",
                                    {
                                      staticClass: "layer_item",
                                    },
                                    [
                                      s(
                                        "div",
                                        {
                                          directives: [
                                            {
                                              name: "show",
                                              rawName: "v-show",
                                              value:
                                                t.renameStatus !== e.data.id,
                                              expression:
                                                "renameStatus !== scope.data.id",
                                            },
                                          ],
                                          staticClass: "layer_content",
                                          class: {
                                            layer_content_page:
                                              0 === e.data.type,
                                          },
                                          on: {
                                            dblclick: function (i) {
                                              return (
                                                i.preventDefault(),
                                                t.changeMode(e.data.id)
                                              );
                                            },
                                          },
                                        },
                                        [
                                          s("span", [
                                            t._v(
                                              t._s(
                                                t.decodePageName(e.data.name)
                                              )
                                            ),
                                          ]),
                                        ]
                                      ),
                                      t.renameStatus === e.data.id
                                        ? s(
                                            "div",
                                            {
                                              staticClass: "layer_content",
                                            },
                                            [
                                              s("master-input", {
                                                ref: "nameStyle",
                                                staticClass: "rename_input",
                                                attrs: {
                                                  focusSelectAll: !0,
                                                  value: t.decodePageName(
                                                    e.data.name
                                                  ),
                                                  isTrim: !1,
                                                },
                                                on: {
                                                  change: function (i) {
                                                    return t.changeHandler(
                                                      e.data.id,
                                                      i
                                                    );
                                                  },
                                                  blur: t.cancelInput,
                                                },
                                              }),
                                            ],
                                            1
                                          )
                                        : t._e(),
                                      e.data.label
                                        ? s(
                                            "div",
                                            {
                                              staticClass:
                                                "layer_content_color",
                                            },
                                            [
                                              s("span", {
                                                style: {
                                                  background:
                                                    t.LABEL_LIST[e.data.label]
                                                      .color,
                                                },
                                              }),
                                            ]
                                          )
                                        : t._e(),
                                    ]
                                  ),
                                ];
                              },
                            },
                          ],
                          null,
                          !1,
                          611142633
                        ),
                      }),
                  s("div", {
                    ref: "middleLine",
                    staticClass: "middle_line",
                    class: [t.isPageFolded ? "" : "middle_line_cursor"],
                    on: {
                      mousedown: t.mouseDownHandlerHeight,
                    },
                  }),
                ],
                1
              ),
              s("LayerSearch", {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: "layer" === t.tab,
                    expression: "tab === 'layer'",
                  },
                ],
              }),
              s(
                "newscroll",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: "layer" === t.tab,
                      expression: "tab === 'layer'",
                    },
                  ],
                  staticClass: "layer_tree",
                  attrs: {
                    type: "original",
                  },
                  nativeOn: {
                    mousedown: function (e) {
                      return t.cleanLayerSelect(e);
                    },
                    keydown: function (e) {
                      return t.handleLeftTreeKeydown(e);
                    },
                  },
                },
                [
                  s("treePluginNew", {
                    attrs: {
                      active: "layer" === t.tab,
                    },
                  }),
                ],
                1
              ),
              s(
                "lazy-box",
                {
                  staticClass: "left-resources",
                  attrs: {
                    visible: "lib" === t.tab,
                  },
                },
                [
                  s("Resources", {
                    ref: "resources",
                    attrs: {
                      width: t.barWidth,
                    },
                  }),
                ],
                1
              ),
              "component" === t.tab
                ? s("ComponentLib", {
                    attrs: {
                      showComponnetHelpTip: t.showComponnetHelpTip,
                      type: "component_list_results",
                    },
                  })
                : t._e(),
              t.isHideToolbar
                ? t._e()
                : s("div", {
                    ref: "rightLine",
                    staticClass: "right_line",
                    on: {
                      mousedown: t.mouseDownHandlerWidth,
                    },
                  }),
              t.banHover
                ? s("div", {
                    staticClass: "left-mask",
                    class:
                      ((e = {}),
                      (e["left-mask__" + t.banHover] = !!t.banHover),
                      e),
                  })
                : t._e(),
            ],
            1
          );
        },
        _u = [],
        Cu = i("1471"),
        Su = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "masterTree",
              staticClass: "master-tree",
            },
            [
              i(
                "newscroll",
                {
                  attrs: {
                    type: "original",
                  },
                },
                [
                  i(
                    "div",
                    {
                      ref: "masterTreeContent",
                      staticClass: "master-tree__content",
                    },
                    e._l(e.displayTreeItems, function (t, s) {
                      return i(
                        "div",
                        {
                          key: s,
                        },
                        [
                          t.disabled
                            ? e._e()
                            : i("MasterTreeItem", {
                                attrs: {
                                  treeItem: t,
                                  isDrag: e.isDrag,
                                  isEnterCatalog: e.enterCatalogId === t.id,
                                  lastActive:
                                    e.displayTreeItems[s - 1] &&
                                    (e.displayTreeItems[s - 1].active ||
                                      e.displayTreeItems[s - 1].cover),
                                  nextActive:
                                    e.displayTreeItems[s + 1] &&
                                    (e.displayTreeItems[s + 1].active ||
                                      e.displayTreeItems[s + 1].cover),
                                },
                                on: {
                                  mousedown: e.mousedownHandler,
                                  mousemove: e.mousemoveHandler,
                                  mouseup: e.mouseupHandler,
                                  contextmenu: e.contextmenuHandler,
                                  toggle: e.toggleHandler,
                                },
                                scopedSlots: e._u(
                                  [
                                    {
                                      key: "default",
                                      fn: function () {
                                        return [
                                          e._t("default", null, {
                                            data: t,
                                            index: s,
                                          }),
                                        ];
                                      },
                                      proxy: !0,
                                    },
                                  ],
                                  null,
                                  !0
                                ),
                              }),
                        ],
                        1
                      );
                    }),
                    0
                  ),
                ]
              ),
              e.isDrag && !e.enterCatalogId
                ? i("div", {
                    staticClass: "master-tree__divider",
                    style: e.dividerStyle,
                  })
                : e._e(),
            ],
            1
          );
        },
        Iu = [],
        Ou = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              class: e.rootClass,
              style: e.rootStyle,
              on: {
                mousedown: e.mousedownHandler,
                contextmenu: e.contextmenuHandler,
              },
            },
            [
              1 === e.treeItem.type
                ? i(
                    "div",
                    {
                      class: e.expandClass,
                      style: e.expandStyle,
                      on: {
                        mousedown: e.toggleHandler,
                      },
                    },
                    [
                      i("CaretDownIcon", {
                        class: e.expandIconClass,
                      }),
                    ],
                    1
                  )
                : e._e(),
              0 === e.treeItem.type
                ? i(
                    "div",
                    {
                      class: e.expandClass,
                      style: e.expandStyle,
                      on: {
                        mousedown: e.toggleHandler,
                      },
                    },
                    [
                      e.treeItem.isSelect
                        ? i("CheckIcon", {
                            class: e.expandIconClass,
                          })
                        : e._e(),
                    ],
                    1
                  )
                : e._e(),
              i(
                "div",
                {
                  staticClass: "master-tree-item__content",
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        ku = [];
      let wu = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.borderRadius = {
              0: "6px",
              1: "0 0 6px 6px",
              2: "6px 6px 0 0",
              3: "0",
            });
        }
        get rootStyle() {
          return {
            borderRadius: this.nextActive
              ? this.lastActive
                ? "0"
                : "6px 6px 0 0"
              : this.lastActive
              ? "0 0 6px 6px"
              : "6px",
          };
        }
        get rootClass() {
          const e = ["master-tree-item"];
          return (
            this.treeItem.active && e.push("master-tree-item--active"),
            this.treeItem.cover && e.push("master-tree-item--cover"),
            this.isEnterCatalog && e.push("master-tree-item--hover"),
            this.isDrag || e.push("master-tree-item__hover"),
            e
          );
        }
        get expandStyle() {
          return {
            paddingLeft: 18 * this.treeItem.level + 17 + "px",
          };
        }
        get expandClass() {
          const e = ["master-tree-item__expand"];
          return e;
        }
        get expandIconClass() {
          const e = ["master-tree-item__expand__icon"];
          return (
            (0 === this.treeItem.type || this.treeItem.isOpen) &&
              e.push("master-tree-item__expand__icon--open"),
            e
          );
        }
        created() {
          (this.mousemoveHandler = this.mousemoveHandler.bind(this)),
            (this.mouseupHandler = this.mouseupHandler.bind(this));
        }
        mounted() {}
        beforeDestroy() {
          window.removeEventListener("mousemove", this.mousemoveHandler),
            window.removeEventListener("mouseup", this.mouseupHandler);
        }
        mousedownHandler(e) {
          this.$emit("mousedown", e, this.treeItem),
            window.addEventListener("mousemove", this.mousemoveHandler),
            window.addEventListener("mouseup", this.mouseupHandler);
        }
        mousemoveHandler(e) {
          this.$emit("mousemove", e, this.treeItem);
        }
        mouseupHandler(e) {
          this.$emit("mouseup", e, this.treeItem),
            window.removeEventListener("mousemove", this.mousemoveHandler),
            window.removeEventListener("mouseup", this.mouseupHandler);
        }
        contextmenuHandler(e) {
          this.$emit("contextmenu", e, this.treeItem);
        }
        toggleHandler() {
          this.$emit("toggle", this.treeItem, !this.treeItem.isOpen);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        wu.prototype,
        "treeItem",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          wu.prototype,
          "lastActive",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          wu.prototype,
          "isEnterCatalog",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          wu.prototype,
          "isDrag",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: !1,
            }),
          ],
          wu.prototype,
          "nextActive",
          void 0
        ),
        (wu = Object(a["__decorate"])([Object(n["a"])({})], wu));
      var xu = wu,
        Lu = xu,
        Au =
          (i("080c"), Object(_["a"])(Lu, Ou, ku, !1, null, "6e4ed328", null)),
        Tu = Au.exports;
      let ju = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.dividerStyle = {}),
            (this.isMac = Object(Z["hb"])()),
            (this.selectTimer = null),
            (this.isDrag = !1),
            (this.enterCatalogId = ""),
            (this.dragX = 0),
            (this.dragY = 0),
            (this.mousemoveCount = 0),
            (this.droplevel = -1),
            (this.dropNodeIndex = -1),
            (this.dropPlacement = ""),
            (this.isSelect = !1);
        }
        dividerStyleHandler() {
          this.dividerStyle = this.getDividerStyle();
        }
        getDividerStyle() {
          const e = this.$refs.masterTree,
            t = e.getBoundingClientRect(),
            i = this.$refs.masterTreeContent,
            s = i.getBoundingClientRect();
          let o = t.y - s.y;
          o = 30 * Math.ceil(o / 30);
          let a = o + Math.min(t.height, 30 * this.displayTreeItems.length);
          a = 30 * Math.floor(a / 30);
          let n = this.dragY - s.y;
          n < o ? (n = o) : n > a && (n = a);
          const r = (n === a ? n - 1 : n) % 30;
          (a -= 30), n > a && (n = a);
          const c = Math.floor(n / 30) + 1;
          n = 30 * c;
          let l = Math.max(0, this.dragX - t.x - 41),
            d = Math.floor(l / 18);
          const u = this.displayTreeItems[c - 1],
            h = this.displayTreeItems[c],
            p = this.displayTreeItems[c - 2];
          if (
            ((this.dropNodeIndex = u.index),
            (this.dropPlacement = "bottom"),
            1 === u.type)
          )
            if (r > 20) {
              let e = u.level + 1,
                t = e;
              !h || h.level < u.level
                ? (e = h ? h.level : 0)
                : h.level === u.level && ((e = u.level), (t = u.level)),
                d > t ? (d = t) : d < e && (d = e);
            } else {
              if (r > 10 && r <= 20)
                return (
                  (this.enterCatalogId = u.id),
                  (this.droplevel = u.level + 1),
                  {}
                );
              {
                let e = u.level,
                  t = e;
                p && p.level > u.level && ((e = 0), (t = p.level)),
                  d > t ? (d = t) : d < e && (d = e),
                  (this.dropPlacement = "top"),
                  (n -= 30);
              }
            }
          else if (0 === u.type)
            if (r > 15) {
              let e = u.level,
                t = e;
              !h || h.level < u.level
                ? (e = h ? h.level : 0)
                : h.level === u.level && ((e = u.level), (t = u.level)),
                d > t ? (d = t) : d < e && (d = e);
            } else {
              let e = u.level,
                t = e;
              p && p.level > u.level && ((e = 0), (t = p.level)),
                d > t ? (d = t) : d < e && (d = e),
                (this.dropPlacement = "top"),
                (n -= 30);
            }
          return (
            (this.droplevel = d),
            (l = 18 * d + 41),
            (this.enterCatalogId = ""),
            {
              transform: `translateY(${s.y + n - 1}px)`,
              left: t.x + l + "px",
            }
          );
        }
        mounted() {
          window.addEventListener("mousedown", this.cancelSelectPage);
        }
        beforeDestroy() {
          window.removeEventListener("mousedown", this.cancelSelectPage);
        }
        cancelSelectPage(e) {
          const t = this.$refs.masterTreeContent,
            i = e.target;
          (i instanceof Node && t.contains(i)) || this.$emit("cancelSelect", e);
        }
        selectItem(e) {
          this.selectTimer = setTimeout(() => {
            this.$emit("onSelect", e);
          }, 300);
        }
        clearSelectTimer() {
          null !== this.selectTimer &&
            (clearTimeout(this.selectTimer), (this.selectTimer = null));
        }
        mousedownHandler(e, t) {
          ((2 !== e.buttons && 2 !== e.button) || (!t.active && !t.cover)) &&
            ((this.isSelect = !1),
            t.active ||
              t.cover ||
              (this.$emit("mousedown", e, t),
              this.selectPage(e, t),
              (this.isSelect = !0)));
        }
        mousemoveHandler(e, t) {
          (t.active || t.cover) &&
            (this.mousemoveCount++,
            this.mousemoveCount < 5 ||
              ((this.isSelect = !0),
              this.clearSelectTimer(),
              (this.isDrag = !0),
              (this.dragY = e.clientY),
              (this.dragX = e.clientX)));
        }
        mouseupHandler(e, t) {
          if ((2 !== e.buttons && 2 !== e.button) || (!t.active && !t.cover)) {
            if (!this.isDrag && !this.isSelect)
              return this.$emit("mouseup", e, t), void this.selectPage(e, t);
            this.isDrag &&
              ~this.droplevel &&
              this.dropPlacement &&
              ~this.dropNodeIndex &&
              this.$emit(
                "onDrop",
                this.droplevel,
                this.dropPlacement,
                this.dropNodeIndex
              ),
              (this.mousemoveCount = 0),
              (this.isDrag = !1),
              (this.enterCatalogId = ""),
              (this.droplevel = -1),
              (this.dropPlacement = ""),
              (this.dropNodeIndex = -1);
          }
        }
        selectPage(e, t) {
          const i = this.treeItems.indexOf(t);
          if (!~i) return;
          const s = e.shiftKey,
            o = this.isMac ? e.metaKey : e.ctrlKey;
          if (s)
            if (this.selectIds.length) {
              const e = this.treeItems.findIndex(
                  (e) => e.id === this.selectIds[0]
                ),
                t = [];
              if (e > i)
                for (let s = e; s >= i; s--) t.push(this.treeItems[s].id);
              else for (let s = e; s <= i; s++) t.push(this.treeItems[s].id);
              this.$emit("onSelect", [...t]);
            } else this.$emit("onSelect", [...this.selectIds, t.id]);
          else if (o)
            if (this.selectIds.length) {
              const e = this.selectIds.findIndex((e) => t.id === e);
              ~e
                ? this.$emit(
                    "onSelect",
                    this.selectIds.filter((t, i) => i !== e)
                  )
                : this.$emit("onSelect", [...this.selectIds, t.id]);
            } else this.$emit("onSelect", [...this.selectIds, t.id]);
          else this.$emit("onSelect", [t.id]);
        }
        contextmenuHandler(e, t) {
          this.$emit("contextmenu", e, t);
        }
        toggleHandler(e, t) {
          this.$emit("toggle", e, t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            default: [],
          }),
        ],
        ju.prototype,
        "treeItems",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: [],
            }),
          ],
          ju.prototype,
          "selectIds",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("dragY"), Object(n["h"])("dragX")],
          ju.prototype,
          "dividerStyleHandler",
          null
        ),
        (ju = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterTreeItem: Tu,
                newscroll: St["a"],
              },
              computed: {
                displayTreeItems() {
                  let e = -1;
                  const t = [];
                  for (let i = 0; i < this.treeItems.length; i++) {
                    const s = this.treeItems[i];
                    (!~e || s.level <= e) &&
                      ((e = !1 === s.isOpen ? s.level : -1), t.push(s));
                  }
                  return t;
                },
              },
            }),
          ],
          ju
        ));
      var Mu = ju,
        Eu = Mu,
        Pu =
          (i("562a"), Object(_["a"])(Eu, Su, Iu, !1, null, "2c41e6da", null)),
        Du = Pu.exports,
        Bu = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "resource_container",
            },
            [
              i(
                "div",
                {
                  staticClass: "tab_bar border-b-block",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "tab flex-between",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "tab_container flex-12",
                        },
                        [
                          e.IS_PRI
                            ? e._e()
                            : i(
                                "div",
                                {
                                  staticClass: "tab_item h6",
                                  class: {
                                    active: "picture" === e.resTab,
                                  },
                                  on: {
                                    click: function (t) {
                                      e.resTab = "picture";
                                    },
                                  },
                                },
                                [e._v(" 图片 ")]
                              ),
                          i(
                            "div",
                            {
                              directives: [
                                {
                                  name: "feature",
                                  rawName: "v-feature",
                                  value: "svg",
                                  expression: "'svg'",
                                },
                              ],
                              staticClass: "tab_item h6",
                              class: {
                                active: "icon" === e.resTab,
                              },
                              on: {
                                click: function (t) {
                                  e.resTab = "icon";
                                },
                              },
                            },
                            [e._v(" 图标 ")]
                          ),
                          e.showResourceText
                            ? i(
                                "div",
                                {
                                  staticClass: "tab_item h6",
                                  class: {
                                    active: "text" === e.resTab,
                                  },
                                  on: {
                                    click: function (t) {
                                      e.resTab = "text";
                                    },
                                  },
                                },
                                [e._v(" 文本 ")]
                              )
                            : e._e(),
                        ]
                      ),
                    ]
                  ),
                ]
              ),
              e.IS_PRI
                ? e._e()
                : i("Picture", {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: "picture" === e.resTab,
                        expression: "resTab === 'picture'",
                      },
                    ],
                    ref: "picture",
                    attrs: {
                      barWidth: e.width,
                    },
                  }),
              i("Icon", {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: "icon" === e.resTab,
                    expression: "resTab === 'icon'",
                  },
                ],
                ref: "icon",
              }),
              i("ResourceText", {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: "text" === e.resTab,
                    expression: "resTab === 'text'",
                  },
                ],
                ref: "text",
              }),
            ],
            1
          );
        },
        Nu = [],
        Fu = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "picContent",
              staticClass: "resource_main",
            },
            [
              i(
                "div",
                {
                  staticClass: "resource_search",
                },
                [
                  i("MInput", {
                    ref: "input",
                    staticStyle: {
                      display: "flex",
                    },
                    attrs: {
                      size: "xs",
                      placeholder: "搜索关键词...",
                      borderAction: "none",
                    },
                    scopedSlots: e._u([
                      {
                        key: "prefix",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                staticClass: "label-icon",
                              },
                              [
                                e.isSearching && e.searchValue
                                  ? i("div", {
                                      staticClass:
                                        "master-font__loading loading",
                                    })
                                  : i("SearchIcon", {
                                      attrs: {
                                        size: "13",
                                        opacity: "0.5",
                                      },
                                    }),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                    model: {
                      value: e.searchValue,
                      callback: function (t) {
                        e.searchValue = t;
                      },
                      expression: "searchValue",
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "resource_content",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "resource_content__title",
                    },
                    [
                      i("span", [
                        e._v(
                          e._s(
                            e.searchValue
                              ? "点击或拖拽置入图片"
                              : "点击置入对应主题图片"
                          )
                        ),
                      ]),
                      i("InfoColorIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: {
                              content: e.searchValue
                                ? "可选择多个图层后，点击图片批量置入"
                                : "可选择多个图层后，点击主题批量置入",
                              boundariesElement: "body",
                            },
                            expression:
                              "{\n          content: `${\n            searchValue\n              ? '可选择多个图层后，点击图片批量置入'\n              : '可选择多个图层后，点击主题批量置入'\n          }`,\n          boundariesElement: 'body'\n        }",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          size: "13",
                        },
                      }),
                    ],
                    1
                  ),
                  e.searchValue
                    ? i(
                        "div",
                        {
                          ref: "content",
                          staticClass: "resource_content__result",
                        },
                        [
                          e._l(e.columnData, function (t, s) {
                            return i(
                              "div",
                              {
                                key: s,
                                staticClass: "column",
                              },
                              e._l(t, function (t) {
                                return i(
                                  "div",
                                  {
                                    key: t.id,
                                    staticClass: "imageData",
                                    style: {
                                      paddingTop: 100 * t.offSetHeight + "%",
                                    },
                                  },
                                  [
                                    i("img", {
                                      staticClass: "image transition",
                                      attrs: {
                                        "data-url": t.urls.thumb,
                                      },
                                    }),
                                    i(
                                      "div",
                                      {
                                        staticClass: "result_mask transition",
                                        class: {
                                          show_mask: e.loading[t.id],
                                        },
                                        attrs: {
                                          draggable: "true",
                                        },
                                        on: {
                                          click: function (i) {
                                            return e.addPicHandler(t);
                                          },
                                          dragstart: function (i) {
                                            return e.picDragStart(i, t);
                                          },
                                        },
                                      },
                                      [
                                        e.loading[t.id]
                                          ? i("div", {
                                              staticClass:
                                                "master-font__loading loading",
                                            })
                                          : e._e(),
                                        i(
                                          "div",
                                          {
                                            staticClass: "img_owner",
                                          },
                                          [
                                            i(
                                              "a",
                                              {
                                                staticClass: "truncate",
                                                attrs: {
                                                  href: e.getUser(t),
                                                  target: "_blank",
                                                },
                                              },
                                              [e._v(e._s(t.user.name))]
                                            ),
                                          ]
                                        ),
                                      ]
                                    ),
                                  ]
                                );
                              }),
                              0
                            );
                          }),
                          e.noResults
                            ? i(
                                "div",
                                {
                                  staticClass: "noResults",
                                },
                                [e._v("没有搜索到相关图片")]
                              )
                            : e._e(),
                        ],
                        2
                      )
                    : i(
                        "div",
                        {
                          staticClass: "resource_content__theme",
                        },
                        e._l(e.typeList, function (t, s) {
                          return i(
                            "div",
                            {
                              key: s,
                              staticClass:
                                "resource_content__theme__type bg-tran-6 hover--bg-tran-8 active--bg-tran-12 h6 transition",
                              on: {
                                click: function (i) {
                                  return e.importPhotoByTheme(t.value);
                                },
                              },
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "img-cover",
                                },
                                [
                                  i("img", {
                                    attrs: {
                                      src: t.image,
                                      draggable: "false",
                                    },
                                  }),
                                ]
                              ),
                              i("span", [e._v(e._s(t.title))]),
                              e.loading.theme === t.value
                                ? i("div", {
                                    staticClass: "master-font__loading loading",
                                  })
                                : e._e(),
                            ]
                          );
                        }),
                        0
                      ),
                  e.noMore
                    ? i(
                        "div",
                        {
                          staticClass: "nomore h6 text-tran-50",
                        },
                        [
                          i("LogoUnsplashIcon", {
                            attrs: {
                              size: "15",
                            },
                          }),
                          e._m(0),
                        ],
                        1
                      )
                    : e._e(),
                ]
              ),
            ]
          );
        },
        Ru = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i("div", [
              e._v(" 感谢"),
              i(
                "a",
                {
                  staticClass: "text-tran-85",
                  attrs: {
                    rel: "noopener noreferrer",
                    href: "https://unsplash.com/",
                    target: "_blank",
                  },
                },
                [e._v(" Unsplash ")]
              ),
              e._v("提供的技术支持 "),
            ]);
          },
        ],
        Hu = i("a916"),
        $u = i.n(Hu);
      const Vu =
          "a9eaa85454c8a42a028da28a1de3719b5688e6c8891cb9317dfc8bd124fda16c",
        zu = "Master",
        Uu = [
          {
            title: "随机",
            image: i("1af6"),
            value: "",
          },
          {
            title: "旅游",
            image: i("48bd"),
            value: "travel",
          },
          {
            title: "自然",
            image: i("e0f3"),
            value: "nature",
          },
          {
            title: "图案和纹理",
            image: i("cadd"),
            value: "textures & patterns",
          },
          {
            title: "人物",
            image: i("847d"),
            value: "people",
          },
          {
            title: "办公和商业",
            image: i("7328"),
            value: "business & work",
          },
          {
            title: "技术",
            image: i("3e28"),
            value: "technology",
          },
          {
            title: "动物",
            image: i("2b5d"),
            value: "animals",
          },
          {
            title: "室内装修",
            image: i("6d59"),
            value: "interiors",
          },
          {
            title: "建筑",
            image: i("db6d"),
            value: "architecture",
          },
          {
            title: "食物",
            image: i("7f43"),
            value: "food & drink",
          },
          {
            title: "实验性的",
            image: i("5f36"),
            value: "experimental",
          },
          {
            title: "文化艺术",
            image: i("f2ea"),
            value: "arts & culture",
          },
        ];
      class qu {
        constructor(e) {
          this.unsplash = new $u.a({
            accessKey: e,
            timeout: 1e4,
          });
        }
        getThemeList() {
          return Uu;
        }
        getRandomPhotoByTag(e, t) {
          return this.unsplash.photos
            .getRandomPhoto({
              query: e,
              count: t,
            })
            .then(Hu["toJson"]);
        }
        getPhotoBySearch(e, t = 1, i = 20) {
          return this.unsplash.search
            .photos(e, t, i)
            .then(Hu["toJson"])
            .then((e) => e);
        }
        getPhotoDownloadUrl(e, t) {
          return `${e.urls.raw}&${t}&crop=entropy&cs=tinysrgb&fit=max&fm=jpg`;
        }
        getPhotographerLink(e) {
          return `${e.user.links.html}?utm_source=${zu}&utm_medium=referral`;
        }
      }
      let Wu;
      function Gu() {
        return Wu || (Wu = new qu(Vu)), Wu;
      }
      var Ku;
      let Qu = (Ku = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.searchValue = ""),
            (this.noMore = !1),
            (this.noResults = !1),
            (this.isSearching = !1),
            (this.timer = 0),
            (this.searchTag = 0),
            (this.photoLibrary = Gu()),
            (this.typeList = this.photoLibrary.getThemeList()),
            (this.loading = {
              theme: "false",
            }),
            (this.page = 1),
            (this.maxPage = 1),
            (this.getUser = Gu().getPhotographerLink),
            (this.requestUnLock = !0),
            (this.pictureData = []),
            (this.columnData = []),
            (this.columnArr = []),
            (this.columnCount = 2),
            (this.useCount = 0);
        }
        widthHandle(e) {
          this.$nextTick(() => {
            this.resetColumn(e);
          });
        }
        searchHandler() {
          (this.noMore = !1),
            (this.noResults = !1),
            (this.requestUnLock = !0),
            this.timer && clearTimeout(this.timer),
            (this.timer = setTimeout(() => {
              this.isSearching = !0;
              const e = new Date().getTime();
              (this.searchTag = e),
                (this.page = 1),
                x["n"].setLog("INFO", "userAction", "search picture"),
                Gu()
                  .getPhotoBySearch(this.searchValue, this.page, 30)
                  .then((t) => {
                    if (this.searchTag !== e) return;
                    if (!t.total && this.searchValue)
                      return (
                        (this.noResults = !0),
                        (this.isSearching = !1),
                        (this.pictureData = []),
                        void (this.columnData = [])
                      );
                    const i = t.results;
                    (this.maxPage = t.total_pages),
                      (this.pictureData = i),
                      this.resetData(this.pictureData),
                      (this.isSearching = !1),
                      this.$nextTick(() => {
                        this.scrollHandler();
                      });
                  })
                  .catch((e) => {
                    x["n"].setLog("ERROR", "userAction", "search picture", {
                      error: e.message,
                    });
                  });
            }, 300));
        }
        inputFocus() {
          const e = setTimeout(() => {
            this.$refs.input.focus(), clearTimeout(e);
          }, 0);
        }
        resetData(e) {
          (this.columnArr = new Array(this.columnCount).fill(0)),
            (this.columnData = new Array(this.columnCount)
              .fill(0)
              .map(() => [])),
            e.forEach((e) => {
              const t = Math.min(...this.columnArr),
                i = this.columnArr.findIndex((e) => e === t);
              (e.offSetHeight = e.height / e.width),
                this.columnData[i].push(e),
                (this.columnArr[i] += e.offSetHeight);
            });
        }
        resetColumn(e) {
          e / this.columnCount > 180
            ? (this.columnCount += 1)
            : e / this.columnCount < 100 && (this.columnCount -= 1),
            this.noResults ||
              (this.resetData(this.pictureData),
              this.$nextTick(() => {
                this.scrollHandler();
              }));
        }
        scrollHandler() {
          if (!this.searchValue) return;
          const e = this.$refs.picContent,
            t = e.scrollTop,
            i = e.offsetHeight,
            s = e.scrollHeight,
            o = e.querySelectorAll("img[data-url]");
          for (let a = 0; a < o.length; a++) {
            const e = o[a].parentElement.offsetTop;
            i + t > e &&
              e >= t &&
              ((o[a].src = o[a].dataset.url),
              (o[a].onload = () => {
                o[a].classList.add("active");
              }),
              o[a].removeAttribute("data-url"));
          }
          if (t + i > s - 100 && this.requestUnLock) {
            if (((this.requestUnLock = !1), this.page === this.maxPage))
              return void (this.noMore = !0);
            (this.page += 1),
              Gu()
                .getPhotoBySearch(this.searchValue, this.page, 30)
                .then((e) => {
                  const t = e.results;
                  this.pictureData.push(...t),
                    this.resetData(this.pictureData),
                    this.$nextTick(() => {
                      this.requestUnLock = !0;
                    });
                });
          }
        }
        reportPhotoLoadingError(e) {
          this.$toast({
            content: "获取图片超时，请确认网络连接正常后重试",
            timeout: 3e3,
          });
        }
        addPicHandler(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.loading[e.id])
              try {
                this.$set(this.loading, e.id, !0);
                const t = [...this.selectIds];
                x["n"].setLog("INFO", "userAction", "import unsplash photo", {
                  source: "click",
                  selectIds: t,
                }),
                  yield this.importPhotos(
                    [e],
                    t,
                    void 0,
                    k["a"].pageState.currentPageId
                  );
              } catch (t) {
                this.reportPhotoLoadingError(Object(Z["Gb"])(t));
              } finally {
                this.$set(this.loading, e.id, !1);
              }
          });
        }
        importPhotoByTheme(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if ("false" === this.loading.theme)
              try {
                this.loading.theme = e;
                const t = [...this.selectIds],
                  i = t.length || 1,
                  s = yield this.photoLibrary.getRandomPhotoByTag(e, i);
                this.useCount ||
                  ((this.useCount = 1),
                  d["a"].track(u["b"].CONTENT_REEL, {
                    action_type: "image",
                  })),
                  yield this.importPhotos(
                    s,
                    t,
                    void 0,
                    k["a"].pageState.currentPageId
                  );
              } catch (t) {
                this.reportPhotoLoadingError(Object(Z["Gb"])(t));
              } finally {
                this.loading.theme = "false";
              }
          });
        }
        importPhotos(e, t, i, s) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const o = yield Promise.all(
              e.map((e, i) =>
                Object(a["__awaiter"])(this, void 0, void 0, function* () {
                  let s;
                  const o = t[i];
                  if (o) {
                    const t = Ct["b"].getLayerPropertyById(o),
                      { width: i, height: a } = t.bound,
                      { width: n, height: r } = e;
                    s =
                      i / a > n / r
                        ? {
                            width: Math.min(
                              Math.max(2 * i, 100),
                              Ku.MAX_IMAGE_SIZE
                            ),
                          }
                        : {
                            height: Math.min(
                              Math.max(2 * a, 100),
                              Ku.MAX_IMAGE_SIZE
                            ),
                          };
                  } else s = this.resize(e);
                  const a = this.photoLibrary.getPhotoDownloadUrl(
                      e,
                      s.width ? "w=" + s.width : "h=" + s.height
                    ),
                    n = yield Object(ie["F"])(a),
                    r = n.headers.get("content-type") || "image/jpeg",
                    c = new Blob(n.data && [n.data], {
                      type: r,
                    });
                  return (c.name = e.description || e.alt_description || ""), c;
                })
              )
            );
            x["i"].importPhotos(o, t, i, void 0, s, se["e"].Resource);
          });
        }
        resize(e) {
          const t = e.width / e.height,
            i = Ku.MAX_IMAGE_SIZE,
            s = 300;
          let o = 0,
            a = 0;
          const n = this.width / this.height;
          return (
            n > t
              ? ((a = (0.8 * this.height) / this.scale),
                (o = (e.width * a) / e.height))
              : ((o = (0.8 * this.width) / this.scale),
                (a = (o * e.height) / e.width)),
            t < 1
              ? ((a = Object(c["clamp"])(a, s, i)), (o = a * t))
              : ((o = Object(c["clamp"])(o, s, i)), (a = o / t)),
            {
              width: o,
              height: a,
            }
          );
        }
        picDrop(e, t) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.loading[t.id])
              try {
                this.$set(this.loading, t.id, !0);
                const i = e.clientX,
                  s = e.clientY,
                  o = document.getElementById("middleContainer"),
                  { offsetTop: a, offsetLeft: n } = o,
                  r = n + this.width,
                  c = a + this.height;
                if (n < i && i < r && a < s && s < c) {
                  const e = k["a"].convertCoordinates(i - n, s - a);
                  x["n"].setLog("INFO", "userAction", "import unsplash photo", {
                    source: "drag",
                  }),
                    yield this.importPhotos(
                      [t],
                      [],
                      {
                        x: e.x,
                        y: e.y,
                      },
                      k["a"].pageState.currentPageId
                    );
                }
              } catch (i) {
                this.reportPhotoLoadingError(Object(Z["Gb"])(i));
              } finally {
                this.$set(this.loading, t.id, !1);
              }
          });
        }
        picDragStart(e, t) {
          const i = new Image();
          i.src = t.urls.thumb;
          const s = i.width || 0,
            o = i.height || 0;
          e.dataTransfer.setDragImage(i, s / 2, o / 2),
            e.dataTransfer.setData("text/image", JSON.stringify(t)),
            Ct["b"].removeListener("ondrop", this.ondropPictureHandler),
            Ct["b"].addListener("ondrop", this.ondropPictureHandler);
        }
        ondropPictureHandler(e) {
          var t;
          const i =
            null === (t = e.dataTransfer) || void 0 === t
              ? void 0
              : t.getData("text/image");
          i && this.picDrop(e, JSON.parse(i)),
            Ct["b"].removeListener("ondrop", this.ondropPictureHandler);
        }
        mounted() {
          this.resetColumn(this.barWidth);
          const e = this.$refs.picContent;
          e.addEventListener("scroll", this.scrollHandler);
        }
        beforeDestroy() {
          Ct["b"].removeListener("ondrop", this.ondropPictureHandler);
          const e = this.$refs.picContent;
          e.removeEventListener("scroll", this.scrollHandler);
        }
      });
      (Qu.MAX_IMAGE_SIZE = 1280),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          Qu.prototype,
          "barWidth",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("barWidth")],
          Qu.prototype,
          "widthHandle",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("searchValue")],
          Qu.prototype,
          "searchHandler",
          null
        ),
        (Qu = Ku =
          Object(a["__decorate"])(
            [
              Object(n["a"])({
                computed: Object.assign(
                  {},
                  Object(r["e"])({
                    selectIds: (e) => e.basicState.selectIds,
                    scale: (e) => e.basicState.scale,
                    width: (e) => e.basicState.width,
                    height: (e) => e.basicState.height,
                  })
                ),
              }),
            ],
            Qu
          ));
      var Yu = Qu,
        Xu = Yu,
        Zu =
          (i("1201"), Object(_["a"])(Xu, Fu, Ru, !1, null, "6b54fcff", null)),
        Ju = Zu.exports,
        eh = i("fc50"),
        th = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "text_main",
            },
            [
              i(
                "div",
                {
                  staticClass: "text_search",
                },
                [
                  i("master-input", {
                    ref: "input",
                    staticClass: "search bg-tran-6",
                    attrs: {
                      placeholder: "搜索关键词...",
                      noborder: !0,
                      enterFocus: !0,
                    },
                    scopedSlots: e._u([
                      {
                        key: "header",
                        fn: function () {
                          return [
                            i(
                              "div",
                              {
                                staticClass: "label-icon",
                              },
                              [
                                i("SearchIcon", {
                                  attrs: {
                                    size: "13",
                                    opacity: "0.5",
                                  },
                                }),
                              ],
                              1
                            ),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                    model: {
                      value: e.searchValue,
                      callback: function (t) {
                        e.searchValue = t;
                      },
                      expression: "searchValue",
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  ref: "textContent",
                  staticClass: "text_content",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "text_content__title",
                    },
                    [
                      i("span", [e._v(e._s("选中文本后点击直接应用文本"))]),
                      i("InfoColorIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: {
                              content: "点击选项后面的按钮可展开进行设置",
                              boundariesElement: "body",
                            },
                            expression:
                              "{\n          content: '点击选项后面的按钮可展开进行设置',\n          boundariesElement: 'body'\n        }",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          size: "13",
                        },
                      }),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass: "text_content__item",
                    },
                    [
                      e._l(e.textTypeList, function (t) {
                        return i(
                          "div",
                          {
                            key: t.key,
                            staticClass:
                              "text_content__item__type h6 transition",
                            class: {
                              "hover-style": !t.editing,
                            },
                            style: {
                              height: (t.editing ? t.height : 42) + "px",
                            },
                            on: {
                              click: function (i) {
                                return e.importText(t.key, t.editing);
                              },
                            },
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "resource__text_title",
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "resource__text_label_wrapper",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass: "resource__text_icon",
                                      },
                                      [
                                        i(t.icon, {
                                          tag: "component",
                                          attrs: {
                                            size: "14",
                                          },
                                        }),
                                      ],
                                      1
                                    ),
                                    i("span", [e._v(e._s(t.label))]),
                                  ]
                                ),
                                t.editable
                                  ? i(
                                      "div",
                                      {
                                        on: {
                                          click: function (i) {
                                            return (
                                              i.stopPropagation(),
                                              e.handleEdit(t)
                                            );
                                          },
                                        },
                                      },
                                      [
                                        i("MasterButtonIcon", {
                                          class: [t.editing && "active"],
                                          attrs: {
                                            icon: "EllipsisHIcon",
                                            focusable: "",
                                          },
                                        }),
                                      ],
                                      1
                                    )
                                  : e._e(),
                              ]
                            ),
                            t.editing
                              ? i(
                                  "div",
                                  {
                                    staticClass: "resource__dropdown",
                                  },
                                  [
                                    "number" === t.key
                                      ? [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "resource__dropdown_wrapper",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "resource__dropdown_item",
                                                },
                                                [
                                                  e._m(0, !0),
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_content digit",
                                                    },
                                                    [
                                                      i("master-input", {
                                                        staticClass:
                                                          "digit-input",
                                                        attrs: {
                                                          value:
                                                            e.data.number
                                                              .digitMin,
                                                          validate:
                                                            e.validate
                                                              .checkDigit,
                                                          focusSelectAll: !0,
                                                        },
                                                        on: {
                                                          change: function (t) {
                                                            var i =
                                                                arguments.length,
                                                              s = Array(i);
                                                            while (i--)
                                                              s[i] =
                                                                arguments[i];
                                                            return e.handleInputChange.apply(
                                                              void 0,
                                                              [
                                                                "number",
                                                                "digitMin",
                                                              ].concat(s)
                                                            );
                                                          },
                                                        },
                                                      }),
                                                      i("MinusIcon", {
                                                        tag: "component",
                                                        attrs: {
                                                          size: "12",
                                                          opacity: "0.3",
                                                        },
                                                      }),
                                                      i("master-input", {
                                                        staticClass:
                                                          "digit-input",
                                                        attrs: {
                                                          value:
                                                            e.data.number
                                                              .digitMax,
                                                          validate:
                                                            e.validate
                                                              .checkDigit,
                                                          focusSelectAll: !0,
                                                        },
                                                        on: {
                                                          change: function (t) {
                                                            var i =
                                                                arguments.length,
                                                              s = Array(i);
                                                            while (i--)
                                                              s[i] =
                                                                arguments[i];
                                                            return e.handleInputChange.apply(
                                                              void 0,
                                                              [
                                                                "number",
                                                                "digitMax",
                                                              ].concat(s)
                                                            );
                                                          },
                                                        },
                                                      }),
                                                    ],
                                                    1
                                                  ),
                                                ]
                                              ),
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "resource__dropdown_item",
                                                },
                                                [
                                                  e._m(1, !0),
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_content",
                                                    },
                                                    [
                                                      i("master-input", {
                                                        staticClass:
                                                          "digit-input",
                                                        attrs: {
                                                          value:
                                                            e.data.number
                                                              .decimal,
                                                          validate:
                                                            e.validate
                                                              .checkDecimal,
                                                          focusSelectAll: !0,
                                                        },
                                                        on: {
                                                          change: function (t) {
                                                            var i =
                                                                arguments.length,
                                                              s = Array(i);
                                                            while (i--)
                                                              s[i] =
                                                                arguments[i];
                                                            return e.handleInputChange.apply(
                                                              void 0,
                                                              [
                                                                "number",
                                                                "decimal",
                                                              ].concat(s)
                                                            );
                                                          },
                                                        },
                                                      }),
                                                    ],
                                                    1
                                                  ),
                                                ]
                                              ),
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "resource__dropdown_item",
                                                },
                                                [
                                                  e._m(2, !0),
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_content",
                                                    },
                                                    [
                                                      i("text-switch", {
                                                        attrs: {
                                                          list: e.dilimiterList,
                                                          defaultIndex: 1,
                                                        },
                                                        on: {
                                                          "switch-change":
                                                            function (t) {
                                                              var i =
                                                                  arguments.length,
                                                                s = Array(i);
                                                              while (i--)
                                                                s[i] =
                                                                  arguments[i];
                                                              return e.handleSwitch.apply(
                                                                void 0,
                                                                [
                                                                  "number",
                                                                  "delimiter",
                                                                ].concat(s)
                                                              );
                                                            },
                                                        },
                                                      }),
                                                    ],
                                                    1
                                                  ),
                                                ]
                                              ),
                                            ]
                                          ),
                                          i(
                                            "MButton",
                                            {
                                              staticClass:
                                                "resource__dropdown_apply_btn",
                                              attrs: {
                                                type: "gray",
                                                size: "xs",
                                              },
                                              on: {
                                                click: function (t) {
                                                  return e.handleApply(
                                                    "number"
                                                  );
                                                },
                                              },
                                            },
                                            [e._v("应用 ")]
                                          ),
                                        ]
                                      : e._e(),
                                    "time" === t.key
                                      ? [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "resource__dropdown_wrapper time-wrapper",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass: "time-form",
                                                },
                                                [
                                                  i("text-switch", {
                                                    attrs: {
                                                      list: e.timeFormList,
                                                    },
                                                    on: {
                                                      "switch-change":
                                                        function (t) {
                                                          var i =
                                                              arguments.length,
                                                            s = Array(i);
                                                          while (i--)
                                                            s[i] = arguments[i];
                                                          return e.handleSwitch.apply(
                                                            void 0,
                                                            [
                                                              "time",
                                                              "form",
                                                            ].concat(s)
                                                          );
                                                        },
                                                    },
                                                  }),
                                                ],
                                                1
                                              ),
                                              0 === e.data.time.form ||
                                              1 === e.data.time.form
                                                ? [
                                                    i(
                                                      "div",
                                                      {
                                                        staticClass:
                                                          "resource__dropdown_item time-format",
                                                      },
                                                      [
                                                        e._m(3, !0),
                                                        i(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "resource__dropdown_content time-format__label",
                                                          },
                                                          e._l(
                                                            e.timeFormatList,
                                                            function (t, s) {
                                                              return i(
                                                                "div",
                                                                {
                                                                  key: t,
                                                                  staticClass:
                                                                    "time-format__label_item",
                                                                  class: {
                                                                    "time-format__label_item-active":
                                                                      s ===
                                                                      e.data
                                                                        .time
                                                                        .format,
                                                                  },
                                                                  on: {
                                                                    click:
                                                                      function (
                                                                        t
                                                                      ) {
                                                                        return e.handleChangeFormat(
                                                                          "time",
                                                                          s
                                                                        );
                                                                      },
                                                                  },
                                                                },
                                                                [
                                                                  e._v(
                                                                    " " +
                                                                      e._s(t) +
                                                                      " "
                                                                  ),
                                                                ]
                                                              );
                                                            }
                                                          ),
                                                          0
                                                        ),
                                                      ]
                                                    ),
                                                    i(
                                                      "div",
                                                      {
                                                        staticClass:
                                                          "resource__dropdown_item",
                                                      },
                                                      [
                                                        e._m(4, !0),
                                                        i(
                                                          "div",
                                                          {
                                                            staticClass:
                                                              "resource__dropdown_content",
                                                          },
                                                          [
                                                            i("text-switch", {
                                                              attrs: {
                                                                list: e.sortList,
                                                              },
                                                              on: {
                                                                "switch-change":
                                                                  function (t) {
                                                                    var i =
                                                                        arguments.length,
                                                                      s =
                                                                        Array(
                                                                          i
                                                                        );
                                                                    while (i--)
                                                                      s[i] =
                                                                        arguments[
                                                                          i
                                                                        ];
                                                                    return e.handleSwitch.apply(
                                                                      void 0,
                                                                      [
                                                                        "time",
                                                                        "sort",
                                                                      ].concat(
                                                                        s
                                                                      )
                                                                    );
                                                                  },
                                                              },
                                                            }),
                                                          ],
                                                          1
                                                        ),
                                                      ]
                                                    ),
                                                  ]
                                                : e._e(),
                                              0 === e.data.time.form ||
                                              2 === e.data.time.form
                                                ? i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_item",
                                                    },
                                                    [
                                                      e._m(5, !0),
                                                      i(
                                                        "div",
                                                        {
                                                          staticClass:
                                                            "resource__dropdown_content",
                                                        },
                                                        [
                                                          i("text-switch", {
                                                            attrs: {
                                                              list: e.confirmList,
                                                              defaultIndex: 1,
                                                            },
                                                            on: {
                                                              "switch-change":
                                                                function (t) {
                                                                  var i =
                                                                      arguments.length,
                                                                    s =
                                                                      Array(i);
                                                                  while (i--)
                                                                    s[i] =
                                                                      arguments[
                                                                        i
                                                                      ];
                                                                  return e.handleSwitch.apply(
                                                                    void 0,
                                                                    [
                                                                      "time",
                                                                      "seconds",
                                                                    ].concat(s)
                                                                  );
                                                                },
                                                            },
                                                          }),
                                                        ],
                                                        1
                                                      ),
                                                    ]
                                                  )
                                                : e._e(),
                                            ],
                                            2
                                          ),
                                          i(
                                            "MButton",
                                            {
                                              staticClass:
                                                "resource__dropdown_apply_btn",
                                              attrs: {
                                                type: "gray",
                                                size: "xs",
                                              },
                                              on: {
                                                click: function (t) {
                                                  return e.handleApply("time");
                                                },
                                              },
                                            },
                                            [e._v("应用 ")]
                                          ),
                                        ]
                                      : e._e(),
                                    "phone" === t.key
                                      ? [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "resource__dropdown_wrapper",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "resource__dropdown_item phone-format",
                                                },
                                                [
                                                  e._m(6, !0),
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_content phone-format__label",
                                                    },
                                                    e._l(
                                                      e.phoneFormatList,
                                                      function (t, s) {
                                                        return i(
                                                          "div",
                                                          {
                                                            key: t,
                                                            staticClass:
                                                              "phone-format__label_item",
                                                            class: {
                                                              "phone-format__label_item-active":
                                                                s ===
                                                                e.data.phone
                                                                  .format,
                                                            },
                                                            on: {
                                                              click: function (
                                                                t
                                                              ) {
                                                                return e.handleChangeFormat(
                                                                  "phone",
                                                                  s
                                                                );
                                                              },
                                                            },
                                                          },
                                                          [
                                                            e._v(
                                                              " " +
                                                                e._s(t) +
                                                                " "
                                                            ),
                                                          ]
                                                        );
                                                      }
                                                    ),
                                                    0
                                                  ),
                                                ]
                                              ),
                                            ]
                                          ),
                                          i(
                                            "MButton",
                                            {
                                              staticClass:
                                                "resource__dropdown_apply_btn",
                                              attrs: {
                                                type: "gray",
                                                size: "xs",
                                              },
                                              on: {
                                                click: function (t) {
                                                  return e.handleApply("phone");
                                                },
                                              },
                                            },
                                            [e._v("应用 ")]
                                          ),
                                        ]
                                      : e._e(),
                                    "text" === t.key
                                      ? [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "resource__dropdown_wrapper text-wrapper",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "resource__dropdown_item",
                                                },
                                                [
                                                  e._m(7, !0),
                                                  i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_content",
                                                    },
                                                    [
                                                      i("text-switch", {
                                                        attrs: {
                                                          list: e.confirmList,
                                                          defaultIndex: 1,
                                                        },
                                                        on: {
                                                          "switch-change":
                                                            function (t) {
                                                              var i =
                                                                  arguments.length,
                                                                s = Array(i);
                                                              while (i--)
                                                                s[i] =
                                                                  arguments[i];
                                                              return e.handleSwitch.apply(
                                                                void 0,
                                                                [
                                                                  "text",
                                                                  "confirm",
                                                                ].concat(s)
                                                              );
                                                            },
                                                        },
                                                      }),
                                                    ],
                                                    1
                                                  ),
                                                ]
                                              ),
                                              0 === e.data.text.confirm
                                                ? i(
                                                    "div",
                                                    {
                                                      staticClass:
                                                        "resource__dropdown_item",
                                                    },
                                                    [
                                                      i(
                                                        "div",
                                                        {
                                                          staticClass:
                                                            "text-exceed",
                                                        },
                                                        [
                                                          i("span", [
                                                            e._v("超过"),
                                                          ]),
                                                          i("master-input", {
                                                            staticClass:
                                                              "text-input",
                                                            attrs: {
                                                              value:
                                                                e.data.text
                                                                  .digit,
                                                              validate:
                                                                e.validate
                                                                  .checkSpacing,
                                                              focusSelectAll:
                                                                !0,
                                                            },
                                                            on: {
                                                              change: function (
                                                                t
                                                              ) {
                                                                var i =
                                                                    arguments.length,
                                                                  s = Array(i);
                                                                while (i--)
                                                                  s[i] =
                                                                    arguments[
                                                                      i
                                                                    ];
                                                                return e.handleInputChange.apply(
                                                                  void 0,
                                                                  [
                                                                    "text",
                                                                    "digit",
                                                                  ].concat(s)
                                                                );
                                                              },
                                                            },
                                                          }),
                                                          i("span", [
                                                            e._v(
                                                              "个文字就显示省略号"
                                                            ),
                                                          ]),
                                                        ],
                                                        1
                                                      ),
                                                    ]
                                                  )
                                                : e._e(),
                                            ]
                                          ),
                                          i(
                                            "MButton",
                                            {
                                              staticClass:
                                                "resource__dropdown_apply_btn",
                                              attrs: {
                                                type: "gray",
                                                size: "xs",
                                              },
                                              on: {
                                                click: function (t) {
                                                  return e.handleApply("text");
                                                },
                                              },
                                            },
                                            [e._v("应用 ")]
                                          ),
                                        ]
                                      : e._e(),
                                  ],
                                  2
                                )
                              : e._e(),
                          ]
                        );
                      }),
                      e.noResults
                        ? i(
                            "div",
                            {
                              staticClass: "noResults",
                            },
                            [e._v("没有搜索到相关文本")]
                          )
                        : e._e(),
                    ],
                    2
                  ),
                ]
              ),
            ]
          );
        },
        ih = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("位数")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("小数")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("千位分隔符")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label time-format__title",
              },
              [i("span", [e._v("日期格式")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("排序方式")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("时间是否显示秒钟")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label phone-format__title",
              },
              [i("span", [e._v("显示格式")])]
            );
          },
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "resource__dropdown_label",
              },
              [i("span", [e._v("是否显示省略号")])]
            );
          },
        ],
        sh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "transition text-switch-wrapper",
            },
            e._l(e.list, function (t, s) {
              return i(
                "div",
                {
                  key: t,
                  staticClass: "text-switch-wrapper__item",
                  class: {
                    active: e.current === t,
                  },
                  on: {
                    mousedown: function (i) {
                      return i.preventDefault(), e.handleSwitch(t, s);
                    },
                  },
                },
                [e._v(" " + e._s(t) + " ")]
              );
            }),
            0
          );
        },
        oh = [];
      let ah = class extends n["g"] {
        constructor() {
          super(...arguments), (this.current = "");
        }
        handleSwitch(e, t) {
          (this.current = e), this.$emit("switch-change", e, t);
        }
        mounted() {
          this.current = this.list[this.defaultIndex];
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        ah.prototype,
        "list",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: 0,
            }),
          ],
          ah.prototype,
          "defaultIndex",
          void 0
        ),
        (ah = Object(a["__decorate"])([n["a"]], ah));
      var nh = ah,
        rh = nh,
        ch =
          (i("5f5d"), Object(_["a"])(rh, sh, oh, !1, null, "fa3980d8", null)),
        lh = ch.exports;
      function dh(e) {
        const t = Math.floor(Math.random() * e.length),
          i = e[t],
          s = (Math.floor(1e8 * Math.random()) + "").padStart(8, "0");
        return i + s;
      }
      function uh(e, t, i, s) {
        if (e < 1) throw new Error("最小位数应大于等于 1 ！");
        if (i < 0) throw new Error("小数位数应大于等于 0 ！");
        let o = "";
        const a = Math.round(Math.random() * (t - e)) + e;
        for (let n = 0; n < a; n++)
          o =
            n !== a - 1
              ? Math.floor(10 * Math.random()) + o
              : Math.ceil(9 * Math.random()) + o;
        if ((s && (o = o.replace(/(\d)(?=(\d{3})+$)/g, "$1,")), !i)) return o;
        o += ".";
        for (let n = 0; n < i; n++)
          o +=
            n !== i - 1
              ? Math.floor(10 * Math.random())
              : Math.ceil(9 * Math.random());
        return o;
      }
      function hh(e) {
        const t = e.length,
          i = Math.floor(Math.random() * t);
        let s = "";
        do {
          s = Math.random().toString(36).substr(2);
        } while (s.length < 6);
        return s + e[i];
      }
      var ph = i("b9b9"),
        mh = i.n(ph);
      let gh = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.validate = ut),
            (this.textLayers = []),
            (this.searchValue = ""),
            (this.startDate = new Date(2021, 5, 22).getTime()),
            (this.endDate = new Date(2078, 0, 1).getTime()),
            (this.diffDate = this.endDate - this.startDate),
            (this.firstNames = []),
            (this.lastNames = []),
            (this.phonePrefix = []),
            (this.emailSuffix = []),
            (this.sentence = []),
            (this.city = []),
            (this.approximateLocation = []),
            (this.specificLocation = []),
            (this.firstNameLength = 0),
            (this.lastNameLength = 0),
            (this.cityLength = 0),
            (this.approximateLocationLength = 0),
            (this.specificLocationLength = 0),
            (this.sentenceLength = 0),
            (this.noResults = !1),
            (this.data = {
              number: {
                digitMin: 1,
                digitMax: 20,
                decimal: 0,
                delimiter: 1,
              },
              time: {
                form: 0,
                format: 0,
                sort: 0,
                seconds: 1,
              },
              phone: {
                format: 0,
              },
              text: {
                confirm: 1,
                digit: 18,
              },
            }),
            (this.dilimiterList = ["开", "关"]),
            (this.timeFormList = ["日期 + 时间", "日期", "时间"]),
            (this.timeFormatList = [
              "2021 / 06 / 22",
              "2021 - 06 - 22",
              "2021 年 6 月 22 日",
            ]),
            (this.sortList = ["升序", "降序"]),
            (this.confirmList = ["是", "否"]),
            (this.phoneFormatList = [
              "正常显示手机号码",
              "xxx****xxxx",
              "xxx - xxxx - xxxx",
              "xxx xxxx xxxx",
            ]),
            (this.RESOURCE_TEXT = [
              {
                key: "name",
                pinyin: "xingming",
                icon: "UserNameIcon",
                label: "姓名",
                editable: !1,
                editing: !1,
                height: 42,
              },
              {
                key: "number",
                pinyin: "shuzi",
                icon: "NumberIcon",
                label: "数字",
                editable: !0,
                editing: !1,
                height: 198,
              },
              {
                key: "time",
                pinyin: "riqi shijian riqishijian riqi / shijian",
                icon: "TimeIcon",
                label: "日期 / 时间",
                editable: !0,
                editing: !1,
                height: 312,
              },
              {
                key: "phone",
                pinyin: "shoujihaoma",
                icon: "PhoneIcon",
                label: "手机号码",
                editable: !0,
                editing: !1,
                height: 236,
              },
              {
                key: "address",
                pinyin: "dizhi",
                icon: "AddressIcon",
                label: "地址",
                editable: !1,
                editing: !1,
                height: 42,
              },
              {
                key: "email",
                pinyin: "youxiang",
                icon: "EmailIcon",
                label: "邮箱",
                editable: !1,
                editing: !1,
                height: 42,
              },
              {
                key: "text",
                pinyin: "wenben",
                icon: "TextIcon",
                label: "文本内容",
                editable: !0,
                editing: !1,
                height: 168,
              },
            ]),
            (this.useCount = 0);
        }
        get textTypeList() {
          const e = this.RESOURCE_TEXT.filter(
            (e) =>
              e.key.includes(this.searchValue) ||
              e.label.includes(this.searchValue) ||
              e.pinyin.includes(this.searchValue)
          );
          return e.length ? (this.noResults = !1) : (this.noResults = !0), e;
        }
        inputFocus() {
          const e = setTimeout(() => {
            this.$refs.input.focus(), clearTimeout(e);
          }, 0);
        }
        generateDefaultData() {
          return {
            number: {
              digitMin: 1,
              digitMax: 20,
              decimal: 0,
              delimiter: 1,
            },
            time: {
              form: 0,
              format: 0,
              sort: 0,
              seconds: 1,
            },
            phone: {
              format: 0,
            },
            text: {
              confirm: 1,
              digit: 18,
            },
          };
        }
        handleEdit(e) {
          if (((e.editing = !e.editing), !e.editing)) {
            const t = this.generateDefaultData()[e.key],
              i = Object.keys(t);
            for (const s of i) this.data[e.key][s] = t[s];
          }
        }
        handleSwitch(e, t, i, s) {
          this.data[e][t] = s;
        }
        handleChangeFormat(e, t) {
          this.data[e].format = t;
        }
        handleInputChange(e, t, i) {
          this.data[e][t] = i;
        }
        importText(e, t) {
          t || this.handleApply(e);
        }
        updateTextLayers() {
          this.textLayers = [];
          const e = Object(j["d"])(),
            t = (i) => {
              for (let s = 0; s < i.length; s++) {
                const o = i[s];
                this.selectIds.includes(o.id) &&
                  25 === e[o.id].type &&
                  this.textLayers.push(o.id),
                  o.children && t(o.children);
              }
            };
          t(this.layerTree);
        }
        replaceText(e) {
          Ki["a"].setTag("text");
          const t = e.length;
          for (let i = 0; i < t; i++) {
            const t = e[i];
            k["a"].layers.select([t.id]),
              k["a"].pageState.setState(se["r"].TextEdit),
              k["a"].selector.texts &&
                k["a"].selector.texts.inputText(t.content);
          }
          k["a"].layers.select(this.textLayers);
        }
        handleApply(e) {
          if ((this.updateTextLayers(), !this.textLayers.length))
            return void this.$toast({
              content: "选中文字后应用文本才会有效果",
              buttonInfo: "我知道了",
              timeout: 3e3,
              position: "bottom",
            });
          this.useCount ||
            ((this.useCount = 1),
            d["a"].track(u["b"].CONTENT_REEL, {
              action_type: "text",
            }));
          const t = this.data[e],
            i = this.textLayers.length,
            s = [];
          let o,
            a = "";
          const n = /^(\d{3})(\d{4})(\d{4})/;
          let r = "";
          switch (e) {
            case "name":
              for (let e = 0; e < i; e++) {
                const t = Math.floor(Math.random() * this.firstNameLength),
                  i = Math.floor(Math.random() * this.lastNameLength);
                s.push({
                  id: this.textLayers[e],
                  content: this.firstNames[t] + this.lastNames[i],
                });
              }
              break;
            case "number":
              if (t.digitMin > t.digitMax) {
                const e = t.digitMax;
                (this.data.number.digitMax = t.digitMin),
                  (this.data.number.digitMin = e);
              }
              for (let e = 0; e < i; e++) {
                const i = uh(
                  t.digitMin,
                  t.digitMax,
                  t.decimal,
                  0 === t.delimiter
                );
                s.push({
                  id: this.textLayers[e],
                  content: i,
                });
              }
              break;
            case "time":
              o = [];
              for (let e = 0; e < i; e++)
                o.push(
                  Math.floor(Math.random() * this.diffDate) + this.startDate
                );
              t.sort ? o.sort((e, t) => t - e) : o.sort((e, t) => e - t),
                0 === t.format
                  ? (a = "yyyy / mm / dd")
                  : 1 === t.format
                  ? (a = "yyyy - mm - dd")
                  : 2 === t.format && (a = "yyyy 年 mm 月 dd 日"),
                0 === t.form ? (a += " HH:MM") : 2 === t.form && (a = "HH:MM"),
                1 !== t.form && 0 === t.seconds && (a += ":ss"),
                (mh.a.masks.hammerTime = a);
              for (let e = 0; e < i; e++)
                s.push({
                  id: this.textLayers[e],
                  content: mh()(new Date(o[e]), "hammerTime"),
                });
              break;
            case "phone":
              1 === t.format
                ? (r = "$1****$3")
                : 2 === t.format
                ? (r = "$1 - $2 - $3")
                : 3 === t.format && (r = "$1 $2 $3");
              for (let e = 0; e < i; e++) {
                let t = dh(this.phonePrefix);
                r && (t = t.replace(n, r)),
                  s.push({
                    id: this.textLayers[e],
                    content: t,
                  });
              }
              break;
            case "address":
              for (let e = 0; e < i; e++) {
                const t = Math.floor(Math.random() * this.cityLength),
                  i = Math.floor(
                    Math.random() * this.approximateLocationLength
                  ),
                  o = Math.floor(Math.random() * this.specificLocationLength);
                s.push({
                  id: this.textLayers[e],
                  content:
                    this.city[t] +
                    this.approximateLocation[i] +
                    this.specificLocation[o],
                });
              }
              break;
            case "email":
              for (let e = 0; e < i; e++)
                s.push({
                  id: this.textLayers[e],
                  content: hh(this.emailSuffix),
                });
              break;
            case "text":
              for (let e = 0; e < i; e++) {
                const i =
                  this.sentence[
                    Math.floor(Math.random() * this.sentenceLength)
                  ];
                s.push({
                  id: this.textLayers[e],
                  content: 0 === t.confirm ? i.substr(0, t.digit) + "..." : i,
                });
              }
              break;
            default:
              break;
          }
          this.replaceText(s);
        }
        initData(e) {
          (this.firstNames = e.name.firstNames),
            (this.lastNames = e.name.lastNames),
            (this.phonePrefix = e.phonePrefix),
            (this.emailSuffix = e.emailSuffix),
            (this.sentence = e.sentence),
            (this.city = e.address.city),
            (this.approximateLocation = e.address.approximateLocation),
            (this.specificLocation = e.address.specificLocation),
            (this.firstNameLength = e.name.firstNames.length),
            (this.lastNameLength = e.name.lastNames.length),
            (this.cityLength = e.address.city.length),
            (this.approximateLocationLength =
              e.address.approximateLocation.length),
            (this.specificLocationLength = e.address.specificLocation.length),
            (this.sentenceLength = e.sentence.length);
        }
        created() {
          const e = `resourceText.${Object(Z["P"])("v0.81.32").substring(
              0,
              8
            )}.json`,
            t = "https://static.mastergo.com/";
          Object(ie["lb"])(`${t}static/resource/${e}`)
            .then((e) => {
              this.initData(e.data);
            })
            .catch(() => {
              x["n"].setLog("ERROR", "userAction", "resource text", {
                message: "resource text load failed",
              });
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
            default: !1,
          }),
        ],
        gh.prototype,
        "dialog",
        void 0
      ),
        (gh = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                TextSwitch: lh,
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  selectIds: (e) => e.basicState.selectIds,
                  layerTree: (e) => e.newLayer.layerTree,
                })
              ),
            }),
          ],
          gh
        ));
      var bh = gh,
        vh = bh,
        fh =
          (i("e9cb"), Object(_["a"])(vh, th, ih, !1, null, "7483212f", null)),
        yh = fh.exports;
      let _h = class extends n["g"] {
        constructor() {
          super(...arguments), (this.resTab = "picture");
        }
        resTabHandler(e) {
          this.$nextTick(() => {
            this.inputFocus(e);
          });
        }
        get showResourceText() {
          return Object(w["isFeatureEnabled"])("resourceText");
        }
        inputFocus(e) {
          const t = e || this.resTab;
          "picture" === t
            ? this.$refs.picture.inputFocus()
            : "icon" === t
            ? this.$refs.icon.inputFocus()
            : "text" === t && this.$refs.text.inputFocus();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Number,
            required: !0,
          }),
        ],
        _h.prototype,
        "width",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("resTab", {
              immediate: !0,
            }),
          ],
          _h.prototype,
          "resTabHandler",
          null
        ),
        (_h = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Picture: Ju,
                Icon: eh["a"],
                ResourceText: yh,
              },
              inject: ["IS_PRI"],
            }),
          ],
          _h
        ));
      var Ch = _h,
        Sh = Ch,
        Ih =
          (i("db99"), Object(_["a"])(Sh, Bu, Nu, !1, null, "04b09422", null)),
        Oh = Ih.exports,
        kh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "treeContainer",
              staticClass: "tree_container",
              attrs: {
                name: "layerList",
              },
            },
            [
              i(
                "div",
                {
                  ref: "treeLayout",
                  staticClass: "tree_layout",
                  style: {
                    height: e.layerCount * e.LAYER_HEIGHT + "px",
                  },
                  on: {
                    mouseleave: function (t) {
                      return e.mouseHandler("leave");
                    },
                  },
                },
                [
                  e._l(e.showList, function (t, s, o) {
                    return i("treeItem", {
                      key: t,
                      attrs: {
                        isDrag: e.isDrag,
                        dragGroupId: e.dragLine.groupFlag,
                        data: e.layerList[t],
                        index: o,
                        openFrame: e.openFrame,
                        layerHeight: e.LAYER_HEIGHT,
                        dragToggleData: e.dragToggleData,
                        isFixed: t === e.fixedFrameId,
                      },
                      on: {
                        dragToggle: e.dragToggleHandler,
                      },
                    });
                  }),
                  e.dragLineShow
                    ? i("div", {
                        staticClass: "tree_drag__line",
                        style: {
                          top: e.dragLine.posY + "px",
                          left: 24 + 18 * e.dragLine.offsetLeft + "px",
                        },
                      })
                    : e._e(),
                ],
                2
              ),
              i("BatchRename"),
            ],
            1
          );
        },
        wh = [],
        xh = i("6bc0"),
        Lh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "MasterDialog",
            {
              staticClass: "rename",
              attrs: {
                visible: e.isShow,
                width: "420px",
              },
              on: {
                "update:visible": function (t) {
                  e.isShow = t;
                },
                opened: e.opened,
              },
              scopedSlots: e._u([
                {
                  key: "title",
                  fn: function () {
                    return [
                      i(
                        "div",
                        {
                          staticClass: "rename-title h4",
                        },
                        [
                          e._v(
                            " " +
                              e._s(
                                "给 " + e.selectIds.length + " 个图层批量重命名"
                              ) +
                              " "
                          ),
                        ]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "rename-desc truncate p5 text-tran-50",
                        },
                        [e._v(e._s("预览：" + e.changeList.join(", ")))]
                      ),
                    ];
                  },
                  proxy: !0,
                },
                {
                  key: "footer",
                  fn: function () {
                    return [
                      i(
                        "div",
                        {
                          staticClass: "rename-footer",
                        },
                        [
                          i(
                            "MButton",
                            {
                              staticStyle: {
                                "margin-right": "12px",
                              },
                              attrs: {
                                type: "secondary",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: function (t) {
                                  e.isShow = !1;
                                },
                              },
                            },
                            [e._v("取消")]
                          ),
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "highlight",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: e.renameHandler,
                              },
                            },
                            [e._v("重命名")]
                          ),
                        ],
                        1
                      ),
                    ];
                  },
                  proxy: !0,
                },
              ]),
            },
            [
              i("master-input", {
                staticClass: "rename-find input",
                attrs: {
                  isTrim: !1,
                  placeholder: "查找（可选）",
                },
                on: {
                  enter: e.renameHandler,
                },
                model: {
                  value: e.findName,
                  callback: function (t) {
                    e.findName = t;
                  },
                  expression: "findName",
                },
              }),
              i(
                "div",
                {
                  staticClass: "rename-change",
                },
                [
                  i("master-input", {
                    ref: "renameInput",
                    staticClass: "rename-value input",
                    attrs: {
                      isTrim: !1,
                      placeholder: "重命名为...",
                    },
                    on: {
                      enter: e.renameHandler,
                    },
                    model: {
                      value: e.renameValue,
                      callback: function (t) {
                        e.renameValue = t;
                      },
                      expression: "renameValue",
                    },
                  }),
                  i(
                    "span",
                    {
                      staticClass: "rename-start_num p5",
                    },
                    [e._v("开始数字为")]
                  ),
                  i("master-input", {
                    staticClass: "rename-start",
                    attrs: {
                      disabled: e.notEdit,
                    },
                    model: {
                      value: e.startNum,
                      callback: function (t) {
                        e.startNum = t;
                      },
                      expression: "startNum",
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "rename-keyword h5 text-tran-85",
                },
                [e._v("关键词")]
              ),
              i(
                "div",
                {
                  staticClass: "rename-change",
                },
                [
                  i(
                    "MButton",
                    {
                      attrs: {
                        type: "secondary",
                        size: "sm",
                        width: "100",
                      },
                      on: {
                        click: function (t) {
                          return e.setNewString("find");
                        },
                      },
                    },
                    [e._v("当前查找项")]
                  ),
                  i(
                    "MButton",
                    {
                      staticStyle: {
                        margin: "0px 12px",
                      },
                      attrs: {
                        type: "secondary",
                        size: "sm",
                        width: "88",
                      },
                      on: {
                        click: function (t) {
                          return e.setNewString("up");
                        },
                      },
                    },
                    [e._v("数字升序")]
                  ),
                  i(
                    "MButton",
                    {
                      attrs: {
                        type: "secondary",
                        size: "sm",
                        width: "88",
                      },
                      on: {
                        click: function (t) {
                          return e.setNewString("down");
                        },
                      },
                    },
                    [e._v("数字降序")]
                  ),
                ],
                1
              ),
              i("div", {
                staticClass: "rename-line",
              }),
            ],
            1
          );
        },
        Ah = [];
      let Th = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isShow = !1),
            (this.findName = ""),
            (this.renameValue = ""),
            (this.startNum = 1),
            (this.notEdit = !0),
            (this.preview = []),
            (this.changeList = []),
            (this.sortList = []),
            (this.currnetNum = 0);
        }
        opened() {
          this.$refs.renameInput.focus();
        }
        replaceHandler() {
          this.renameValue
            ? /\$n|\$N/.test(this.renameValue)
              ? ((this.notEdit = !1), this.renameSort())
              : ((this.notEdit = !0),
                (this.changeList = this.preview.map((e) =>
                  this.findName
                    ? e.replace(this.findName, this.renameValue)
                    : this.renameValue.includes("$&")
                    ? this.renameValue.replace(/\$&/g, e)
                    : this.renameValue
                )))
            : ((this.notEdit = !0),
              (this.changeList = this.preview.map((e) =>
                this.findName === e ? e : e.replace(this.findName, "")
              )));
        }
        renameSort() {
          const e = this.renameValue.match(/\$n+/g) || [],
            t = this.renameValue.match(/\$N+/g) || [];
          if (
            ((this.currnetNum = this.startNum - 1),
            (this.changeList = this.preview.map((t) => {
              let i = t;
              return (
                i.includes(this.findName) &&
                  ((this.currnetNum += 1),
                  (i = this.findName
                    ? i.replace(this.findName, this.renameValue)
                    : this.renameValue.includes("$&")
                    ? this.renameValue.replace(/\$&/g, i)
                    : this.renameValue),
                  e.length &&
                    e.forEach((e) => {
                      i = i.replace(e, this.numSort(e));
                    })),
                i
              );
            })),
            t.length)
          ) {
            const e = [...this.changeList];
            this.changeList = e.map((e) => {
              let i = e,
                s = !1;
              return (
                t.forEach((e) => {
                  i.includes(e) &&
                    ((s = !0), (i = i.replace(e, this.numSort(e))));
                }),
                (this.currnetNum = s ? this.currnetNum - 1 : this.currnetNum),
                i
              );
            });
          }
        }
        numSort(e) {
          const t = e.length - 1,
            i = t - ("" + this.currnetNum).length;
          return new Array(i > 0 ? i : 0).fill("0").join("") + this.currnetNum;
        }
        setNewString(e) {
          "find" === e
            ? (this.renameValue += "$&")
            : "up" === e
            ? (this.renameValue += "$n")
            : "down" === e && (this.renameValue += "$N");
        }
        renameHandler() {
          k["a"].mergeStepStart(),
            this.sortList.forEach((e, t) => {
              k["a"].layers.setName(e, this.changeList[t]);
            }),
            k["a"].mergeStepEnd(),
            (this.isShow = !1);
        }
      };
      Th = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterDialog: b["a"],
            },
            computed: Object(r["e"])({
              selectIds: (e) => e.basicState.selectIds,
              layerTree: (e) => e.newLayer.layerTree,
            }),
            watch: {
              startNum() {
                this.renameSort();
              },
              renameValue() {
                this.replaceHandler();
              },
              findName() {
                this.replaceHandler();
              },
              isShow(e) {
                e ||
                  ((this.sortList = []),
                  (this.preview = []),
                  (this.changeList = []),
                  (this.findName = ""),
                  (this.renameValue = ""),
                  (this.startNum = 1),
                  (this.notEdit = !0),
                  (this.currnetNum = 0));
              },
            },
            created() {
              this.showBatchRenameHandler =
                this.showBatchRenameHandler.bind(this);
            },
            mounted() {
              this.$eventBus.$on(
                "showBatchRename",
                this.showBatchRenameHandler
              );
            },
            beforeDestroy() {
              this.$eventBus.$off(
                "showBatchRename",
                this.showBatchRenameHandler
              );
            },
            methods: {
              showBatchRenameHandler(e) {
                this.isShow = e;
                const t = Object(j["d"])(),
                  i = (e) => {
                    for (let s = 0, o = e.length; s < o; s++) {
                      const o = e[s];
                      this.selectIds.includes(o.id) &&
                        (this.sortList.push(o.id),
                        this.preview.push(Object(ti["b"])(t[o.id].name, !0))),
                        o.children && i(o.children);
                    }
                  };
                i(this.layerTree), (this.changeList = this.preview);
              },
            },
          }),
        ],
        Th
      );
      var jh = Th,
        Mh = jh,
        Eh =
          (i("97e1"), Object(_["a"])(Mh, Lh, Ah, !1, null, "56b5cf00", null)),
        Ph = Eh.exports,
        Dh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.data.isFixedTitle
            ? i(
                "div",
                {
                  ref: "container",
                  staticClass: "container",
                  class: {
                    "container-absolute": e.isFixed,
                    "container-fixed": e.isFixed && !~e.data.idx,
                  },
                  style:
                    "transform: translate3d(0, " +
                    e.layerHeight * e.data.idx +
                    "px, 0);",
                  attrs: {
                    "data-offsetleft": e.data.level,
                    "data-id": e.data.id,
                    "data-index": e.index,
                    "data-isend": e.data.isEnd,
                    "data-isclose": e.data.isClose,
                    "data-haschild": e.data.hasChild || 9 === e.data.type,
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "item_container layer_fixed_title",
                      class: {
                        item_container__cover: e.data.isCover,
                      },
                      style: {
                        "padding-left": 18 * e.data.level + 22 + "px",
                      },
                    },
                    [e._v(" " + e._s(e.data.fixedTitleTxt) + " ")]
                  ),
                ]
              )
            : i(
                "div",
                {
                  ref: "container",
                  staticClass: "container",
                  class: {
                    "container-absolute": e.isFixed,
                    "container-fixed": e.isFixed && !~e.data.idx,
                  },
                  style:
                    "transform: translate3d(0, " +
                    e.layerHeight * e.data.idx +
                    "px, 0);",
                  attrs: {
                    nodeName: e.data.id,
                    "data-offsetleft": e.data.level,
                    "data-id": e.data.id,
                    "data-index": e.index,
                    "data-isend": e.data.isEnd,
                    "data-isclose": e.data.isClose,
                    "data-haschild": e.data.hasChild || 9 === e.data.type,
                    tabindex: "-1",
                  },
                  on: {
                    mouseenter: e.mouseenterHandler,
                  },
                },
                [
                  i(
                    "div",
                    {
                      ref: "itemContainer",
                      staticClass: "item_container",
                      class: {
                        item_container__hidden:
                          (!e.data.isVisible || e.data.isCoverHide) &&
                          !e.data.editStatus,
                        item_container__hovered: e.data.isHover || e.dragHover,
                        item_container__checked: e.data.isSelect,
                        item_container__cover: e.data.isCover,
                        item_container__looker: !e.onEditor,
                        item_container__start: e.data.isSelectStart,
                        item_container__end: e.data.isSelectEnd,
                        item_container__component:
                          e.data.isComponent ||
                          e.data.isInstance ||
                          e.data.isPartOfComponent ||
                          e.data.isPartOfInstance ||
                          e.data.isComponentSet ||
                          e.data.isPartOfComponentSet,
                      },
                      style: {
                        "padding-left": 18 * e.data.level + "px",
                      },
                      attrs: {
                        draggable: "false",
                      },
                      on: {
                        mouseenter: function (t) {
                          return e.mouseHandler(e.data, t);
                        },
                        contextmenu: function (t) {
                          return (
                            t.preventDefault(), e.contextmenuHandler(t, e.data)
                          );
                        },
                        mousedown: function (t) {
                          return e.mousedownHandler(t, e.data.id);
                        },
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "layout_icon arrow_icon",
                          class: {
                            active: !e.data.isClose,
                          },
                          style: {
                            visibility: e.data.hasChild ? "visible" : "hidden",
                          },
                          on: {
                            mousedown: function (t) {
                              return t.stopPropagation(), e.changeCollspan(t);
                            },
                          },
                        },
                        [
                          i("CaretDownIcon", {
                            attrs: {
                              size: "12",
                            },
                          }),
                        ],
                        1
                      ),
                      !e.data.mask && e.data.isMaskEle
                        ? i(
                            "div",
                            {
                              staticClass: "layout_icon mask_icon",
                            },
                            [
                              i("MaskedIcon", {
                                attrs: {
                                  size: "12",
                                },
                              }),
                            ],
                            1
                          )
                        : e._e(),
                      i(
                        "div",
                        {
                          staticClass: "layout_icon item_icon",
                          class: [e.isHighestFrame && "highest_frame"],
                          on: {
                            dblclick: e.fixedToSelection,
                          },
                        },
                        [
                          e.isAbsolute
                            ? i(
                                "svg",
                                {
                                  staticClass: "item_icon_absolute",
                                  staticStyle: {
                                    width: "16px",
                                    height: "16px",
                                  },
                                  attrs: {
                                    xmlns: "http://www.w3.org/2000/svg",
                                    "xmlns:xlink":
                                      "http://www.w3.org/1999/xlink",
                                    fill: "none",
                                    version: "1.1",
                                    width: "18",
                                    height: "18",
                                    viewBox: "0 0 18 18",
                                  },
                                },
                                [
                                  i(
                                    "g",
                                    {
                                      staticStyle: {
                                        "mix-blend-mode": "passthrough",
                                      },
                                    },
                                    [
                                      i("path", {
                                        attrs: {
                                          d: "M0,1.5L0,4.45C0,4.61569,0.134315,4.75,0.3,4.75L0.7,4.75C0.865685,4.75,1,4.61569,1,4.45L1,1.5Q1,1.29289,1.14645,1.14645Q1.29289,1,1.5,1L4.45,1C4.61569,1,4.75,0.865685,4.75,0.7L4.75,0.3C4.75,0.134315,4.61569,0,4.45,0L1.5,0Q0.87868,-5.96046e-8,0.43934,0.43934Q0,0.87868,0,1.5ZM17,1.5L17,4.45C17,4.61569,17.1343,4.75,17.3,4.75L17.7,4.75C17.8657,4.75,18,4.61569,18,4.45L18,1.5Q18,0.878678,17.5607,0.43934Q17.1213,0,16.5,0L13.55,0C13.3843,0,13.25,0.134315,13.25,0.3L13.25,0.7C13.25,0.865685,13.3843,1,13.55,1L16.5,1Q16.7071,1,16.8536,1.14645Q17,1.29289,17,1.5ZM1.5,18L4.45,18C4.61569,18,4.75,17.8657,4.75,17.7L4.75,17.3C4.75,17.1343,4.61569,17,4.45,17L1.5,17Q1.29289,17,1.14645,16.8536Q1,16.7071,1,16.5L1,13.55C1,13.3843,0.865685,13.25,0.7,13.25L0.3,13.25C0.134315,13.25,0,13.3843,0,13.55L0,16.5Q0,17.1213,0.43934,17.5607Q0.878678,18,1.5,18ZM18,16.5L18,13.55C18,13.3843,17.8657,13.25,17.7,13.25L17.3,13.25C17.1343,13.25,17,13.3843,17,13.55L17,16.5Q17,16.7071,16.8536,16.8536Q16.7071,17,16.5,17L13.55,17C13.3843,17,13.25,17.1343,13.25,17.3L13.25,17.7C13.25,17.8657,13.3843,18,13.55,18L16.5,18Q17.1213,18,17.5607,17.5607Q18,17.1213,18,16.5Z",
                                          "fill-rule": "evenodd",
                                          fill: "currentColor",
                                          "fill-opacity": "1",
                                        },
                                      }),
                                    ]
                                  ),
                                ]
                              )
                            : e._e(),
                          !e.data.path ||
                          e.data.isImageType ||
                          e.data.mask ||
                          37 === e.data.type
                            ? i(e.layerIcon(e.data), {
                                tag: "component",
                                staticStyle: {
                                  width: "1em",
                                  height: "1em",
                                  "font-size": "12px",
                                },
                              })
                            : i(
                                "svg",
                                {
                                  staticClass: "svg",
                                  attrs: {
                                    xmlns: "http://www.w3.org/2000/svg",
                                    "xmlns:xlink":
                                      "http://www.w3.org/1999/xlink",
                                    width: "1em",
                                    height: "1em",
                                    viewBox: "0 0 12 12",
                                  },
                                },
                                [
                                  i("path", {
                                    attrs: {
                                      d: e.data.path,
                                      stroke: "currentColor",
                                      fill: "none",
                                      "stroke-width": "1",
                                    },
                                  }),
                                ]
                              ),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: !e.data.editStatus,
                              expression: "!data.editStatus",
                            },
                          ],
                          staticClass: "item_name name_container truncate",
                          class: {
                            "text-opacity": !e.data.isVisible,
                            highest_frame: e.isHighestFrame,
                          },
                          on: {
                            dblclick: e.dblclickRename,
                          },
                        },
                        [e._v(" " + e._s(e.innerName) + " ")]
                      ),
                      e.data.editStatus
                        ? i(
                            "div",
                            {
                              staticClass: "item_name input_container",
                              on: {
                                mousedown: function (e) {
                                  e.stopPropagation();
                                },
                              },
                            },
                            [
                              i("master-input", {
                                ref: "input",
                                staticClass: "input_box",
                                attrs: {
                                  value: e.innerName,
                                  focusSelectAll: !0,
                                },
                                on: {
                                  blur: e.handleBlur,
                                  change: function (t) {
                                    return e.setName(t);
                                  },
                                },
                              }),
                            ],
                            1
                          )
                        : e._e(),
                      i(
                        "div",
                        {
                          staticClass: "tool_icon_wrap",
                          class: {
                            show:
                              e.data.isLocked ||
                              !e.data.isVisible ||
                              e.data.isCoverHide ||
                              e.data.isCoverLock,
                            tool_icon__del: e.data.editStatus,
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "tool_icon",
                              class: {
                                "tool_icon-active": e.data.isLocked,
                                "tool_icon-cover": e.data.isCoverLock,
                              },
                              on: {
                                mousedown: function (t) {
                                  return (
                                    t.stopPropagation(),
                                    e.setLockedHandler(!e.data.isLocked)
                                  );
                                },
                              },
                            },
                            [
                              i(
                                e.data.isLocked
                                  ? "LockIcon"
                                  : e.data.isCoverLock
                                  ? "DotSolidIcon"
                                  : "UnlockIcon",
                                {
                                  tag: "component",
                                  attrs: {
                                    size: "14",
                                  },
                                }
                              ),
                            ],
                            1
                          ),
                          i(
                            "div",
                            {
                              staticClass: "tool_icon",
                              class: {
                                "tool_icon-active": !e.data.isVisible,
                                "tool_icon-cover": e.data.isCoverHide,
                              },
                              on: {
                                mousedown: function (t) {
                                  return (
                                    t.stopPropagation(),
                                    e.setVisibleHandler(!e.data.isVisible)
                                  );
                                },
                              },
                            },
                            [
                              i(
                                e.data.isVisible
                                  ? e.data.isCoverHide
                                    ? "DotSolidIcon"
                                    : "EyeIcon"
                                  : "EyeSlashIcon",
                                {
                                  tag: "component",
                                  attrs: {
                                    size: "14",
                                  },
                                }
                              ),
                            ],
                            1
                          ),
                        ]
                      ),
                    ]
                  ),
                ]
              );
        },
        Bh = [];
      let Nh = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.padding = "0px"),
            (this.layerIcon = p["p"]),
            (this.componentSetNameFormat = ti["b"]);
        }
        get innerName() {
          const e = this.data;
          let t;
          return (
            (t = e.isPartOfComponentSet
              ? this.componentSetNameFormat(e.lastName, e.editStatus)
              : e.lastName),
            Object(ti["e"])(t, "leftTree")
          );
        }
        get dragHover() {
          return this.data.id === this.dragGroupId;
        }
        get onEditor() {
          return !this.disableUpdateLayer && 1 !== this.versionType;
        }
        get isHighestFrame() {
          return !(0 !== this.data.level || !this.data.isFrame);
        }
        editStatusHandler(e) {
          !0 === e && this.focusInput();
        }
        get isAbsolute() {
          if (null === this.data.layoutPositioning) return !1;
          if (this.data.parent) {
            const e =
              Object(j["d"])()[this.data.parent] ||
              Object(j["c"])()[this.data.parent];
            return (
              !(
                !(null === e || void 0 === e ? void 0 : e.flexMode) ||
                (e.flexMode !== ys["d"].Horizontal &&
                  e.flexMode !== ys["d"].Vertical)
              ) && this.data.layoutPositioning === se["p"].Absolute
            );
          }
          return !1;
        }
        handleBlur() {
          this.$set(this.data, "editStatus", !1);
          const e = this.$refs.container;
          e.focus();
        }
        changeCollspan() {
          this.changeClose({
            id: this.data.id,
            manual: !0,
          });
        }
        showMenu(e, t) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const i = {
                label: "同步到蓝湖",
                title: "同步到蓝湖",
                key: "exportToLanhu",
                handler: () => {
                  x["e"].$emit("export-to-lanhu-pri"),
                    x["n"].setLog("INFO", "userAction", "export to lanhu", {
                      source: "left bar",
                    });
                },
              },
              s = yield Object(p["l"])(this.LAYER_LIST, "left"),
              o = [...s];
            (o[o.length - 1].divid = !1),
              Object(w["isFeatureEnabled"])("exportToLanhu") &&
                !this.selectBasic.isAllSlice &&
                ((o[o.length - 1].divid = !0), o.push(i));
            const a = {
              event: e,
              list: o,
              data: t,
              actionType: "selected",
            };
            d["a"].track(u["b"].MENU_LOAD, {
              action_position: "contextmenu",
              action_type: "selected",
            }),
              this.$eventBus.$emit("contentMenu", a);
          });
        }
        mouseHandler(e) {
          l["b"].isMouseDown || this.isDrag || k["a"].layers.hover(e.id);
        }
        mousedownHandler(e, t) {
          this.openFrame(t, e, this.$refs.itemContainer, this.data.isLocked),
            this.keyword &&
              d["a"].track(u["b"].SEARCH, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "layer_index",
                action_parameter2: "layer_index_search",
                action_detail: this.keyword,
                action_count: this.layerCount,
                action_type: "result_click",
                action_parameter9: this.searchId,
              });
        }
        contextmenuHandler(e, t) {
          this.onEditor &&
            (this.selectIds.includes(t.id) || k["a"].layers.select([t.id]),
            O["a"].nextFrame(() =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                yield this.showMenu(e, t);
              })
            ));
        }
        focusInput() {
          this.onEditor &&
            this.$nextTick(() => {
              const e = this.$refs.input;
              e.focus();
            });
        }
        setName(e) {
          k["a"].layers.setName(this.data.id, e);
        }
        setVisible(e) {
          k["a"].layers.setVisible(this.data.id, e);
        }
        setLocked(e) {
          k["a"].layers.setLocked(this.data.id, e);
        }
        mouseenterHandler() {
          const e = Object.keys(this.dragToggleData);
          if (e.length)
            switch (e[0]) {
              case "lock":
                this.setLocked(this.dragToggleData[e[0]]);
                break;
              case "visible":
                this.setVisible(this.dragToggleData[e[0]]);
                break;
              default:
                break;
            }
        }
        setLockedHandler(e) {
          this.$emit("dragToggle", {
            type: "lock",
            value: e,
          }),
            this.setLocked(e);
        }
        setVisibleHandler(e) {
          this.$emit("dragToggle", {
            type: "visible",
            value: e,
          }),
            this.setVisible(e);
        }
        fixedToSelection() {
          k["a"].viewPort.fixedToSelection();
        }
        dblclickRename() {
          this.onEditor && (this.data.editStatus = !0);
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])()],
        Nh.prototype,
        "dragToggleData",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Nh.prototype,
          "dragGroupId",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
            }),
          ],
          Nh.prototype,
          "isDrag",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Nh.prototype,
          "isFixed",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              default: () => ({}),
              required: !1,
            }),
          ],
          Nh.prototype,
          "data",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 0,
              required: !0,
            }),
          ],
          Nh.prototype,
          "index",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 0,
              required: !0,
            }),
          ],
          Nh.prototype,
          "layerHeight",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              default: () => ({}),
              required: !1,
            }),
          ],
          Nh.prototype,
          "checkData",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              default: () => {},
              required: !1,
            }),
          ],
          Nh.prototype,
          "openFrame",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("data.editStatus")],
          Nh.prototype,
          "editStatusHandler",
          null
        ),
        (Nh = Object(a["__decorate"])(
          [
            Object(n["a"])({
              name: "treeItem",
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      versionType: (e) => e.file.versionType,
                      selectBasic: (e) => e.basicProps.item,
                      selectIds: (e) => e.basicState.selectIds,
                      keyword: (e) => e.newLayer.keyword,
                      layerCount: (e) => e.newLayer.layerCount,
                      searchId: (e) => e.newLayer.searchId,
                    })
                  ),
                  Object(r["c"])(["disableUpdateLayer"])
                ),
                Object(r["c"])("dictionary", ["LAYER_LIST"])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("newLayer", ["changeClose"])
              ),
            }),
          ],
          Nh
        ));
      var Fh = Nh,
        Rh = Fh,
        Hh =
          (i("5501"), Object(_["a"])(Rh, Dh, Bh, !1, null, "44bdc290", null)),
        $h = Hh.exports;
      const Vh = 30;
      let zh = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.LAYER_HEIGHT = Vh),
            (this.statusOfMoveLayer = ""),
            (this.layerTop = 0),
            (this.layerHeight = 0),
            (this.scrollIndex = 0),
            (this.isMac = Object(Z["hb"])()),
            (this.isDrag = !1),
            (this.startNode = {
              sx: 0,
              sy: 0,
              itemSY: 0,
              itemSX: 0,
              containerTop: 0,
              containerLeft: 0,
              containerHeight: 0,
              containerScroll: 0,
              containerBottom: 0,
              layerHeight: 0,
              compensate: 0,
              dataset: {},
            }),
            (this.dragToggleData = {}),
            (this.dragLine = {
              offset: 0,
              sy: 0,
              posY: 0,
              offsetLeft: 0,
              dataset: {},
              groupFlag: !1,
            }),
            (this.openMap = {}),
            (this.mouseUpSelect = null),
            (this._mouseup = () => {}),
            (this._mousemove = () => {});
        }
        get dragLineShow() {
          return Boolean(
            this.isDrag && this.dragLine.offset && !this.dragLine.groupFlag
          );
        }
        activeHandler(e) {
          e && this.scrollToIdx();
        }
        currentsHandler() {
          var e, t;
          Object(xh["b"])()
            ? null ===
                (t =
                  null === (e = Object(xh["b"])()) || void 0 === e
                    ? void 0
                    : e.instanceStore.fileWssBusiness) ||
              void 0 === t ||
              t.sendSelectState()
            : x["c"].sendSelectState();
        }
        hoverHandler(e, t) {
          this.layerList[e] && (this.layerList[e].isHover = !0),
            this.layerList[t] && (this.layerList[t].isHover = !1);
        }
        scrollToIdx(e) {
          void 0 !== e && (this.scrollIndex = e),
            setTimeout(() => {
              this.scrollToPos(
                this.scrollIndex * this.LAYER_HEIGHT -
                  this.layerHeight / 2 +
                  this.LAYER_HEIGHT / 2
              );
            }, 0);
        }
        computedLayer(e = 0, t = 0) {
          const i = e > 0 ? 0 : e;
          void 0 !== i && (this.layerTop = i), t && (this.layerHeight = t);
          const s = Math.floor(this.layerHeight / this.LAYER_HEIGHT),
            o = Math.floor(-this.layerTop / this.LAYER_HEIGHT),
            a = Math.floor(
              (-this.layerTop + this.layerHeight) / this.LAYER_HEIGHT
            ),
            n = 10 * Math.ceil((o + s + 20) / 10),
            r = 10 * Math.floor((o - 5 < 0 ? 0 : o - 20) / 10);
          this.isDrag && this.lastEvent && this._mousemove(),
            this.setShowLayerIndex({
              layerStart: r,
              layerEnd: n,
              start: o,
              end: a,
              layerTop: this.layerTop,
            });
        }
        mouseHandler() {
          k["a"].layers.hover();
        }
        getNode(e, t) {
          const i = [];
          let s;
          const o = t[e];
          function a(e) {
            const s = t[e];
            s && (i.push(s), s.parent && a(s.parent));
          }
          return (
            (null === o || void 0 === o ? void 0 : o.parent) && a(o.parent),
            o ? [o, i, s] : null
          );
        }
        cleanChild(e, t) {
          t.forEach((t) => {
            const i = e.indexOf(t.id);
            ~i && e.splice(i, 1),
              t.child && t.child.length && this.cleanChild(e, t.child);
          });
        }
        setSelect(e, t) {
          const i = t.shiftKey,
            s = this.isMac ? t.metaKey : t.ctrlKey,
            o = Object(j["d"])();
          let a;
          if (i || s) {
            if (s)
              if (~this.currents.indexOf(e))
                a = this.currents.filter((t) => t !== e);
              else {
                const t = this.getNode(e, o);
                if (!t || t[1].some((e) => ~this.currents.indexOf(e.id)))
                  return;
                (a = [...this.currents]),
                  t[0].child &&
                    t[0].child.length &&
                    this.cleanChild(a, t[0].child),
                  a.push(e);
              }
            else if (i)
              if (this.currents.length) {
                if (~this.currents.indexOf(e)) return;
                const t = this.getNode(e, o),
                  i = [...this.currents];
                if (!t || t[1].some((e) => ~this.currents.indexOf(e.id)))
                  return;
                a = [];
                let s = 0;
                const n = (t) => {
                  for (let o = 0, r = t.length; o < r; o++) {
                    const r = t[o],
                      c = r.id;
                    if (0 === s)
                      ~this.currents.indexOf(c)
                        ? (i.splice(i.indexOf(c), 1), (s = 1))
                        : e === c && (s = 2);
                    else if (
                      (i.length > 1 &&
                        ~i.indexOf(c) &&
                        i.splice(i.indexOf(c), 1),
                      (1 === s && e === c) || (2 === s && ~i.indexOf(c)))
                    )
                      return a.push(c), !1;
                    if (
                      (0 !== s && 3 !== s && a.push(c),
                      r.children && !n(r.children))
                    )
                      return !1;
                  }
                  return !0;
                };
                n(this.layerTreeAfterFilter);
              } else a = [e];
          } else {
            if (1 === this.currents.length && this.currents[0] === e) return;
            a = [e];
          }
          k["a"].layers.select(a);
        }
        deleteTarget(e, t) {
          const i = [],
            s = (t) => {
              for (let o = t.length - 1; o >= 0; o--)
                ~e.indexOf(t[o].id)
                  ? i.unshift(t.splice(o, 1)[0])
                  : t[o].child && s(t[o].child);
            };
          return s(t), i;
        }
        openFrame(e, t, i, s) {
          if (3 === t.which) return;
          const o = t.shiftKey,
            a = this.isMac ? t.metaKey : t.ctrlKey;
          if (o || a || this.disableUpdateLayer || 1 === this.versionType)
            return void this.setSelect(e, t);
          const n = this.getNode(e, Object(j["d"])());
          n &&
          this.currents.some(
            (e) => e === n[0].id || n[1].some((t) => t.id === e)
          )
            ? (this.mouseUpSelect = {
                id: e,
                e: t,
              })
            : this.setSelect(e, t);
          const { clientX: r, clientY: c } = t;
          (this.startNode.sx = r), (this.startNode.sy = c);
          const l = i.getBoundingClientRect();
          (this.startNode.itemSX = l.left), (this.startNode.itemSY = l.top);
          const d = this.$refs.treeLayout,
            u = d.getBoundingClientRect(),
            { top: h, left: p } = u,
            { clientHeight: m } = d;
          (this.startNode.dataset = Object.assign({}, i.dataset)),
            (this.startNode.containerTop = h - this.layerTop),
            (this.startNode.containerLeft = p),
            (this.startNode.containerHeight = m),
            (this.startNode.containerScroll = this.layerTop);
          const g = this.$refs.treeLayout;
          (this.startNode.layerHeight = g.clientHeight),
            (this.startNode.containerBottom =
              this.startNode.containerTop + this.startNode.layerHeight),
            (this.startNode.compensate = c - this.startNode.itemSY),
            (this.dragLine.sy = this.startNode.itemSY - h),
            (this.dragLine.posY = this.dragLine.sy),
            (this.dragLine.offset = 0),
            (this.dragLine.groupFlag = !1),
            (this.isDrag = !0),
            document.addEventListener("mousemove", this._mousemove);
        }
        keydown(e) {
          var t, i;
          if (
            e &&
            13 === e.keyCode &&
            !e.shiftKey &&
            "input" !== e.target.localName &&
            "textarea" !== e.target.localName &&
            "0" !== e.target.getAttribute("tabindex")
          ) {
            const e = [],
              s = this.currents,
              o = Object(j["d"])();
            if (
              1 === this.currents.length &&
              (null === (t = o[this.currents[0]]) || void 0 === t
                ? void 0
                : t.type) !== se["o"].Group &&
              (null === (i = o[this.currents[0]]) || void 0 === i
                ? void 0
                : i.type) !== se["o"].Connector
            )
              return;
            const a = function t(i) {
              for (let o = 0, a = i.length; o < a; o++) {
                const a = i[o],
                  n = s.includes(a.id);
                n
                  ? a.children
                    ? e.push(...a.children.map((e) => e.id))
                    : e.push(a.id)
                  : a.children && t(a.children);
              }
              return !1;
            };
            if (
              (a(this.layerTree),
              1 === e.length && 1 === s.length && e[0] === s[0])
            )
              return;
            e.length && k["a"].layers.select(e);
          }
        }
        editFrameNameHandler(e) {
          this.$eventBus.$emit("renameLayer"),
            O["a"].nextFrame(() => {
              this.layerList[e] && (this.layerList[e].editStatus = !0);
            });
        }
        dragToggleHandler(e) {
          switch (e.type) {
            case "lock":
              this.$set(this.dragToggleData, "lock", e.value);
              break;
            case "visible":
              this.$set(this.dragToggleData, "visible", e.value);
              break;
            default:
              break;
          }
        }
        clearToggleData() {
          this.dragToggleData = {};
        }
        moveLayerByDirection() {
          const e = this.layerHeight - this.startNode.layerHeight;
          if (
            !this.isDrag ||
            !this.statusOfMoveLayer ||
            (this.layerTop >= 0 && "up" === this.statusOfMoveLayer) ||
            (this.layerTop <= e && "down" === this.statusOfMoveLayer)
          )
            return;
          let t = 0;
          "up" === this.statusOfMoveLayer
            ? (this.layerTop + 5 >= 0 && (t = 0), (t = this.layerTop + 5))
            : "down" === this.statusOfMoveLayer &&
              (this.layerTop - 5 <= e && (t = e), (t = this.layerTop - 5)),
            this.scrollToPos(-t),
            requestAnimationFrame(this.moveLayerByDirection.bind(this));
        }
        moveLineForFixedTitle(e) {
          let t = e;
          const {
              containerTop: i,
              containerLeft: s,
              containerHeight: o,
            } = this.startNode,
            a = Math.min(this.layerHeight, o);
          let n = t + this.layerTop;
          n < 0 ? (n = 0) : n > a && (n = a),
            t < 0 ? (t = 0) : t > o && (t = o),
            (this.dragLine.posY = t);
          const r = document.elementFromPoint(s, i + n + (0 === n ? 1 : -1));
          return {
            posY: n,
            item: r,
          };
        }
        created() {
          this.$eventBus.$on("layerFixedSelect", this.scrollToIdx),
            (this._mouseup = (e) => {
              var t, i, s, o, a, n, r, c;
              document.removeEventListener("mousemove", this._mousemove);
              const l = Object(j["d"])();
              if (!this.dragLine.offset)
                return (
                  this.mouseUpSelect &&
                    this.setSelect(this.mouseUpSelect.id, this.mouseUpSelect.e),
                  (this.mouseUpSelect = null),
                  void (this.isDrag = !1)
                );
              this.mouseUpSelect = null;
              try {
                const { offsetLeft: u, dataset: h, posY: p } = this.dragLine,
                  { id: m, offsetleft: g } = h;
                let b = "",
                  v = "";
                const f = (e, t, i = null) => {
                    var s, o;
                    const a = e.split(":"),
                      n = a[a.length - 1];
                    if ("fixedTitle" === n) {
                      const t =
                        null === (s = e.match(/^(.*):fixedTitle$/)) ||
                        void 0 === s
                          ? void 0
                          : s[1];
                      if (!t) return null;
                      const i = f(t, this.layerTree);
                      return i
                        ? {
                            current: null,
                            next: i.current.children[0],
                            parent: i.current,
                            isToFixed: !0,
                          }
                        : null;
                    }
                    if ("scrollTitle" === n) {
                      const t =
                        null === (o = e.match(/^(.*):scrollTitle$/)) ||
                        void 0 === o
                          ? void 0
                          : o[1];
                      if (!t) return null;
                      const i = f(t, this.layerTree);
                      if (!i) return null;
                      const s = this.layerList[i.current.id];
                      return {
                        current: null,
                        next: i.current.children[s.numOfFixedChildren],
                        parent: i.current,
                        isToFixed: !1,
                      };
                    }
                    for (let r = 0, c = t.length; r < c; r++) {
                      const s = t[r];
                      if (e === s.id)
                        return {
                          current: s,
                          next: t[r + 1],
                          parent: i,
                        };
                      if (s.children) {
                        const t = f(e, s.children, s);
                        if (t) return t;
                      }
                    }
                    return null;
                  },
                  y = (e, t) => {
                    const i = this.layerList[e];
                    let s;
                    if (void 0 === t.isToFixed && i.numOfFixedChildren) {
                      let e;
                      (e = t.next
                        ? i.children.indexOf(t.next.id)
                        : i.children.length),
                        (s =
                          e === i.numOfFixedChildren ||
                          e < i.numOfFixedChildren);
                    } else s = t.isToFixed;
                    return s;
                  };
                let _;
                if (0 === p)
                  b =
                    null === (t = this.layerTree[0]) || void 0 === t
                      ? void 0
                      : t.id;
                else if (+g === +u) {
                  const e = f(m, this.layerTree);
                  (v =
                    (null === (i = e.parent) || void 0 === i ? void 0 : i.id) ||
                    ""),
                    (b =
                      (null === (s = e.next) || void 0 === s ? void 0 : s.id) ||
                      ""),
                    v && (_ = y(v, e));
                } else if (+g < +u) {
                  const e = f(m, this.layerTree);
                  if (
                    ((v = m),
                    (b =
                      (null ===
                        (n =
                          null ===
                            (a =
                              null === (o = e.current) || void 0 === o
                                ? void 0
                                : o.children) || void 0 === a
                            ? void 0
                            : a[0]) || void 0 === n
                        ? void 0
                        : n.id) || ""),
                    this.dragLine.groupFlag)
                  ) {
                    const e = this.layerList[v];
                    let t;
                    (_ = !1),
                      (t = e.numOfFixedChildren ? e.numOfFixedChildren : 0),
                      (b =
                        (null === (r = e.children) || void 0 === r
                          ? void 0
                          : r[t]) || "");
                  }
                } else {
                  let e = l[m];
                  for (let i = 0; i < g - u; i++) e = l[e.parent];
                  v = e.parent;
                  const t = f(e.id, this.layerTree);
                  (b =
                    (null === (c = t.next) || void 0 === c ? void 0 : c.id) ||
                    ""),
                    v && (_ = y(v, t));
                }
                let C = [];
                v &&
                  ((C = this.getNode(v, l)),
                  (C = [v, ...C[1].map((e) => e.id)])),
                  this.currents.some((e) => ~C.indexOf(e)) ||
                    (k["a"].layers.move(b, v, e.altKey, _ ? 1 : 2),
                    _ &&
                      d["a"].track(_e["a"].EVENT_CLICK, {
                        action_position: "canvas",
                        action_parameter0: "design",
                        action_parameter1: "fix_position",
                        action_type: "drag",
                      }));
              } catch (u) {
              } finally {
                (this.isDrag = !1),
                  (this.dragLine.offset = 0),
                  (this.dragLine.groupFlag = !1);
              }
            }),
            (this._mousemove = (e) => {
              let t = e;
              t ? (this.lastEvent = t) : (t = this.lastEvent);
              let { clientY: i } = t;
              const { clientX: s } = t,
                {
                  sy: o,
                  itemSY: a,
                  containerTop: n,
                  containerLeft: r,
                  containerHeight: c,
                  containerScroll: l,
                } = this.startNode,
                d = Math.min(this.layerHeight, c);
              if (!this.dragLine.offset) {
                if (!(Math.abs(i - o) > 5)) return;
                this.dragLine.offset = 1;
              }
              let u, h;
              i - 5 < n && this.isDrag
                ? (this.statusOfMoveLayer ||
                    ((this.statusOfMoveLayer = "up"),
                    this.moveLayerByDirection()),
                  (this.statusOfMoveLayer = "up"))
                : i + 5 > n + d && this.isDrag
                ? (this.statusOfMoveLayer ||
                    ((this.statusOfMoveLayer = "down"),
                    this.moveLayerByDirection()),
                  (this.statusOfMoveLayer = "down"))
                : (this.statusOfMoveLayer = ""),
                i < n ? (i = n) : i > n + d && (i = n + d),
                (this.dragLine.offset = 1);
              const p = i - a;
              let m = !1,
                g =
                  Math.round((p - this.layerTop + l) / Vh + 0.167) * Vh +
                  this.dragLine.sy;
              if (
                ((u = g + this.layerTop),
                u < 0 ? (u = 0) : u > d && (u = d),
                g < 0 ? (g = 0) : g > c && (g = c),
                (this.dragLine.posY = g),
                (h = document.elementFromPoint(r, n + u + (0 === u ? 1 : -1))),
                !h)
              )
                return;
              if (h.dataset.haschild) {
                const e = Math.abs((p / Vh) % 1);
                if (e > 0.333 && e < 0.667) m = h.dataset.id;
                else if (0 !== g) {
                  const e = this.layerList[h.dataset.id];
                  if (!e.isClose && e.numOfFixedChildren) {
                    const e = this.moveLineForFixedTitle(g + Vh);
                    (u = e.posY), (h = e.item);
                  }
                }
              } else {
                (g =
                  Math.round((p - this.layerTop + l) / Vh) * Vh +
                  this.dragLine.sy),
                  (u = g + this.layerTop),
                  u < 0 ? (u = 0) : u > d && (u = d),
                  g < 0 ? (g = 0) : g > c && (g = c),
                  (this.dragLine.posY = g),
                  (h = document.elementFromPoint(
                    r,
                    n + u + (0 === u ? 1 : -1)
                  ));
                const e = this.layerList[h.dataset.id];
                if (9 === e.type && !e.isClose && e.numOfFixedChildren) {
                  const e = this.moveLineForFixedTitle(g + Vh);
                  (u = e.posY), (h = e.item);
                }
              }
              const {
                offsetleft: b,
                isend: v,
                isclose: f,
                haschild: y,
              } = h.dataset;
              let _ = +b;
              0 === u
                ? (_ = 0)
                : v &&
                  ((_ = ~~((s - r - 24) / 18)),
                  _ > b ? (_ = +b) : _ < 0 && (_ = 0)),
                y && ((!m && f) || (_ += 1)),
                (this.dragLine.offsetLeft = _),
                (this.dragLine.dataset = Object.assign({}, h.dataset)),
                (this.dragLine.groupFlag = m);
            }),
            document.addEventListener("mouseup", this._mouseup),
            document.addEventListener("keydown", this.keydown, !0),
            this.onScroll(this.computedLayer),
            O["a"].addListener("masterTask-page-finished", this.computedLayer),
            I["h"].addEventListener("fileMounted", this.computedLayer),
            O["a"].addWasmEventListener(
              te["a"].DbClickFrameName,
              this.editFrameNameHandler
            );
        }
        mounted() {
          document.addEventListener("mouseup", this.clearToggleData);
        }
        beforeDestroy() {
          document.removeEventListener("mouseup", this._mouseup),
            document.removeEventListener("mouseup", this.clearToggleData),
            document.removeEventListener("keydown", this.keydown, !0),
            this.offScroll(),
            this.$eventBus.$off("layerFixedSelect", this.scrollToIdx),
            O["a"].removeListener(
              "masterTask-page-finished",
              this.computedLayer
            ),
            I["h"].removeEventListener("fileMounted", this.computedLayer),
            O["a"].removeWasmEventListener(
              te["a"].DbClickFrameName,
              this.editFrameNameHandler
            );
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])()],
        zh.prototype,
        "active",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("active")],
          zh.prototype,
          "activeHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("currents")],
          zh.prototype,
          "currentsHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("hoverId")],
          zh.prototype,
          "hoverHandler",
          null
        ),
        (zh = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                treeItem: $h,
                BatchRename: Ph,
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    layerStart: (e) => e.newLayer.layerStart,
                    layerEnd: (e) => e.newLayer.layerEnd,
                    layerList: (e) => e.newLayer.layerMapAddFixedTitle,
                    showList: (e) => e.newLayer.layerShowList,
                    layerCount: (e) => e.newLayer.layerCount,
                    layerTree: (e) => e.newLayer.layerTree,
                    layerTreeAfterFilter: (e) =>
                      e.newLayer.layerTreeAfterFilter,
                    fixedFrameId: (e) => e.newLayer.fixedFrameId,
                    currents: (e) => e.basicState.selectIds,
                    versionType: (e) => e.file.versionType,
                    hoverId: (e) => e.basicState.hoverId,
                    fileKey: (e) => e.basicState.currentPageId,
                    userList: (e) => e.app.userList,
                  })
                ),
                Object(r["c"])(["disableUpdateLayer"])
              ),
              inject: ["onScroll", "offScroll", "scrollToPos"],
              methods: Object.assign(
                Object.assign({}, Object(r["b"])(["moveLayer"])),
                Object(r["b"])("newLayer", [
                  "changeSelect",
                  "setShowLayerIndex",
                ])
              ),
            }),
          ],
          zh
        ));
      var Uh = zh,
        qh = Uh,
        Wh =
          (i("0436"), Object(_["a"])(qh, kh, wh, !1, null, "835e51da", null)),
        Gh = Wh.exports,
        Kh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "left-teamlib",
            },
            [
              i(
                "div",
                {
                  ref: "container",
                  staticClass: "component-lib__container",
                  style: {
                    height:
                      "calc(100% - " + (e.isShowGuide ? "122px" : "0px") + ")",
                  },
                },
                [
                  i("ComponentList", {
                    ref: "componentList",
                    attrs: {
                      type: e.type,
                      showComponnetHelpTip: e.showComponnetHelpTip,
                      openDialog: e.openDialog,
                      handleLibIcon: e.handleLibIcon,
                      visible: e.visible,
                    },
                  }),
                  e.showEmpty
                    ? i(
                        "div",
                        {
                          staticClass: "component-lib__empty",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "component-lib__empty-text",
                            },
                            [
                              e._v(
                                "组件是可以在设计中重复使用的元素，并能实现一处修改全局同步。"
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "component-lib__empty-li",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticStyle: {
                                    "font-weight": "600",
                                  },
                                },
                                [e._v("创建组件")]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "component-lib__empty-desc",
                                },
                                [
                                  i("span", [e._v("选中图层，点击顶部工具栏")]),
                                  e._v(" "),
                                  i("ComponentTopBarIcon", {
                                    staticClass: "component-lib__empty-icon",
                                    staticStyle: {
                                      width: "14px",
                                      height: "14px",
                                    },
                                  }),
                                  e._v(" "),
                                  i("span", [
                                    e._v(
                                      "按钮创建组件并显示在这里，拖动到画布即可使用。"
                                    ),
                                  ]),
                                  e.IS_PRI
                                    ? e._e()
                                    : i(
                                        "span",
                                        {
                                          staticClass:
                                            "component-lib__empty-more",
                                          on: {
                                            click: e.openLink,
                                          },
                                        },
                                        [e._v("学习更多组件技巧")]
                                      ),
                                ],
                                1
                              ),
                              i("img", {
                                staticClass: "component-lib__empty-gif",
                                attrs: {
                                  src: e.addComponentUrl,
                                },
                              }),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "component-lib__empty-li",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticStyle: {
                                    "font-weight": "600",
                                  },
                                },
                                [e._v("使用其他文件内的组件")]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "component-lib__empty-desc",
                                },
                                [
                                  i("span", [e._v("点击上方")]),
                                  e._v(" "),
                                  i("TeamLibraryIcon", {
                                    staticClass: "component-lib__empty-icon",
                                    staticStyle: {
                                      width: "14px",
                                      height: "14px",
                                    },
                                  }),
                                  e._v(" "),
                                  i("span", [
                                    e._v(
                                      "按钮，开启团队库或预置组件库开关后，可以在组件面板调用组件。"
                                    ),
                                  ]),
                                  e.IS_PRI
                                    ? e._e()
                                    : i(
                                        "span",
                                        {
                                          staticClass:
                                            "component-lib__empty-more",
                                          on: {
                                            click: e.openGuideLink,
                                          },
                                        },
                                        [e._v("如何添加团队库？")]
                                      ),
                                ],
                                1
                              ),
                              i("img", {
                                staticClass: "component-lib__empty-gif",
                                attrs: {
                                  src: e.useTeamLibraryUrl,
                                },
                              }),
                            ]
                          ),
                        ]
                      )
                    : e._e(),
                ],
                1
              ),
              i("TeamLibraryDialog", {
                attrs: {
                  openDialog: e.openDialog,
                },
                on: {
                  "update:openDialog": function (t) {
                    e.openDialog = t;
                  },
                  "update:open-dialog": function (t) {
                    e.openDialog = t;
                  },
                },
              }),
              e.isShowGuide
                ? i(
                    "div",
                    {
                      staticClass: "component-lib__guide",
                    },
                    [
                      i(
                        "div",
                        {
                          staticStyle: {
                            "margin-top": "6px",
                          },
                        },
                        [
                          e._v(
                            " 将文件发布为团队库，即可跨文件使用此文件内的组件样式。 "
                          ),
                          i(
                            "div",
                            {
                              staticClass: "component-lib__guide-more",
                            },
                            [
                              i(
                                "span",
                                {
                                  staticStyle: {
                                    cursor: "pointer",
                                  },
                                  on: {
                                    click: e.openGuideLink,
                                  },
                                },
                                [e._v("了解如何操作")]
                              ),
                              i("ArrowRightIcon", {
                                staticStyle: {
                                  "margin-left": "4px",
                                },
                                attrs: {
                                  size: "14",
                                },
                              }),
                            ],
                            1
                          ),
                        ]
                      ),
                      i("MasterButtonIcon", {
                        key: "close",
                        staticClass: "component-lib__guide-icon",
                        attrs: {
                          icon: "TimesIcon",
                        },
                        on: {
                          click: e.onClose,
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
            ],
            1
          );
        },
        Qh = [],
        Yh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              style: {
                height: e.libCount > 0 ? "100%" : "",
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "component-lib",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "component-lib-header",
                    },
                    [
                      i("MInput", {
                        ref: "input",
                        staticClass: "component-lib__input",
                        attrs: {
                          size: "xs",
                          placeholder: "搜索组件...",
                          borderAction: "none",
                          "data-tours-name": "search_component",
                        },
                        scopedSlots: e._u([
                          {
                            key: "prefix",
                            fn: function () {
                              return [
                                i(
                                  "div",
                                  {
                                    staticClass: "label-icon",
                                  },
                                  [
                                    i("SearchIcon", {
                                      attrs: {
                                        size: "13",
                                        opacity: "0.5",
                                      },
                                    }),
                                  ],
                                  1
                                ),
                              ];
                            },
                            proxy: !0,
                          },
                        ]),
                        model: {
                          value: e.searchValue,
                          callback: function (t) {
                            e.searchValue = t;
                          },
                          expression: "searchValue",
                        },
                      }),
                      i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: {
                              content: e.listIconData[e.menuType].tooltip,
                              delay: {
                                start: 0,
                                end: 0,
                              },
                            },
                            expression:
                              "{ content: listIconData[menuType].tooltip, delay: {start: 0, end: 0} }",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          icon: e.listIconData[e.menuType].icon,
                          "data-tours-name": "show_as",
                        },
                        on: {
                          click: e.handleListStyleSwitch,
                        },
                      }),
                      i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "feature",
                            rawName: "v-feature",
                            value: "teamlibrary",
                            expression: "'teamlibrary'",
                          },
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "团队库",
                            expression: "'团队库'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        key: "subscribe",
                        staticClass: "component-lib__icon",
                        class: {
                          active: e.openDialog,
                          badge: e.componentBadge,
                        },
                        attrs: {
                          icon: "TeamLibraryIcon",
                          "data-tours-name": "team_library",
                        },
                        on: {
                          click: function (t) {
                            return e.handleLibIcon(!0);
                          },
                        },
                      }),
                    ],
                    1
                  ),
                  e.currentTopTitle
                    ? i(
                        "div",
                        {
                          staticClass: "component-lib-top",
                        },
                        [
                          e.currentTopTitle.topLib
                            ? i(
                                "div",
                                {
                                  staticClass: "component-lib-top__title",
                                },
                                [
                                  e._v(
                                    " " + e._s(e.currentTopTitle.topLib) + " "
                                  ),
                                  e.currentTopTitle.topTitle
                                    ? [e._v(" /")]
                                    : e._e(),
                                ],
                                2
                              )
                            : e._e(),
                          i("div", [
                            e._v(" " + e._s(e.currentTopTitle.topTitle)),
                          ]),
                        ]
                      )
                    : e._e(),
                  i(
                    "div",
                    {
                      ref: "container",
                      staticClass: "component-lib-container overflow-overlay-y",
                    },
                    [
                      i(
                        "span",
                        {
                          directives: [
                            {
                              name: "show",
                              rawName: "v-show",
                              value: !e.searchValue,
                              expression: "!searchValue",
                            },
                          ],
                        },
                        [
                          e.showLocalComponent
                            ? i(
                                "Collapse",
                                {
                                  ref: "localRef",
                                  staticClass: "component-lib-collapse",
                                  attrs: {
                                    defaultOpen: e.getOpen(e.LOCAL, ""),
                                    title: "本地",
                                  },
                                  on: {
                                    change: function (t) {
                                      return e.handleOpen(e.LOCAL, {
                                        catalogId: "",
                                        flag: t,
                                      });
                                    },
                                  },
                                },
                                e._l(e.pageIdList, function (t) {
                                  return i(
                                    "span",
                                    {
                                      key: t,
                                    },
                                    [
                                      e.cascadeCatalogMap[t]
                                        ? i("ComponentBox", {
                                            staticClass: "component-lib-set",
                                            attrs: {
                                              parent: "",
                                              catalogId: t,
                                              cascadeCatalogMap:
                                                e.cascadeCatalogMap,
                                              componentMap: e.componentMap,
                                              type: e.menuType,
                                              pageMap: e.pageMap,
                                              defaultOpen: e.getOpen(
                                                e.LOCAL,
                                                t
                                              ),
                                              getOpen: e.getOpen,
                                              openType: e.LOCAL,
                                            },
                                            on: {
                                              change: function (t) {
                                                return e.handleOpen(e.LOCAL, t);
                                              },
                                              titleChange: function (t) {
                                                return e.titleChange(
                                                  e.LOCAL,
                                                  t
                                                );
                                              },
                                            },
                                          })
                                        : e._e(),
                                    ],
                                    1
                                  );
                                }),
                                0
                              )
                            : e._e(),
                          e._l(e.libraryListByGlobal, function (t, s) {
                            return i(
                              "Collapse",
                              {
                                key: t.libraryId,
                                ref: "callapseRef",
                                refInFor: !0,
                                staticClass: "component-lib-collapse",
                                attrs: {
                                  title: e.decodePageName(t.libraryName),
                                  defaultOpen: e.getOpen(t.libraryId, ""),
                                  showHelpTip: e.showHelpTip(t, s),
                                },
                                on: {
                                  change: function (i) {
                                    return e.handleOpen(t.libraryId, {
                                      catalogId: "",
                                      flag: i,
                                    });
                                  },
                                },
                              },
                              e._l(e.formatPageData(t.pageMap), function (s) {
                                return i(
                                  "span",
                                  {
                                    key: s.id,
                                  },
                                  [
                                    t.cascadeCatalogMap[s.id]
                                      ? i("ComponentBox", {
                                          staticClass: "component-lib-set",
                                          attrs: {
                                            catalogId: s.id,
                                            cascadeCatalogMap:
                                              t.cascadeCatalogMap,
                                            componentMap: t.componentMap,
                                            type: e.menuType,
                                            pageMap: t.pageMap,
                                            defaultOpen: e.getOpen(
                                              t.libraryId,
                                              s.id
                                            ),
                                            getOpen: e.getOpen,
                                            openType: t.libraryId,
                                          },
                                          on: {
                                            change: function (i) {
                                              return e.handleOpen(
                                                t.libraryId,
                                                i
                                              );
                                            },
                                            titleChange: function (i) {
                                              return e.titleChange(
                                                t.libraryId,
                                                i
                                              );
                                            },
                                          },
                                        })
                                      : e._e(),
                                  ],
                                  1
                                );
                              }),
                              0
                            );
                          }),
                        ],
                        2
                      ),
                      e.searchValue
                        ? i("ComponentBox", {
                            staticClass: "component-lib-set",
                            attrs: {
                              searchResult: e.searchList,
                              type: e.menuType,
                              componentMap: e.componentMap,
                              pageMap: {},
                            },
                          })
                        : e._e(),
                    ],
                    1
                  ),
                ]
              ),
              e.createInstanceKey
                ? i(
                    "div",
                    {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: e.dragStart,
                          expression: "dragStart",
                        },
                      ],
                      ref: "dragImage",
                      staticClass: "component-lib__dragimage",
                      style: {
                        left: e.movePositionX + "px",
                        top: e.movePositionY + "px",
                        width: e.dragImageW + "px",
                        height: e.dragImageH + "px",
                        transform:
                          "translate(" +
                          e.dragImageTranslateX +
                          "px," +
                          e.dragImageTranslateY +
                          "px)",
                      },
                    },
                    [
                      i("img", {
                        attrs: {
                          src: e.moveDragImage,
                          draggable: !1,
                          width: e.moveImageW,
                          height: e.moveImageH,
                          alt: "",
                        },
                      }),
                    ]
                  )
                : e._e(),
            ]
          );
        },
        Xh = [],
        Zh = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "component-box__container",
            },
            [
              e.searchResult
                ? i(
                    "div",
                    {
                      staticClass: "component-box__list",
                      class: ["component-box__list--" + e.itemType],
                    },
                    e._l(e.item.children, function (t) {
                      return i(
                        "div",
                        {
                          key: t.ukey,
                          ref: "componentItem",
                          refInFor: !0,
                          staticClass: "component-item_container",
                          class: ["component-item_container--" + e.itemType],
                          attrs: {
                            "data-id": t.ukey,
                          },
                        },
                        [
                          e.showComponentMap[t.ukey]
                            ? i("ComponentItem", {
                                attrs: {
                                  data: t,
                                  "item-type": e.itemType,
                                  needLazy: !0,
                                },
                                on: {
                                  click: e.clickHandler,
                                },
                              })
                            : e._e(),
                        ],
                        1
                      );
                    }),
                    0
                  )
                : [
                    e.isShowTitle
                      ? i(
                          "div",
                          {
                            ref: "title",
                            staticClass:
                              "component-box__title component-box__title-page component-box__title--collapse",
                            on: {
                              click: e.onChange,
                            },
                          },
                          [
                            i("CaretDownIcon", {
                              class: [
                                "component-box__icon",
                                {
                                  "component-box__icon-active": e.toggle,
                                },
                              ],
                              attrs: {
                                rotate: e.toggle ? "0" : "-90",
                              },
                            }),
                            i(
                              "div",
                              {
                                staticClass: "component-box__title-text",
                              },
                              [
                                e.parentCatalog
                                  ? i(
                                      "span",
                                      {
                                        staticClass:
                                          "component-box__main-title",
                                      },
                                      [
                                        e._v(
                                          e._s(
                                            e.parentCatalog
                                              .split("/")
                                              .join(" / ")
                                          ) + " / "
                                        ),
                                      ]
                                    )
                                  : e._e(),
                                e._v(
                                  e._s(e.decodePageName(e.name.join(" / "))) +
                                    " "
                                ),
                              ]
                            ),
                          ],
                          1
                        )
                      : e._e(),
                    i(
                      "div",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: e.toggle,
                            expression: "toggle",
                          },
                        ],
                      },
                      [
                        e.componentList.length > 0
                          ? i(
                              "div",
                              {
                                staticClass: "component-box__list",
                                class: ["component-box__list--" + e.itemType],
                              },
                              [
                                e._l(e.componentList, function (t) {
                                  return [
                                    i(
                                      "div",
                                      {
                                        key: t.id,
                                        ref: "componentItem",
                                        refInFor: !0,
                                        staticClass: "component-item_container",
                                        class: [
                                          "component-item_container--" +
                                            e.itemType,
                                        ],
                                        attrs: {
                                          "data-id": t.id,
                                        },
                                      },
                                      [
                                        e.showComponentMap[t.id]
                                          ? i("ComponentItem", {
                                              attrs: {
                                                needLazy: !0,
                                                "item-type": e.itemType,
                                                data: e.componentMap[t.id],
                                              },
                                              on: {
                                                click: e.clickHandler,
                                              },
                                            })
                                          : e._e(),
                                      ],
                                      1
                                    ),
                                  ];
                                }),
                              ],
                              2
                            )
                          : e._e(),
                        e._l(
                          e.item.children.filter(function (e) {
                            return !e.isComponent;
                          }),
                          function (t) {
                            return [
                              i("component-box", {
                                key: t.id,
                                attrs: {
                                  parent: e.current,
                                  parentCatalog: e.currentCatalog,
                                  catalogId: e.catalogId + ":" + t.id,
                                  cascadeCatalogMap: e.cascadeCatalogMap,
                                  componentMap: e.componentMap,
                                  type: e.type,
                                  pageMap: e.pageMap,
                                  parentShowTitle:
                                    e.isShowTitle && e.parentShowTitle,
                                  getOpen: e.getOpen,
                                  openType: e.openType,
                                  searchResult: e.searchResult,
                                  defaultOpen: e.getOpen(
                                    e.openType,
                                    e.catalogId + ":" + t.id
                                  ),
                                },
                                on: {
                                  change: function (t) {
                                    return e.$emit("change", t);
                                  },
                                  titleChange: function (t) {
                                    return e.$emit("titleChange", t);
                                  },
                                },
                              }),
                            ];
                          }
                        ),
                      ],
                      2
                    ),
                  ],
            ],
            2
          );
        },
        Jh = [],
        ep = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              directives: [
                {
                  name: "tip",
                  rawName: "v-tip.bottom",
                  value: {
                    content:
                      "list" === e.menuType
                        ? ""
                        : "<div>" +
                          e.data.labelName +
                          "<div style='opacity: 0.5'>" +
                          e.data.description +
                          "</div></div>",
                    offset: "3px",
                  },
                  expression:
                    "{\n    content: menuType === 'list' ? '' : `<div>${data.labelName}<div style='opacity: 0.5'>${data.description}</div></div>`,\n    offset: '3px',\n  }",
                  modifiers: {
                    bottom: !0,
                  },
                },
              ],
              ref: "image",
              staticClass: "component-item_container_inner",
              class: [e.selected ? "active" : ""],
              attrs: {
                draggable: !1,
              },
              on: {
                mousedown: e.dragstart,
                click: e.clickHandler,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "component-item__content",
                  style: {
                    backgroundColor: e.componentBg,
                  },
                },
                [
                  e.data.cover
                    ? i("img", {
                        staticClass: "component-item__img",
                        staticStyle: {
                          "min-width": "5px",
                          "min-height": "5px",
                        },
                        attrs: {
                          width: e.data.width,
                          height: e.data.height,
                          src: e.data.cover,
                        },
                      })
                    : e._e(),
                ]
              ),
              "list" === e.itemType
                ? i(
                    "div",
                    {
                      staticClass: "component-item__name",
                    },
                    [e._v(" " + e._s(e.data.labelName) + " ")]
                  )
                : e._e(),
            ]
          );
        },
        tp = [];
      let ip = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.buildImage = Object(c["debounce"])(this._buildImage, 500));
        }
        _buildImage() {
          if (!this.data.isLibrary)
            try {
              this.getComponentItemCover(this.data.id);
            } catch (e) {}
        }
        get selected() {
          return this.selectIds.includes(this.data.id);
        }
        get componentBg() {
          const e = this.data.backgroundColor;
          if (e) return `rgb(${255 * e.red},${255 * e.green},${255 * e.blue})`;
        }
        dragstart(e) {
          this.mousedownHandler(
            e,
            this.data.cover,
            this.data.isLibrary ? this.data.ukey : this.data.id,
            this.data.width,
            this.data.height
          ),
            this.data.isLibrary && Co["a"].createCache(this.data);
        }
        clickHandler() {
          this.data.isLibrary || this.$emit("click", this.data.id);
        }
      };
      Object(a["__decorate"])([Object(n["e"])()], ip.prototype, "data", void 0),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "small",
            }),
          ],
          ip.prototype,
          "itemType",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          ip.prototype,
          "needLazy",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data.componentSignature", {
              immediate: !0,
            }),
          ],
          ip.prototype,
          "buildImage",
          void 0
        ),
        (ip = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign({}, Object(r["e"])("basicState", ["selectIds"])),
                Object(r["e"])({
                  menuType: (e) => {
                    var t;
                    return null !== (t = e.file.settings.componentMenuType) &&
                      void 0 !== t
                      ? t
                      : "grid";
                  },
                })
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["getComponentItemCover"])
              ),
              inject: ["mousedownHandler"],
            }),
          ],
          ip
        ));
      var sp = ip,
        op = sp,
        ap =
          (i("4c24"), Object(_["a"])(op, ep, tp, !1, null, "cdc46330", null)),
        np = ap.exports;
      let rp = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.toggle = !1),
            (this.decodePageName = Z["x"]),
            (this.itemType = ""),
            (this.showComponentMap = {});
        }
        defaultOpenChange(e) {
          this.parentShowTitle || this.isShowTitle
            ? "boolean" === typeof e && (this.toggle = e)
            : (this.toggle = !0);
        }
        hander() {
          this.isShowTitle &&
            this.$nextTick(() => {
              this.observeDom();
            });
        }
        get componentList() {
          return this.item.children.filter((e) => e.isComponent);
        }
        get isShowTitle() {
          return this.isShow && (this.showPageName || this.item.parent);
        }
        get showPageName() {
          return (
            Object.keys(this.pageMap).filter(
              (e) => void 0 !== this.cascadeCatalogMap[e]
            ).length > 1
          );
        }
        get isShow() {
          const e = this.pageMap[this.catalogId];
          return (
            !(!e || !this.showPageName) ||
            this.componentList.length > 0 ||
            this.item.children.length > 1
          );
        }
        get current() {
          const e = this.pageMap[this.catalogId];
          let t = "";
          return (
            this.item.isComponent
              ? (t = this.cascadeCatalogMap[this.item.id].name)
              : e && this.showPageName
              ? (t = e.name)
              : e || (t = this.item.id),
            [this.parent, t].filter(Boolean).join("/")
          );
        }
        get currentCatalog() {
          return this.isShowTitle
            ? [this.parent, ...this.itemName].filter(Boolean).join("/")
            : this.parentCatalog;
        }
        get name() {
          const e = this.parent.substring(this.parentCatalog.length).split("/");
          return [...e, ...this.itemName].filter(Boolean);
        }
        get item() {
          return this.searchResult
            ? {
                children: this.searchResult,
              }
            : this.cascadeCatalogMap[this.catalogId];
        }
        get itemName() {
          var e, t;
          let i = this.item.id;
          return (
            this.item.parent ||
              (i =
                null !==
                  (t =
                    null === (e = this.pageMap[this.item.id]) || void 0 === e
                      ? void 0
                      : e.name) && void 0 !== t
                  ? t
                  : ""),
            i.split("/")
          );
        }
        get _itemType() {
          if ("grid" === this.type) {
            let e = this.searchResult;
            if (
              (this.searchResult ||
                (e = this.item.children.filter((e) => e.isComponent)),
              e.length > 0)
            ) {
              const t = this.getComponentGridType(e[0]);
              for (let i = 1; i < e.length; i++) {
                const s = this.getComponentGridType(e[i]);
                if (t !== s) return "large";
              }
              return t;
            }
          }
          return "list";
        }
        itemTypeHandler(e) {
          this.itemType = e;
        }
        getComponentGridType(e) {
          let t = e;
          this.searchResult || (t = this.componentMap[e.id]);
          const { width: i, height: s } = t;
          return i && s
            ? i / s >= 3
              ? "wide"
              : i > 64 || s > 64
              ? "large"
              : "small"
            : "large";
        }
        onChange() {
          (this.toggle = !this.toggle),
            this.$emit("change", {
              catalogId: this.catalogId,
              flag: this.toggle,
            });
        }
        clickHandler(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = this.componentMap[e];
            t &&
              (k["a"].mergeStepStart(),
              t.pageId !== this.currentPageId &&
                (yield k["a"].pages.switchPage(t.pageId)),
              k["a"].layers.select([t.id]),
              k["a"].viewPort.fixedToLayer(),
              k["a"].mergeStepEnd());
          });
        }
        lazyloadHandler(e) {
          const t = this.$refs.componentItem;
          if (!(null === t || void 0 === t ? void 0 : t.length)) return;
          const i = {};
          t.forEach((t) => {
            var s;
            if (0 === t.clientWidth) return;
            const o = t.getBoundingClientRect();
            o.top + o.height > e.top &&
              o.top < e.top + e.height &&
              (i[null !== (s = t.dataset.id) && void 0 !== s ? s : ""] = !0);
          }),
            (this.showComponentMap = i);
        }
        observeDom() {
          const e = this.$refs.title;
          e &&
            ((this.ob = new IntersectionObserver(
              (e) => {
                var t, i, s;
                const { top: o } =
                    null !==
                      (i =
                        null === (t = e[0]) || void 0 === t
                          ? void 0
                          : t.boundingClientRect) && void 0 !== i
                      ? i
                      : {},
                  a =
                    null === (s = this.containerRef()) || void 0 === s
                      ? void 0
                      : s.getBoundingClientRect();
                0 !== o &&
                  o - (null === a || void 0 === a ? void 0 : a.top) < 0 &&
                  this.$emit("titleChange", {
                    name: [
                      this.parent,
                      Object(Z["x"])(this.itemName.join(" / ")),
                    ]
                      .filter(Boolean)
                      .join(" / "),
                    isIntersecting: e[0].isIntersecting,
                  });
              },
              {
                root: this.containerRef(),
                threshold: [0.9],
              }
            )),
            this.ob.observe(e));
        }
        mounted() {
          this.getScrollEventName &&
            this.$eventBus.$on(this.getScrollEventName(), this.lazyloadHandler),
            this.$nextTick(() => {
              this.observeDom();
            });
        }
        beforeDestroy() {
          this.getScrollEventName &&
            this.$eventBus.$off(
              this.getScrollEventName(),
              this.lazyloadHandler
            ),
            this.ob && this.ob.disconnect();
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])()],
        rp.prototype,
        "catalogId",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: () => {},
            }),
          ],
          rp.prototype,
          "pageMap",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          rp.prototype,
          "openType",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          rp.prototype,
          "cascadeCatalogMap",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          rp.prototype,
          "componentMap",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          rp.prototype,
          "searchResult",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "grid",
            }),
          ],
          rp.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          rp.prototype,
          "defaultOpen",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "",
              required: !1,
            }),
          ],
          rp.prototype,
          "parent",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: "",
              required: !1,
            }),
          ],
          rp.prototype,
          "parentCatalog",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: () => {},
            }),
          ],
          rp.prototype,
          "getOpen",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          rp.prototype,
          "parentShowTitle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("defaultOpen", {
              immediate: !0,
            }),
          ],
          rp.prototype,
          "defaultOpenChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isShowTitle")],
          rp.prototype,
          "hander",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("_itemType", {
              immediate: !0,
            }),
          ],
          rp.prototype,
          "itemTypeHandler",
          null
        ),
        (rp = Object(a["__decorate"])(
          [
            Object(n["a"])({
              name: "componentBox",
              components: {
                ComponentItem: np,
              },
              computed: Object.assign(
                {},
                Object(r["e"])("basicState", ["currentPageId"])
              ),
              inject: ["getScrollEventName", "containerRef"],
            }),
          ],
          rp
        ));
      var cp = rp,
        lp = cp,
        dp =
          (i("0b34"), Object(_["a"])(lp, Zh, Jh, !1, null, "1bcd7427", null)),
        up = dp.exports,
        hp = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "master-collapse",
            },
            [
              i(
                "div",
                {
                  ref: "title",
                  staticClass: "master-collapse__title transition",
                  on: {
                    click: e.handleCollapseChange,
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "master-collapse__title__text",
                    },
                    [e._v(e._s(e.title))]
                  ),
                  i("AngleDownIcon", {
                    style: {
                      transform: e.innerValue ? "rotate(0)" : "rotate(-90deg)",
                    },
                    attrs: {
                      size: "14",
                    },
                  }),
                ],
                1
              ),
              i(
                "span",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: e.innerValue,
                      expression: "innerValue",
                    },
                  ],
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        pp = [];
      let mp = class extends n["g"] {
        constructor() {
          super(...arguments), (this.innerValue = !1);
        }
        defaultOpenChange(e) {
          this.innerValue = e;
        }
        created() {
          this.innerValue = this.defaultOpen;
        }
        handleCollapseChange() {
          (this.innerValue = !this.innerValue),
            this.$emit("change", this.innerValue);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        mp.prototype,
        "defaultOpen",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          mp.prototype,
          "showHelpTip",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          mp.prototype,
          "title",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("defaultOpen")],
          mp.prototype,
          "defaultOpenChange",
          null
        ),
        (mp = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {},
            }),
          ],
          mp
        ));
      var gp = mp,
        bp = gp,
        vp =
          (i("606b"), Object(_["a"])(bp, hp, pp, !1, null, "4e165f8e", null)),
        fp = vp.exports;
      const yp = "local";
      let _p = 1;
      function Cp(e, t) {
        return `${e}:${t}`;
      }
      let Sp = class extends Po {
        constructor() {
          super(...arguments),
            (this.searchValue = ""),
            (this.dragImageTranslateX = 0),
            (this.dragImageTranslateY = 0),
            (this.dragImageW = 0),
            (this.dragImageH = 0),
            (this.movePositionX = 0),
            (this.movePositionY = 0),
            (this.moveDragImage = ""),
            (this.moveImageW = void 0),
            (this.moveImageH = void 0),
            (this.createInstanceKey = ""),
            (this.dragStart = !1),
            (this.listIconData = We["g"]),
            (this.searchList = []),
            (this.formatPageData = Z["D"]),
            (this.decodePageName = Z["x"]),
            (this.LOCAL = yp),
            (this.topStacks = []),
            (this.mCompState = {}),
            (this.SEARCH_TYPE = ""),
            (this.scrollIndex = _p++),
            (this.searchValueHandler = Object(c["debounce"])(
              this.searchHandler,
              500
            ));
        }
        get componentBadge() {
          var e;
          const { teamRole: t } =
            null !== (e = this.currentDocument) && void 0 !== e ? e : {};
          return (this.needPublish || this.needUpdate) && "" !== t;
        }
        get libraryListByGlobal() {
          const e = Object(Z["D"])(
              this.libraryList.map((e) => ({
                id: e.libraryId,
                name: e.libraryName,
              }))
            ),
            t = [],
            i = {};
          return (
            this.libraryList.forEach((e) => {
              i[e.libraryId] = e;
            }),
            e.forEach((e) => {
              t.push(i[e.id]);
            }),
            t
          );
        }
        getScrollEventName() {
          return "component-lazy-scroll-" + this.scrollIndex;
        }
        libraryChange() {
          this.$nextTick(() => {
            this.scrollHandler();
          });
        }
        containerRef() {
          return this.$refs.container;
        }
        get currentTopTitle() {
          return this.topStacks[this.topStacks.length - 1];
        }
        titleChange(e, t) {
          var i, s, o;
          t.isIntersecting
            ? this.topStacks.pop()
            : this.topStacks.push({
                topTitle: null !== (i = t.name) && void 0 !== i ? i : "",
                topLib:
                  null !== (s = t.topLib) && void 0 !== s
                    ? s
                    : e === yp
                    ? "本地"
                    : null ===
                        (o = this.libraryListByGlobal.find(
                          (t) => t.libraryId === e
                        )) || void 0 === o
                    ? void 0
                    : o.libraryName,
              });
        }
        get libCount() {
          return (
            (this.showLocalComponent > 0 ? 1 : 0) +
            this.libraryListByGlobal.length
          );
        }
        changeLibray(e, t) {
          (e > t || 1 === e) && this.setCatalogOpen(),
            this.$nextTick(() => {
              this.observeDom();
            });
        }
        setCatalogOpen() {
          const e = this.libCount > 1;
          this.showLocalComponent &&
            this.handleOpen(yp, {
              catalogId: "",
              flag: !e,
            }),
            this.libraryListByGlobal.forEach((t) => {
              this.handleOpen(t.libraryId, {
                catalogId: "",
                flag: !e,
              });
            });
        }
        setInitCatalogOpen() {
          const e = this.libCount > 1;
          if (this.showLocalComponent) {
            const t = this.getOpen(yp, "");
            this.handleOpen(yp, {
              catalogId: "",
              flag: "boolean" === typeof t ? t : !e,
            });
          }
          this.libraryListByGlobal.forEach((t) => {
            const i = this.getOpen(t.libraryId, "");
            this.handleOpen(t.libraryId, {
              catalogId: "",
              flag: "boolean" === typeof i ? i : !e,
            });
          });
        }
        get isAllGlobal() {
          return this.libraryList.every((e) => e.isGlobal);
        }
        showHelpTip(e, t) {
          return (
            this.showComponnetHelpTip &&
            this.isAllGlobal &&
            !this.showLocalComponent &&
            e.isGlobal &&
            0 === t
          );
        }
        getOpen(e, t) {
          const i =
              "undefined" === typeof this.compState
                ? this.mCompState
                : this.compState(),
            s = Cp(e, t);
          return i[s];
        }
        handleOpen(e, t) {
          const i = Cp(null !== e && void 0 !== e ? e : yp, t.catalogId);
          "undefined" === typeof this.setCompState
            ? (this.mCompState[i] = t.flag)
            : this.setCompState(i, t.flag),
            this.$nextTick(() => {
              this.scrollHandler();
            });
        }
        visibleHandler() {
          this.visible &&
            this.$nextTick(() => {
              this.scrollHandler();
            });
        }
        menuTypeHandler() {
          this.$nextTick(() => {
            this.scrollHandler();
          });
        }
        catalogMapHandler() {
          this.$nextTick(() => {
            this.scrollHandler();
          });
        }
        searchHandler() {
          this.searchValue
            ? this.search(this.searchValue)
            : (this.searchList = []),
            this.$nextTick(() => {
              this.scrollHandler();
            });
        }
        get showLocalComponent() {
          return Object.values(this.cascadeCatalogMap).length;
        }
        handleListStyleSwitch() {
          const e = "list" === this.menuType ? "grid" : "list",
            t = this.$store.state.file;
          t.id &&
            (this.$store.commit(
              "file/setFileSettings",
              Object.assign(
                Object.assign({}, this.$store.state.file.settings),
                {
                  componentMenuType: e,
                }
              )
            ),
            Object(ie["fd"])(t.id, t.settings));
        }
        mousedownHandler(e, t, i, s, o) {
          if (1 !== e.buttons) return;
          const a = e.target.getBoundingClientRect();
          (this.movePositionX = e.pageX),
            (this.movePositionY = e.pageY),
            (this.dragImageH = a.height),
            (this.dragImageW = a.width),
            (this.dragImageTranslateX = a.left - e.pageX),
            (this.dragImageTranslateY = a.top - e.pageY),
            (this.moveDragImage = t),
            (this.createInstanceKey = i),
            (this.moveImageW = s || void 0),
            (this.moveImageH = o || void 0),
            (this.dragStart = !1),
            this.$nextTick(() => {
              document.body.appendChild(this.$refs.dragImage);
            }),
            (l["b"].isComponentDrag = !0),
            document.body.addEventListener("mousemove", this.mousemoveHandler),
            document.body.addEventListener("mouseup", this.mouseupHandler);
        }
        mousemoveHandler(e) {
          1 === e.buttons
            ? ((this.dragStart = !0),
              this.throttleMousemove ||
                (this.throttleMousemove = (() => {
                  let e;
                  return (t) => {
                    e ||
                      (e = requestAnimationFrame(() => {
                        (e = null),
                          (this.movePositionX = t.pageX),
                          (this.movePositionY = t.pageY);
                      }));
                  };
                })()),
              this.throttleMousemove(e))
            : this.mouseupHandler();
        }
        mouseupHandler(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            document.body.removeEventListener(
              "mousemove",
              this.mousemoveHandler
            ),
              document.body.removeEventListener("mouseup", this.mouseupHandler);
            const t = this.createInstanceKey;
            (this.createInstanceKey = ""),
              (this.moveDragImage = ""),
              (this.dragStart = !1),
              (l["b"].isComponentDrag = !1);
            const i = document.getElementById("middleContainer"),
              { offsetTop: s, offsetLeft: o } = i;
            if (
              (null === e || void 0 === e ? void 0 : e.target) === O["a"].canvas
            ) {
              const i = k["a"].convertCoordinates(e.clientX - o, e.clientY - s),
                n = Co["a"].getCache(t);
              if (n)
                try {
                  const e = yield n.buffer;
                  e &&
                    O["a"].fbcommand(
                      At["a"].CreateComponentsFromFB,
                      "",
                      "",
                      e.data
                    ),
                    k["a"].createLibraryInstance(
                      n.data.ukey,
                      String(n.data.componentSignature),
                      i.x,
                      i.y
                    );
                } catch (a) {
                  x["r"].show(
                    "无法添加此实例，请检查网络状态",
                    "top",
                    "destructive"
                  );
                }
              else k["a"].createInstance(t, i.x, i.y);
              x["n"].setLog("INFO", "userAction", "create_instance", {
                position: "drag",
              });
            }
          });
        }
        searchCallback(e) {
          (this.searchList = e
            .map((e) => this.allComponentMap[e])
            .filter(Boolean)),
            this.$nextTick(() => {
              this.scrollHandler();
            });
        }
        scrollHandler() {
          var e, t;
          if (!this.$refs.container) return;
          const i =
              null === (e = this.$refs.container) || void 0 === e
                ? void 0
                : e.scrollTop,
            s =
              null === (t = this.$refs.container) || void 0 === t
                ? void 0
                : t.getBoundingClientRect();
          this.$eventBus.$emit(this.getScrollEventName(), {
            top: s.top,
            height: s.height,
          }),
            this.setCompOffset &&
              (this.setCompOffset(i),
              this.setCompTopStacks &&
                this.setCompTopStacks([...this.topStacks])),
            0 === i &&
              ((this.topStacks = []),
              this.setCompTopStacks && this.setCompTopStacks([]));
        }
        observeDom() {
          var e, t, i;
          const s =
            null === (e = this.$refs.container) || void 0 === e
              ? void 0
              : e.getBoundingClientRect();
          this.ob = new IntersectionObserver(
            (e) => {
              var t, i, o, a;
              const n =
                  null !==
                    (i =
                      null === (t = e[0]) || void 0 === t
                        ? void 0
                        : t.boundingClientRect) && void 0 !== i
                    ? i
                    : {},
                { top: r } = n;
              0 !== r &&
                r - s.top < 0 &&
                this.titleChange("", {
                  topLib:
                    null === (o = e[0]) || void 0 === o
                      ? void 0
                      : o.target.innerText,
                  isIntersecting:
                    null === (a = e[0]) || void 0 === a
                      ? void 0
                      : a.isIntersecting,
                });
            },
            {
              root: this.$refs.container,
              threshold: [0.9],
            }
          );
          const o = this.$refs.localRef,
            a = this.$refs.callapseRef;
          (null === (t = null === o || void 0 === o ? void 0 : o.$refs) ||
          void 0 === t
            ? void 0
            : t.title) &&
            this.ob.observe(
              null === (i = null === o || void 0 === o ? void 0 : o.$refs) ||
                void 0 === i
                ? void 0
                : i.title
            ),
            (null !== a && void 0 !== a ? a : []).forEach((e) => {
              this.ob.observe(e.$refs.title);
            });
        }
        mounted() {
          if (
            (this.focusInput(),
            this.setLibraryComponentList(),
            (this.SEARCH_TYPE = this.type),
            this.compScrollOffset && this.$refs.container)
          ) {
            const e = this.compTopStacks ? this.compTopStacks() : [],
              t = this.compScrollOffset();
            requestAnimationFrame(() => {
              (this.$refs.container.scrollTop = t),
                setTimeout(() => {
                  this.topStacks = e;
                }, 100);
            });
          }
          this.$refs.container.addEventListener("scroll", this.scrollHandler),
            this.setInitCatalogOpen(),
            this.observeDom(),
            requestAnimationFrame(() => {
              this.scrollHandler();
            });
        }
        beforeDestroy() {
          this.$refs.container.removeEventListener(
            "scroll",
            this.scrollHandler
          ),
            this.ob && this.ob.disconnect();
        }
        focusInput() {
          setTimeout(() => {
            this.$refs.input.focus();
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("libraryListByGlobal", {
            immediate: !0,
          }),
        ],
        Sp.prototype,
        "libraryChange",
        null
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("libCount")],
          Sp.prototype,
          "changeLibray",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Sp.prototype,
          "showComponnetHelpTip",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          Sp.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: "",
            }),
          ],
          Sp.prototype,
          "openDialog",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])()],
          Sp.prototype,
          "handleLibIcon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Sp.prototype,
          "visible",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("visible")],
          Sp.prototype,
          "visibleHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("searchValue", {
              immediate: !0,
            }),
          ],
          Sp.prototype,
          "searchValueHandler",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("menuType")],
          Sp.prototype,
          "menuTypeHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("catalogMap")],
          Sp.prototype,
          "catalogMapHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: !1,
              required: !1,
            }),
          ],
          Sp.prototype,
          "dialog",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Sp.prototype,
          "offset",
          void 0
        ),
        (Sp = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])({
                      currentDocument: (e) => e.app.currentDocument,
                      menuType: (e) => {
                        var t;
                        return null !==
                          (t = e.file.settings.componentMenuType) &&
                          void 0 !== t
                          ? t
                          : "grid";
                      },
                      pageIdList: (e) =>
                        Object(Z["D"])(e.pages.map).map((e) => e.id),
                      pageMap: (e) => e.pages.map,
                      componentMap: (e) => e.component.componentMap,
                      libraryList: (e) => e.component.libraryList,
                      cascadeCatalogMap: (e) => e.component.cascadeCatalogMap,
                      catalogMap: (e) => e.component.catalogMap,
                    })
                  ),
                  Object(r["e"])("component", ["componentUpdateByWorker"])
                ),
                Object(r["c"])("teamLibrary", ["needPublish", "needUpdate"])
              ),
              inject: {
                compState: {
                  default: () => {},
                },
                setCompState: {
                  default: () => {},
                },
                compScrollOffset: {
                  default: () => 0,
                },
                compTopStacks: {
                  default: () => [],
                },
                setCompOffset: {
                  default: () => {},
                },
                setCompTopStacks: {
                  default: () => {},
                },
              },
              methods: Object.assign(
                {},
                Object(r["b"])("component", ["setLibraryComponentList"])
              ),
              components: {
                ComponentBox: up,
                ComponentItem: np,
                Collapse: fp,
              },
              provide() {
                return {
                  mousedownHandler: this.mousedownHandler,
                  getScrollEventName: this.getScrollEventName,
                  containerRef: this.containerRef,
                };
              },
            }),
          ],
          Sp
        ));
      var Ip = Sp,
        Op = Ip,
        kp =
          (i("87e9"), Object(_["a"])(Op, Yh, Xh, !1, null, "3643f37d", null)),
        wp = kp.exports;
      const xp = "emptyComponentTab",
        Lp =
          "https://mastergo.com/community/resource/58134752751685?utm_source=" +
          xp,
        Ap =
          "https://mastergo.com/community/resource/58134552473611?utm_source=" +
          xp;
      let Tp = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.openDialog = !1),
            (this.isShowGuide = !1),
            (this.componentListState = null),
            (this.addComponentUrl = i("a62a")),
            (this.useTeamLibraryUrl = i("041e"));
        }
        catalogMapHandler() {
          this.showGuide();
        }
        stateChangeHandler() {
          this.showGuide();
        }
        showEmptyChangeHander(e) {
          e && this.showGuideSensors("empty_component_tab");
        }
        showGuideSensors(e) {
          _e["c"].track(_e["a"].EVENT_VIEW, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "components",
            action_parameter2: "education",
            action_parameter3: e,
          });
        }
        showGuide() {
          const e = "component_list_results" === this.type;
          Object.values(this.catalogMap).length &&
          this.componentListState &&
          "component_list_results" === this.type
            ? ((this.isShowGuide = e && !0),
              this.showGuideSensors("lead_to_library"))
            : (this.isShowGuide = e && !1);
        }
        mounted() {
          Ue["a"].getToursListenList().then((e) => {
            this.componentListState =
              null === e || void 0 === e ? void 0 : e.componentListState;
          });
        }
        onClose() {
          (this.isShowGuide = !1),
            this.componentListState &&
              this.componentListState.id &&
              Ue["a"].clearCurrentPopup({
                id: this.componentListState.id,
              });
        }
        openLink() {
          Object(Z["qb"])(Lp);
        }
        openGuideLink() {
          Object(Z["qb"])(Ap);
        }
        handleLibIcon(e) {
          (this.openDialog = e),
            e &&
              _e["c"].track(_e["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "library",
                action_parameter2: "library_btn",
                action_parameter3: "components_tab",
              });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        Tp.prototype,
        "showComponnetHelpTip",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
            }),
          ],
          Tp.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Tp.prototype,
          "visible",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("catalogMap")],
          Tp.prototype,
          "catalogMapHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("componentListState", {
              immediate: !0,
            }),
          ],
          Tp.prototype,
          "stateChangeHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("showEmpty", {
              immediate: !0,
            }),
          ],
          Tp.prototype,
          "showEmptyChangeHander",
          null
        ),
        (Tp = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ComponentList: wp,
                TeamLibraryDialog: Ai,
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])("component", ["libraryList", "catalogMap"])
                ),
                {
                  showEmpty() {
                    return (
                      0 === Object.keys(this.catalogMap).length &&
                      0 === this.libraryList.length
                    );
                  },
                }
              ),
              inject: ["IS_PRI"],
            }),
          ],
          Tp
        ));
      var jp = Tp,
        Mp = jp,
        Ep =
          (i("baea"), Object(_["a"])(Mp, Kh, Qh, !1, null, "c5ba1552", null)),
        Pp = Ep.exports,
        Dp = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "layer_search",
            },
            [
              i(
                "master-dropdown",
                {
                  attrs: {
                    open: e.showSelectorMenu,
                    globalClose: !0,
                    closeWhenSelect: !1,
                    offset: 0,
                  },
                  on: {
                    "update:open": function (t) {
                      e.showSelectorMenu = t;
                    },
                    command: e.changeSelector,
                  },
                },
                [
                  i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: {
                            content: e.typeText || "筛选",
                          },
                          expression: "{content: typeText || '筛选'}",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "layer_search--box",
                      class: {
                        fill: e.typeText,
                      },
                      attrs: {
                        slot: "dropButton",
                        "data-tours-name": "layer_filter",
                      },
                      slot: "dropButton",
                    },
                    [
                      i("SearchIcon", {
                        on: {
                          click: function (t) {
                            e.showSelectorMenu = !e.showSelectorMenu;
                          },
                        },
                      }),
                      i(
                        "div",
                        {
                          staticClass: "layer_search--mutilselector",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "layer_search--arrow",
                            },
                            [i("AngleDownIcon")],
                            1
                          ),
                        ]
                      ),
                    ],
                    1
                  ),
                  i(
                    "template",
                    {
                      slot: "dropMenu",
                    },
                    [
                      i("master-menu", {
                        staticClass: "layer_search--menu",
                        attrs: {
                          list: e.typeOptions,
                          getChecked: e.getChecked,
                        },
                      }),
                    ],
                    1
                  ),
                ],
                2
              ),
              i("master-input", {
                staticClass: "layer_search--input",
                attrs: {
                  noborder: "",
                  value: e.innerKeyword,
                  placeholder: "搜索图层...",
                  "data-tours-name": "search_layer",
                },
                on: {
                  input: e.keywordHandler,
                  keydown: e.keydownHandler,
                  focus: e.onFocus,
                  blur: e.onBlur,
                },
              }),
              e.innerKeyword
                ? i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: {
                            content: "清除",
                          },
                          expression: "{content: '清除'}",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "layer_search--times",
                    },
                    [
                      i("TimesSolidIcon", {
                        nativeOn: {
                          click: function (t) {
                            return e.keywordHandler("");
                          },
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
            ],
            1
          );
        },
        Bp = [];
      let Np = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.innerKeyword = ""),
            (this.setKeywordDebounce = Object(c["debounce"])(
              this._setKeywordDebounce,
              500
            )),
            (this.showSelectorMenu = !1),
            (this.typeOptions = [
              {
                label: "形状",
                masterIcon: "CircleStopStrokeIcon",
                key: j["a"].IS_SHAPE,
                checked: !1,
              },
              {
                label: "文本",
                masterIcon: "TextIcon",
                key: j["a"].IS_TEXT,
                checked: !1,
              },
              {
                label: "图片",
                masterIcon: "ImageIcon",
                key: j["a"].IS_IMAGE,
                checked: !1,
              },
              {
                label: "导出项",
                masterIcon: "SliceLayerIcon",
                key: j["a"].IS_EXPORT,
                checked: !1,
              },
              {
                label: "蒙版",
                masterIcon: "MaskIcon",
                key: j["a"].IS_MASK,
                checked: !1,
              },
              {
                label: "分组",
                masterIcon: "GroupIcon",
                key: j["a"].IS_GROUP,
                checked: !1,
              },
              {
                label: "容器",
                masterIcon: "FrameIcon",
                key: j["a"].IS_FRAME,
                checked: !1,
              },
              {
                label: "组件",
                masterIcon: "ComponentIcon",
                key: j["a"].IS_COMPONENT,
                checked: !1,
              },
            ]),
            (this.keydownHandler = (function (e, t) {
              let i;
              return function (...s) {
                i ? clearTimeout(i) : e(...s),
                  (i = setTimeout(() => {
                    i = null;
                  }, t));
              };
            })(this.keydownDebounce, 500));
        }
        _setKeywordDebounce(e) {
          this.setKeyword(e.trim()),
            e.trim() &&
              this.trackSensors(this.keyword, !!this.typeText, "input");
        }
        keywordHandler(e) {
          (this.innerKeyword = e), this.setKeywordDebounce(e);
        }
        showSelectorMenuHandler(e) {
          e
            ? this.$keyWatcher.addListener("del", this.cleanTypeHandler, !1)
            : this.$keyWatcher.removeListener("del", this.cleanTypeHandler, !1);
        }
        cleanTypeHandler() {
          this.setTypeMap(
            this.typeOptions.map((e) => ({
              key: e.key,
              value: !1,
            }))
          ),
            (this.showSelectorMenu = !1);
        }
        onFocus() {
          _e["c"].track(_e["a"].SEARCH, {
            action_position: "canvas",
            action_type: "click",
            action_parameter0: "design",
            action_parameter1: "layer_index",
            action_parameter2: "layer_index_search",
          });
        }
        onBlur() {
          if (this.innerKeyword) {
            const e = `${
              this.$store.state.main.userInfo.id
            }${new Date().getTime()}`;
            this.setSearchId(e),
              _e["c"].track(_e["a"].SEARCH, {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "layer_index",
                action_parameter2: "layer_index_search",
                action_detail: this.innerKeyword,
                action_count: this.layerCount,
                action_type: "query",
                action_parameter9: e,
              });
          }
        }
        get typeText() {
          const e = [];
          return (
            this.typeMap.forEach((t, i) => {
              t && e.push(this.typeOptions[i].label);
            }),
            e.join("、")
          );
        }
        getChecked(e) {
          return this.typeMap[e.key];
        }
        changeSelector(e) {
          this.setTypeMap([
            {
              key: e.key,
              value: !this.typeMap[e.key],
            },
          ]),
            !this.typeMap[e.key] &&
              this.trackSensors(j["a"][e.key], !!this.innerKeyword, "choose");
        }
        keydownDebounce(e) {
          "Backspace" === e.code &&
            "" === this.innerKeyword &&
            this.cleanTypeHandler();
        }
        trackSensors(e, t, i) {
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "design",
            action_parameter1: "layer_index",
            action_parameter2: "input" === i ? "input_box" : "dropdown_menu",
            action_parameter3: t,
            action_detail: e,
            action_type: i,
          });
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("showSelectorMenu")],
        Np.prototype,
        "showSelectorMenuHandler",
        null
      ),
        (Np = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: Pe["d"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])("newLayer", ["keyword", "typeMap", "layerCount"])
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("newLayer", [
                  "setKeyword",
                  "setTypeMap",
                  "setSearchId",
                ])
              ),
            }),
          ],
          Np
        ));
      var Fp,
        Rp = Np,
        Hp = Rp,
        $p =
          (i("1f72"),
          i("41c3"),
          Object(_["a"])(Hp, Dp, Bp, !1, null, null, null)),
        Vp = $p.exports;
      let zp = (Fp = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isMac = Object(Z["hb"])()),
            (this.searchKey = ""),
            (this.searchFocusing = !1),
            (this.isSearching = !1),
            (this.searchId = ""),
            (this.catalogCount = 1),
            (this.maxHeight = window.innerHeight),
            (this.barHeight = 160),
            (this.lastBarHeight = 160),
            (this.barWidth = 240),
            (this.tab = "layer"),
            (this.renameStatus = ""),
            (this.current = ""),
            (this.banHover = ""),
            (this.selected = !1),
            (this.checkData = {}),
            (this.pageInfo = null),
            (this.LABEL_LIST = Pe["e"].dictionaries.LABEL_LIST()),
            (this.index = -1),
            (this.img = null),
            (this.isPageFolded = !1),
            (this.showComponnetHelpTip = !1),
            (this.compState = {}),
            (this.compScrollOffset = 0),
            (this.compTopStacks = []),
            (this.changePageIdxs = {}),
            (this.middlelineTop = 0),
            (this.currentIndex = -1),
            (this.targetIndex = -2),
            (this.containerTop = 0),
            (this.containerBottom = 0),
            (this.moveIndex = 0),
            (this.hoverLayerId = ""),
            (this.isDrag = !1),
            (this.lastPageId = "");
        }
        currentHandler() {
          this.setCurLayer(this.current);
        }
        renameStatusHandler(e) {
          if (e) {
            let t = this.pageListForMap[e],
              i = t.level,
              s = t.index - 1;
            t = this.pageListForTree[s];
            while (t && 0 !== i)
              1 === t.type && t.level < i && ((i = t.level), (t.isOpen = !0)),
                s--,
                (t = this.pageListForTree[s]);
            setTimeout(() => {
              this.$nextTick(() => {
                const e = this.$refs.nameStyle;
                e.focus && e.focus();
              });
            });
          }
        }
        changeFileSetting() {
          Object(Z["ib"])() || this.changeBarWidth();
        }
        changeDocument() {
          Object(Z["ib"])() || this.changeBarWidth();
        }
        versionTypeHandler(e) {
          1 === e && (this.tab = "layer");
        }
        changeBarWidth() {
          const e = this.$store.state.file.settings.barWidth,
            t = this.currentDocument;
          "undefined" !==
            typeof (null === t || void 0 === t ? void 0 : t.roleName) &&
            "undefined" !== typeof e &&
            ([We["d"].Tourist].includes(
              null === t || void 0 === t ? void 0 : t.roleName
            ) ||
              this.$nextTick(() => this.setBarWidth()));
        }
        get isShowTopBar() {
          return !this.disableUpdateLayer && 1 !== this.versionType;
        }
        toggleHandler(e, t) {
          e.isOpen = t;
        }
        contextmenuHandler(e, t) {
          if (
            (e.preventDefault(),
            this.disableUpdateLayer || 1 === this.versionType)
          )
            return;
          if (!this.pageSelectIds.length) return;
          let i = JSON.parse(JSON.stringify(this.$variable.NORMAL_MENU_LIST)),
            s = -1,
            o = 0;
          this.pageSelectIds.length > 1 && (o |= 4),
            this.pageSelectIds.forEach((e) => {
              const { type: t, label: i } = this.pageListForMap[e];
              (o |= 0 === t ? 1 : 2), ~s || (s = +i), s !== +i && (s = 0);
            }),
            (i = i.filter(
              (e) => ((7 === o ? 6 : o) | e.displayType) === e.displayType
            )),
            i.forEach((e, t) => {
              "del" === e.type &&
                (i[t + 1] || (e.divid = !1),
                (1 !== o && 5 !== o) || (e.title = "删除页面"),
                2 === o && (e.title = "删除分类"));
            });
          const a = this.pageListForMap[this.pageSelectIds[0]];
          1 === this.pageSelectIds.length
            ? 0 === a.type &&
              a.label &&
              i.forEach((e, t) => {
                "0" === e.key
                  ? (e.current = !1)
                  : e.key === "" + a.label && (e.current = !0),
                  "del" === e.type && (i[t + 1] || (e.divid = !1));
              })
            : 5 === o &&
              i.forEach((e) => {
                "0" === e.key
                  ? (e.current = !1)
                  : e.key === String(s) && (e.current = !0);
              });
          let n,
            r = !1,
            c = i;
          (1 !== o && 5 !== o) ||
            ((r = !0), (c = i.slice(0, i.length - 7)), (n = i.slice(c.length)));
          const l = {
            event: e,
            list: c,
            data: t,
            handler: this.contextHandler,
            actionPosition: "pageMenu",
            actionType: "selected",
            isShowTag: r,
            tagList: n,
            currentLabel: s,
          };
          d["a"].track(u["b"].MENU_LOAD, {
            action_position: "pageMenu",
            action_type: "selected",
          }),
            this.$eventBus.$emit("contentMenu", l);
        }
        contextHandler(e, t) {
          let i;
          switch (e) {
            case "del":
              this.deletePage();
              break;
            case "rename":
              (i = "rename page"), (this.renameStatus = this.pageSelectIds[0]);
              break;
            case "addToNewCatalog":
              (i = "add new catalog"), this.addToNewCatalog(!0);
              break;
            case "delCatalog":
              (i = "delete catalog"), this.delCatalog();
              break;
            case "add":
              (i = "add page"), this.addPage();
              break;
            case "copy":
              (i = "copy page"), this.copyPage();
              break;
            case "copyPageLink":
              (i = "copy page link"), this.copyPageLink(t.id);
              break;
            case "0":
            case "1":
            case "2":
            case "3":
            case "4":
            case "5":
            case "6":
              (i = "set page label"), this.setPageLabel(+e);
              break;
            default:
              break;
          }
          i &&
            x["n"].setLog("INFO", "userAction", i, {
              source: "app left bar",
            }),
            (this.index = -1);
        }
        setPageLabel(e) {
          k["a"].mergeStepStart(),
            this.pageSelectIds.forEach((t) => {
              k["a"].pages.setPageLabel(t, e);
            }),
            k["a"].mergeStepEnd();
        }
        getSelectPageIds() {
          const e = [];
          return (
            this.pageSelectIds.forEach((t) => {
              let i = this.pageListForMap[t];
              if (0 === i.type) e.push(i);
              else {
                const t = i.level;
                let s = i.index + 1;
                i = this.pageListForTree[s];
                while (i && i.level > t)
                  0 === i.type && e.push(i), s++, (i = this.pageListForTree[s]);
              }
            }),
            e
          );
        }
        addPage() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            let e;
            if (
              (k["a"].mergeStepStart(),
              this.cancelInput(),
              this.pageSelectIds.length > 0)
            ) {
              let t;
              if (
                (this.pageSelectIds.forEach((e) => {
                  const i = this.pageListForMap[e];
                  (!t || i.index > t.index) && (t = i);
                }),
                1 === t.type)
              ) {
                const i = t.id.split("&"),
                  s = i.length > 1 ? i[1] : i[0],
                  o = this.pageList.findIndex((e) => e === s),
                  a = this.pageList[o - 1] ? this.pageList[o - 1] : "";
                e = yield k["a"].pages.addPage(
                  `${t.catalogName}${t.name}/页面 ${this.pageList.length + 1}`,
                  a
                );
              } else
                e = yield k["a"].pages.addPage(
                  `${t.catalogName}页面 ${this.pageList.length + 1}`,
                  t.id
                );
            } else e = yield k["a"].pages.addPage(`${this.pageListForMap[this.currentPageId].catalogName}页面 ${this.pageList.length + 1}`, this.currentPageId);
            (null === e || void 0 === e ? void 0 : e.pageId) &&
              (k["a"].updateMasterData(),
              yield this.checkHandler(e.pageId),
              this.isPageFolded || (this.renameStatus = e.pageId)),
              k["a"].mergeStepEnd();
          });
        }
        copyPage() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            let e;
            if ((k["a"].mergeStepStart(), 1 === this.pageSelectIds.length)) {
              {
                const t = this.pageListForMap[this.pageSelectIds[0]];
                e = yield k["a"].pages.copyPage(
                  this.pageSelectIds[0],
                  `${t.catalogName}${t.name} 副本`,
                  t.id
                );
              }
              (null === e || void 0 === e ? void 0 : e.pageId) &&
                (k["a"].updateMasterData(),
                yield this.checkHandler(e.pageId),
                this.isPageFolded || (this.renameStatus = e.pageId)),
                k["a"].mergeStepEnd();
            }
          });
        }
        deletePage() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = [];
            let t = !1;
            this.pageSelectIds.forEach((i) => {
              let s = this.pageListForMap[i];
              if (0 === s.type) e.push(s);
              else {
                t = !0;
                const i = s.level;
                let o = s.index + 1;
                s = this.pageListForTree[o];
                while (s && s.level > i)
                  0 === s.type && e.push(s), o++, (s = this.pageListForTree[o]);
              }
            }),
              e.length >= this.pageList.length
                ? this.$toast({
                    content: "无法删除所有页面，需要至少保留一个页面",
                    timeout: 3e3,
                    position: "top",
                  })
                : t
                ? x["h"].open({
                    title: "删除分类",
                    width: "360px",
                    desc: "删除分类会将该分类下的所有页面删除，是否确认删除这些页面",
                    onconfirm: () => {
                      this.delPages(e);
                    },
                  })
                : this.delPages(e);
          });
        }
        delPages(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            k["a"].mergeStepStart();
            const t = this.pageListForMap[this.currentPageId];
            if (t.active || t.cover) {
              let e = t.index + 1,
                i = this.pageListForTree[e],
                s = "";
              while (i) {
                if (0 === i.type && !i.active && !i.cover) {
                  s = i.id;
                  break;
                }
                e++, (i = this.pageListForTree[e]);
              }
              if (!s) {
                (e = t.index - 1), (i = this.pageListForTree[e]);
                while (i) {
                  if (0 === i.type && !i.active && !i.cover) {
                    s = i.id;
                    break;
                  }
                  e--, (i = this.pageListForTree[e]);
                }
              }
              yield this.checkHandler(s);
            }
            e.forEach((e) => {
              k["a"].pages.deletePage(e.id);
            }),
              k["a"].mergeStepEnd();
          });
        }
        selectPage(e, t) {
          const i = e.shiftKey,
            s = this.isMac ? e.metaKey : e.ctrlKey;
          i ||
            s ||
            2 === e.buttons ||
            2 === e.button ||
            t.id.split("/").length > 1 ||
            this.checkHandler(t.id);
        }
        selectHandler(e) {
          const t = {};
          e.forEach((e) => {
            t[e] = !0;
          });
          let i = -1;
          for (let o = 0; o < this.pageListForTree.length; o++) {
            const e = this.pageListForTree[o];
            (e.cover = !1),
              (e.active = !1),
              ~i && e.level <= i
                ? (i = -1)
                : ~i && e.level > i && (e.cover = !0),
              t[e.id] && !~i && ((e.active = !0), (i = e.level));
          }
          const s = [];
          e.forEach((e) => {
            this.pageListForMap[e].active && s.push(e);
          }),
            this.setPageSelectIds(s),
            this.searchKey &&
              d["a"].track(u["b"].SEARCH, {
                action_position: "canvas",
                action_type: "result_click",
                action_parameter0: "design",
                action_parameter1: "page_panel",
                action_parameter2: "page_panel_search",
                action_parameter9: this.searchId,
                action_detail: this.searchKey,
                action_count: this.pageListForSearch.length,
              });
        }
        cancelSelectPage() {
          for (let e = 0; e < this.pageListForTree.length; e++) {
            const t = this.pageListForTree[e];
            (t.cover = !1), (t.active = !1);
          }
          this.setPageSelectIds([]);
        }
        get pageListForSearch() {
          const e = [],
            t = [],
            i = {};
          return this.searchKey
            ? (this.pageListForTree.forEach((e) => {
                ((0 === e.type &&
                  ~this.decodePageName(e.name).indexOf(this.searchKey)) ||
                  (1 === e.type &&
                    ~this.decodePageName(e.name).indexOf(this.searchKey))) &&
                  t.push(e);
              }),
              t.reverse().forEach((e) => {
                if (!i[e.id] && ((i[e.id] = !0), e.level)) {
                  const t = e.level;
                  let s = e.index - 1,
                    o = this.pageListForTree[s],
                    a = 0;
                  while (o && o.level <= t && !a)
                    o.level || a++,
                      (i[o.id] = !0),
                      1 === o.type && o.level < t && (o.isOpen = !0),
                      s--,
                      (o = this.pageListForTree[s]);
                }
              }),
              this.pageListForTree.forEach((t) => {
                ((0 === t.type &&
                  ~this.decodePageName(t.pageName).indexOf(this.searchKey)) ||
                  (1 === t.type &&
                    t.pageName.some(
                      (e) => ~this.decodePageName(e).indexOf(this.searchKey)
                    ))) &&
                  e.push(t);
              }),
              e)
            : this.pageListForTree;
        }
        searchKeyHandler() {
          this.searchKey || this.searchFocusing || (this.isSearching = !1);
        }
        searchPage(e) {
          this.searchKey = e;
        }
        clearSearchKey() {
          this.searchKey = "";
        }
        clickSearchPage() {
          (this.isSearching = !0),
            this.$nextTick(() => {
              setTimeout(() => {
                const e = this.$refs.searchRef;
                e && e.focus && e.focus();
              });
            }),
            d["a"].track(u["b"].EVENT_CLICK, {
              action_position: "canvas",
              action_type: "query",
              action_parameter0: "design",
              action_parameter1: "page_panel",
              action_parameter2: "search",
            });
        }
        focusSearchInput() {
          (this.searchFocusing = !0),
            d["a"].track(u["b"].SEARCH, {
              action_position: "canvas",
              action_type: "click",
              action_parameter0: "design",
              action_parameter1: "page_panel",
              action_parameter2: "page_panel_search",
            });
        }
        cancelSearchInput() {
          if (((this.searchFocusing = !1), this.searchKey))
            return (
              (this.searchId = `${
                this.$store.state.main.userInfo.id
              }${new Date().getTime()}`),
              void d["a"].track(u["b"].SEARCH, {
                action_position: "canvas",
                action_type: "query",
                action_parameter0: "design",
                action_parameter1: "page_panel",
                action_parameter2: "page_panel_search",
                action_detail: this.searchKey,
                action_count: this.pageListForSearch.length,
                action_parameter9: this.searchId,
              })
            );
          this.isSearching = !1;
        }
        addToNewCatalog(e = !1) {
          let t = -1,
            i = "";
          if (this.pageSelectIds.length)
            this.pageSelectIds.forEach((e) => {
              const s = this.pageListForMap[e],
                o = s.index;
              (!~t || o < t) && ((t = o), (i = s.catalogName));
            });
          else {
            const e = this.pageListForMap[this.currentPageId];
            (t = e.index), (i = e.catalogName);
          }
          k["a"].mergeStepStart();
          const s = this.catalogCount++;
          if (this.pageSelectIds.length)
            this.pageSelectIds.forEach((e) => {
              let t = this.pageListForMap[e],
                o = t.index;
              const a = Object(c["escapeRegExp"])("" + t.catalogName);
              if (0 === t.type)
                k["a"].pages.setPageName(
                  t.id,
                  t.pageName.replace(new RegExp("^" + a), `${i}分类 ${s}/`)
                );
              else {
                const e = Object(c["escapeRegExp"])(
                  `${t.catalogName}${t.name}/`
                );
                while (t && new RegExp("^" + e).test(t.pageName))
                  0 === t.type &&
                    k["a"].pages.setPageName(
                      t.id,
                      t.pageName.replace(new RegExp("^" + a), `${i}分类 ${s}/`)
                    ),
                    o++,
                    (t = this.pageListForTree[o]);
              }
            });
          else {
            const e = this.pageListForMap[this.currentPageId],
              t = Object(c["escapeRegExp"])("" + e.catalogName);
            0 === e.type &&
              k["a"].pages.setPageName(
                e.id,
                e.pageName.replace(new RegExp("^" + t), `${i}分类 ${s}/`)
              );
          }
          k["a"].mergeStepEnd(),
            O["a"].nextFrame(() => {
              setTimeout(() => {
                this.$nextTick(() => {
                  this.renameStatus = this.pageListForTree[t].id;
                });
              });
            }),
            d["a"].track(u["b"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "page_panel",
              action_parameter2: "addgroup",
              action_parameter3: e ? "rightclick" : "icon",
            });
        }
        delCatalog() {
          this.pageSelectIds.length &&
            (k["a"].mergeStepStart(),
            this.pageSelectIds.forEach((e) => {
              let t = this.pageListForMap[e],
                i = t.index;
              if (1 === t.type) {
                const e = t.catalogName,
                  s = Object(c["escapeRegExp"])(e),
                  o = Object(c["escapeRegExp"])(`${t.catalogName}${t.name}/`);
                let a = "";
                while (t && new RegExp("^" + o).test(t.pageName))
                  0 === t.type &&
                    (k["a"].pages.setPageName(
                      t.id,
                      t.pageName.replace(new RegExp(`^${s}[^/]+\\/`), "" + e)
                    ),
                    a && k["a"].pages.sortPage(t.id, a),
                    (a = t.id)),
                    i++,
                    (t = this.pageListForTree[i]);
              }
            }),
            k["a"].mergeStepEnd(),
            d["a"].track(u["b"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "page_panel",
              action_type: "cancelgroup",
            }));
        }
        dropHandler(e, t, i) {
          const s = this.pageListForSearch,
            o = s[i];
          let a = i,
            n = "",
            r = "";
          if ("top" === t) {
            a = i - 1;
            const t = s[a];
            if (t)
              if (t.level === e)
                if (((n = t.catalogName), 0 === t.type)) r = t.id;
                else {
                  const t = e;
                  let i = s[a],
                    o = i.index + 1;
                  i = this.pageListForTree[o];
                  while (i && t < i.level) {
                    if (0 === i.type) {
                      r = i.id;
                      break;
                    }
                    o++, (i = this.pageListForTree[o]);
                  }
                }
              else if (t.level > e) {
                let i = t,
                  s = i.index;
                while (i && e <= i.level) {
                  if (i.level === e) {
                    n = i.catalogName;
                    break;
                  }
                  s--, (i = this.pageListForTree[s]);
                }
                const a = o.id.split("&"),
                  c = a.length > 1 ? a[1] : a[0],
                  l = this.pageList.findIndex((e) => e === c);
                r = this.pageList[l - 1] ? this.pageList[l - 1] : "";
              } else {
                n = `${t.catalogName}${t.name}/`;
                const e = t.id.split("&"),
                  i = e.length > 1 ? e[1] : e[0],
                  s = this.pageList.findIndex((e) => e === i);
                r = this.pageList[s - 1] ? this.pageList[s - 1] : "";
              }
            else (n = ""), (r = "");
          } else if ("bottom" === t)
            if (e === o.level)
              if (((n = o.catalogName), 0 === o.type)) r = o.id;
              else {
                const e = o.level;
                let t = a + 1,
                  i = s[t];
                while (i && e < i.level) {
                  if (0 === i.type) {
                    r = i.id;
                    break;
                  }
                  t++, (i = this.pageListForTree[t]);
                }
              }
            else if (e < o.level) {
              let t = s[a],
                i = t.index - 1;
              t = this.pageListForTree[i];
              while (t && e <= t.level) {
                if (t.level === e) {
                  n = t.catalogName;
                  break;
                }
                i--, (t = this.pageListForTree[i]);
              }
              const o = t.id.split("&");
              r = o.length > 1 ? o[1] : o[0];
            } else {
              n = `${o.catalogName}${o.name}/`;
              const e = o.id.split("&"),
                t = e.length > 1 ? e[1] : e[0],
                i = this.pageList.findIndex((e) => e === t);
              r = this.pageList[i - 1] ? this.pageList[i - 1] : "";
            }
          for (let l = 0; l < this.pageSelectIds.length; l++) {
            const e = this.pageSelectIds[l],
              t = this.pageListForMap[e];
            if (
              1 === t.type &&
              new RegExp(
                "^" + Object(c["escapeRegExp"])(`${t.catalogName}${t.name}/`)
              ).test(n)
            )
              return;
          }
          k["a"].mergeStepStart(),
            this.pageSelectIds
              .sort((e, t) =>
                this.pageListForMap[e].index > this.pageListForMap[t].index
                  ? 1
                  : -1
              )
              .forEach((e) => {
                let t = this.pageListForMap[e];
                if (0 === t.type) {
                  const i = t.catalogName,
                    s = Object(c["escapeRegExp"])(i);
                  k["a"].pages.sortPage(e, r),
                    k["a"].pages.setPageName(
                      t.id,
                      t.pageName.replace(new RegExp("^" + s), "" + n)
                    ),
                    (r = e);
                } else {
                  const e = t.catalogName,
                    i = Object(c["escapeRegExp"])(e),
                    s = t.level;
                  let o = t.index + 1;
                  t = this.pageListForTree[o];
                  while (t && t.level > s)
                    0 === t.type &&
                      (t.id !== r && k["a"].pages.sortPage(t.id, r),
                      k["a"].pages.setPageName(
                        t.id,
                        t.pageName.replace(new RegExp("^" + i), "" + n)
                      ),
                      (r = t.id)),
                      o++,
                      (t = this.pageListForTree[o]);
                }
              }),
            k["a"].mergeStepEnd();
        }
        encodeInput(e) {
          let t = "";
          for (let i = 0; i < e.length; i++) {
            const s = e[i];
            t += "/" === s ? "%2F" : "&" === s ? "%26" : s;
          }
          return t;
        }
        decodePageName(e) {
          return e.replaceAll("%2F", "/").replaceAll("%26", "&");
        }
        changeHandler(e, t) {
          if (t) {
            let i = this.pageListForMap[e],
              s = i.index;
            const o = i.catalogName,
              a = Object(c["escapeRegExp"])(o);
            if (1 === i.type) {
              const e = i.level;
              let n = s + 1,
                r = this.pageListForTree[n];
              const l = {};
              while (r && e <= r.level)
                e === r.level &&
                  1 === i.type &&
                  (l[this.decodePageName(r.name)] = !0),
                  n++,
                  (r = this.pageListForTree[n]);
              (n = s - 1), (r = this.pageListForTree[n]);
              while (r && e <= r.level)
                e === r.level &&
                  1 === i.type &&
                  (l[this.decodePageName(r.name)] = !0),
                  n--,
                  (r = this.pageListForTree[n]);
              let d = t,
                u = 1;
              while (l[d]) d = `${t} ${u++}`;
              const h = Object(c["escapeRegExp"])(`${i.catalogName}${i.name}/`);
              while (i && new RegExp("^" + h).test(i.pageName))
                0 === i.type &&
                  k["a"].pages.setPageName(
                    i.id,
                    i.pageName.replace(
                      new RegExp(`^${a}[^/]+\\/`),
                      `${o}${this.encodeInput(d)}/`
                    )
                  ),
                  s++,
                  (i = this.pageListForTree[s]);
            } else
              k["a"].pages.setPageName(
                i.id,
                i.pageName.replace(
                  new RegExp(`^${a}[^/]+`),
                  `${o}${this.encodeInput(t)}`
                )
              );
            O["a"].nextFrame(() => {
              setTimeout(() => {
                this.$store.dispatch(
                  "teamLibrary/diffComponent",
                  this.componentMap
                );
              });
            });
          }
        }
        handlePageFold(e) {
          const t = this.isPageFolded;
          (this.isPageFolded = void 0 !== e ? e : !this.isPageFolded),
            this.$nextTick(() => {
              this.isPageFolded
                ? ((this.lastBarHeight = this.barHeight), (this.barHeight = 42))
                : t && (this.barHeight = this.lastBarHeight);
            });
        }
        get dragLineTop() {
          let e = (this.targetIndex + 1) * Fp.PAGEITEM_HEIGHT - 2;
          return e < 0 && (e = 0), e + "px";
        }
        get componentBadge() {
          var e;
          const { teamRole: t } =
            null !== (e = this.currentDocument) && void 0 !== e ? e : {};
          return (this.needPublish || this.needUpdate) && "" !== t;
        }
        mousedownHandler(e, t) {
          this.currentIndex = t;
          const i = this.$refs["pagelist" + t][0],
            s = i.getBoundingClientRect();
          this.middlelineTop = s.top + Fp.PAGEITEM_HEIGHT / 2;
          const o = this.$refs.scroll.$el,
            a = o.getBoundingClientRect();
          (this.containerTop = a.top),
            (this.containerBottom = a.bottom),
            (this.moveIndex = 0),
            (this.isDrag = !0),
            window.addEventListener("mousemove", this.mousemoveHandler),
            window.addEventListener("mouseup", this.mouseupHandler);
        }
        mousemoveHandler(e) {
          if (((this.moveIndex += 1), this.moveIndex < 10)) return;
          let t = e.pageY;
          t < this.containerTop
            ? (t = this.containerTop)
            : t > this.containerBottom && (t = this.containerBottom);
          const i = t - this.middlelineTop;
          let s = this.currentIndex;
          (s +=
            i < 0
              ? ~~(i / Fp.PAGEITEM_HEIGHT) - 1
              : ~~(i / Fp.PAGEITEM_HEIGHT)),
            s >= this.pageList.length && (s = this.pageList.length - 1),
            (this.targetIndex = s);
        }
        mouseupHandler() {
          var e;
          if (this.moveIndex >= 10) {
            const t = this.pageList[this.currentIndex],
              i =
                null !== (e = this.pageList[this.targetIndex]) && void 0 !== e
                  ? e
                  : "";
            k["a"].pages.sortPage(t, i);
          }
          window.removeEventListener("mousemove", this.mousemoveHandler),
            window.removeEventListener("mouseup", this.mouseupHandler),
            (this.targetIndex = -2),
            (this.isDrag = !1);
        }
        mouseenterHandler(e) {
          this.isDrag || (this.hoverLayerId = e);
        }
        mouseleaveHandler(e) {
          this.isDrag || (this.hoverLayerId === e && (this.hoverLayerId = ""));
        }
        inputFocus(e) {
          "lib" === e
            ? this.$nextTick(() => {
                this.$refs.resources.inputFocus();
              })
            : "component" === e &&
              this.$nextTick(() => {
                this.$refs.component.inputFocus();
              });
        }
        changeMode(e) {
          this.disableUpdateLayer ||
            1 === this.versionType ||
            (this.renameStatus = e);
        }
        cancelInput() {
          this.renameStatus = "";
        }
        changeCurrentPageId(e) {
          this.pageListForMap[this.lastPageId] &&
            (this.pageListForMap[this.lastPageId].isSelect = !1),
            this.pageListForMap[e] && (this.pageListForMap[e].isSelect = !0),
            (this.lastPageId = e);
        }
        watchCurrentPageId() {
          this.changeCurrentPageId(this.currentPageId);
        }
        checkHandler(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (this.currentPageId === e) return;
            const t = Date.now();
            this.$store.commit("pages/setLoading", {
              isLoading: !0,
            }),
              this.$store.commit("pages/setLoadingPageBgc", {
                pageId: e,
              });
            const i = this.modeState === se["r"].CommentView;
            x["n"].setLog("INFO", "userAction", "changePageStart"),
              requestAnimationFrame(() => {
                setTimeout(() =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    yield k["a"].pages.switchPage(e),
                      void 0 === this.changePageIdxs[e] &&
                        (this.changePageIdxs[e] = 0),
                      this.changePageIdxs[e]++,
                      this.$store.commit("pages/setLoading", {
                        isLoading: !1,
                      }),
                      this.$store.dispatch("toggleObservationUser", ""),
                      x["u"].clear(),
                      i && k["a"].pageState.setState(se["r"].CommentView),
                      O["a"].nextFrame(() => {
                        setTimeout(() => {
                          x["n"].setLog(
                            "INFO",
                            "userAction",
                            "changePageDuration",
                            {
                              duration: Date.now() - t,
                              layerCount: this.layerSize,
                              changeIndex: this.changePageIdxs[e],
                            }
                          );
                        }, 0);
                      });
                  })
                );
              });
          });
        }
        updateDocumentSettings() {
          const e = this.$store.state.file;
          this.$store.commit("file/setting", {
            leftBarHeight: this.barHeight,
          }),
            Object(ie["fd"])(e.id, e.settings);
        }
        mouseDownHandlerHeight(e) {
          if (this.isPageFolded)
            return e.preventDefault(), void e.stopPropagation();
          const t = this.mouseMoveHandlerHeight.bind(
              this,
              this.barHeight,
              e.clientY
            ),
            i = () => {
              this.updateDocumentSettings(),
                (this.banHover = ""),
                document.removeEventListener("mousemove", t),
                document.removeEventListener("mouseup", i);
            };
          document.addEventListener("mousemove", t),
            document.addEventListener("mouseup", i);
        }
        mouseDownHandlerWidth() {
          const e = document.querySelector("#middleContainer"),
            t = document.querySelector("#topContainer"),
            i = this.mouseMoveHandlerWidth({
              middleContainer: e,
              topContainer: t,
            }),
            s = this.$refs.rightLine;
          s.classList.add("drag_right_line");
          const o = () => {
            (this.banHover = ""),
              s.classList.remove("drag_right_line"),
              document.removeEventListener("mousemove", i),
              document.removeEventListener("mouseup", o);
            const e = this.$store.state.file;
            e.id && Object(ie["fd"])(e.id, e.settings);
          };
          document.addEventListener("mousemove", i),
            document.addEventListener("mouseup", o);
        }
        mouseMoveHandlerHeight(e, t, i) {
          i.preventDefault(), i.stopPropagation(), (this.banHover = "height");
          let s = e - t + i.clientY;
          s < 84 && (s = 84),
            s > this.$el.clientHeight - 72 && (s = this.$el.clientHeight - 72),
            (this.barHeight = s);
        }
        mouseMoveHandlerWidth({ middleContainer: e, topContainer: t }) {
          return (i) => {
            i.stopPropagation(), i.preventDefault(), (this.banHover = "width");
            const s = this.$refs.container,
              o = s.offsetLeft,
              a = 240,
              n = 480;
            let r = i.clientX;
            r < o + a ? (r = o + a) : r > o + n && (r = o + n),
              this.changeWidth({
                middleContainer: e,
                topContainer: t,
                clientX: r,
                left: o,
              }),
              x["d"].resize("left");
          };
        }
        setBarWidth() {
          const e = document.querySelector("#middleContainer"),
            t = document.querySelector("#topContainer"),
            i = this.$refs.container;
          if (!e || !t || !i) return;
          const s = i.offsetLeft,
            o = this.$store.state.file.settings;
          this.changeWidth({
            middleContainer: e,
            topContainer: t,
            clientX: o.barWidth || 240,
            left: s,
          });
        }
        changeWidth({
          middleContainer: e,
          topContainer: t,
          clientX: i,
          left: s,
        }) {
          (e.style.left = i + "px"),
            (t.style.left = i + "px"),
            (this.$refs.container.style.width = i - s + "px"),
            (this.barWidth = i - s),
            this.$store.commit("file/setting", {
              barWidth: this.barWidth,
            }),
            this.$eventBus.$emit("leftBarWidthChange", this.barWidth);
        }
        copyPageLink(e) {
          const t = `${window.location.origin}${
              window.location.pathname
            }?page_id=${encodeURIComponent(e)}`,
            i = {
              action_position: "canvas",
              action_parameter0: "page_list",
              action_parameter1: "right_click",
              action_parameter2: "copy_pagelink",
            };
          x["p"].shareCurrentDocumentLink({
            link: t,
            fileInfo: this.$store.state.app.currentDocument,
            eventParams: i,
            params: {
              scene: "file_page_copy",
              short: !0,
              reserveFileId: !0,
            },
          });
        }
        keyDownHandler(e) {
          !0 === e.ctrlKey && 71 === e.keyCode && e.preventDefault();
        }
        handleLeftTreeKeydown(e) {
          "Space" === e.code &&
            "div" === e.target.localName &&
            e.preventDefault();
        }
        updateMaxHeight() {
          const e = this.$refs.container,
            t = this.$refs.page,
            i = e.offsetTop + t.offsetTop,
            s = window.innerHeight;
          this.maxHeight = s - i - 35;
        }
        cleanLayerSelect(e) {
          var t, i;
          const s =
            null !==
              (i =
                null !== (t = e.path) && void 0 !== t
                  ? t
                  : e.composedPath && e.composedPath()) && void 0 !== i
              ? i
              : [];
          s.some((e) => {
            var t;
            return null ===
              (t = null === e || void 0 === e ? void 0 : e.classList) ||
              void 0 === t
              ? void 0
              : t.contains("item_container");
          }) || k["a"].layers.select();
        }
        switchPageLeftTab(e, t = !1) {
          (this.disableUpdateLayer && "lib" === e) ||
            ("component" === e && t && (this.showComponnetHelpTip = !0),
            (this.tab = e));
        }
        renameLayerHandler() {
          this.tab = "layer";
        }
        changeTab(e) {
          (this.tab = e),
            "lib" === e
              ? this.inputFocus(e)
              : "component" === e &&
                d["a"].track(u["b"].EVENT_CLICK, {
                  action_position: "canvas",
                  action_parameter0: "design",
                  action_detail: "component_tab",
                });
        }
        created() {
          this.img = new Image();
          const e = document.createElement("canvas");
          (e.width = 1),
            (e.height = 1),
            (this.img.src = e.toDataURL()),
            (this.unsubscribeStore = this.$store.subscribe((e, t) => {
              var i, s;
              "file/setFileSettings" === e.type &&
                (this.barHeight =
                  (null ===
                    (s =
                      null === (i = t.file) || void 0 === i
                        ? void 0
                        : i.settings) || void 0 === s
                    ? void 0
                    : s.leftBarHeight) || this.barHeight);
            })),
            this.$eventBus.$on("CommentPageSwitch", this.checkHandler),
            this.$eventBus.$on("switchPageLeftTab", this.switchPageLeftTab),
            this.$eventBus.$on("renameLayer", this.renameLayerHandler);
        }
        mounted() {
          (window.MasterLoadFinish = !1),
            document.addEventListener("keydown", this.keyDownHandler),
            window.addEventListener("resize", this.updateMaxHeight),
            this.updateMaxHeight();
        }
        beforeDestroy() {
          this.unsubscribeStore && this.unsubscribeStore(),
            document.removeEventListener("keydown", this.keyDownHandler),
            window.removeEventListener("resize", this.updateMaxHeight),
            this.$eventBus.$off("CommentPageSwitch", this.checkHandler),
            this.$eventBus.$off("switchPageLeftTab", this.switchPageLeftTab),
            this.$eventBus.$off("renameLayer", this.renameLayerHandler);
        }
      });
      (zp.PAGEITEM_HEIGHT = 30),
        Object(a["__decorate"])(
          [
            Object(n["h"])("current", {
              deep: !0,
            }),
          ],
          zp.prototype,
          "currentHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("renameStatus")],
          zp.prototype,
          "renameStatusHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("$store.state.file.settings.barWidth", {
              immediate: !0,
            }),
          ],
          zp.prototype,
          "changeFileSetting",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("currentDocument", {
              immediate: !0,
            }),
          ],
          zp.prototype,
          "changeDocument",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("versionType")],
          zp.prototype,
          "versionTypeHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("searchKey")],
          zp.prototype,
          "searchKeyHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("currentPageId", {
              immediate: !0,
            }),
          ],
          zp.prototype,
          "watchCurrentPageId",
          null
        ),
        (zp = Fp =
          Object(a["__decorate"])(
            [
              Object(n["a"])({
                components: {
                  treePluginNew: Gh,
                  inputPlugin: Cu["a"],
                  MasterButtonIcon: Mi["a"],
                  newscroll: St["a"],
                  MasterSelector: Pe["e"],
                  Resources: Oh,
                  ComponentLib: Pp,
                  LayerSearch: Vp,
                  MasterTree: Du,
                },
                computed: Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        Object.assign(
                          {},
                          Object(r["e"])({
                            loading: (e) => e.pages.loading,
                            pageList: (e) => e.pages.list,
                            pageMap: (e) => e.pages.map,
                            pageListForTree: (e) => e.pages.pageListForTree,
                            pageListForMap: (e) => e.pages.pageListForMap,
                            pageSelectIds: (e) => e.pages.pageSelectIds,
                            layerSize: (e) => e.newLayer.layerSize,
                            currentDocument: (e) => e.app.currentDocument,
                            versionType: (e) => e.file.versionType,
                            selectIds: (e) => e.basicState.selectIds,
                            selectItem: (e) => e.basicProps.item,
                            fills: (e) => e.basicProps.item.fills || [],
                            currentPageId: (e) => e.basicState.currentPageId,
                            modeState: (e) => e.basicState.state,
                            componentMap: (e) => e.component.componentMap,
                            isHideToolbar: (e) => e.file.isHideToolbar,
                          })
                        ),
                        Object(r["c"])(["disableUpdateLayer"])
                      ),
                      Object(r["c"])("pages", ["currentPage"])
                    ),
                    Object(r["c"])("teamLibrary", ["needPublish", "needUpdate"])
                  ),
                  {
                    pageListOptions() {
                      return this.pageList.map((e) => ({
                        value: e,
                        label: this.pageMap[e].name,
                        labelId: this.pageMap[e].label,
                      }));
                    },
                  }
                ),
                methods: Object.assign(
                  Object.assign(
                    {},
                    Object(r["b"])([
                      "setCurLayer",
                      "setCurPage",
                      "addPageItem",
                      "delPageItem",
                      "setSid",
                      "setPageItem",
                    ])
                  ),
                  Object(r["b"])("pages", ["setPages", "setPageSelectIds"])
                ),
                provide() {
                  return {
                    compState: () => this.compState,
                    compScrollOffset: () => this.compScrollOffset,
                    compTopStacks: () => this.compTopStacks,
                    setCompOffset: (e) => (this.compScrollOffset = e),
                    setCompState: (e, t) => {
                      this.compState[e] = t;
                    },
                    setCompTopStacks: (e) => {
                      this.compTopStacks = e;
                    },
                  };
                },
              }),
            ],
            zp
          ));
      var Up = zp,
        qp = Up,
        Wp =
          (i("80f1"), Object(_["a"])(qp, yu, _u, !1, null, "b191a33c", null)),
        Gp = Wp.exports,
        Kp = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "container",
              staticClass: "nav_container",
            },
            [
              i(
                "div",
                {
                  staticClass: "nav_menu",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "nav_menu_svg",
                      class: {
                        dotGuide: Object.keys(e.guideMap).length,
                      },
                    },
                    [
                      i(
                        "master-dropdown",
                        {
                          staticClass: "pc-nav-menu",
                          attrs: {
                            placement: "bottom-start",
                            cascade: "",
                            open: e.menuStatus,
                          },
                          on: {
                            command: e.changeVal,
                            "update:open": function (t) {
                              e.menuStatus = t;
                            },
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              attrs: {
                                slot: "dropButton",
                                "data-tours-name": "main_menu",
                              },
                              slot: "dropButton",
                            },
                            [
                              i("MasterButtonIcon", {
                                attrs: {
                                  icon: "BarsIcon",
                                },
                              }),
                            ],
                            1
                          ),
                          e.menuStatus
                            ? i("master-menu", {
                                staticClass: "nav_drop_menu",
                                attrs: {
                                  slot: "dropMenu",
                                  width: "150px",
                                  list: e.menuList,
                                  dotGuide: e.guideMap,
                                  getChecked: e.getChecked,
                                  hoverActived: "",
                                },
                                slot: "dropMenu",
                              })
                            : e._e(),
                        ],
                        1
                      ),
                      i(
                        "master-dropdown",
                        {
                          staticClass: "mobile-nav-menu",
                          attrs: {
                            placement: "bottom-start",
                            open: e.mobileMenuStatus,
                          },
                          on: {
                            command: e.mobileChangeVal,
                            "update:open": function (t) {
                              e.mobileMenuStatus = t;
                            },
                          },
                        },
                        [
                          i("MasterButtonIcon", {
                            attrs: {
                              slot: "dropButton",
                              icon: "BarsIcon",
                            },
                            slot: "dropButton",
                          }),
                          e.mobileMenuStatus
                            ? i("master-menu", {
                                attrs: {
                                  slot: "dropMenu",
                                  width: "150px",
                                  list: e.mobileMenuList,
                                  getChecked: e.mobileMenuGetChecked,
                                  hoverActived: "",
                                },
                                slot: "dropMenu",
                              })
                            : e._e(),
                        ],
                        1
                      ),
                    ],
                    1
                  ),
                  i("FileTopBar", {
                    ref: "fileTopBar",
                    on: {
                      navigate: e.backToIndex,
                    },
                  }),
                  i("custom-pdf-dialog", {
                    attrs: {
                      "dialog-visible": e.showCustomPdfDialog,
                    },
                    on: {
                      handleVisibleChange: e.handleShowCustomPdfDialogChange,
                      handleExportPDF: e.exportPdf,
                    },
                  }),
                ],
                1
              ),
              i(
                "div",
                {
                  staticClass: "nav_content",
                  attrs: {
                    "data-newGuide": "step2",
                  },
                },
                [
                  e.disableUpdateLayer
                    ? e._e()
                    : i(
                        "div",
                        {
                          key: "edit",
                          staticClass: "nav_item h5 transition",
                          class: {
                            active: 0 === e.viewMode,
                          },
                          attrs: {
                            "data-tours-name": "design",
                          },
                          on: {
                            mousedown: e.setUserModelForEdit,
                          },
                        },
                        [i("span", [e._v("设计")])]
                      ),
                  e.disableUpdateLayer
                    ? e._e()
                    : i(
                        "div",
                        {
                          directives: [
                            {
                              name: "feature",
                              rawName: "v-feature",
                              value: "prototype",
                              expression: "'prototype'",
                            },
                          ],
                          key: "proto",
                          staticClass: "nav_item h5 transition",
                          class: {
                            active: 2 === e.viewMode,
                          },
                          attrs: {
                            "data-tours-name": "prototype",
                          },
                          on: {
                            mousedown: e.setUserModelForPrototype,
                          },
                        },
                        [i("span", [e._v("原型")]), e._m(0)]
                      ),
                  i(
                    "div",
                    {
                      key: "observe",
                      staticClass: "nav_item h5 transition",
                      class: {
                        active: 1 === e.viewMode,
                      },
                      attrs: {
                        "data-tours-name": "inspect",
                      },
                      on: {
                        mousedown: e.setUserModelForObserve,
                      },
                    },
                    [i("span", [e._v("标注")])]
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "right_container",
                },
                [
                  i("MissingFont"),
                  e.$store.getters.userinfo.id
                    ? i(
                        "div",
                        {
                          staticClass: "user_list",
                        },
                        [
                          i("masterUserList", {
                            attrs: {
                              userList: e.userList,
                              showNum: 4,
                              showDot: "",
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                  i(
                    "master-dropdown",
                    {
                      attrs: {
                        placement: "bottom-end",
                        open: e.panelStatus,
                      },
                      on: {
                        "update:open": function (t) {
                          e.panelStatus = t;
                        },
                      },
                    },
                    [
                      i(
                        "MButton",
                        {
                          attrs: {
                            slot: "dropButton",
                            type: "highlight",
                            width: "54",
                            size: "xs",
                            "data-newGuide": "step4",
                            "data-tours-name": "share",
                          },
                          slot: "dropButton",
                        },
                        [e._v("分享 ")]
                      ),
                      i(
                        "lazy-box",
                        {
                          attrs: {
                            slot: "dropMenu",
                            visible: e.panelStatus,
                          },
                          slot: "dropMenu",
                        },
                        [
                          e.shareTiming
                            ? i("sharePanel", {
                                attrs: {
                                  fileInfo: e.fileInfo,
                                  show: e.panelStatus,
                                  allowPub: e.allowPub,
                                  open: e.panelStatus,
                                  sensorsTrack: "",
                                },
                                on: {
                                  "update:fileInfo": function (t) {
                                    e.fileInfo = t;
                                  },
                                  "update:file-info": function (t) {
                                    e.fileInfo = t;
                                  },
                                  "update:show": function (t) {
                                    e.panelStatus = t;
                                  },
                                  publish: e.handleOpenPubStatePanel,
                                },
                              })
                            : i("oldSharePanel", {
                                attrs: {
                                  fileInfo: e.fileInfo,
                                  show: e.panelStatus,
                                  allowPub: e.allowPub,
                                  open: e.panelStatus,
                                  sensorsTrack: "",
                                },
                                on: {
                                  "update:fileInfo": function (t) {
                                    e.fileInfo = t;
                                  },
                                  "update:file-info": function (t) {
                                    e.fileInfo = t;
                                  },
                                  "update:show": function (t) {
                                    e.panelStatus = t;
                                  },
                                  publish: e.handleOpenPubStatePanel,
                                },
                              }),
                        ],
                        1
                      ),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: {
                            content: "演示",
                          },
                          expression: "{content: '演示'}",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "right_container_play",
                      attrs: {
                        "data-tours-name": "present",
                      },
                      on: {
                        click: e.prototypePlay,
                      },
                    },
                    [
                      i("PlayTopBarIcon", {
                        attrs: {
                          size: "14",
                        },
                      }),
                    ],
                    1
                  ),
                ],
                1
              ),
              e.disableShowToolbar && e.document.allowOnlookerCopy
                ? i(
                    "MButton",
                    {
                      staticStyle: {
                        "margin-left": "6px",
                      },
                      attrs: {
                        type: "highlight",
                        padding: "15",
                        icon: "DownloadIcon",
                        iconSize: "14",
                        size: "xs",
                      },
                      on: {
                        click: function (t) {
                          return e.mobileChangeVal({
                            value: "copyFile",
                          });
                        },
                      },
                    },
                    [e._v(" 创建副本 ")]
                  )
                : e._e(),
              i("resource-dialog"),
              e.needPublishPanel
                ? i("PublishPanel", {
                    model: {
                      value: e.displayPublishPanel,
                      callback: function (t) {
                        e.displayPublishPanel = t;
                      },
                      expression: "displayPublishPanel",
                    },
                  })
                : e._e(),
            ],
            1
          );
        },
        Qp = [
          function () {
            var e = this,
              t = e.$createElement,
              s = e._self._c || t;
            return s(
              "div",
              {
                staticClass: "nav_container__prototype__beta",
              },
              [
                s("img", {
                  attrs: {
                    src: i("4450"),
                  },
                }),
              ]
            );
          },
        ],
        Yp = i("e198"),
        Xp = i("bff09"),
        Zp = i("18e8"),
        Jp = i("38ce"),
        em = i("28a8"),
        tm = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "lazy-box",
            {
              attrs: {
                visible: e.showDialog,
              },
            },
            [
              i(
                "div",
                {
                  ref: "dialog",
                  staticClass: "resource-dialog",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "title-bar border-b-wrap",
                      on: {
                        mousedown: function (t) {
                          return t.stopPropagation(), e.dragStartHandler(t);
                        },
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "title-bar__wrapper",
                          on: {
                            mousedown: function (e) {
                              e.stopPropagation();
                            },
                            click: e.handleChoose,
                          },
                        },
                        e._l(e.labelList, function (t) {
                          return i(
                            "div",
                            {
                              key: t,
                              staticClass: "title-bar__item",
                              class: {
                                isActive: t === e.currentActive,
                              },
                            },
                            [e._v(" " + e._s(t) + " ")]
                          );
                        }),
                        0
                      ),
                      i(
                        "div",
                        {
                          staticClass: "title-bar__close",
                        },
                        [
                          i("MasterButtonIcon", {
                            staticClass: "mas-dialog__close",
                            attrs: {
                              icon: "TimesIcon",
                            },
                            on: {
                              click: e.handleClose,
                            },
                          }),
                        ],
                        1
                      ),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "resource-dialog__body",
                    },
                    [
                      i("ComponentList", {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: "组件" === e.currentActive,
                            expression: "currentActive === '组件'",
                          },
                        ],
                        ref: "componentlist",
                        staticClass: "component-list",
                        attrs: {
                          type: "dialog_component_list_results",
                          visible: e.showDialog && "组件" === e.currentActive,
                        },
                      }),
                      i("resource-icon", {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: "图标" === e.currentActive,
                            expression: "currentActive === '图标'",
                          },
                        ],
                        ref: "resourceicon",
                        attrs: {
                          dialog: !0,
                        },
                      }),
                      e.IS_PRI
                        ? e._e()
                        : [
                            i("resource-image", {
                              directives: [
                                {
                                  name: "show",
                                  rawName: "v-show",
                                  value: "图片" === e.currentActive,
                                  expression: "currentActive === '图片'",
                                },
                              ],
                              ref: "resourceimage",
                              attrs: {
                                barWidth: 377,
                              },
                            }),
                          ],
                      i("resource-text", {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: "文本" === e.currentActive,
                            expression: "currentActive === '文本'",
                          },
                        ],
                        ref: "resourcetext",
                        attrs: {
                          dialog: !0,
                        },
                      }),
                    ],
                    2
                  ),
                ]
              ),
            ]
          );
        },
        im = [];
      let sm = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.showDialog = !1),
            (this.currentActive = "组件"),
            (this.dragOffsetData = {
              x: 0,
              y: 0,
            }),
            (this.domOffset = {
              x: 0,
              y: 0,
            });
        }
        resourceDialogHandler(e) {
          e ? this.handleShowDialog() : this.handleCloseDialog();
        }
        get labelList() {
          const e = ["组件", "图标"];
          return (
            e.push("图片"),
            Object(w["isFeatureEnabled"])("resourceText") && e.push("文本"),
            e
          );
        }
        handleCurrent() {
          "组件" === this.currentActive
            ? this.$refs.componentlist.$refs.componentList.focusInput()
            : "图标" === this.currentActive
            ? this.$refs.resourceicon.inputFocus()
            : "图片" === this.currentActive
            ? this.$refs.resourceimage.inputFocus()
            : "文本" === this.currentActive &&
              this.$refs.resourcetext.inputFocus();
        }
        handleShowDialog() {
          this.$keyWatcher.addListener("esc", this.handleClose, !0),
            (this.showDialog = !0),
            this.$nextTick(() => {
              this.handleCurrent();
              const e = this.$refs.dialog;
              (e.style.top = "102px"),
                (e.style.left = "50%"),
                this.$set(
                  this.domOffset,
                  "x",
                  Math.round(document.body.offsetWidth / 2 - 204)
                ),
                this.$set(this.domOffset, "y", 102);
            });
        }
        handleCloseDialog() {
          this.$keyWatcher.removeListener("esc", this.handleClose),
            (this.showDialog = !1);
        }
        handleClose() {
          this.$store.dispatch("basicState/setBasicState", {
            resourceDialog: !1,
          });
        }
        handleChoose(e) {
          (this.currentActive = e.target.innerText), this.handleCurrent();
        }
        dragStartHandler(e) {
          const t = this.$refs.dialog;
          this.$set(this.dragOffsetData, "x", e.clientX - t.offsetLeft),
            this.$set(this.dragOffsetData, "y", e.clientY - t.offsetTop),
            document.addEventListener("mousemove", this.dragHandler),
            document.addEventListener("mouseup", this.dragEndHandler);
        }
        dragHandler(e) {
          e.stopPropagation();
          const t = this.$refs.dialog;
          (t.style.left =
            Object(c["clamp"])(
              e.clientX - this.dragOffsetData.x,
              204,
              document.body.offsetWidth - 204
            ) + "px"),
            (t.style.top =
              Object(c["clamp"])(
                e.clientY - this.dragOffsetData.y,
                0,
                document.body.offsetHeight - 384
              ) + "px");
        }
        dragEndHandler() {
          const e = this.$refs.dialog;
          document.removeEventListener("mousemove", this.dragHandler),
            document.removeEventListener("mouseup", this.dragEndHandler),
            this.$set(this.domOffset, "x", e.offsetLeft - 204),
            this.$set(this.domOffset, "y", e.offsetTop);
        }
        mounted() {
          document.body.appendChild(this.$el);
        }
        beforeDestroy() {
          document.body.removeChild(this.$el),
            this.$keyWatcher.removeListener("esc", this.otherExitWayHandler);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("resourceDialog")],
        sm.prototype,
        "resourceDialogHandler",
        null
      ),
        (sm = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterDialog: b["a"],
                ComponentList: Pp,
                ResourceIcon: eh["a"],
                ResourceImage: Ju,
                ResourceText: yh,
              },
              inject: ["IS_PRI"],
              computed: Object(r["e"])({
                resourceDialog: (e) => e.basicState.resourceDialog,
              }),
            }),
          ],
          sm
        ));
      var om = sm,
        am = om,
        nm =
          (i("10490"), Object(_["a"])(am, tm, im, !1, null, "3f002797", null)),
        rm = nm.exports,
        cm = i("4375"),
        lm = i("45a8"),
        dm = i("ec26");
      function um(e) {
        return e
          ? "r" in e
            ? {
                _class: "color",
                alpha: "a" in e ? e.a : 1,
                blue: e.b,
                green: e.g,
                red: e.r,
              }
            : {
                _class: "color",
                alpha: "alpha" in e ? e.alpha : 1,
                blue: e.blue,
                green: e.green,
                red: e.red,
              }
          : {
              _class: "color",
              alpha: 1,
              blue: 0,
              green: 0,
              red: 0,
            };
      }
      function hm(e) {
        const t = {
          _class: "attributedString",
          attributes: gm(e),
          string: e.blocks.reduce((e, t) => e + t.text, ""),
        };
        return t;
      }
      function pm(e) {
        var t;
        (null === (t = null === e || void 0 === e ? void 0 : e.paints) ||
        void 0 === t
          ? void 0
          : t.length) &&
          (e.paints.sort((e, t) => e.start - t.start),
          (e.paints = e.paints.filter(
            (e, t, i) => !(t > 0) || e.start >= i[t - 1].end
          )));
        const { blocks: i, paints: s } = e;
        if (!i || !i.length) return;
        const o = [];
        let a = 0;
        i.forEach((e) => {
          (e.start = a), (a += e.text.length), (e.end = a);
        });
        let n = 0,
          r = 0,
          c = 0;
        while (c < i[i.length - 1].end) {
          const e = i[n];
          if (!s || r === s.length) {
            o.push(mm(c, e.end, e)), (c = e.end), n++;
            continue;
          }
          const t = s[r];
          let a = 0,
            l = !1;
          c === e.start
            ? c >= t.start
              ? ((a = Math.min(e.end, t.end)), (l = !0))
              : (a = Math.min(e.end, t.start))
            : ((a = Math.min(e.end, t.end)), (l = !0));
          const d = l ? t : void 0;
          o.push(mm(c, a, e, d)),
            (c = a),
            c === e.end && n++,
            c === t.end && r++;
        }
        return o;
      }
      function mm(e, t, i, s) {
        var o, a;
        const {
          decoration: n,
          fontSize: r,
          height: c,
          letterSpacing: l,
          letterSpacingUnit: d,
          postscriptName: u,
          fontFamily: h,
          fontStyle: p,
        } = i.style;
        let m = 1.4 * r;
        if ("Auto" !== c) {
          const e = c.includes("%");
          m = e ? (parseFloat(c.split("%")[0]) / 100) * r : parseFloat(c);
        }
        const g = null === s || void 0 === s ? void 0 : s.textLayerColor,
          b = ["PERCENT", "PIXELS"],
          v = me["a"].state.resources.fontMap,
          f = v[u],
          y =
            null !==
              (o = null === f || void 0 === f ? void 0 : f.postscriptName) &&
            void 0 !== o
              ? o
              : h || u,
          _ =
            null !== (a = null === f || void 0 === f ? void 0 : f.style) &&
            void 0 !== a
              ? a
              : p;
        return {
          start: e,
          end: t,
          textStyleId: Object(ht["g"])(i.styleId) ? i.styleId : "",
          textStyle: {
            textDecoration: yd["k"][n],
            fontName: {
              family: y,
              style: _,
            },
            fontSize: r,
            lineHeight: {
              value: m,
              unit: "PIXELS",
            },
            letterSpacing: {
              value: l,
              unit: b[d],
            },
          },
          fills: g ? Object(ht["a"])(g) : [],
        };
      }
      function gm(e) {
        const t = [],
          i = pm(e);
        return (
          (i || []).forEach((i) => {
            var s, o;
            const a =
              "SOLID" ===
              (null ===
                (s = null === i || void 0 === i ? void 0 : i.fills[0]) ||
              void 0 === s
                ? void 0
                : s.type)
                ? um(i.fills[0].color)
                : {
                    _class: "color",
                    alpha: 1,
                    blue: 0,
                    green: 0,
                    red: 0,
                  };
            !1 ===
              (null ===
                (o = null === i || void 0 === i ? void 0 : i.fills[0]) ||
              void 0 === o
                ? void 0
                : o.isVisible) && (a.alpha = 0);
            const n = {
              _class: "stringAttribute",
              location: i.start,
              length: i.end - i.start,
              attributes: {
                kerning:
                  "PERCENT" === i.textStyle.letterSpacing.unit
                    ? i.textStyle.fontSize *
                      (i.textStyle.letterSpacing.value / 100)
                    : i.textStyle.letterSpacing.value,
                textStyleVerticalAlignmentKey: lm["TextVerticalAlignment"].Top,
                MSAttributedStringFontAttribute: {
                  _class: "fontDescriptor",
                  attributes: {
                    name: i.textStyle.fontName.family,
                    size: i.textStyle.fontSize,
                  },
                },
                MSAttributedStringColorAttribute: a,
                paragraphStyle: bm(e, i),
              },
            };
            "UNDERLINE" === i.textStyle.textDecoration &&
              (n.attributes.underlineStyle = lm["UnderlineStyle"].Underlined),
              "STRIKETHROUGH" === i.textStyle.textDecoration &&
                (n.attributes.strikethroughStyle =
                  lm["StrikethroughStyle"].Strikethrough),
              t.push(n);
          }),
          t
        );
      }
      function bm(e, t) {
        let i = t;
        i || (i = pm(e)[0]);
        const s =
          "PERCENT" === i.textStyle.lineHeight.unit
            ? i.textStyle.lineHeight.value / 100
            : i.textStyle.lineHeight.value;
        let o;
        switch (e.textAlignHorizontal) {
          case 2:
            o = lm["TextHorizontalAlignment"].Centered;
            break;
          case 1:
            o = lm["TextHorizontalAlignment"].Right;
            break;
          case 0:
            o = lm["TextHorizontalAlignment"].Left;
            break;
          case 3:
            o = lm["TextHorizontalAlignment"].Justified;
            break;
          default:
            o = lm["TextHorizontalAlignment"].Left;
            break;
        }
        const a = {
          _class: "paragraphStyle",
          alignment: o,
          maximumLineHeight: s,
          minimumLineHeight: s,
          paragraphSpacing: e.paragraphSpacing,
        };
        return a;
      }
      var vm = i("c114"),
        fm = i("81db");
      function ym(e) {
        const {
            scaleX: t,
            scaleY: i,
            skewX: s,
            skewY: o,
            transX: a,
            transY: n,
          } = e.m_relativeMatrix,
          r = Object(fm["f"])({
            a: t,
            b: o,
            c: s,
            d: i,
            e: a,
            f: n,
          }),
          c = Object(fm["d"])(r);
        return -c.rotation.angle * (180 / Math.PI);
      }
      function _m(e) {
        if ("booleanOperation" in e)
          switch (e.booleanOperation) {
            case 0:
              return lm["BooleanOperation"].None;
            case 1:
              return lm["BooleanOperation"].Union;
            case 2:
              return lm["BooleanOperation"].Intersection;
            case 3:
              return lm["BooleanOperation"].Difference;
            case 4:
              return lm["BooleanOperation"].Subtract;
            default:
              return lm["BooleanOperation"].None;
          }
        return lm["BooleanOperation"].None;
      }
      const Cm = {
        idMap: {},
        prototypeArray: [],
      };
      function Sm(e) {
        const {
          action: { transition: t },
        } = e;
        return 0 === t.direction ? -1 : t.direction;
      }
      function Im(e, t) {
        const i = {
            _class: "MSImmutableFlowConnection",
            animationType: 0,
            destinationArtboardID: "back",
            maintainScrollPosition: !1,
          },
          {
            data: { interactions: s = [] },
          } = I["b"].getLayerPrototypeById(t.id) || {
            data: {
              interactions: [],
            },
          },
          o =
            s.find((e) => e.trigger && e.trigger.type === yd["T"].ON_CLICK) ||
            "";
        o &&
          (o.action.type === yd["a"].NODE &&
            ((i.destinationArtboardID = o.action.destinationId),
            (i.animationType = Sm(o))),
          Cm.prototypeArray.push(i),
          (e.flow = i));
      }
      function Om(e) {
        const t = {
          _class: "exportOptions",
          exportFormats: km(e),
          includedLayerIds: [],
          layerOptions: 0,
          shouldTrim: !1,
        };
        return t;
      }
      function km(e) {
        if ("exports" in e) {
          const t = [];
          for (const i of e.exports) {
            const e = {
              _class: "exportFormat",
              absoluteSize: 0,
              fileFormat: wm(i),
              name: "",
              scale: 0,
              visibleScaleType: lm["VisibleScaleType"].Scale,
            };
            t.push(e);
          }
          return t;
        }
        return [];
      }
      function wm(e) {
        let t;
        switch (e.fileType) {
          case 1:
            t = lm["ExportFileFormat"].JPG;
            break;
          case 0:
            t = lm["ExportFileFormat"].PNG;
            break;
          case 2:
            t = lm["ExportFileFormat"].SVG;
            break;
          case 3:
            t = lm["ExportFileFormat"].PDF;
            break;
          default:
            t = lm["ExportFileFormat"].PNG;
            break;
        }
        return t;
      }
      var xm = i("0f4c");
      function Lm(e) {
        const {
            scaleX: t,
            scaleY: i,
            skewX: s,
            skewY: o,
            transX: a,
            transY: n,
          } = e.m_relativeMatrix,
          r = {
            a: t,
            b: o,
            c: s,
            d: i,
            e: a,
            f: n,
          },
          { width: c, height: l } = e,
          d = Object(fm["f"])(r),
          u = Object(fm["a"])(d, {
            x: c / 2,
            y: l / 2,
          }),
          h = Object(fm["j"])(-e.rotation * (Math.PI / 180), u.x, u.y),
          p = Object(fm["a"])(h, {
            x: a,
            y: n,
          }),
          m = Object(fm["d"])(d),
          g = {
            _class: "rect",
            constrainProportions: !1,
            width: c,
            height: l,
            x: m.scale.sx < 0 ? p.x - c : p.x,
            y: m.scale.sy < 0 ? p.y - l : p.y,
          };
        return g;
      }
      function Am(e) {
        const t = Tm(e),
          i = {
            _class: "rect",
            constrainProportions: !1,
            width: t.maxX - t.minX,
            height: t.maxY - t.minY,
            x: t.minX,
            y: t.minY,
          };
        return i;
      }
      function Tm(e) {
        const t = e.width,
          i = e.rotation,
          s = e.m_relativeMatrix.transX,
          o = e.m_relativeMatrix.transY,
          a = Object(fm["j"])(Object(xm["e"])(i), s, o),
          n = Object(fm["a"])(a, [s + t, o]),
          r = Math.min(s, n[0]),
          c = Math.max(s, n[0]),
          l = Math.min(o, n[1]),
          d = Math.max(o, n[1]);
        return {
          maxX: c,
          maxY: d,
          minX: r,
          minY: l,
        };
      }
      function jm(e) {
        const {
            scaleX: t,
            scaleY: i,
            skewX: s,
            skewY: o,
            transX: a,
            transY: n,
          } = e.m_relativeMatrix,
          r = Object(fm["f"])({
            a: t,
            b: o,
            c: s,
            d: i,
            e: a,
            f: n,
          });
        return Object(fm["d"])(r);
      }
      function Mm(e) {
        var t, i;
        const s = pm(e);
        if (!s || !s.length)
          return {
            _class: "textStyle",
            verticalAlignment: lm["TextVerticalAlignment"].Top,
            encodedAttributes: {
              MSAttributedStringFontAttribute: {
                _class: "fontDescriptor",
                attributes: {
                  name: "",
                  size: 18,
                },
              },
            },
          };
        const o =
          s[0].fills[0] && "SOLID" === s[0].fills[0].type
            ? um(s[0].fills[0].color)
            : {
                _class: "color",
                alpha: 0,
                blue: 1,
                green: 1,
                red: 1,
              };
        !1 ===
          (null ===
            (i = null === (t = s[0]) || void 0 === t ? void 0 : t.fills[0]) ||
          void 0 === i
            ? void 0
            : i.isVisible) && (o.alpha = 0);
        const a = {
          _class: "textStyle",
          verticalAlignment: lm["TextVerticalAlignment"].Top,
          encodedAttributes: {
            paragraphStyle: bm(e),
            MSAttributedStringTextTransformAttribute: lm["TextTransform"].None,
            underlineStyle: lm["UnderlineStyle"].None,
            strikethroughStyle: lm["StrikethroughStyle"].None,
            kerning: 0,
            MSAttributedStringFontAttribute: {
              _class: "fontDescriptor",
              attributes: {
                name: s[0].textStyle.fontName.family,
                size: s[0].textStyle.fontSize,
              },
            },
            textStyleVerticalAlignmentKey: lm["TextVerticalAlignment"].Top,
            MSAttributedStringColorAttribute: o,
          },
        };
        return a;
      }
      function Em(e) {
        const t = {
          _class: "graphicsContextSettings",
          blendMode: Dm(e),
          opacity: e.alpha ? e.alpha : 1,
        };
        return t;
      }
      function Pm(e) {
        let t = "opacity" in e ? e.opacity : 1;
        e.isMask && e.isMaskOutline && (t = 1);
        const i = {
          _class: "graphicsContextSettings",
          blendMode: Dm(e),
          opacity: t,
        };
        return i;
      }
      function Dm(e) {
        if (!e.blendMode) return lm["BlendMode"].Normal;
        switch (e.blendMode) {
          case 0:
            return lm["BlendMode"].Normal;
          case 1:
            return lm["BlendMode"].Darken;
          case 2:
            return lm["BlendMode"].Multiply;
          case 3:
            return lm["BlendMode"].ColorBurn;
          case 4:
            return lm["BlendMode"].Lighten;
          case 5:
            return lm["BlendMode"].Screen;
          case 6:
            return lm["BlendMode"].ColorDodge;
          case 7:
            return lm["BlendMode"].Overlay;
          case 8:
            return lm["BlendMode"].SoftLight;
          case 9:
            return lm["BlendMode"].HardLight;
          case 10:
            return lm["BlendMode"].Difference;
          case 11:
            return lm["BlendMode"].Exclusion;
          case 12:
            return lm["BlendMode"].Hue;
          case 13:
            return lm["BlendMode"].Saturation;
          case 14:
            return lm["BlendMode"].Color;
          case 15:
            return lm["BlendMode"].Luminosity;
          case 16:
            return lm["BlendMode"].PlusDarker;
          case 17:
            return lm["BlendMode"].PlusLighter;
          case 255:
            return lm["BlendMode"].Normal;
          default:
            return lm["BlendMode"].Normal;
        }
      }
      function Bm(e) {
        const t = {
          _class: "borderOptions",
          dashPattern: e.strokeDashes || [],
          isEnabled: !1,
          lineCapStyle: Nm(e),
          lineJoinStyle: Fm(e),
        };
        return t;
      }
      function Nm(e) {
        var t;
        return null !== (t = e.dashCap) && void 0 !== t ? t : 0;
      }
      function Fm(e) {
        if ("strokeJoin" in e)
          switch (e.strokeJoin) {
            case 0:
              return lm["LineJoinStyle"].Miter;
            case 1:
              return lm["LineJoinStyle"].Bevel;
            case 2:
              return lm["LineJoinStyle"].Round;
            default:
              return lm["LineJoinStyle"].Miter;
          }
        return lm["LineJoinStyle"].Round;
      }
      function Rm(e) {
        if (e.fills && e.fills[0] && e.fills[0].filters) {
          const t = e.fills[0].filters;
          let i;
          const s = 1 + t.saturation,
            o = t.exposure,
            a = 3.14 * t.tint;
          i = t.contrast >= 0 ? 1 + 3 * t.contrast : 1 + t.contrast;
          const n = {
            _class: "colorControls",
            brightness: o,
            contrast: i,
            hue: a,
            isEnabled: !0,
            saturation: s,
          };
          return n;
        }
        const t = {
          _class: "colorControls",
          brightness: 0,
          contrast: 1,
          hue: 0,
          isEnabled: !1,
          saturation: 1,
        };
        return t;
      }
      const Hm = {
        3: 1,
        4: 2,
        6: 5,
        7: 4,
        8: 7,
        9: 3,
      };
      function $m(e) {
        return (e && "strokeCap" in e && Hm[e.strokeCap]) || 0;
      }
      function Vm(e) {
        const t = [];
        if ("effects" in e && null !== e.effects) {
          const i = e.effects.sort((e, t) => e.index - t.index),
            s = i.filter((e) => 0 === e.type);
          if (s.length > 0)
            for (const e of s)
              t.push({
                _class: "innerShadow",
                isEnabled: e.isVisible,
                blurRadius: e.radius,
                color: um(e.color),
                contextSettings: Em(e),
                offsetX: e.x,
                offsetY: e.y,
                spread: e.spread,
              });
        }
        return t;
      }
      function zm(e, t) {
        var i;
        if (
          !(
            (null === (i = null === e || void 0 === e ? void 0 : e.gradient) ||
            void 0 === i
              ? void 0
              : i.gradientStops) || []
          ).length
        )
          return null;
        if (2 === e.type) {
          if (0 !== e.gradient.gradientStops[0].position) {
            const t = Object(c["cloneDeep"])(e.gradient.gradientStops[0]);
            (t.position = 0), e.gradient.gradientStops.unshift(t);
          }
          if (
            1 !==
            e.gradient.gradientStops[e.gradient.gradientStops.length - 1]
              .position
          ) {
            const t = Object(c["cloneDeep"])(
              e.gradient.gradientStops[e.gradient.gradientStops.length - 1]
            );
            (t.position = 1), e.gradient.gradientStops.push(t);
          }
        }
        const s = e.gradient.gradientStops[0],
          o = e.gradient.gradientStops[e.gradient.gradientStops.length - 1],
          [a, n] = e.gradient.gradientHandlePositions;
        if (
          e.gradient.gradientStops.length < 2 ||
          e.gradient.gradientStops.find((e) => Number.isNaN(e.position))
        )
          return null;
        const r = {
          elipseLength: t.height
            ? Object(xm["h"])(e.gradient.transform.width) * (t.width / t.height)
            : 0,
          _class: "gradient",
          gradientType: qm(e),
          from: `{${a.x + s.position * (n.x - a.x)}, ${
            a.y + s.position * (n.y - a.y)
          }}`,
          to: `{${a.x + o.position * (n.x - a.x)}, ${
            a.y + o.position * (n.y - a.y)
          }}`,
          stops: Um(e),
        };
        return r;
      }
      function Um(e) {
        var t;
        if (
          !(
            (null === (t = null === e || void 0 === e ? void 0 : e.gradient) ||
            void 0 === t
              ? void 0
              : t.gradientStops) || []
          ).length
        )
          return [];
        const i = e.gradient.gradientStops[0],
          s = e.gradient.gradientStops[e.gradient.gradientStops.length - 1],
          o = s.position - i.position || 1,
          a = [];
        if (3 === e.type)
          for (const n of e.gradient.gradientStops) {
            const e = n.position + 0.25,
              t = parseInt(e, 10);
            a.push({
              color: um(n.color),
              position: (e % 1) - 0.01 * t,
              _class: "gradientStop",
            });
          }
        else {
          let t = 0;
          for (const s of e.gradient.gradientStops)
            (t = Math.max(s.position, t)),
              a.push({
                color: um(s.color),
                position: (s.position - i.position) / o,
                _class: "gradientStop",
              });
        }
        return a;
      }
      function qm(e) {
        switch (e.type) {
          case 1:
            return lm["GradientType"].Linear;
          case 2:
            return lm["GradientType"].Radial;
          case 3:
            return lm["GradientType"].Angular;
          case 4:
            return lm["GradientType"].Linear;
          default:
            return lm["GradientType"].Linear;
        }
      }
      function Wm(e) {
        if ("strokeAlign" in e)
          switch (e.strokeAlign) {
            case 1:
              return lm["BorderPosition"].Center;
            case 2:
              return lm["BorderPosition"].Inside;
            case 3:
              return lm["BorderPosition"].Outside;
            default:
              return lm["BorderPosition"].Center;
          }
        return lm["BorderPosition"].Center;
      }
      function Gm(e) {
        var t, i, s;
        const o = [];
        if ("strokes" in e && null !== e.strokes && !e.isMask) {
          const a = e.strokes.sort((e, t) => e.index - t.index),
            n = Object(xm["h"])(
              ((null === e || void 0 === e ? void 0 : e.strokeWidth) &&
                (null === e || void 0 === e ? void 0 : e.strokeWidth[0])) ||
                (null === e || void 0 === e ? void 0 : e.strokeWeight)
            );
          for (const r of a)
            if (0 === r.type)
              o.unshift({
                _class: "border",
                isEnabled: null === (t = r.isVisible) || void 0 === t || t,
                color: um(r.color),
                fillType: lm["FillType"].Color,
                position: Wm(e),
                thickness: n,
              });
            else if (
              1 === r.type ||
              2 === r.type ||
              3 === r.type ||
              4 === r.type
            ) {
              const t = zm(r, e);
              if (t)
                o.unshift({
                  _class: "border",
                  isEnabled: null === (i = r.isVisible) || void 0 === i || i,
                  fillType: lm["FillType"].Gradient,
                  position: Wm(e),
                  thickness: n,
                  gradient: t,
                });
              else {
                const t = r.gradient.gradientStops.find((e) => e.color);
                o.push({
                  _class: "border",
                  isEnabled: null === (s = r.isVisible) || void 0 === s || s,
                  color: um(null === t || void 0 === t ? void 0 : t.color),
                  fillType: lm["FillType"].Color,
                  position: Wm(e),
                  thickness: n,
                });
              }
            }
        }
        return o;
      }
      function Km(e) {
        if ("effects" in e && null !== e.effects) {
          const t = e.effects.sort((e, t) => e.index - t.index),
            i = t.filter((e) => 2 === e.type || 3 === e.type);
          if (i.length > 0) {
            const e = i[i.length - 1],
              t = {
                _class: "blur",
                center: "",
                isEnabled: e.isVisible,
                motionAngle: 0,
                radius: e.radius / 2.72,
                saturation: 1,
                type:
                  2 === e.type
                    ? lm["BlurType"].Gaussian
                    : lm["BlurType"].Background,
              };
            return t;
          }
        }
      }
      function Qm(e) {
        var t, i, s, o;
        const a = [];
        if (e.isMask && e.isMaskOutline) return a;
        if ("fills" in e && e.fills && !e.isInstance && !e.isComponent) {
          const n = e.fills.sort((e, t) => e.index - t.index);
          for (const r of n)
            if (0 === r.type)
              a.push({
                _class: "fill",
                color: um(r.color),
                contextSettings: Em(r),
                fillType: lm["FillType"].Color,
                isEnabled: null === (t = r.isVisible) || void 0 === t || t,
                noiseIndex: 0,
                noiseIntensity: 0,
                patternFillType: lm["PatternFillType"].Fill,
                patternTileScale: 1,
              });
            else if (
              1 === r.type ||
              2 === r.type ||
              3 === r.type ||
              4 === r.type
            ) {
              const t = zm(r, e);
              if (t)
                a.push({
                  _class: "fill",
                  contextSettings: Em(r),
                  fillType: lm["FillType"].Gradient,
                  gradient: t,
                  isEnabled: null === (i = r.isVisible) || void 0 === i || i,
                  noiseIndex: 0,
                  noiseIntensity: 0,
                  patternFillType: lm["PatternFillType"].Fill,
                  patternTileScale: 1,
                });
              else {
                const e = r.gradient.gradientStops.find((e) => e.color);
                a.push({
                  _class: "fill",
                  color: um(null === e || void 0 === e ? void 0 : e.color),
                  contextSettings: Em(r),
                  fillType: lm["FillType"].Color,
                  isEnabled: null === (s = r.isVisible) || void 0 === s || s,
                  noiseIndex: 0,
                  noiseIntensity: 0,
                  patternFillType: lm["PatternFillType"].Fill,
                  patternTileScale: 1,
                });
              }
            } else if (5 === r.type) {
              const e = r.image.imageRef.split("/"),
                t = e[e.length - 1];
              let i;
              switch ((Pg.images.push(r.image.imageRef), r.image.scaleMode)) {
                case yd["G"].Fill:
                  i = lm["PatternFillType"].Fill;
                  break;
                case yd["G"].Fit:
                  i = lm["PatternFillType"].Fit;
                  break;
                case yd["G"].Stretch:
                  i = lm["PatternFillType"].Stretch;
                  break;
                case yd["G"].Tile:
                  i = lm["PatternFillType"].Tile;
                  break;
                default:
                  i = lm["PatternFillType"].Fill;
                  break;
              }
              a.push({
                _class: "fill",
                contextSettings: Em(r),
                fillType: lm["FillType"].Pattern,
                isEnabled: null === (o = r.isVisible) || void 0 === o || o,
                noiseIndex: 0,
                noiseIntensity: 0,
                patternFillType: i,
                patternTileScale: 1,
                image: {
                  _class: "MSJSONFileReference",
                  _ref_class: "MSImageData",
                  _ref: "images/" + t,
                },
              });
            }
        }
        return a;
      }
      function Ym(e) {
        const t = [];
        if (e.isMask && e.isMaskOutline) return t;
        if ("effects" in e && null !== e.effects) {
          const i = e.effects.sort((e, t) => e.index - t.index),
            s = i.filter((e) => 1 === e.type);
          if (s.length > 0)
            for (const e of s)
              t.push({
                _class: "shadow",
                isEnabled: e.isVisible,
                blurRadius: e.radius,
                color: um(e.color),
                contextSettings: Em(e),
                offsetX: e.x,
                offsetY: e.y,
                spread: e.spread,
              });
        }
        return t;
      }
      function Xm(
        e,
        t = {
          pathIds: [],
          regionId: 0,
          windingRule: lm["WindingRule"].NonZero,
        }
      ) {
        var i;
        Object(xm["k"])(e) || (e.effects = []);
        const s = Km(e),
          o = {
            _class: "style",
            do_objectID: Ag(),
            borders: Gm(e),
            fills: Qm(e),
            borderOptions: Bm(e),
            colorControls: Rm(e),
            startMarkerType: $m(e),
            endMarkerType: $m(e),
            shadows: Ym(e),
            innerShadows: Vm(e),
            miterLimit: 1,
            contextSettings: Pm(e),
            windingRule:
              null !==
                (i = null === t || void 0 === t ? void 0 : t.windingRule) &&
              void 0 !== i
                ? i
                : lm["WindingRule"].NonZero,
          };
        return s && (o.blur = s), 25 === e.type && (o.textStyle = Mm(e)), o;
      }
      function Zm(e) {
        let t = 63;
        switch (e.vertical) {
          case yd["U"].TOP_BOTTOM:
            (t -= 32), (t -= 8);
            break;
          case yd["U"].TOP:
            t -= 32;
            break;
          case yd["U"].BOTTOM:
            t -= 8;
            break;
          case yd["U"].CENTER:
            t -= 16;
            break;
          default:
            break;
        }
        switch (e.horizontal) {
          case yd["t"].LEFT_RIGHT:
            (t -= 4), (t -= 1);
            break;
          case yd["t"].LEFT:
            t -= 4;
            break;
          case yd["t"].RIGHT:
            t -= 1;
            break;
          case yd["t"].CENTER:
            t -= 2;
            break;
          default:
            break;
        }
        return t;
      }
      function Jm(e, t) {
        const i = Ct["b"].getLayerPropertyById(e.id);
        e.fills = i.fills;
        const s = Lm(e),
          o = jm(e);
        if (
          ((s.width += 2),
          s.x--,
          e.isMask && !e.isMaskOutline && (!e.fills || !e.fills.length))
        ) {
          const t = new vm["a"]();
          e.fills = [t];
        }
        Bg.idMap[e.id] || (Bg.idMap[e.id] = Ag(e.id));
        const a = {
          _class: "text",
          attributedString: hm(e),
          automaticallyDrawOnUnderlyingPath: !1,
          booleanOperation: _m(t),
          do_objectID: Bg.idMap[e.id],
          dontSynchroniseWithSymbol: !1,
          exportOptions: Om(e),
          frame: s,
          glyphBounds: "",
          isFixedToViewport: !1,
          isFlippedHorizontal: o.scale.sx < 0,
          isFlippedVertical: o.scale.sy < 0,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Undecided,
          lineSpacingBehaviour: lm["LineSpacingBehaviour"].ConsistentBaseline,
          name: e.name,
          nameIsFixed: !1,
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: ym(e),
          shouldBreakMaskChain: !1,
          style: Xm(e),
          textBehaviour: lm["TextBehaviour"].Fixed,
          hasClippingMask: e.isMask,
          clippingMaskMode: e.isMaskOutline ? 0 : 1,
        };
        return Im(a, e), a;
      }
      function eg(e, t) {
        const i = void 0 === t.type,
          s = jm(e);
        e.isInstance = !1;
        const o = e.opacity;
        i || (e.opacity = 1);
        const a = {
          _class: "rectangle",
          booleanOperation: lm["BooleanOperation"].None,
          do_objectID: Ag(),
          edited: !1,
          exportOptions: Om(e),
          fixedRadius: 0,
          frame: {
            _class: "rect",
            constrainProportions: !1,
            x: 0,
            y: 0,
            width: e.width,
            height: e.height,
          },
          hasConvertedToNewRoundCorners: !1,
          isClosed: !0,
          isFixedToViewport: !1,
          isFlippedHorizontal: s.scale.sx < 0,
          isFlippedVertical: s.scale.sy < 0,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Undecided,
          name: e.name,
          nameIsFixed: !1,
          needsConvertionToNewRoundCorners: !1,
          pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
          points: [
            {
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[0],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{0, 0}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{0, 0}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{0, 0}",
            },
            {
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[1],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{1, 0}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{1, 0}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{1, 0}",
            },
            {
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[2],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{1, 1}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{1, 1}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{1, 1}",
            },
            {
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[3],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{0, 1}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{0, 1}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{0, 1}",
            },
          ],
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: 0,
          shouldBreakMaskChain: !1,
          style: Xm(e),
          hasClippingMask: e.isMask || e.clip,
          clippingMaskMode: e.isMaskOutline || e.clip ? 0 : 1,
        };
        return (
          (e.fills = []), (e.strokes = []), (e.effects = []), (e.opacity = o), a
        );
      }
      function tg(e, t, i) {
        if (e && t) {
          if (25 === e.type && 25 === t.type) {
            const s = e.blocks.reduce((e, t) => e + t.text, ""),
              o = t.blocks.reduce((e, t) => e + t.text, "");
            s !== o &&
              (Bg.idMap[t.id] || (Bg.idMap[t.id] = Ag()),
              i.push({
                _class: "overrideValue",
                overrideName: Bg.idMap[t.id] + "_stringValue",
                value: s,
              }));
          }
          if (e.children && t.children)
            for (
              let s = 0;
              s < e.children.length && s < t.children.length;
              s++
            ) {
              const o = I["b"].getLayerData(e.children[s]),
                a = I["b"].getLayerData(t.children[s]);
              tg(o, a, i);
            }
        }
      }
      function ig(e, t) {
        var i, s, o, a;
        if (!e || !t) return !0;
        const n = {
          simpleKeys: [
            "width",
            "height",
            "isVisible",
            "strokeWeight",
            "strokeAlign",
            "strokeCap",
            "strokeJoin",
            "opacity",
          ],
          referenceKeys: [
            "strokeDashes",
            "strokeWidth",
            "fills",
            "strokes",
            "effects",
          ],
        };
        let r = !1;
        return (
          n.simpleKeys.forEach((i) => {
            e[i] !== t[i] && (r = !0);
          }),
          n.referenceKeys.forEach((i) => {
            Object(c["isEqual"])(e[i], t[i]) || (r = !0);
          }),
          ((null === (i = null === e || void 0 === e ? void 0 : e.bound) ||
          void 0 === i
            ? void 0
            : i.width) ===
            (null === (s = null === t || void 0 === t ? void 0 : t.bound) ||
            void 0 === s
              ? void 0
              : s.width) &&
            (null === (o = null === e || void 0 === e ? void 0 : e.bound) ||
            void 0 === o
              ? void 0
              : o.height) ===
              (null === (a = null === t || void 0 === t ? void 0 : t.bound) ||
              void 0 === a
                ? void 0
                : a.height)) ||
            (r = !0),
          25 === e.type && 25 === t.type && e.textOverride > 0 && (r = !0),
          e.children &&
            (e.children.length === t.children.length
              ? e.children.forEach((e, i) => {
                  const s = I["b"].getLayerData(e),
                    o = I["b"].getLayerData(t.children[i]);
                  ig(s, o) && (r = !0);
                })
              : (r = !0)),
          r
        );
      }
      function sg(e, t, i = "exportSketchAll") {
        var s, o, a;
        const n = I["b"].getLayerData(e.inheritFrom),
          r = jm(e);
        let c;
        if (!n || ("exportSketchWithoutInstance" === i && ig(e, n))) {
          const n =
              "fills" in e && null !== e.fills
                ? e.fills.sort((e, t) => e.index - t.index)
                : [],
            c = !!(null === n || void 0 === n ? void 0 : n.length),
            l = Tg(e, i),
            d = void 0 === t.type,
            u =
              d &&
              (null ===
                (s = null === e || void 0 === e ? void 0 : e.cornerRadius) ||
              void 0 === s
                ? void 0
                : s.some((e) => e > 0)),
            h = void 0 !== t.type && e.clip,
            p = 0 !== t.booleanOperation,
            m =
              c ||
              (null === (o = null === e || void 0 === e ? void 0 : e.strokes) ||
              void 0 === o
                ? void 0
                : o.length) ||
              (null === (a = null === e || void 0 === e ? void 0 : e.effects) ||
              void 0 === a
                ? void 0
                : a.length) ||
              1 !== e.opacity ||
              e.m_relativeMatrix.skewX ||
              e.m_relativeMatrix.skewY ||
              !e.isVisible ||
              u ||
              h;
          m && !p && ((e.isInstance = !1), l.unshift(eg(e, t)));
          const g = {
            _class: "group",
            booleanOperation: _m(t),
            do_objectID: Ag(),
            exportOptions: Om(e),
            frame: Lm(e),
            hasClickThrough: !1,
            isFixedToViewport: !1,
            isFlippedHorizontal: r.scale.sx < 0,
            isFlippedVertical: r.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            layers: l,
            name: e.name,
            nameIsFixed: !1,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
          return g;
        }
        {
          Bg.components[n.id]
            ? (c = Bg.components[n.id].uuid)
            : ((c = Ag()),
              (Bg.components[n.id] = {
                uuid: c,
                processed: !1,
                data: n,
              }));
          const i = [];
          tg(e, n, i);
          const s = {
            _class: "symbolInstance",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            exportOptions: Om(e),
            frame: Lm(e),
            horizontalSpacing: 0,
            isFixedToViewport: !1,
            isFlippedHorizontal: r.scale.sx < 0,
            isFlippedVertical: r.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            overrideValues: i,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            scale: 1,
            shouldBreakMaskChain: !1,
            style: Xm(e),
            symbolID: c,
            verticalSpacing: 0,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
          return Im(s, e), s;
        }
      }
      var og = i("e440"),
        ag = i.n(og);
      function ng(e) {
        const t = [];
        if ("cornerRadius" in e && 13 === e.type)
          t.push({
            _class: "curvePoint",
            cornerRadius: e.cornerRadius[0],
            cornerStyle: lm["CornerStyle"].Rounded,
            curveFrom: "{0, 0}",
            curveMode: lm["CurveMode"].Straight,
            curveTo: "{0, 0}",
            hasCurveFrom: !1,
            hasCurveTo: !1,
            point: "{0, 0}",
          }),
            t.push({
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[1],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{1, 0}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{1, 0}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{1, 0}",
            }),
            t.push({
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[2],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{1, 1}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{1, 1}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{1, 1}",
            }),
            t.push({
              _class: "curvePoint",
              cornerRadius: e.cornerRadius[3],
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{0, 1}",
              curveMode: lm["CurveMode"].Straight,
              curveTo: "{0, 1}",
              hasCurveFrom: !1,
              hasCurveTo: !1,
              point: "{0, 1}",
            });
        else if (12 === e.type)
          if (Eg(e.arcData)) {
            const i = I["b"].getFillPath(e.id),
              s = ag()(i.data);
            s.forEach((i, o) => {
              const a = i[0];
              if ("M" === a || "L" === a) {
                const s = [i[1], i[2]],
                  o = s[0] / e.width,
                  a = s[1] / e.height,
                  n = {
                    _class: "curvePoint",
                    cornerRadius: 0,
                    cornerStyle: lm["CornerStyle"].Rounded,
                    curveFrom: `{${o}, ${a}}`,
                    curveMode: lm["CurveMode"].Straight,
                    curveTo: `{${o}, ${a}}`,
                    hasCurveFrom: !1,
                    hasCurveTo: !1,
                    point: `{${o}, ${a}}`,
                  };
                t.push(n);
              } else if ("C" === a) {
                const a = [i[5], i[6]],
                  n = a[0] / e.width,
                  r = a[1] / e.height,
                  c =
                    s[o + 1] && "L" === s[o + 1][0]
                      ? 0
                      : Math.max(e.width, e.height) / 2,
                  l = {
                    _class: "curvePoint",
                    cornerRadius: c,
                    cornerStyle: lm["CornerStyle"].Rounded,
                    curveFrom: `{${n}, ${r}}`,
                    curveMode: lm["CurveMode"].Straight,
                    curveTo: `{${n}, ${r}}`,
                    hasCurveFrom: !0,
                    hasCurveTo: !0,
                    point: `{${n}, ${r}}`,
                  };
                t.push(l);
              }
            });
          } else
            t.push({
              _class: "curvePoint",
              cornerRadius: 0,
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: "{0.77614237490000004, 1}",
              curveMode: lm["CurveMode"].Mirrored,
              curveTo: "{0.22385762510000001, 1}",
              hasCurveFrom: !0,
              hasCurveTo: !0,
              point: "{0.5, 1}",
            }),
              t.push({
                _class: "curvePoint",
                cornerRadius: 0,
                cornerStyle: lm["CornerStyle"].Rounded,
                curveFrom: "{1, 0.22385762510000001}",
                curveMode: lm["CurveMode"].Mirrored,
                curveTo: "{1, 0.77614237490000004}",
                hasCurveFrom: !0,
                hasCurveTo: !0,
                point: "{1, 0.5}",
              }),
              t.push({
                _class: "curvePoint",
                cornerRadius: 0,
                cornerStyle: lm["CornerStyle"].Rounded,
                curveFrom: "{0.22385762510000001, 0}",
                curveMode: lm["CurveMode"].Mirrored,
                curveTo: "{0.77614237490000004, 0}",
                hasCurveFrom: !0,
                hasCurveTo: !0,
                point: "{0.5, 0}",
              }),
              t.push({
                _class: "curvePoint",
                cornerRadius: 0,
                cornerStyle: lm["CornerStyle"].Rounded,
                curveFrom: "{0, 0.77614237490000004}",
                curveMode: lm["CurveMode"].Mirrored,
                curveTo: "{0, 0.22385762510000001}",
                hasCurveFrom: !0,
                hasCurveTo: !0,
                point: "{0, 0.5}",
              });
        else if (22 === e.type || 23 === e.type) {
          const { nodes: i } = I["b"].getLayerVectorData(e.id);
          i.forEach((i) => {
            const s = i.x / e.width,
              o = i.y / e.height;
            t.push({
              _class: "curvePoint",
              cornerRadius: i.cornerRadius,
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: `{${s}, ${o}}`,
              curveMode: lm["CurveMode"].Straight,
              curveTo: `{${s}, ${o}}`,
              hasCurveFrom: !0,
              hasCurveTo: !0,
              point: `{${s}, ${o}}`,
            });
          });
        } else if (33 === e.type) lg(I["b"].getLayerPath(e.id), t);
        else if (10 === e.type) return cg(e);
        return t;
      }
      function rg(e) {
        switch (e.ctrlType) {
          case 0:
            return lm["CurveMode"].Disconnected;
          case 1:
            return lm["CurveMode"].Asymmetric;
          case 2:
            return lm["CurveMode"].Mirrored;
          case 3:
            return lm["CurveMode"].Straight;
          default:
            return lm["CurveMode"].None;
        }
      }
      function cg(e) {
        const t = [],
          i = e.m_relativeMatrix.transX,
          s = e.m_relativeMatrix.transY,
          o = Tm(e),
          a = i === o.minX ? 0 : 1,
          n = s === o.minY ? 0 : 1,
          r = 1 - a,
          c = 1 - n;
        return (
          t.push({
            _class: "curvePoint",
            cornerRadius: 0,
            cornerStyle: lm["CornerStyle"].Rounded,
            curveFrom: `{${a}, ${n}}`,
            curveMode: lm["CurveMode"].None,
            curveTo: `{${a}, ${n}}`,
            hasCurveFrom: !1,
            hasCurveTo: !1,
            point: `{${a}, ${n}}`,
          }),
          t.push({
            _class: "curvePoint",
            cornerRadius: 0,
            cornerStyle: lm["CornerStyle"].Rounded,
            curveFrom: `{${r}, ${c}}`,
            curveMode: lm["CurveMode"].None,
            curveTo: `{${r}, ${c}}`,
            hasCurveFrom: !1,
            hasCurveTo: !1,
            point: `{${r}, ${c}}`,
          }),
          t
        );
      }
      function lg(e, t) {
        const i = e.nodes.sort((e, t) => e.nodeId < t.nodeId);
        i[0].isPush = !0;
        const s = i[0],
          o = s.x / e.width,
          a = s.y / e.height;
        t.push({
          _class: "curvePoint",
          cornerRadius: s.cornerRadius ? s.cornerRadius : 0,
          cornerStyle: lm["CornerStyle"].Rounded,
          curveFrom: `{${o}, ${a}}`,
          curveMode: rg(s),
          curveTo: `{${o}, ${a}}`,
          hasCurveFrom: !1,
          hasCurveTo: !1,
          point: `{${o}, ${a}}`,
        }),
          dg(e, t, s, i);
      }
      function dg(e, t, i, s) {
        const o = e.paths.find((e) => e.nodeIds[0] === i.nodeId);
        if (o) {
          const i = s.find((e) => e.nodeId === o.nodeIds[3]);
          if (i.isPush) return;
          if (((i.isPush = !0), i.nodeId === s[0].nodeId)) return;
          const a = i.x / e.width,
            n = i.y / e.height,
            r = {
              x: a,
              y: n,
            },
            c = {
              x: a,
              y: n,
            };
          let l = !1,
            d = !1;
          e.ctrlNodes &&
            e.ctrlNodes.forEach((t) => {
              const s = e.paths.find((e) => e.pathId === t.pathIds[0]);
              s.nodeIds[0] === i.nodeId &&
                ((l = !0), (r.x = t.x / e.width), (r.y = t.y / e.height)),
                s.nodeIds[3] === i.nodeId &&
                  ((d = !0), (c.x = t.x / e.width), (c.y = t.y / e.height));
            }),
            t.push({
              _class: "curvePoint",
              cornerRadius: i.cornerRadius,
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: `{${r.x}, ${r.y}}`,
              curveMode: rg(i),
              curveTo: `{${c.x}, ${c.y}}`,
              hasCurveFrom: l,
              hasCurveTo: d,
              point: `{${a}, ${n}}`,
            }),
            dg(e, t, i, s);
        }
      }
      function ug(e, t) {
        const i = jm(e),
          s = {
            _class: "shapePath",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: !0,
            isFixedToViewport: !1,
            isFlippedHorizontal: i.scale.sx < 0,
            isFlippedVertical: i.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: ng(e),
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return Im(s, e), s;
      }
      function hg(e, t) {
        const i = jm(e),
          s = cg(e),
          o = Xm(e);
        if (e.nodes) {
          const [t, i] = e.nodes;
          (o.startMarkerType = $m(t)), (o.endMarkerType = $m(i));
        }
        const a = {
          _class: "shapePath",
          booleanOperation: _m(t),
          do_objectID: Ag(e.id),
          edited: !1,
          exportOptions: Om(e),
          frame: Am(e),
          isClosed: !1,
          isFixedToViewport: !1,
          isFlippedHorizontal: i.scale.sx < 0,
          isFlippedVertical: i.scale.sy < 0,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Undecided,
          name: e.name,
          nameIsFixed: !1,
          pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
          points: s,
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: 0,
          shouldBreakMaskChain: !1,
          style: o,
          hasClippingMask: e.isMask,
          clippingMaskMode: e.isMaskOutline ? 0 : 1,
        };
        return Im(a, e), a;
      }
      let pg = [];
      function mg(e) {
        if (!e.length) return [];
        const t = [e.shift()];
        while (e.length) {
          const i = e.findIndex(
            (e) => e.nodeIds[0] === t[t.length - 1].nodeIds[3]
          );
          if (i > -1) {
            const s = e.splice(i, 1)[0];
            t.push(s);
          } else t.push(...e), (e = []);
        }
        return t;
      }
      function gg(e, t) {
        var i, s, o, a;
        if (0 === e.height) return hg(e, t);
        (e.width = e.width || 1), (pg = []);
        const n = jm(e);
        let r = I["b"].getSkPathById(e.id);
        if (!r.nodes.length) {
          let t;
          const i = I["b"].module.getLayerPropertyById(e.id);
          if (
            ((i.isInstance || i.isPartOfInstance) && (t = i.inheritFrom),
            !t && e.id.includes("/") && (t = e.id.split("/").pop()),
            t)
          ) {
            const i = I["b"].getSkPathById(t);
            if (i) {
              r = I["b"].getSkPathById(t);
              const i = I["b"].getLayerData(t),
                { width: s, height: o } = i,
                a = e.width / s,
                n = e.height / o;
              r.nodes.forEach((e) => {
                (e.x *= a), (e.y *= n);
              }),
                r.ctrlNodes.forEach((e) => {
                  (e.x *= a), (e.y *= n);
                });
            }
          }
        }
        if ((Object(xm["i"])(r), !r.paths.length))
          return {
            _class: "shapePath",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: !1,
            isFixedToViewport: !1,
            isFlippedHorizontal: n.scale.sx < 0,
            isFlippedVertical: n.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: [],
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        const c = r.nodes;
        r.regions.forEach((e) => {
          e.pathIds = e.pathIds.filter(
            (e) => r.paths.some((t) => t.pathId === e) || e > Math.pow(2, 30)
          );
        });
        const l = r.regions.reduce((e, t) => e + t.pathIds.length, 0);
        if (r.regions.length && l)
          r.regions.forEach((e) => {
            let t = [];
            e.pathIds.forEach((e) => {
              const i = r.paths.find((t) => t.pathId === e);
              i ? t.push(i) : ((t = mg(t)), pg.push(t), (t = []));
            }),
              (t = mg(t)),
              pg.push(t);
          });
        else {
          const e =
            r.paths.length === c.length &&
            c.every((e) => 2 === e.pathIds.length);
          if (e) {
            let e = [r.paths.shift()],
              t = [],
              n = null === (i = e[0]) || void 0 === i ? void 0 : i.nodeIds[0],
              c = null === (s = e[0]) || void 0 === s ? void 0 : s.nodeIds[3];
            while (r.paths.length) {
              const i = r.paths.shift();
              (null === i || void 0 === i ? void 0 : i.nodeIds[0]) === c &&
              (null === i || void 0 === i ? void 0 : i.nodeIds[3]) === n
                ? (e.push(i),
                  (t = t.concat(e)),
                  (e = []),
                  r.paths.length &&
                    (e.push(r.paths.shift()),
                    (n =
                      null === (o = e[0]) || void 0 === o
                        ? void 0
                        : o.nodeIds[0]),
                    (c =
                      null === (a = e[0]) || void 0 === a
                        ? void 0
                        : a.nodeIds[3])))
                : (null === i || void 0 === i ? void 0 : i.nodeIds[0]) === c
                ? (e.push(i),
                  (c = null === i || void 0 === i ? void 0 : i.nodeIds[3]))
                : (null === i || void 0 === i ? void 0 : i.nodeIds[3]) === n
                ? (e.unshift(i),
                  (n = null === i || void 0 === i ? void 0 : i.nodeIds[0]))
                : i && (i.nodeIds.reverse(), r.paths.push(i)),
                r.paths.length || (t = t.concat(e));
            }
            r.paths = t;
          }
          if (r.paths.length === r.nodes.length - 1) {
            const e = [r.paths.shift()];
            let t = r.paths.length,
              i = !0;
            while (r.paths.length !== t || i) {
              i = !1;
              const s = [];
              r.paths.forEach((t) => {
                t.nodeIds[0] === e[e.length - 1].nodeIds[3]
                  ? e.push(t)
                  : t.nodeIds[3] === e[0].nodeIds[0]
                  ? e.unshift(t)
                  : s.push(t);
              }),
                (r.paths = s),
                (t = s.length);
            }
            r.paths = [...e, ...r.paths];
          }
          pg.push([r.paths[0]]);
          for (let t = 0; t < r.paths.length; t++) {
            const e = r.paths[t];
            let i;
            t > 0 &&
              ((i = r.paths[t - 1]),
              e.nodeIds[0] === i.nodeIds[3]
                ? pg[pg.length - 1].push(e)
                : pg.push([e]));
          }
        }
        if (1 === pg.length) {
          const i = Xm(e),
            s = [],
            o = pg[0][0].nodeIds[0] === pg[0][pg[0].length - 1].nodeIds[3];
          if (!o) {
            const e = c.find((e) => e.nodeId === pg[0][0].nodeIds[0]),
              t = c.find(
                (e) => e.nodeId === pg[0][pg[0].length - 1].nodeIds[3]
              );
            (i.startMarkerType = $m(e)), (i.endMarkerType = $m(t));
          }
          for (let t = 0; t < pg[0].length; t++) {
            const i = pg[0][t],
              a = c.find((e) => e.nodeId === i.nodeIds[0]);
            if (!a) throw new Error("find start path node error");
            const n = a.x / e.width,
              l = a.y / e.height;
            let d = !1;
            const u = {
              x: n,
              y: l,
            };
            let h = !1;
            const p = {
              x: n,
              y: l,
            };
            if (-1 !== i.nodeIds[1]) {
              const t = r.ctrlNodes.find((e) => e.nodeId === i.nodeIds[1]);
              t && ((d = !0), (u.x = t.x / e.width), (u.y = t.y / e.height));
            }
            if (0 !== t) {
              const i = pg[0][t - 1];
              if (i && -1 !== i.nodeIds[2]) {
                const t = r.ctrlNodes.find((e) => e.nodeId === i.nodeIds[2]);
                t && ((h = !0), (p.x = t.x / e.width), (p.y = t.y / e.height));
              }
            }
            if (o && 0 === t) {
              const t = pg[0][pg[0].length - 1];
              if (-1 !== t.nodeIds[2]) {
                const i = r.ctrlNodes.find((e) => e.nodeId === t.nodeIds[2]);
                i && ((h = !0), (p.x = i.x / e.width), (p.y = i.y / e.height));
              }
            }
            const m = {
              _class: "curvePoint",
              cornerRadius: (
                null === a || void 0 === a ? void 0 : a.cornerRadius
              )
                ? a.cornerRadius
                : 0,
              cornerStyle: lm["CornerStyle"].Rounded,
              curveFrom: `{${u.x}, ${u.y}}`,
              curveMode: lm["CurveMode"].Disconnected,
              curveTo: `{${p.x}, ${p.y}}`,
              hasCurveFrom: d,
              hasCurveTo: h,
              point: `{${n}, ${l}}`,
            };
            if ((s.push(m), !o && t === pg[0].length - 1)) {
              const t = c.find((e) => e.nodeId === i.nodeIds[3]);
              if (!t) throw new Error("find end path node error");
              const o = t.x / e.width,
                a = t.y / e.height,
                n = !1,
                l = {
                  x: o,
                  y: a,
                };
              let d = !1;
              const u = {
                x: o,
                y: a,
              };
              if (-1 !== i.nodeIds[2]) {
                const t = r.ctrlNodes.find((e) => e.nodeId === i.nodeIds[2]);
                t && ((d = !0), (u.x = t.x / e.width), (u.y = t.y / e.height));
              }
              const h = {
                _class: "curvePoint",
                cornerRadius: (
                  null === t || void 0 === t ? void 0 : t.cornerRadius
                )
                  ? t.cornerRadius
                  : 0,
                cornerStyle: lm["CornerStyle"].Rounded,
                curveFrom: `{${l.x}, ${l.y}}`,
                curveMode: lm["CurveMode"].Disconnected,
                curveTo: `{${u.x}, ${u.y}}`,
                hasCurveFrom: n,
                hasCurveTo: d,
                point: `{${o}, ${a}}`,
              };
              s.push(h);
            }
            if (o && t === pg[0].length - 1 && -1 !== i.nodeIds[2]) {
              const t = r.ctrlNodes.find((e) => e.nodeId === i.nodeIds[2]);
              t &&
                ((s[0].hasCurveTo = !0),
                (s[0].curveTo = `{${t.x / e.width}, ${t.y / e.height}}`));
            }
          }
          const a = {
            _class: "shapePath",
            booleanOperation: _m(t),
            do_objectID: Ag(),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: o,
            isFixedToViewport: !1,
            isFlippedHorizontal: n.scale.sx < 0,
            isFlippedVertical: n.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: s,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: i,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
          return a;
        }
        {
          const i = r.regions.length < pg.length,
            s = {
              _class: i ? "shapeGroup" : "group",
              booleanOperation: _m(t),
              do_objectID: Ag(),
              exportOptions: Om(e),
              frame: Lm(e),
              hasClickThrough: !1,
              isFixedToViewport: !1,
              isFlippedHorizontal: n.scale.sx < 0,
              isFlippedVertical: n.scale.sy < 0,
              isLocked: e.isLocked,
              isVisible: e.isVisible,
              layerListExpandedType: lm["LayerListExpanded"].Expanded,
              layers: [],
              name: e.name,
              nameIsFixed: !1,
              resizingConstraint: Zm(e),
              resizingType: lm["ResizeType"].Stretch,
              rotation: ym(e),
              shouldBreakMaskChain: !1,
              hasClippingMask: e.isMask,
              clippingMaskMode: e.isMaskOutline ? 0 : 1,
            };
          i && (s.style = Xm(e, r.regions[0]));
          const o = [];
          for (let t = 0; t < pg.length; t++) {
            const i = pg[t],
              s = [],
              a = i[0].nodeIds[0] === i[i.length - 1].nodeIds[3];
            for (let t = 0; t < i.length; t++) {
              const o = i[t],
                n = c.find((e) => e.nodeId === o.nodeIds[0]);
              if (!n) throw new Error("find path node error");
              const l = n.x / e.width,
                d = n.y / e.height;
              let u = !1;
              const h = {
                x: l,
                y: d,
              };
              let p = !1;
              const m = {
                x: l,
                y: d,
              };
              if (-1 !== o.nodeIds[1]) {
                const t = r.ctrlNodes.find((e) => e.nodeId === o.nodeIds[1]);
                t && ((u = !0), (h.x = t.x / e.width), (h.y = t.y / e.height));
              }
              if (0 !== t) {
                const s = i[t - 1];
                if (s && -1 !== s.nodeIds[2]) {
                  const t = r.ctrlNodes.find((e) => e.nodeId === s.nodeIds[2]);
                  t &&
                    ((p = !0), (m.x = t.x / e.width), (m.y = t.y / e.height));
                }
              }
              if (a && 0 === t) {
                const t = i[i.length - 1];
                if (t && -1 !== t.nodeIds[2]) {
                  const i = r.ctrlNodes.find(
                    (e) => e.pathIds && -1 !== e.pathIds.indexOf(t.pathId)
                  );
                  i &&
                    ((p = !0), (m.x = i.x / e.width), (m.y = i.y / e.height));
                }
              }
              const g = {
                _class: "curvePoint",
                cornerRadius: (
                  null === n || void 0 === n ? void 0 : n.cornerRadius
                )
                  ? n.cornerRadius
                  : 0,
                cornerStyle: lm["CornerStyle"].Rounded,
                curveFrom: `{${h.x}, ${h.y}}`,
                curveMode: lm["CurveMode"].Disconnected,
                curveTo: `{${m.x}, ${m.y}}`,
                hasCurveFrom: u,
                hasCurveTo: p,
                point: `{${l}, ${d}}`,
              };
              if ((s.push(g), !a && t === i.length - 1)) {
                const t = c.find((e) => e.nodeId === o.nodeIds[3]);
                if (!t) throw new Error("find end path node error");
                const i = t.x / e.width,
                  a = t.y / e.height;
                let n = !1;
                const l = {
                    x: i,
                    y: a,
                  },
                  d = !1,
                  u = {
                    x: i,
                    y: a,
                  };
                if (-1 !== o.nodeIds[1]) {
                  const t = r.ctrlNodes.find((e) => e.nodeId === o.nodeIds[1]);
                  t &&
                    ((n = !0), (l.x = t.x / e.width), (l.y = t.y / e.height));
                }
                const h = {
                  _class: "curvePoint",
                  cornerRadius: (
                    null === t || void 0 === t ? void 0 : t.cornerRadius
                  )
                    ? t.cornerRadius
                    : 0,
                  cornerStyle: lm["CornerStyle"].Rounded,
                  curveFrom: `{${l.x}, ${l.y}}`,
                  curveMode: lm["CurveMode"].Disconnected,
                  curveTo: `{${u.x}, ${u.y}}`,
                  hasCurveFrom: n,
                  hasCurveTo: d,
                  point: `{${i}, ${a}}`,
                };
                s.push(h);
              }
              if (a && t === i.length - 1 && -1 !== o.nodeIds[2]) {
                const t = r.ctrlNodes.find((e) => e.nodeId === o.nodeIds[2]);
                t &&
                  ((s[0].hasCurveTo = !0),
                  (s[0].curveTo = `{${t.x / e.width}, ${t.y / e.height}}`));
              }
            }
            const n = Lm(e);
            (n.x = 0),
              (n.y = 0),
              o.push({
                _class: "shapePath",
                booleanOperation: lm["BooleanOperation"].None,
                do_objectID: Ag(),
                edited: !1,
                exportOptions: Om(e),
                frame: n,
                isClosed: a,
                isFixedToViewport: !1,
                isFlippedHorizontal: !1,
                isFlippedVertical: !1,
                isLocked: e.isLocked,
                isVisible: e.isVisible,
                layerListExpandedType: lm["LayerListExpanded"].Expanded,
                name: e.name,
                nameIsFixed: !1,
                pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
                points: s,
                resizingConstraint: Zm(e),
                resizingType: lm["ResizeType"].Stretch,
                rotation: 0,
                shouldBreakMaskChain: !1,
                style: Xm(e),
                hasClippingMask: e.isMask,
                clippingMaskMode: e.isMaskOutline ? 0 : 1,
              });
          }
          return (s.layers = o), Im(s, e), s;
        }
      }
      function bg(e, t) {
        const i = jm(e),
          s = {
            _class: "slice",
            backgroundColor: {
              _class: "color",
              alpha: 1,
              blue: 1,
              green: 1,
              red: 1,
            },
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            exportOptions: Om(e),
            frame: Lm(e),
            hasBackgroundColor: !1,
            isFixedToViewport: !1,
            isFlippedHorizontal: i.scale.sx < 0,
            isFlippedVertical: i.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return Im(s, e), s;
      }
      var vg = i("07add");
      function fg(e) {
        const t = e.fills;
        (e.fills = e.strokes), (e.strokes = []);
        const i = I["b"].getStrokePath(e.id),
          s = ag()(i.data),
          o = jm(e),
          a = Lm(e);
        (a.x = 0), (a.y = 0);
        const n = [];
        let r = [];
        if (
          (s.forEach((t) => {
            const i = t[0];
            if ("Z" !== i) {
              const i = [t[1], t[2]],
                s = i[0] / e.width,
                o = i[1] / e.height,
                a = {
                  _class: "curvePoint",
                  cornerRadius: 0,
                  cornerStyle: lm["CornerStyle"].Rounded,
                  curveFrom: `{${s}, ${o}}`,
                  curveMode: lm["CurveMode"].Straight,
                  curveTo: `{${s}, ${o}}`,
                  hasCurveFrom: !1,
                  hasCurveTo: !1,
                  point: `{${s}, ${o}}`,
                };
              r.push(a);
            } else {
              const t = {
                _class: "shapePath",
                booleanOperation: lm["BooleanOperation"].Difference,
                do_objectID: Ag(),
                edited: !1,
                exportOptions: Om(e),
                frame: a,
                isClosed: !0,
                isFixedToViewport: !1,
                isFlippedHorizontal: o.scale.sx < 0,
                isFlippedVertical: o.scale.sy < 0,
                isLocked: e.isLocked,
                isVisible: e.isVisible,
                layerListExpandedType: lm["LayerListExpanded"].Expanded,
                name: e.name,
                nameIsFixed: !1,
                pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
                points: r,
                resizingConstraint: Zm(e),
                resizingType: lm["ResizeType"].Stretch,
                rotation: ym(e),
                shouldBreakMaskChain: !0,
                style: Xm(e),
                hasClippingMask: e.isMask,
                clippingMaskMode: e.isMaskOutline ? 0 : 1,
              };
              n.push(t), (r = []);
            }
          }),
          1 === n.length)
        )
          return (e.fills = t), n[0];
        const c = {
          _class: "shapeGroup",
          booleanOperation: lm["BooleanOperation"].None,
          do_objectID: Ag(),
          exportOptions: Om(e),
          frame: a,
          hasClickThrough: !1,
          isFixedToViewport: !1,
          isFlippedHorizontal: o.scale.sx < 0,
          isFlippedVertical: o.scale.sy < 0,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Expanded,
          layers: n,
          name: e.name,
          nameIsFixed: !1,
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: ym(e),
          shouldBreakMaskChain: !0,
          style: Xm(e),
          hasClippingMask: !1,
          clippingMaskMode: 1,
          windingRule: lm["WindingRule"].NonZero,
        };
        return (e.fills = t), c;
      }
      function yg(e, t, i = "exportSketchAll") {
        const s = jm(e),
          o = {
            _class: "group",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            exportOptions: Om(e),
            frame: Lm(e),
            hasClickThrough: !1,
            isFixedToViewport: !1,
            isFlippedHorizontal: s.scale.sx < 0,
            isFlippedVertical: s.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            style: Xm(e),
            layers: Tg(e, i),
            name: e.name,
            nameIsFixed: !1,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return (
          e.isMask &&
            ((o._class = "shapeGroup"),
            e.isMaskOutline ||
              (e.fills && e.fills.length) ||
              ((e.fills = [new vm["a"]()]), (o.style = Xm(e)))),
          Im(o, e),
          o
        );
      }
      function _g(e, t) {
        var i;
        const s = jm(e);
        let o;
        const a = {
            do_objectID: Ag(e.id),
            booleanOperation: _m(t),
            exportOptions: Om(e),
            frame: Lm(e),
            isFixedToViewport: !1,
            isFlippedHorizontal: s.scale.sx < 0,
            isFlippedVertical: s.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Expanded,
            name: e.name,
            nameIsFixed: !1,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Resize,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
            style: Xm(e),
          },
          n =
            null ===
              (i = null === e || void 0 === e ? void 0 : e.cornerRadius) ||
            void 0 === i
              ? void 0
              : i.some((e) => e > 0),
          r =
            e.fills &&
            1 === e.fills.length &&
            e.fills[0].type === yd["E"].IMAGE &&
            e.fills[0].isVisible &&
            !n;
        if (r) {
          a.style.fills = [];
          const t = e.fills[0].image.imageRef.split("/"),
            i = t[t.length - 1];
          Pg.images.push(e.fills[0].image.imageRef),
            (o = Object.assign(Object.assign({}, a), {
              _class: "bitmap",
              fillReplacesImage: !1,
              image: {
                _class: "MSJSONFileReference",
                _ref_class: "MSImageData",
                _ref: "images/" + i,
              },
              intendedDPI: 72,
              clippingMask: "{{0, 0}, {1, 1}}",
            }));
        } else
          o = Object.assign(Object.assign({}, a), {
            _class: "rectangle",
            edited: !1,
            fixedRadius: 0,
            hasConvertedToNewRoundCorners: !1,
            isClosed: !0,
            needsConvertionToNewRoundCorners: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: ng(e),
          });
        Im(o, e);
        const c = e.strokeWidthType !== se["H"].all;
        if (c) {
          const i = yg(e, t),
            s = fg(e);
          return (
            (o.frame.x = 0),
            (o.frame.y = 0),
            o.style && (o.style.borders = []),
            (i.layers = [o, s]),
            i
          );
        }
        return o;
      }
      function Cg(e, t) {
        const i = jm(e),
          s = {
            _class: Eg(e.arcData) ? "shapePath" : "oval",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: !0,
            isFixedToViewport: !1,
            isFlippedHorizontal: i.scale.sx < 0,
            isFlippedVertical: i.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: ng(e),
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return Im(s, e), s;
      }
      function Sg(e, t) {
        const i = jm(e);
        if (3 === e.pointCount) {
          const s = {
            _class: "shapePath",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: !0,
            isFixedToViewport: !1,
            isFlippedHorizontal: i.scale.sx < 0,
            isFlippedVertical: i.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: ng(e),
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
          return s;
        }
        {
          const t = {
            _class: "shapePath",
            booleanOperation: lm["BooleanOperation"].None,
            do_objectID: Ag(),
            edited: !1,
            exportOptions: Om(e),
            frame: Lm(e),
            isClosed: !0,
            isFixedToViewport: !1,
            isFlippedHorizontal: i.scale.sx < 0,
            isFlippedVertical: i.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            name: e.name,
            nameIsFixed: !1,
            pointRadiusBehaviour: lm["PointsRadiusBehaviour"].Rounded,
            points: ng(e),
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
          return Im(t, e), t;
        }
      }
      var Ig = i("8594");
      function Og(e) {
        const t = Ct["b"].Module.getLayerPropertyById(e.id);
        if ("grids" in t && null !== t.grids) {
          const e = new Ig["m"]();
          (e.isVisible = !1), (e.sectionSize = 20);
          const i = t.grids.find((e) => e.gridType === yd["s"].GRID) || e;
          if (i) {
            const e = {
              _class: "simpleGrid",
              isEnabled: i.isVisible,
              gridSize: i.sectionSize,
              thickGridTimes: 5,
            };
            return e;
          }
        }
      }
      function kg(e) {
        const t = Ct["b"].Module.getLayerPropertyById(e.id);
        if ("grids" in t && null !== t.grids) {
          const i = new Ig["m"]();
          (i.gridType = yd["s"].COLUMNS),
            (i.isVisible = !1),
            (i.count = 12),
            (i.gutterSize = e.width / i.count - i.sectionSize);
          const s = new Ig["m"]();
          (s.gridType = yd["s"].ROWS),
            (s.isVisible = !1),
            (s.count = 12),
            (s.gutterSize = e.height / s.count - s.sectionSize);
          const o = t.grids.find((e) => e.gridType === yd["s"].COLUMNS) || i,
            a = t.grids.find((e) => e.gridType === yd["s"].ROWS) || s;
          if (o || a) {
            const t = {
              _class: "layoutGrid",
              isEnabled: o.isVisible || a.isVisible,
              columnWidth: (e.width + o.gutterSize) / o.count - o.gutterSize,
              gutterHeight: a.gutterSize,
              gutterWidth: o.gutterSize,
              horizontalOffset: o.offset,
              numberOfColumns: o.count,
              rowHeightMultiplication:
                ((e.height + a.gutterSize) / a.count - a.gutterSize) /
                (a.gutterSize || 1),
              totalWidth: e.width,
              guttersOutside: !1,
              drawHorizontal: a.isVisible,
              drawHorizontalLines: !1,
              drawVertical: o.isVisible,
            };
            return t;
          }
        }
      }
      function wg(e, t, i = "exportSketchAll") {
        var s, o, a, n;
        let r =
          "fills" in e && e.fills
            ? e.fills.sort((e, t) => e.index - t.index)
            : [];
        const c = r.every((e) => 0 === e.type),
          l = Tg(e, i),
          d = jm(e),
          u = void 0 === t.type,
          h = e.strokeAlign === se["D"].INSIDE,
          p =
            u &&
            (null ===
              (s = null === e || void 0 === e ? void 0 : e.cornerRadius) ||
            void 0 === s
              ? void 0
              : s.some((e) => e > 0)),
          m = void 0 !== t.type && e.clip,
          g =
            !u ||
            ((null === (o = null === e || void 0 === e ? void 0 : e.strokes) ||
            void 0 === o
              ? void 0
              : o.length) &&
              !h),
          b = e.strokeWidthType !== se["H"].all;
        b && l.push(fg(e));
        const v =
          9 === t.type ||
          !c ||
          (null === (a = null === e || void 0 === e ? void 0 : e.strokes) ||
          void 0 === a
            ? void 0
            : a.length) ||
          (null === (n = null === e || void 0 === e ? void 0 : e.effects) ||
          void 0 === n
            ? void 0
            : n.length) ||
          1 !== e.opacity ||
          e.m_relativeMatrix.skewX ||
          e.m_relativeMatrix.skewY ||
          !e.isVisible ||
          p ||
          m ||
          b ||
          g;
        v && (l.unshift(eg(e, t)), (r = []));
        let f = e.numOfFixedChildren;
        while (f--) l[f].isFixedToViewport = !0;
        const y = v ? 0.97647059 : 1,
          _ = {
            _class: g ? "group" : "artboard",
            backgroundColor:
              c && 0 !== r.length
                ? um(r[r.length - 1].color)
                : {
                    _class: "color",
                    alpha: 1,
                    red: y,
                    green: y,
                    blue: y,
                  },
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            exportOptions: Om(e),
            frame: Lm(e),
            hasBackgroundColor:
              v || (r.length > 0 && r[r.length - 1].isVisible),
            hasClickThrough: !1,
            horizontalRulerData: {
              _class: "rulerData",
              base: 0,
              guides: [],
            },
            includeBackgroundColorInExport: !0,
            isFixedToViewport: !1,
            isFlippedHorizontal: d.scale.sx < 0,
            isFlippedVertical: d.scale.sy < 0,
            isFlowHome: !1,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            layers: l,
            name: e.name,
            nameIsFixed: !1,
            resizesContent: !0,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            grid: Og(e),
            layout: kg(e),
            verticalRulerData: {
              _class: "rulerData",
              base: 0,
              guides: [],
            },
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return Im(_, e), _;
      }
      function xg(e, t, i = "exportSketchAll") {
        const s = jm(e),
          o = {
            _class: "shapeGroup",
            booleanOperation: _m(t),
            do_objectID: Ag(e.id),
            exportOptions: Om(e),
            frame: Lm(e),
            hasClickThrough: !1,
            isFixedToViewport: !1,
            isFlippedHorizontal: s.scale.sx < 0,
            isFlippedVertical: s.scale.sy < 0,
            isLocked: e.isLocked,
            isVisible: e.isVisible,
            layerListExpandedType: lm["LayerListExpanded"].Undecided,
            layers: Tg(e, i),
            name: e.name,
            nameIsFixed: !1,
            resizingConstraint: Zm(e),
            resizingType: lm["ResizeType"].Stretch,
            rotation: ym(e),
            shouldBreakMaskChain: !1,
            style: Xm(e),
            windingRule: lm["WindingRule"].NonZero,
            hasClippingMask: e.isMask,
            clippingMaskMode: e.isMaskOutline ? 0 : 1,
          };
        return Im(o, e), o;
      }
      function Lg(e, t, i = "exportSketchAll") {
        var s, o, a;
        let n;
        Bg.components[e.id]
          ? (n = Bg.components[e.id].uuid)
          : ((n = Ag()),
            (Bg.components[e.id] = {
              uuid: n,
              processed: !1,
              data: e,
            })),
          (e.name = Object(Z["n"])(e.name, !1));
        let r = [];
        if ("fills" in e && e.fills) {
          const t = e.fills.sort((e, t) => e.index - t.index);
          r = t.filter((e) => 0 === e.type);
        }
        const c = jm(e),
          l = r.every((e) => 0 === e.type),
          d = Tg(e, i),
          u =
            null ===
              (s = null === e || void 0 === e ? void 0 : e.cornerRadius) ||
            void 0 === s
              ? void 0
              : s.some((e) => e > 0),
          h =
            !l ||
            (null === (o = null === e || void 0 === e ? void 0 : e.strokes) ||
            void 0 === o
              ? void 0
              : o.length) ||
            (null === (a = null === e || void 0 === e ? void 0 : e.effects) ||
            void 0 === a
              ? void 0
              : a.length) ||
            1 !== e.opacity ||
            e.m_relativeMatrix.skewX ||
            e.m_relativeMatrix.skewY ||
            !e.isVisible ||
            u;
        h &&
          ((e.isComponent = !1),
          d.unshift(eg(e, t)),
          (e.isComponent = !0),
          (r = []));
        const p = {
          _class: "symbolMaster",
          allowsOverrides: !0,
          backgroundColor:
            r.length > 0
              ? um(r[r.length - 1].color)
              : {
                  _class: "color",
                  alpha: 1,
                  red: 1,
                  green: 1,
                  blue: 1,
                },
          booleanOperation: _m(t),
          do_objectID: Ag(),
          exportOptions: Om(e),
          frame: Lm(e),
          hasBackgroundColor: r.length > 0 && r[r.length - 1].isVisible,
          hasClickThrough: !1,
          horizontalRulerData: {
            _class: "rulerData",
            base: 0,
            guides: [],
          },
          includeBackgroundColorInExport: !0,
          includeBackgroundColorInInstance: !0,
          isFixedToViewport: !1,
          isFlippedHorizontal: c.scale.sx < 0,
          isFlippedVertical: c.scale.sy < 0,
          isFlowHome: !1,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Expanded,
          layers: d,
          name: e.name,
          nameIsFixed: !1,
          overrideProperties: [],
          resizesContent: !0,
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: ym(e),
          shouldBreakMaskChain: !1,
          style: Xm(e),
          grid: Og(e),
          layout: kg(e),
          symbolID: n,
          verticalRulerData: {
            _class: "rulerData",
            base: 0,
            guides: [],
          },
          hasClippingMask: e.isMask,
          clippingMaskMode: e.isMaskOutline ? 0 : 1,
        };
        Dg.layers.push(p), (Bg.components[e.id].processed = !0);
        const m = {
          _class: "symbolInstance",
          booleanOperation: lm["BooleanOperation"].None,
          clippingMaskMode: e.isMaskOutline ? 0 : 1,
          do_objectID: Ag(),
          exportOptions: Om(e),
          frame: Lm(e),
          hasClippingMask: !1,
          horizontalSpacing: 0,
          isFixedToViewport: !1,
          isFlippedHorizontal: c.scale.sx < 0,
          isFlippedVertical: c.scale.sy < 0,
          isLocked: e.isLocked,
          isVisible: e.isVisible,
          layerListExpandedType: lm["LayerListExpanded"].Expanded,
          maintainScrollPosition: !1,
          name: e.name,
          nameIsFixed: !1,
          overrideValues: [],
          resizingConstraint: Zm(e),
          resizingType: lm["ResizeType"].Stretch,
          rotation: ym(e),
          scale: 0,
          shouldBreakMaskChain: !1,
          style: Xm(e),
          symbolID: n,
          verticalSpacing: 0,
        };
        return Im(m, e), m;
      }
      function Ag(e = "") {
        const t = Object(dm["a"])();
        return e && Cm.idMap[e] && (Cm.idMap[e] = t), t;
      }
      function Tg(e, t = "exportSketchAll") {
        const i = [],
          s = I["b"].getDirectChild(e.id) || [];
        e.children = s.map((e) => I["b"].getLayerData(e.id));
        for (const o of e.children)
          switch ((Object(xm["i"])(o), o.type)) {
            case 13:
              i.push(_g(o, e));
              break;
            case 12:
              i.push(Cg(o, e));
              break;
            case 22:
              i.push(Sg(o, e));
              break;
            case 9:
              if (0 !== o.booleanOperation) i.push(xg(o, e, t));
              else if (o.isComponent) i.push(Lg(o, e, t));
              else if (o.isInstance) i.push(sg(o, e, t));
              else if (o.isFrame) {
                if (!o.isVisible) break;
                i.push(wg(o, e, t));
              } else i.push(yg(o, e, t));
              break;
            case 33:
              i.push(gg(o, e));
              break;
            case 25:
              i.push(Jm(o, e));
              break;
            case 23:
              i.push(ug(o, e));
              break;
            case 10:
              i.push(hg(o, e));
              break;
            case 35:
              i.push(bg(o, e));
              break;
            default:
              break;
          }
        return Object(vg["b"])(i, vg["a"].exportSketchType), i;
      }
      function jg(e) {
        const t = I["b"].getPageReactions(e.id) || [];
        t.forEach(({ data: e }) => {
          e &&
            e.interactions &&
            e.interactions.forEach((e) => {
              const t = e && e.action && e.action.destinationId;
              t && (Cm.idMap[t] = t);
            });
        });
      }
      function Mg() {
        const e = Cm.prototypeArray,
          t = Cm.idMap;
        e.forEach((e) => {
          "back" !== e.destinationArtboardID &&
            (e.destinationArtboardID = t[e.destinationArtboardID] || "");
        }),
          (Cm.prototypeArray = []),
          (Cm.idMap = {});
      }
      function Eg(e) {
        return Math.abs(e.sweep) < 1;
      }
      const Pg = {
          images: [],
        },
        Dg = {
          _class: "page",
          booleanOperation: lm["BooleanOperation"].None,
          do_objectID: Ag(),
          exportOptions: {
            _class: "exportOptions",
            exportFormats: [],
            includedLayerIds: [],
            layerOptions: 0,
            shouldTrim: !1,
          },
          frame: {
            _class: "rect",
            constrainProportions: !0,
            height: 0,
            width: 0,
            x: 0,
            y: 0,
          },
          hasClickThrough: !1,
          horizontalRulerData: {
            _class: "rulerData",
            base: 0,
            guides: [],
          },
          isFixedToViewport: !1,
          isFlippedHorizontal: !1,
          isFlippedVertical: !1,
          isLocked: !1,
          isVisible: !1,
          layerListExpandedType: lm["LayerListExpanded"].Undecided,
          layers: [],
          name: "Symbols",
          nameIsFixed: !1,
          resizingConstraint: 0,
          resizingType: lm["ResizeType"].Stretch,
          rotation: 0,
          shouldBreakMaskChain: !1,
          verticalRulerData: {
            _class: "rulerData",
            base: 0,
            guides: [],
          },
        },
        Bg = {
          components: {},
          idMap: {},
        };
      function Ng(e) {
        Dg.layers = [];
        const t = [],
          i = I["b"].getPageListVal();
        (Pg.images = []),
          (Bg.components = {}),
          (Bg.idMap = {}),
          i.sort((e, t) => (e.index > t.index ? 1 : -1));
        for (const a of i) {
          jg(a);
          const i = {
            _class: "page",
            do_objectID: Ag(),
            booleanOperation: cm["a"].BooleanOperation.None,
            exportOptions: {
              _class: "exportOptions",
              exportFormats: [],
              includedLayerIds: [],
              layerOptions: 0,
              shouldTrim: !1,
            },
            frame: {
              _class: "rect",
              constrainProportions: !0,
              height: 0,
              width: 0,
              x: 0,
              y: 0,
            },
            isFixedToViewport: !1,
            isFlippedHorizontal: !1,
            isFlippedVertical: !1,
            isLocked: !1,
            isVisible: !0,
            layerListExpandedType: cm["a"].LayerListExpanded.Undecided,
            name: a.name,
            nameIsFixed: !1,
            resizingConstraint: 63,
            resizingType: cm["a"].ResizeType.Stretch,
            rotation: 0,
            shouldBreakMaskChain: !1,
            hasClickThrough: !1,
            horizontalRulerData: {
              _class: "rulerData",
              base: 0,
              guides: [],
            },
            verticalRulerData: {
              _class: "rulerData",
              base: 0,
              guides: [],
            },
            layers: Tg(a, e),
          };
          Mg(), t.push(i);
        }
        const s = [];
        while (Object.values(Bg.components).some((e) => !e.processed)) {
          for (const e of Object.values(Bg.components))
            e.processed || s.push(e.data);
          while (s.length) Lg(s.pop(), Dg, e);
        }
        if (Dg.layers.length > 0) {
          let e = 0,
            i = 0,
            s = 0,
            o = 0;
          Dg.layers.forEach((t) => {
            (e = Math.max(t.frame.height, e)),
              (t.frame.x = i),
              (t.frame.y = s),
              (i += t.frame.width + 20),
              o++,
              10 === o && ((s += e + 20), (i = 0), (o = 0), (e = 0));
          }),
            t.push(Dg);
        }
        const o = {
          document: {
            _class: "document",
            do_objectID: Ag(),
            assets: {
              _class: "assetCollection",
              do_objectID: Ag(),
              colorAssets: [],
              gradientAssets: [],
              images: [],
              colors: [],
              gradients: [],
              exportPresets: [],
            },
            colorSpace: cm["a"].ColorSpace.Unmanaged,
            currentPageIndex: 0,
            foreignLayerStyles: [],
            foreignSymbols: [],
            foreignTextStyles: [],
            layerStyles: {
              do_objectID: Ag(),
              _class: "sharedStyleContainer",
              objects: [],
            },
            layerTextStyles: {
              do_objectID: Ag(),
              _class: "sharedTextStyleContainer",
              objects: [],
            },
            pages: t,
          },
          meta: {
            commit: "",
            pagesAndArtboards: {},
            version: 121,
            compatibilityVersion: 99,
            app: cm["a"].BundleId.PublicRelease,
            autosaved: cm["a"].NumericalBool.True,
            variant: "NONAPPSTORE",
            created: {
              commit: "",
              appVersion: "",
              build: 0,
              app: cm["a"].BundleId.PublicRelease,
              compatibilityVersion: 121,
              version: 121,
              variant: "NONAPPSTORE",
            },
            saveHistory: [],
            appVersion: "",
            build: 121,
          },
          user: {
            document: {
              pageListHeight: 0,
              pageListCollapsed: cm["a"].NumericalBool.True,
            },
          },
        };
        return (
          (Pg.images = Array.from(new Set(Pg.images))),
          {
            contents: o,
            images: Pg.images,
          }
        );
      }
      var Fg = i("9224");
      function Rg(e) {
        var t;
        return Object(a["__awaiter"])(this, void 0, void 0, function* () {
          const i = I["b"].Module.fileId,
            s = yield Object(ie["N"])(i),
            o = {};
          return (
            e.forEach((e) => {
              const t = e.split("/"),
                i = t[t.length - 1];
              o[i] = e;
            }),
            {
              fileId: i,
              cover:
                (null === (t = null === s || void 0 === s ? void 0 : s.data) ||
                void 0 === t
                  ? void 0
                  : t.cover) || "",
              turtleVersion: Fg.dependencies["@master/turtle"],
              createTime: Date.now(),
              imageMap: o,
            }
          );
        });
      }
      function Hg(e, t) {
        const i = [].concat(e.fills || [], e.strokes || []);
        i.forEach((e) => {
          var i;
          (null === (i = null === e || void 0 === e ? void 0 : e.image) ||
          void 0 === i
            ? void 0
            : i.imageRef) && t.push(e.image.imageRef);
        }),
          e.children &&
            e.children.forEach((e) => {
              const i = I["b"].getLayerData(e);
              Hg(i, t);
            });
      }
      function $g(e) {
        const t = I["b"].getPageListVal();
        t.forEach((t) => {
          const i = I["b"].getDirectChild(t.id) || [];
          i.forEach((t) => {
            const i = I["b"].getLayerData(t.id);
            Hg(i, e);
          });
        });
      }
      function Vg() {
        return Object(a["__awaiter"])(this, void 0, void 0, function* () {
          const e = yield Object(ie["F"])("/data/" + I["b"].Module.fileKey),
            t = [];
          $g(t);
          const i = Array.from(new Set(t)),
            s = yield Rg(i);
          return {
            document: e.data,
            meta: s,
            images: i,
          };
        });
      }
      var zg = i("c4e3"),
        Ug = i.n(zg);
      function qg(e) {
        return new Promise((t, i) =>
          Object(a["__awaiter"])(this, void 0, void 0, function* () {
            try {
              const i = new Ug.a(),
                o = e.contents.document.pages.map((e) => {
                  const t = JSON.stringify(e);
                  return (
                    i.file(`pages/${e.do_objectID}.json`, t),
                    {
                      _class: "MSJSONFileReference",
                      _ref_class: "MSImmutablePage",
                      _ref: "pages/" + e.do_objectID,
                    }
                  );
                });
              if (e.images.length > 0)
                for (let t = 0; t < e.images.length; t++) {
                  let e;
                  try {
                    e = yield Object(ie["F"])(
                      Object(ie["vd"])(Pg.images[t]),
                      !0,
                      !1
                    );
                  } catch (s) {
                    console.error(s);
                  }
                  const o = null === e || void 0 === e ? void 0 : e.data;
                  let a = "images/png";
                  Pg.images[t].endsWith("jpg") && (a = "images/jpeg"),
                    Pg.images[t].endsWith("gif") && (a = "images/gif");
                  const n = Pg.images[t].split("/"),
                    r = new Blob([o], {
                      type: a,
                    });
                  i.file("images/" + n[n.length - 1], r);
                }
              const a = {
                document: JSON.stringify(
                  Object.assign(Object.assign({}, e.contents.document), {
                    pages: o,
                  })
                ),
                user: JSON.stringify(e.contents.user),
                meta: JSON.stringify(e.contents.meta),
              };
              Object.entries(a).map(([e, t]) => (i.file(e + ".json", t), e)),
                i
                  .generateAsync({
                    type: "blob",
                  })
                  .then((e) => {
                    t(e);
                  });
            } catch (s) {
              i(s);
            } finally {
              Pg.images = [];
            }
          })
        );
      }
      var Wg = i("292f");
      function Gg(e) {
        return new Promise((t, i) =>
          Object(a["__awaiter"])(this, void 0, void 0, function* () {
            var s, o, n;
            try {
              const i = new Ug.a();
              i.file(
                "document",
                null ===
                  (s = null === e || void 0 === e ? void 0 : e.content) ||
                  void 0 === s
                  ? void 0
                  : s.document
              ),
                i.file(
                  "meta.json",
                  JSON.stringify(
                    null ===
                      (o = null === e || void 0 === e ? void 0 : e.content) ||
                      void 0 === o
                      ? void 0
                      : o.meta
                  ) || JSON.stringify({})
                );
              const r =
                null ===
                  (n = null === e || void 0 === e ? void 0 : e.content) ||
                void 0 === n
                  ? void 0
                  : n.images;
              r.length > 0 &&
                (yield Object(Wg["a"])(r, (e) =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    let t;
                    try {
                      t = yield Object(ie["F"])(Object(ie["vd"])(e), !0, !1);
                    } catch (r) {
                      console.error(r);
                    }
                    const s = null === t || void 0 === t ? void 0 : t.data;
                    let o = "images/png";
                    e.endsWith("jpg") && (o = "images/jpeg"),
                      e.endsWith("gif") && (o = "images/gif");
                    const a = e.split("/"),
                      n = new Blob([s], {
                        type: o,
                      });
                    i.file("images/" + a[a.length - 1], n);
                  })
                )),
                i
                  .generateAsync({
                    type: "blob",
                  })
                  .then((e) => {
                    t(e);
                  });
            } catch (r) {
              i(r);
            }
          })
        );
      }
      var Kg,
        Qg,
        Yg,
        Xg = i("19de"),
        Zg = i.n(Xg);
      (function (e) {
        (e[(e["PAGE"] = 0)] = "PAGE"), (e[(e["FILE"] = 1)] = "FILE");
      })(Kg || (Kg = {})),
        (function (e) {
          (e[(e["FRAME"] = 0)] = "FRAME"), (e[(e["PAGE"] = 1)] = "PAGE");
        })(Qg || (Qg = {})),
        (function (e) {
          (e[(e["DEFAULT"] = 0)] = "DEFAULT"), (e[(e["FRAME"] = 1)] = "FRAME");
        })(Yg || (Yg = {}));
      const Jg = [
          {
            label: "导出当前页面",
            val: Kg.PAGE,
          },
          {
            label: "导出整个文件",
            val: Kg.FILE,
          },
        ],
        eb = [
          {
            label: "以容器导出",
            val: Qg.FRAME,
            tip: "每个页面中的顶级容器作为一个 PDF 页面",
          },
          {
            label: "以页面导出",
            val: Qg.PAGE,
            tip: "每个页面作为一个 PDF 页面",
          },
        ],
        tb = [
          {
            label: "默认",
            val: Yg.DEFAULT,
            tip: "根据容器在画布的位置（由上至下、由左至右）进行排序",
          },
          {
            label: "容器名",
            val: Yg.FRAME,
            tip: "根据容器名称（0-9，A-Z）进行排序",
          },
        ];
      var ib = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "missing-font__layout",
            },
            [
              e.missingFonts.length && !e.disableUpdateLayer
                ? i(
                    "div",
                    [
                      i(
                        "div",
                        {
                          staticClass: "missing-font__container-lose warning",
                          on: {
                            click: function (t) {
                              return e.openDialog(!0, 0);
                            },
                          },
                        },
                        [
                          i("QuestionColorRectIcon", {
                            staticClass: "question-icon",
                          }),
                          e._v(" 字体缺失 "),
                        ],
                        1
                      ),
                      i(
                        "MasterDialog",
                        {
                          staticClass: "missing-font__dialog",
                          attrs: {
                            stopPropagation: !1,
                            visible: e.show,
                            width: "560px",
                          },
                          on: {
                            "update:visible": function (t) {
                              e.show = t;
                            },
                          },
                          scopedSlots: e._u(
                            [
                              {
                                key: "title",
                                fn: function () {
                                  return [
                                    i(
                                      "div",
                                      {
                                        staticClass: "missing-font__title",
                                      },
                                      [
                                        e._v(" 字体缺失 "),
                                        i("aside", [
                                          e._v(
                                            "需要替换缺失的字体才能继续编辑"
                                          ),
                                        ]),
                                      ]
                                    ),
                                  ];
                                },
                                proxy: !0,
                              },
                            ],
                            null,
                            !1,
                            2073231233
                          ),
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "missing-font__cell",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "missing-font__label",
                                },
                                [e._v("字体缺失")]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "missing-font__label",
                                },
                                [e._v("替换字体")]
                              ),
                            ]
                          ),
                          e.show
                            ? i(
                                "span",
                                e._l(e.missingFountsShowList, function (t, s) {
                                  return i(
                                    "div",
                                    {
                                      key: s,
                                      staticClass: "missing-font__cell",
                                    },
                                    [
                                      i(
                                        "div",
                                        {
                                          staticClass: "missing-font__name",
                                        },
                                        [
                                          i("MasterButtonIcon", {
                                            directives: [
                                              {
                                                name: "tip",
                                                rawName: "v-tip.bottom",
                                                value: "选中使用该字体的文字",
                                                expression:
                                                  "'选中使用该字体的文字'",
                                                modifiers: {
                                                  bottom: !0,
                                                },
                                              },
                                            ],
                                            attrs: {
                                              icon: "AimIcon",
                                              focusable: "",
                                            },
                                            nativeOn: {
                                              click: function (i) {
                                                return e.selectMissingFontLayers(
                                                  t
                                                );
                                              },
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              directives: [
                                                {
                                                  name: "tip",
                                                  rawName: "v-tip",
                                                  value: {
                                                    content: t.originName,
                                                    delay: {
                                                      show: 1e3,
                                                      hide: 100,
                                                    },
                                                  },
                                                  expression:
                                                    "{\n                content: item.originName,\n                delay: { show: 1000, hide: 100 }\n              }",
                                                },
                                              ],
                                              staticClass:
                                                "missing-font__name__title truncate",
                                            },
                                            [
                                              e._v(
                                                " " + e._s(t.originName) + " "
                                              ),
                                            ]
                                          ),
                                          i("ArrowRightIcon", {
                                            staticClass:
                                              "missing-font__name__arrow",
                                          }),
                                        ],
                                        1
                                      ),
                                      i("MasterFontSelector", {
                                        attrs: {
                                          postscriptName: t.key,
                                          fontFamily: t.targetFamily,
                                          selectFontState: t.state,
                                          missPlaceholder: "选择替换的字体",
                                        },
                                        on: {
                                          change: function (i) {
                                            var s = arguments.length,
                                              o = Array(s);
                                            while (s--) o[s] = arguments[s];
                                            return e.fontChange.apply(
                                              void 0,
                                              [t].concat(o)
                                            );
                                          },
                                        },
                                      }),
                                      i("MSelector", {
                                        attrs: {
                                          options: t.styleList,
                                          value: t.targetStyle,
                                          placeholder: t.originStyle,
                                        },
                                        on: {
                                          change: function (i) {
                                            return e.styleChange(t, i);
                                          },
                                        },
                                        scopedSlots: e._u(
                                          [
                                            -3 === t.state || -2 === t.state
                                              ? {
                                                  key: "header",
                                                  fn: function () {
                                                    return [
                                                      i(
                                                        "QuestionColorRectIcon",
                                                        {
                                                          staticClass:
                                                            "missing-font__warning",
                                                          attrs: {
                                                            size: "18",
                                                          },
                                                        }
                                                      ),
                                                    ];
                                                  },
                                                  proxy: !0,
                                                }
                                              : null,
                                          ],
                                          null,
                                          !0
                                        ),
                                      }),
                                    ],
                                    1
                                  );
                                }),
                                0
                              )
                            : e._e(),
                          i(
                            "template",
                            {
                              slot: "footer",
                            },
                            [
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "secondary",
                                    size: "sm",
                                    padding: "24",
                                  },
                                  on: {
                                    click: function (t) {
                                      e.show = !1;
                                    },
                                  },
                                },
                                [e._v("取消")]
                              ),
                              i(
                                "MButton",
                                {
                                  attrs: {
                                    type: "highlight",
                                    size: "sm",
                                    padding: "24",
                                    disabled: e.disableSubmit,
                                  },
                                  on: {
                                    click: e.submitForm,
                                  },
                                },
                                [e._v("确定")]
                              ),
                            ],
                            1
                          ),
                        ],
                        2
                      ),
                    ],
                    1
                  )
                : e._e(),
              1 === e.resoucesState.loaded && 100 !== e.resoucesState.percent
                ? i(
                    "div",
                    {
                      staticClass: "missing-font__container-info loading",
                    },
                    [
                      e._v(" 加载资源... "),
                      i("span", [e._v(e._s(e.resoucesState.percent) + "%")]),
                    ]
                  )
                : e.resoucesState.isFailFont
                ? i(
                    "div",
                    {
                      staticClass: "missing-font__container-error warning",
                      on: {
                        click: function (t) {
                          return e.refresh("字体加载错误");
                        },
                      },
                    },
                    [e._v(" 字体加载错误 ")]
                  )
                : e._e(),
            ]
          );
        },
        sb = [],
        ob = i("102a"),
        ab = i("2520");
      let nb = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.resoucesState = {
              percent: 0,
              isFailImage: !1,
              isFailFont: !1,
              loaded: 0,
            }),
            (this.show = !1),
            (this.missingFountsShowList = []);
        }
        get disableSubmit() {
          return !this.missingFountsShowList.some(
            (e) => e.state === ob["a"].Loaded
          );
        }
        hander() {
          if (!l["b"].switch) return;
          const e = Object.values(this.usedFontMap).filter((e) => e.isNeeded),
            t = Object.values(this.imageMap).filter((e) => e.isNeeded),
            i = e.some((e) => e.state === ob["a"].Failed),
            s = t.some((e) => e.state === ob["a"].Failed),
            o = [...e, ...t].filter(
              (e) => e.state === ob["a"].Loading || e.state === ob["a"].Sleep
            ).length,
            a =
              e.length + t.length
                ? ~~((100 * (e.length + t.length - o)) / (e.length + t.length))
                : 0;
          0 === this.resoucesState.loaded &&
            100 !== a &&
            (this.resoucesState.loaded = 1),
            (this.resoucesState.percent = a),
            (this.resoucesState.isFailImage = s),
            (this.resoucesState.isFailFont = i),
            100 === a &&
              2 !== this.resoucesState.loaded &&
              (O["a"].triggerListener("masterTask-resources-loaded"),
              (this.resoucesState.loaded = 2),
              O["a"].Module.setLazyRedrawFlag &&
                O["a"].Module.setLazyRedrawFlag(!1),
              x["n"].setLog("INFO", "userAction", "pagestay", {
                [u["a"].MISSING_FONTS]: !!this.missingFonts.length,
              }));
        }
        getMissingFontData(e) {
          if (e.state === ob["a"].Loaded) return e.targetFamily;
          const t = e.targetFamily.split("-");
          return (e.targetStyle = t[1] || "Regular"), t[0];
        }
        fontChange(e, t) {
          e.styleList = t.styles;
          const i = this.fontMap[t.styles[0].value];
          (e.key = i.postscriptName),
            (e.targetFamily = i.title),
            (e.targetStyle = i.postscriptName),
            (e.state = ob["a"].Loaded);
        }
        styleChange(e, t) {
          (e.targetStyle = t), (e.state = ob["a"].Loaded);
        }
        submitForm() {
          this.missingFountsShowList.forEach((e) => {
            if (e.state === ob["a"].Loaded && this.fontMap[e.key]) {
              const t = this.fontMap[e.targetStyle];
              k["a"].replaceMissingFont(
                e.fontFamily,
                t.postscriptName,
                t.family,
                t.style,
                String(t.weight)
              );
            }
          }),
            (this.show = !1),
            x["n"].setLog("INFO", "userAction", "replace_fonts_finish", {
              [u["a"].FINISH]: !!this.missingFonts.length,
            });
        }
        refresh(e) {
          Object(p["s"])(e);
        }
        getStyleListByFamily(e) {
          var t;
          return (
            (null === (t = this.fontGroup[this.fontCatalog[e]]) || void 0 === t
              ? void 0
              : t.styles) || []
          );
        }
        mounted() {
          O["a"].addWasmEventListener(
            te["a"].ClickMissingFontLayer,
            this.openDialog
          );
        }
        beforeDestroy() {
          O["a"].removeWasmEventListener(
            te["a"].ClickMissingFontLayer,
            this.openDialog
          );
        }
        openDialog(e, t) {
          e
            ? (O["a"].Module.updateTextRelyAll(),
              x["q"].refresh(),
              this.$nextTick(() => {
                this.missingFonts.length &&
                  ((this.missingFountsShowList = this.missingFonts.map((e) => {
                    const [t, i] = Object(ab["a"])(e.fontFamily);
                    return Object.assign(Object.assign({}, e), {
                      originName: `${t},${i}`,
                      originStyle: i,
                      targetFamily: "",
                      key: "",
                      targetStyle: "",
                      styleList: this.getStyleListByFamily(e.fontFamily),
                    });
                  })),
                  (this.show = !0),
                  x["n"].setLog("INFO", "userAction", "replace_fonts_dialog", {
                    [u["a"].OPEN_TYPE]: null !== t && void 0 !== t ? t : 1,
                  }));
              }))
            : (this.show = !1);
        }
        selectMissingFontLayers(e) {
          x["d"].Module.selectMissingTextLayers(e.fontFamily), (this.show = !1);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("imageMap", {
            deep: !0,
            immediate: !0,
          }),
          Object(n["h"])("usedFontMap", {
            deep: !0,
            immediate: !0,
          }),
        ],
        nb.prototype,
        "hander",
        null
      ),
        (nb = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(r["e"])("resources", [
                      "fontMap",
                      "usedFontMap",
                      "fontGroup",
                      "fontCatalog",
                      "imageMap",
                      "usedFontCount",
                    ])
                  ),
                  Object(r["c"])("resources", ["missingFonts"])
                ),
                Object(r["c"])(["disableUpdateLayer"])
              ),
              components: {
                MasterDialog: b["a"],
                MSelector: Pe["b"],
                MasterFontSelector: Pe["c"],
              },
            }),
          ],
          nb
        ));
      var rb = nb,
        cb = rb,
        lb =
          (i("1b93"), Object(_["a"])(cb, ib, sb, !1, null, "0335131f", null)),
        db = lb.exports,
        ub = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "custom-pdf-dialog",
            },
            [
              i(
                "MasterDialog",
                {
                  ref: "customPdfDialog",
                  staticClass: "custom-pdf__dialog",
                  attrs: {
                    title: "自定义导出PDF",
                    width: "450px",
                    visible: e.dialogVisible,
                    otherExit: !1,
                    isOpenDrag: !0,
                  },
                  on: {
                    "update:visible": e.updateVisible,
                  },
                  scopedSlots: e._u([
                    {
                      key: "footer",
                      fn: function () {
                        return [
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "secondary",
                                size: "sm",
                                padding: "24",
                              },
                              on: {
                                click: function (t) {
                                  return e.updateVisible(!1);
                                },
                              },
                            },
                            [e._v("取消")]
                          ),
                          i(
                            "MButton",
                            {
                              attrs: {
                                type: "highlight",
                                size: "sm",
                                width: "84",
                              },
                              on: {
                                click: e.handleExportPDF,
                              },
                            },
                            [e._v("确认")]
                          ),
                        ];
                      },
                      proxy: !0,
                    },
                  ]),
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "item-name",
                        },
                        [e._v("范围：")]
                      ),
                      e._l(e.exportScopeList, function (t) {
                        return i(
                          "Radio",
                          {
                            key: "exportScope" + t.val,
                            staticClass: "radio-item",
                            attrs: {
                              name: "exportScope",
                              val: t.val,
                            },
                            model: {
                              value: e.exportScope,
                              callback: function (t) {
                                e.exportScope = t;
                              },
                              expression: "exportScope",
                            },
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "radio-text",
                              },
                              [e._v(e._s(t.label))]
                            ),
                          ]
                        );
                      }),
                    ],
                    2
                  ),
                  i(
                    "div",
                    {
                      staticClass: "item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "item-name",
                        },
                        [e._v("内容：")]
                      ),
                      e._l(e.exportUnitList, function (t) {
                        return i(
                          "Radio",
                          {
                            key: "exportUnit" + t.val,
                            staticClass: "radio-item",
                            attrs: {
                              name: "exportUnit",
                              val: t.val,
                            },
                            model: {
                              value: e.exportUnit,
                              callback: function (t) {
                                e.exportUnit = t;
                              },
                              expression: "exportUnit",
                            },
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "radio-text",
                              },
                              [
                                i(
                                  "span",
                                  {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip",
                                        value: t.tip,
                                        expression: "item.tip",
                                      },
                                    ],
                                  },
                                  [e._v(e._s(t.label))]
                                ),
                              ]
                            ),
                          ]
                        );
                      }),
                    ],
                    2
                  ),
                  i(
                    "div",
                    {
                      staticClass: "item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "item-name",
                        },
                        [e._v("排序：")]
                      ),
                      e._l(e.exportSortList, function (t) {
                        return i(
                          "Radio",
                          {
                            key: "exportSort" + t.val,
                            staticClass: "radio-item",
                            attrs: {
                              name: "exportSort",
                              val: t.val,
                              disabled: e.isExportSortDisabled,
                            },
                            model: {
                              value: e.exportSort,
                              callback: function (t) {
                                e.exportSort = t;
                              },
                              expression: "exportSort",
                            },
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "radio-text",
                              },
                              [
                                i(
                                  "span",
                                  {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip",
                                        value: t.tip,
                                        expression: "item.tip",
                                      },
                                    ],
                                  },
                                  [e._v(e._s(t.label))]
                                ),
                              ]
                            ),
                          ]
                        );
                      }),
                    ],
                    2
                  ),
                  i(
                    "div",
                    {
                      staticClass: "tip_area",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "icon_holder",
                        },
                        [
                          i("WarningIcon", {
                            attrs: {
                              size: "16",
                              fill: "#ffc107",
                            },
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "tips_holder",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "tip",
                            },
                            [
                              e._v(
                                "大文件导出可能遇到导出失败或页面崩溃等情况，可拆分页面导出"
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "tip",
                            },
                            [
                              e._v(
                                "导出的PDF文件用chrome或edge浏览器打开，可拷贝文件中的文字"
                              ),
                            ]
                          ),
                        ]
                      ),
                    ]
                  ),
                ]
              ),
            ],
            1
          );
        },
        hb = [],
        pb = i("130b");
      let mb = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.exportScope = 0),
            (this.exportUnit = 0),
            (this.exportSort = 0),
            (this.exportScopeList = Jg),
            (this.exportUnitList = eb),
            (this.exportSortList = tb);
        }
        handleClose() {
          this.$emit("handleVisibleChange", !1);
        }
        updateVisible(e) {
          this.$emit("handleVisibleChange", e);
        }
        handleExportPDF() {
          let e = "exportCurPageFrame";
          this.exportScope === Kg.PAGE && this.exportUnit === Qg.PAGE
            ? (e = "exportSimplePage")
            : this.exportScope === Kg.FILE &&
              (this.exportUnit === Qg.FRAME
                ? (e = "exportAllFrame")
                : this.exportUnit === Qg.PAGE && (e = "exportAllPage")),
            this.$emit("handleExportPDF", e, this.exportSort);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
          }),
        ],
        mb.prototype,
        "dialogVisible",
        void 0
      ),
        (mb = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Radio: pb["a"],
                MasterDialog: b["a"],
              },
              computed: {
                isExportSortDisabled() {
                  return this.exportUnit === Qg.PAGE;
                },
              },
              watch: {
                dialogVisible(e) {
                  e ||
                    ((this.exportScope = 0),
                    (this.exportUnit = 0),
                    (this.exportSort = 0));
                },
                exportUnit(e) {
                  e === Qg.PAGE && (this.exportSort = Yg.DEFAULT);
                },
              },
            }),
          ],
          mb
        ));
      var gb = mb,
        bb = gb,
        vb = (i("38fb"), Object(_["a"])(bb, ub, hb, !1, null, null, null)),
        fb = vb.exports;
      let yb = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.shareTiming = Object(ie["K"])().shareTiming),
            (this.panelStatus = !1),
            (this.menuStatus = !1),
            (this.mobileMenuStatus = !1),
            (this.shareList = {}),
            (this.newList = []),
            (this.showHotkey = !1),
            (this.displayPublishPanel = !1),
            (this.needPublishPanel = !1),
            (this.exts = Object(We["s"])()),
            (this.showCustomPdfDialog = !1),
            (this.guideMap = {}),
            (this.resourcePublishFeature = !1);
        }
        filterOnlooker(e, t) {
          e.forEach((e) => {
            var i;
            if (!e.onlookerHide)
              if (
                null === (i = e.children) || void 0 === i ? void 0 : i.length
              ) {
                const t = JSON.parse(JSON.stringify(e));
                (t.children = []),
                  this.newList.push(t),
                  this.filterOnlooker(e.children, t);
              } else t ? t.children.push(e) : this.newList.push(e);
          });
        }
        get fileInfo() {
          return {
            id: this.document.id,
            teamId: this.document.teamId,
            projectId: this.document.projectId,
            teamName: this.teamName,
            fileName: this.document.name,
            isPublic: this.document.isPublic,
            userRole: this.document.roleName,
            docRole: this.document.docRole,
            teamRole: this.document.teamRole,
            isTeamMember: this.isTeamMember,
            isPersonal: this.isPersonal,
            users: this.users || [],
            hidePartner: this.document.hidePartner,
            allowOnlookerCopy: this.document.allowOnlookerCopy,
            publicFileRole: this.document.publicFileRole || "onlooker",
            docType: this.document.docType || 0,
            inviteTeam: this.document.inviteTeam,
            permissions: this.document.permissions,
          };
        }
        set fileInfo(e) {
          this.$store.dispatch(
            "setCurDocument",
            Object.assign(Object.assign({}, this.document), {
              isPublic: e.isPublic,
              allowOnlookerCopy: e.allowOnlookerCopy,
              publicFileRole: e.publicFileRole,
              hidePartner: e.hidePartner,
              docType: e.docType,
            })
          );
        }
        getChecked(e) {
          return "showGrid" === e.value
            ? this.gridVisible
            : "alignGrid" === e.value
            ? this.gridAlign
            : "rule" === e.value
            ? this.rulerVisible
            : "moreCursor" === e.value
            ? this.showCoordination
            : "fullScreen" === e.value
            ? this.isHideToolbar
            : "slice" === e.value
            ? this.sliceVisible
            : "commentMarkAutoShow" === e.value
            ? this.showCommentMark
            : "sketchMode" === e.value && "sketch" === this.hotkeyCurrentMode;
        }
        mobileMenuGetChecked(e) {
          return e.value === this.currentPageId;
        }
        closePublishPanel(e) {
          e && (this.displayPublishPanel = !1);
        }
        handleOpenPubStatePanel() {
          (this.needPublishPanel = !0),
            (this.displayPublishPanel = !0),
            (this.panelStatus = !1);
        }
        prototypePlay() {
          Object(pt["b"])(this.$route);
        }
        backToIndex(e) {
          let t = (e) => {
            this.$router.push(e);
          };
          Object(Z["ab"])() &&
            (t = (e) => {
              oe["a"].goHomeWithPath(e);
            }),
            e
              ? t(e)
              : this.isPersonal
              ? t("/files/drafts")
              : this.isTeamMember
              ? t("/files/project/" + this.document.projectId)
              : t("/files/shared");
        }
        changeVal(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (
              (d["a"].track(u["b"].MENU_USED, {
                action_position: "toolbarmenu",
                action_detail: e.label,
              }),
              e.char)
            ) {
              const t = ne["b"].hotkeyMapping(e.char);
              ne["e"].execute(t, null);
            }
            if ("back" === e.value) this.backToIndex();
            else if ("newFile" === e.value)
              try {
                x["n"].setLog("INFO", "userAction", "create file", {
                  source: "topnav dropdown",
                });
                let e = this.$store.getters.userteams || [];
                e.length ||
                  (yield this.refreshList(), (e = this.userInfo.teams));
                const t = e.map((e) => e.id),
                  i = t.includes(this.document.teamId);
                let s = {
                  name: "新文件",
                  projectId: 0,
                  teamId: 0,
                };
                i
                  ? ((s.projectId = this.document.projectId),
                    (s.teamId = this.document.teamId))
                  : ((s = Object.assign({}, this.$store.getters.userdraft)),
                    (s.name = "新文件"));
                const o = yield Object(ie["q"])(s),
                  a = o.data.id,
                  n = this.$router.resolve({
                    path: "/file/" + a,
                  });
                Object(Z["qb"])(n.href, "_blank");
              } catch (t) {
                x["n"].setLog("ERROR", "userAction", "create file", {
                  source: "topnav dropdown",
                  error: Object(Z["F"])(t),
                });
              }
            else if ("newFileFromSketch" === e.value) {
              const e = new x["b"]({
                filters: {
                  mimeTypes: this.exts || Object(We["u"])().join(", "),
                },
                multiSelection: !0,
              });
              e.onFilesAdded = (e) =>
                Object(a["__awaiter"])(this, void 0, void 0, function* () {
                  (em["a"].sketch = e), this.$router.push("/files/home");
                });
            } else if ("newFileFromFigma" === e.value)
              (em["a"].figma = !0), this.$router.push("/files/home");
            else if ("copyFile" === e.value)
              try {
                x["n"].setLog("INFO", "userAction", "create file copy", {
                  source: "topnav dropdown",
                  originalId: this.document.id,
                });
                const e = yield Object(ie["r"])(this.document.id),
                  t = e.data.id,
                  i = this.$router.resolve({
                    path: "/file/" + t,
                  });
                Object(Z["qb"])(i.href, "_blank");
              } catch (t) {
                this.$toast({
                  content: "创建副本失败",
                  timeout: 3e3,
                  position: "top",
                }),
                  x["n"].setLog("ERROR", "userAction", "create file copy", {
                    source: "topnav dropdown",
                    originalId: this.document.id,
                    error: Object(Z["F"])(t),
                  });
              }
            else
              "saveVersion" === e.value
                ? (d["a"].track(u["b"].EVENT_CLICK, {
                    action_position: "canvas",
                    action_parameter0: "history_version",
                    action_parameter1: "main_menu",
                    action_parameter2: "file",
                    action_parameter3: "add_history_version",
                    action_type: "add",
                  }),
                  this.$refs.fileTopBar.versionHandler(1))
                : "lookVersion" === e.value
                ? (d["a"].track(u["b"].EVENT_CLICK, {
                    action_position: "canvas",
                    action_parameter0: "history_version",
                    action_parameter1: "main_menu",
                    action_parameter2: "file",
                    action_parameter3: "view_history_version",
                    action_type: "view",
                  }),
                  this.$refs.fileTopBar.versionHandler(2))
                : "hotkeyGuide" === e.value
                ? ((this.showHotkey = !this.showHotkey),
                  this.$eventBus.$emit("showHotkey", this.showHotkey))
                : "exportCurPageFrame" === e.value ||
                  "exportSelectedFrame" === e.value
                ? this.exportPdf(e.value)
                : "exportCustom" === e.value
                ? (this.showCustomPdfDialog = !0)
                : "exportSketchAll" === e.value ||
                  "exportSketchSelected" === e.value ||
                  "exportSketchWithoutInstance" === e.value
                ? this.exportSketch(e.value)
                : "exportAllCutFigure" === e.value
                ? this.$eventBus.$emit("toggleExportAllDialog", !0)
                : "exportMG" === e.value
                ? this.exportMG()
                : "preferences" === e.value
                ? (this.$eventBus.$emit("togglePreferencesDialog", !0),
                  this.preferencesGuide &&
                    (Ue["a"].clearCurrentPopup({
                      id: this.preferencesGuide.id,
                    }),
                    Reflect.deleteProperty(this.guideMap, "preferencesGuide"),
                    (this.guideMap = Object.assign({}, this.guideMap))))
                : "deleteAllGuides" === e.value &&
                  (k["a"].deleteAllGuides(),
                  this.$toast({
                    content: "已删除全部参考线",
                    timeout: 1e3,
                    position: "bottom",
                  }));
          });
        }
        mobileChangeVal(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            "back" === e.value
              ? this.backToIndex()
              : "prototype" === e.value
              ? Object(pt["b"])(this.$route)
              : "login" === e.value
              ? this.$router.replace("/files/login")
              : "copyFile" === e.value
              ? (Object(Z["Eb"])(We["w"], "true"),
                this.$router.replace("/files/login"))
              : (yield k["a"].pages.switchPage(e.value),
                this.$store.dispatch("toggleObservationUser", ""),
                x["u"].clear());
          });
        }
        exportMG() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = Date.now(),
              t = this.$toast({
                content: "导出中... 0%",
                timeout: 1e3,
                disabledTransition: !1,
                position: "bottom",
                persistent: !0,
                isLoading: !0,
              }),
              i = Object(pt["a"])(t, "导出中... %num%%", [8e3, 1e4], [82, 17]);
            try {
              const s = yield Vg();
              Gg({
                content: s,
              })
                .then((s) =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    Zg()(s, this.document.name + ".mg"),
                      i(),
                      t.modifyContentHook("导出中... 100%"),
                      yield new Promise((e) => setTimeout(e, 50)),
                      this.$toast({
                        content: "导出成功",
                        timeout: 1e3,
                        disabledTransition: !1,
                        position: "bottom",
                      }),
                      d["a"].track(u["b"].EXPORT_FILE, {
                        action_position: "contextmenu",
                        action_type: "mg",
                        action_successed: !0,
                        action_parameter0: "exportMG",
                        action_parameter1: e,
                        action_parameter2: Date.now(),
                        action_parameter3: Date.now() - e,
                      });
                  })
                )
                .catch((e) => {
                  throw e;
                });
            } catch (s) {
              const o = "本地文件导出失败：" + s;
              console.error(o),
                d["a"].track(u["b"].EXPORT_FILE, {
                  action_position: "contextmenu",
                  action_type: "sketch",
                  action_successed: !1,
                  action_error: o,
                  action_parameter0: "exportMG",
                  action_parameter1: e,
                  action_parameter2: Date.now(),
                  action_parameter3: Date.now() - e,
                }),
                i(),
                t.clearToast(),
                this.$toast({
                  content: "导出失败",
                  timeout: 3e3,
                  position: "top",
                });
            }
          });
        }
        exportSketch(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const t = Date.now(),
              i = this.$toast({
                content: "导出中... 0%",
                timeout: 1e3,
                disabledTransition: !1,
                position: "bottom",
                persistent: !0,
                isLoading: !0,
              }),
              s = Object(pt["a"])(i, "导出中... %num%%", [3e4, 2e4], [82, 17]);
            setTimeout(() => {
              try {
                const o = Ng(e);
                qg(o).then((o) =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    s(),
                      i.modifyContentHook("导出中... 100%"),
                      yield new Promise((e) => setTimeout(e, 50)),
                      Zg()(o, this.document.name + ".sketch"),
                      this.$toast({
                        content: "导出成功",
                        timeout: 1e3,
                        disabledTransition: !1,
                        position: "bottom",
                      }),
                      d["a"].track(u["b"].EXPORT_FILE, {
                        action_position: "contextmenu",
                        action_type: "sketch",
                        action_successed: !0,
                        action_parameter0: e,
                        action_parameter1: t,
                        action_parameter2: Date.now(),
                        action_parameter3: Date.now() - t,
                      });
                  })
                );
              } catch (o) {
                const a = "sketch导出失败：" + o;
                console.error(a),
                  d["a"].track(u["b"].EXPORT_FILE, {
                    action_position: "contextmenu",
                    action_type: "sketch",
                    action_successed: !1,
                    action_error: a,
                    action_parameter0: e,
                    action_parameter1: t,
                    action_parameter2: Date.now(),
                    action_parameter3: Date.now() - t,
                  }),
                  s(),
                  i.clearToast(),
                  this.$toast({
                    content: "导出失败",
                    timeout: 3e3,
                    position: "top",
                  });
              }
            }, 200);
          });
        }
        handleShowCustomPdfDialogChange(e) {
          this.showCustomPdfDialog = e;
        }
        exportPdf(e, t = 0) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const i = Date.now(),
              s =
                "exportSimplePage" === e || "exportAllPage" === e
                  ? "PAGE"
                  : "FRAME";
            let o = [];
            const a = {};
            function n(e) {
              function t(e) {
                return (
                  a[e] ||
                    (a[e] =
                      O["a"].Module.getLayerWorldRect &&
                      O["a"].Module.getLayerWorldRect(e)),
                  a[e]
                );
              }
              e.sort((e, i) => {
                const s = t(e),
                  o = t(i);
                return (null === s || void 0 === s ? void 0 : s.y) ===
                  (null === o || void 0 === o ? void 0 : o.y)
                  ? (null === s || void 0 === s ? void 0 : s.x) >
                    (null === o || void 0 === o ? void 0 : o.x)
                    ? 1
                    : -1
                  : (null === s || void 0 === s ? void 0 : s.y) >
                    (null === o || void 0 === o ? void 0 : o.y)
                  ? 1
                  : -1;
              });
            }
            let r = this.$toast({
              content: "导出中... 0%",
              timeout: 1e3,
              disabledTransition: !1,
              position: "bottom",
              persistent: !0,
              isLoading: !0,
            });
            const c = Object(pt["a"])(
              r,
              "导出中... %num%%",
              [6e4, 14e4],
              [82, 17]
            );
            try {
              if ("exportCurPageFrame" === e) {
                const e = I["b"].getDirectChild(this.currentPageId) || [],
                  i = e.filter((e) => {
                    const t = O["a"].Module.getLayerPropertyById(e.id);
                    return t.isFrame && !t.isComponentSet;
                  });
                t === Yg.DEFAULT
                  ? ((o = i.map((e) => e.id)), n(o))
                  : (i.sort((e, t) => (e.name > t.name ? 1 : -1)),
                    (o = i.map((e) => e.id)));
              } else if ("exportSelectedFrame" === e) {
                const e = Object(j["d"])();
                (o = this.selectIds.filter((t) => e[t].isFrame)), n(o);
              } else
                "exportSimplePage" === e
                  ? (o = [this.currentPageId])
                  : "exportAllFrame" === e
                  ? ((o = this.pageList.map((e) => {
                      const i = I["b"].getDirectChild(e) || [],
                        s = i.filter((e) => {
                          const t = O["a"].Module.getLayerPropertyById(e.id);
                          return t.isFrame && !t.isComponentSet;
                        });
                      let o;
                      return (
                        t === Yg.DEFAULT
                          ? ((o = s.map((e) => e.id)), n(o))
                          : (s.sort((e, t) => (e.name > t.name ? 1 : -1)),
                            (o = s.map((e) => e.id))),
                        o
                      );
                    })),
                    (o = o.flat()))
                  : "exportAllPage" === e && (o = this.pageList);
              if (
                (yield x["q"].disableImageGC(),
                yield x["q"].waitImageLoadForLayer(o),
                !o.length)
              )
                return (
                  c(),
                  void this.$toast({
                    content: "文件中没有容器可供导出",
                    position: "top",
                    type: "highlight",
                    timeout: 2e3,
                  })
                );
              this.showCustomPdfDialog = !1;
              const a = (e) => O["a"].Module.exportFrameOrPageToPDFByID(e, 1),
                l = "PAGE" === s ? a : k["a"].exportLayerToPDFByID;
              yield new Promise((e) => setTimeout(e, 100));
              const h = yield Yp["PDFDocument"].create();
              for (let e = 0; e < o.length; e++) {
                yield new Promise((e) => setTimeout(e, 100));
                const t = o[e],
                  i = l(t);
                if (1 === i.length && i[0].size) {
                  const e = i[0].buffer,
                    t = yield Yp["PDFDocument"].load(e),
                    s = yield h.copyPages(t, [0]),
                    [o] = s;
                  h.addPage(o);
                }
              }
              x["q"].enableImageGC();
              const p = Date.now();
              yield new Promise((e) => setTimeout(e, 100)),
                c(),
                (r = this.$toast({
                  content: "导出完成，即将开启下载，请稍后",
                  disabledTransition: !0,
                  position: "bottom",
                  persistent: !0,
                })),
                h.save().then((e) => {
                  Object(q["b"])([
                    {
                      buffer: e,
                      fileName: "导出文件",
                      fileType: "3",
                      isSuffix: !1,
                      layerName: "",
                    },
                  ]),
                    this.$toast({
                      content: "导出成功",
                      timeout: 1e3,
                      disabledTransition: !1,
                      position: "bottom",
                    });
                }),
                d["a"].track(u["b"].EXPORT_FILE, {
                  action_type: "PDF",
                  action_successed: !0,
                  action_parameter0: Date.now() - i,
                  action_parameter1: p - i,
                  action_parameter2: Date.now() - p,
                  action_parameter3: s,
                  action_parameter4: o.length,
                });
            } catch (l) {
              const e = "PDF导出失败：" + l;
              console.error(e),
                d["a"].track(u["b"].EXPORT_FILE, {
                  action_type: "PDF",
                  action_successed: !1,
                  action_parameter0: Date.now() - i,
                  action_parameter1: 0,
                  action_parameter2: 0,
                  action_parameter3: s,
                  action_parameter4: o.length,
                }),
                c(),
                this.$toast({
                  content: "导出失败",
                  timeout: 3e3,
                  position: "top",
                });
            }
          });
        }
        getDotGuide() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = yield Ue["a"].getToursListenList(),
              t = null === e || void 0 === e ? void 0 : e.preferencesGuide,
              i = this.menuList,
              s = Array.isArray(i) && i.some((e) => "preferences" === e.value);
            t &&
              s &&
              ((this.preferencesGuide = t),
              Object.assign(this.guideMap, {
                preferencesGuide: this.preferencesGuide,
              }));
          });
        }
        mounted() {
          this.getDotGuide(),
            this.$eventBus.$on("updateNavBarStatus", (e) => {
              this.showHotkey = e;
            }),
            this.$eventBus.$on("switchPageTopTab", (e) => {
              "design" === e
                ? !this.disableUpdateLayer && this.setUserModelForEdit()
                : "prototype" === e
                ? !this.disableUpdateLayer && this.setUserModelForPrototype()
                : "mark" === e && this.setUserModelForObserve();
            });
        }
        disabledExportSelectedFrames(e, t) {
          for (let i = 0, s = e.length; i < s; i++) {
            if ("exportSelected" === e[i].value) return (e[i].disabled = t), !0;
            if (
              e[i].children &&
              this.disabledExportSelectedFrames(e[i].children, t)
            )
              return !0;
          }
          return !1;
        }
        setUserModelForEdit() {
          this.setUserModelEdit(),
            this.clearCurrentReaction(),
            d["a"].track(u["b"].TAB_CLICK, {
              action_type: "design",
            });
        }
        setUserModelForPrototype() {
          this.setUserModelPrototype(),
            this.$eventBus.$emit("switchPageLeftTab", "component", !0),
            d["a"].track(u["b"].TAB_CLICK, {
              action_type: "prototype",
            });
        }
        setUserModelForObserve() {
          this.setUserModelObserve(),
            this.clearCurrentReaction(),
            d["a"].track(u["b"].TAB_CLICK, {
              action_type: "inspect",
            });
        }
        get allowPub() {
          const e = me["a"].getters.userinfo.id,
            t = me["a"].state.app.currentDocument.owner;
          return e === t && this.resourcePublishFeature;
        }
        created() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (me["a"].getters.userinfo.id) {
              const e = yield Object(ie["Vb"])({
                fname: "web.resourcePublish",
              });
              this.resourcePublishFeature = e.data["web.resourcePublish"];
            }
          });
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("panelStatus")],
        yb.prototype,
        "closePublishPanel",
        null
      ),
        (yb = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      {},
                      Object(r["e"])({
                        document: (e) => e.app.currentDocument,
                        userInfo: (e) => e.main.userInfo,
                        teamName: (e) => e.app.currentTeam.name,
                        userList: (e) => e.app.userList,
                        gridVisible: (e) => e.basicState.gridVisible,
                        gridAlign: (e) => e.basicState.gridAlign,
                        showCommentMark: (e) => e.basicState.showCommentMark,
                        rulerVisible: (e) => e.basicState.rulerVisible,
                        sliceVisible: (e) => e.basicState.sliceVisible,
                        selectIds: (e) => e.basicState.selectIds,
                        frameList: (e) => e.newLayer.frameList,
                        originLayerMap: (e) => e.newLayer.originLayerMap,
                        layerMap: (e) => e.newLayer.layerMap,
                        showCoordination: (e) => e.basicState.showCoordination,
                        viewMode: (e) => e.basicState.viewMode,
                        isTeamMember: (e) => e.file.isTeamMember,
                        isPersonal: (e) => e.file.isPersonal,
                        users: (e) => e.app.currentTeam.users,
                        currentPageId: (e) => e.basicState.currentPageId,
                        isHideToolbar: (e) => e.file.isHideToolbar,
                        pageList: (e) => e.pages.list,
                        pageMap: (e) => e.pages.map,
                        isFrame: (e) => e.basicProps.item.isFrame,
                        importList: (e) => e.import.list,
                        hotkeyCurrentMode: (e) => e.hotkey.currentMode,
                      })
                    ),
                    Object(r["c"])(["disableUpdateLayer", "disableShowToolbar"])
                  ),
                  Object(r["c"])("dictionary", ["NAV_MENU_LIST"])
                ),
                {
                  showImportList() {
                    return (
                      -1 !==
                      this.importList.findIndex(
                        (e) => "init" === e.status || "importing" === e.status
                      )
                    );
                  },
                  menuList() {
                    let e = this.NAV_MENU_LIST;
                    return (
                      this.disableUpdateLayer &&
                        ((this.newList.length = 0),
                        this.filterOnlooker(e),
                        (e = this.newList)),
                      this.disabledExportSelectedFrames(e, !this.isFrame),
                      e
                    );
                  },
                  mobileMenuList() {
                    const e = [];
                    return (
                      this.disableShowToolbar
                        ? (this.document.allowOnlookerCopy &&
                            e.push({
                              label: "创建副本",
                              value: "copyFile",
                            }),
                          e.push(
                            {
                              label: "原型演示",
                              value: "prototype",
                            },
                            {
                              divid: !0,
                              label: "登录注册",
                              value: "login",
                            }
                          ))
                        : e.push(
                            {
                              divid: !0,
                              label: "返回",
                              value: "back",
                            },
                            {
                              divid: !0,
                              label: "原型演示",
                              value: "prototype",
                            }
                          ),
                      this.pageList.forEach((t) => {
                        e.push({
                          label: Object(Z["x"])(this.pageMap[t].name),
                          value: this.pageMap[t].id,
                        });
                      }),
                      e
                    );
                  },
                }
              ),
              methods: Object.assign(
                Object.assign(
                  Object.assign({}, Object(r["b"])(["refreshList"])),
                  Object(r["b"])("file", [
                    "setUserModelObserve",
                    "setUserModelEdit",
                    "setUserModelPrototype",
                  ])
                ),
                Object(r["b"])("prototype", ["clearCurrentReaction"])
              ),
              components: {
                masterUserList: Xp["a"],
                sharePanel: Zp["a"],
                oldSharePanel: Jp["a"],
                FileTopBar: Bd,
                MasterMenu: Pe["d"],
                MasterButtonIcon: Mi["a"],
                MissingFont: db,
                MasterDialog: b["a"],
                MasterInput: pe["a"],
                ResourceDialog: rm,
                PublishPanel: () =>
                  Promise.all([
                    i.e("chunk-674b69f2"),
                    i.e("chunk-75758bda"),
                  ]).then(i.bind(null, "4732")),
                ExportDialog: X,
                CustomPdfDialog: fb,
              },
              watch: {
                menuStatus(e) {
                  e &&
                    (d["a"].track(u["b"].MENU_LOAD, {
                      action_position: "toolbarmenu",
                    }),
                    setTimeout(() => {
                      this.menuList.find((e) => "preferences" === e.value) &&
                        Ue["a"].onToursEmit("tours_undoGuide");
                    }, 500));
                },
              },
              beforeDestroy() {
                this.$eventBus.$off("updateNavBarStatus"),
                  this.$eventBus.$off("switchPageTopTab");
              },
            }),
          ],
          yb
        ));
      var _b = yb,
        Cb = _b,
        Sb =
          (i("0c95"),
          i("9ba2"),
          Object(_["a"])(Cb, Kp, Qp, !1, null, "0329705a", null)),
        Ib = Sb.exports,
        Ob = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right__container--scroll",
            },
            [
              i(
                "newscroll",
                {
                  staticClass: "list_item",
                  attrs: {
                    type: "original",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "right__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "tab_bar border-b-block",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "tab flex-between",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "tab_container",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "tab_item h6",
                                      class: {
                                        active: "mark" === e.tab,
                                      },
                                      on: {
                                        click: function (t) {
                                          e.tab = "mark";
                                        },
                                      },
                                    },
                                    [e._v(" 标注 ")]
                                  ),
                                ]
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "select-button-container",
                                },
                                [
                                  i(
                                    "master-dropdown",
                                    {
                                      on: {
                                        command: e.changeCodeType,
                                      },
                                    },
                                    [
                                      i(
                                        "div",
                                        {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip.bottom",
                                              value: {
                                                content: "",
                                                offset: "13px",
                                              },
                                              expression:
                                                "{ content: '', offset: '13px' }",
                                              modifiers: {
                                                bottom: !0,
                                              },
                                            },
                                          ],
                                          staticClass: "mas-tool-button-arrow",
                                          attrs: {
                                            slot: "dropButton",
                                          },
                                          slot: "dropButton",
                                        },
                                        [
                                          e._v(
                                            " " +
                                              e._s(
                                                e.codeTypeMap[e.codeType]
                                                  .selectorLabel
                                              ) +
                                              " "
                                          ),
                                          i(
                                            "span",
                                            {
                                              staticClass:
                                                "angle-down-icon-container transition",
                                            },
                                            [
                                              i("AngleDownIcon", {
                                                staticClass:
                                                  "mas-tool-button-icon",
                                                attrs: {
                                                  size: "14",
                                                  opacity: "0.8",
                                                },
                                              }),
                                            ],
                                            1
                                          ),
                                        ]
                                      ),
                                      i("master-menu", {
                                        attrs: {
                                          slot: "dropMenu",
                                          list: e.FREAM_CODE_TYPE_LIST,
                                          getChecked: e.checkCodeType,
                                        },
                                        slot: "dropMenu",
                                      }),
                                    ],
                                    1
                                  ),
                                ],
                                1
                              ),
                            ]
                          ),
                        ]
                      ),
                      e.isSelect
                        ? [
                            i(
                              "div",
                              {
                                staticClass:
                                  "observe-title h6 text-tran-85-title h6 text-tran-85",
                              },
                              [
                                e.isMultiSelecting
                                  ? e._e()
                                  : i(
                                      "div",
                                      {
                                        staticClass: "observe-icon",
                                      },
                                      [
                                        null !== e.selectBasic.name
                                          ? i(e.layerIcon(e.selectBasic), {
                                              tag: "component",
                                              attrs: {
                                                size: "14",
                                              },
                                            })
                                          : e._e(),
                                      ],
                                      1
                                    ),
                                i(
                                  "div",
                                  {
                                    staticClass: "truncate",
                                    staticStyle: {
                                      flex: "auto",
                                    },
                                  },
                                  [
                                    e._v(
                                      e._s(e.decodePageName(e.selectingName))
                                    ),
                                  ]
                                ),
                                e.selectBasic.isInstance
                                  ? i("MasterToolButton", {
                                      directives: [
                                        {
                                          name: "feature",
                                          rawName: "v-feature",
                                          value: "component",
                                          expression: "'component'",
                                        },
                                      ],
                                      key: "componentStatus",
                                      class: [
                                        "component-btn",
                                        {
                                          "component-btn__disabled":
                                            e.instanceDisabled,
                                        },
                                      ],
                                      attrs: {
                                        icon: "ComponentIcon",
                                        tip: e.toolTips,
                                      },
                                      on: {
                                        click: e.handleLocate,
                                      },
                                    })
                                  : e._e(),
                              ],
                              1
                            ),
                            e.isShowComponentDesc
                              ? i(
                                  "div",
                                  {
                                    staticClass: "observe-info__layout",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass:
                                          "observe-info text-tran-30",
                                      },
                                      [e._v(" " + e._s(e.routerInfo) + " ")]
                                    ),
                                  ]
                                )
                              : e._e(),
                            "mark" === e.tab
                              ? [
                                  i(
                                    "div",
                                    {
                                      staticClass: "observe-info__layout",
                                    },
                                    [
                                      e._l(e.observeData, function (t, s) {
                                        return i("ObserveItem", {
                                          key: s,
                                          attrs: {
                                            data: t,
                                            colorFormatType: e.colorType,
                                          },
                                          scopedSlots: e._u(
                                            [
                                              "colorFormatSelector" ===
                                              t.titleComponent
                                                ? {
                                                    key: "title",
                                                    fn: function () {
                                                      return [
                                                        i("MasterSelector", {
                                                          staticClass:
                                                            "observe-info__selector",
                                                          attrs: {
                                                            theme: "simple",
                                                            size: "small",
                                                            options:
                                                              e.FREAM_COLOR_TYPE_LIST,
                                                          },
                                                          model: {
                                                            value: e.colorType,
                                                            callback: function (
                                                              t
                                                            ) {
                                                              e.colorType = t;
                                                            },
                                                            expression:
                                                              "colorType",
                                                          },
                                                        }),
                                                      ];
                                                    },
                                                    proxy: !0,
                                                  }
                                                : null,
                                            ],
                                            null,
                                            !0
                                          ),
                                        });
                                      }),
                                      i(
                                        "div",
                                        {
                                          staticClass: "observe-info",
                                        },
                                        [
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "observe-info__cell h6",
                                            },
                                            [
                                              e._v(" 代码 "),
                                              i(
                                                "CopyTip",
                                                {
                                                  attrs: {
                                                    placement: "top",
                                                    label: "复制全部",
                                                  },
                                                  on: {
                                                    click: function (t) {
                                                      return e.copyAll(
                                                        e.codeString
                                                      );
                                                    },
                                                  },
                                                },
                                                [
                                                  i("MasterButtonIcon", {
                                                    attrs: {
                                                      icon: "DuplicateIcon",
                                                      focusable: "",
                                                    },
                                                  }),
                                                ],
                                                1
                                              ),
                                            ],
                                            1
                                          ),
                                          i(
                                            "div",
                                            {
                                              staticClass:
                                                "observe-code code_content",
                                            },
                                            [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "observe-code-content",
                                                },
                                                [
                                                  i(
                                                    "div",
                                                    {
                                                      directives: [
                                                        {
                                                          name: "tip",
                                                          rawName: "v-tip",
                                                          value: {
                                                            content: "复制成功",
                                                            trigger: "click",
                                                            placement: "top",
                                                            offsetX: 20,
                                                            offsetY: -8,
                                                          },
                                                          expression:
                                                            "{\n                        content: '复制成功',\n                        trigger: 'click',\n                        placement: 'top',\n                        offsetX: 20,\n                        offsetY: -8\n                      }",
                                                        },
                                                      ],
                                                    },
                                                    [
                                                      i(
                                                        "div",
                                                        {
                                                          staticClass:
                                                            "observe-code-item transition",
                                                          attrs: {
                                                            id: "code-box",
                                                          },
                                                          on: {
                                                            mouseup:
                                                              e.handleMouseUp,
                                                          },
                                                        },
                                                        [
                                                          i("prism", {
                                                            attrs: {
                                                              language:
                                                                e.language,
                                                              code: e.codeString,
                                                            },
                                                          }),
                                                          i("div", {
                                                            staticStyle: {
                                                              width: "100%",
                                                              height: "100%",
                                                              "pointer-events":
                                                                "none",
                                                            },
                                                            attrs: {
                                                              id: "codeMaskLayer",
                                                            },
                                                          }),
                                                        ],
                                                        1
                                                      ),
                                                    ]
                                                  ),
                                                ]
                                              ),
                                            ]
                                          ),
                                        ]
                                      ),
                                    ],
                                    2
                                  ),
                                  i(
                                    "div",
                                    {
                                      staticClass: "observe-info__export",
                                    },
                                    [
                                      i("ExportPlugin", {
                                        attrs: {
                                          name: e.layerName,
                                        },
                                      }),
                                    ],
                                    1
                                  ),
                                ]
                              : e._e(),
                          ]
                        : [
                            i(
                              "div",
                              {
                                staticClass: "observe-title h6 text-tran-85",
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass: "truncate",
                                  },
                                  [
                                    e._v(
                                      e._s(e.decodePageName(e.currentPage.name))
                                    ),
                                  ]
                                ),
                              ]
                            ),
                          ],
                      "cut" === e.tab
                        ? [
                            i(
                              "div",
                              {
                                staticClass: "cut-export-button",
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    attrs: {
                                      type: "gray",
                                      width: "198",
                                      icon: "ExportIcon",
                                      iconSize: "12",
                                      size: "xs",
                                      disabled: !e.exportList.length,
                                    },
                                  },
                                  [
                                    e._v(
                                      e._s(
                                        e.exportList.length
                                          ? "快速导出" +
                                              e.exportList.length +
                                              "个切图"
                                          : "快速导出"
                                      ) + " "
                                    ),
                                  ]
                                ),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "observe-info",
                              },
                              [
                                i(
                                  "div",
                                  {
                                    staticClass:
                                      "observe-info__layout cut-export-title",
                                    class: [
                                      !e.exportList.length && "no-export",
                                    ],
                                    on: {
                                      click: function (t) {
                                        e.exportAll = !e.exportAll;
                                      },
                                    },
                                  },
                                  [
                                    i("svg-plugin", {
                                      staticClass: "cut-export-all",
                                      attrs: {
                                        opacity: e.exportAll ? "1" : "0.3",
                                        size: "12",
                                        name: e.exportAll
                                          ? "check-on"
                                          : "check-off",
                                      },
                                    }),
                                    e._v(" 导出全部 "),
                                  ],
                                  1
                                ),
                                i(
                                  "div",
                                  {
                                    staticClass: "observe-info__layout",
                                  },
                                  e._l(e.exportList, function (t) {
                                    return i(
                                      "div",
                                      {
                                        key: t.id,
                                        staticClass: "cut-export-item",
                                        on: {
                                          click: function (i) {
                                            e.exportItem[t.id] =
                                              !e.exportItem[t.id];
                                          },
                                        },
                                      },
                                      [
                                        i("svg-plugin", {
                                          staticClass: "cut-export-all",
                                          attrs: {
                                            opacity: e.exportItem[t.id]
                                              ? "1"
                                              : "0.3",
                                            size: "12",
                                            name: e.exportItem[t.id]
                                              ? "check-on"
                                              : "check-off",
                                          },
                                        }),
                                        i(
                                          "div",
                                          {
                                            staticClass:
                                              "cut-export-img cut-export-all radius-s bg-gray-600",
                                          },
                                          [
                                            i("img", {
                                              attrs: {
                                                src: t.src,
                                              },
                                            }),
                                          ]
                                        ),
                                        i(
                                          "div",
                                          {
                                            staticClass: "cut-export-info",
                                          },
                                          [
                                            i("div", [e._v(e._s(t.name))]),
                                            i("p", [e._v(e._s(t.info))]),
                                          ]
                                        ),
                                      ],
                                      1
                                    );
                                  }),
                                  0
                                ),
                              ]
                            ),
                          ]
                        : e._e(),
                      e.selectIds && 0 === e.selectIds.length
                        ? [
                            i(
                              "div",
                              {
                                staticClass: "observe-info__exportAll",
                              },
                              [
                                i(
                                  "MButton",
                                  {
                                    staticClass: "export-button",
                                    attrs: {
                                      type: "gray",
                                      iconSize: "12",
                                      size: "xs",
                                      disabled: !1,
                                    },
                                    on: {
                                      click: e.exportAllHandler,
                                    },
                                    nativeOn: {
                                      mouseup: function (e) {
                                        e.stopPropagation();
                                      },
                                    },
                                  },
                                  [e._v(" 导出所有切图 ")]
                                ),
                              ],
                              1
                            ),
                          ]
                        : e._e(),
                    ],
                    2
                  ),
                ]
              ),
            ],
            1
          );
        },
        kb = [],
        wb = i("704b"),
        xb =
          (i("6605"),
          i("e9cba"),
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "CopyTip",
              {
                staticClass: "label-copy radius-s transition",
              },
              [
                i(
                  "div",
                  {
                    class: {
                      "label-text": e.isOverflow,
                    },
                    style: e.addStyle,
                    on: {
                      click: e.copyText,
                    },
                  },
                  [e._v(e._s(e.label))]
                ),
              ]
            );
          }),
        Lb = [],
        Ab = i("652b"),
        Tb = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              directives: [
                {
                  name: "tip",
                  rawName: "v-tip",
                  value: {
                    content: e.copyStatus,
                    hideOnTargetClick: !1,
                    trigger: "hover focus",
                    offset: 6,
                    placement: e.placement,
                  },
                  expression:
                    "{ content: copyStatus, hideOnTargetClick: false, trigger: 'hover focus', offset: 6, placement: placement}",
                },
              ],
              on: {
                mouseenter: e.mouseenterHandler,
              },
            },
            [
              i(
                "div",
                {
                  on: {
                    click: e.copyHandler,
                  },
                },
                [e._t("default")],
                2
              ),
            ]
          );
        },
        jb = [];
      let Mb = class extends n["g"] {
        constructor() {
          super(...arguments), (this.copyStatus = this.copyText);
        }
        get copyText() {
          return this.label || "点击复制";
        }
        copyHandler(e) {
          e.stopImmediatePropagation(),
            (this.copyStatus = "已复制"),
            this.$emit("click");
        }
        mouseenterHandler() {
          (this.copyStatus = this.copyText), this.$emit("mouseenter");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !1,
            default: "left",
          }),
        ],
        Mb.prototype,
        "placement",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
              default: "",
            }),
          ],
          Mb.prototype,
          "label",
          void 0
        ),
        (Mb = Object(a["__decorate"])([Object(n["a"])({})], Mb));
      var Eb = Mb,
        Pb = Eb,
        Db = Object(_["a"])(Pb, Tb, jb, !1, null, "263c1471", null),
        Bb = Db.exports;
      let Nb = class extends n["g"] {
        get label() {
          return "number" === typeof this.text
            ? this.text.toFixed(2)
            : this.text;
        }
        copyText() {
          Ab["a"].COPY_CODERMESURE &&
            ((Ab["a"].COPY_CODERMESURE = !1),
            d["a"].track(u["b"].COPY_CODERMESURE, {
              action_type: "mesure",
            })),
            Object(Z["s"])(this.label.toString());
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: [String, Number],
          }),
        ],
        Nb.prototype,
        "text",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Nb.prototype,
          "isOverflow",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          Nb.prototype,
          "maxWidth",
          void 0
        ),
        (Nb = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                CopyTip: Bb,
              },
              computed: {
                addStyle() {
                  const e = {};
                  return this.maxWidth && (e.maxWidth = this.maxWidth), e;
                },
              },
            }),
          ],
          Nb
        ));
      var Fb = Nb,
        Rb = Fb,
        Hb =
          (i("6b6e"), Object(_["a"])(Rb, xb, Lb, !1, null, "3098675c", null)),
        $b = Hb.exports,
        Vb = i("15e1"),
        zb = i("abe2"),
        Ub = i("8de1"),
        qb = i("b0ae"),
        Wb = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "observe-info",
            },
            [
              i(
                "div",
                {
                  staticClass: "observe-info__cell",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "observe-info__title h6",
                    },
                    [e._v(e._s(e.data.title))]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "observe-info__content",
                    },
                    [e._t("title")],
                    2
                  ),
                ]
              ),
              "font" === e.data.type
                ? e._l(e.showList, function (t, s) {
                    return i(
                      "div",
                      {
                        key: s,
                      },
                      e._l(t, function (t, s) {
                        return i(
                          "div",
                          {
                            key: s,
                            staticClass: "observe-info__cell",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "observe-info__label",
                              },
                              [
                                t.label
                                  ? i(
                                      "span",
                                      {
                                        directives: [
                                          {
                                            name: "tip",
                                            rawName: "v-tip",
                                            value: {
                                              content:
                                                "<div style='max-width: 193px; word-wrap:break-word;'>" +
                                                t.label +
                                                "</div>",
                                              overflowDisplay: !0,
                                              offsetX: 0,
                                            },
                                            expression:
                                              "{\n              content: `<div style='max-width: 193px; word-wrap:break-word;'>${property.label}</div>`,\n              overflowDisplay: true,\n              offsetX: 0\n            }",
                                          },
                                        ],
                                        staticClass: "observe-info__text",
                                      },
                                      [e._v(" " + e._s(t.label) + " ")]
                                    )
                                  : e._e(),
                              ]
                            ),
                            i(
                              "div",
                              {
                                staticClass: "observe-info__content",
                              },
                              e._l(t.values, function (s, o) {
                                return i(
                                  "span",
                                  {
                                    key: o,
                                  },
                                  [
                                    "applicationStyle" === t.valueType &&
                                    s.value
                                      ? [
                                          i("styleInfo", {
                                            attrs: {
                                              value: s.value,
                                              icon: t.icon,
                                            },
                                          }),
                                        ]
                                      : [
                                          s.label
                                            ? i(
                                                "span",
                                                {
                                                  staticClass:
                                                    "observe-info__content-label text-tran-30",
                                                },
                                                [
                                                  e._v(
                                                    " " + e._s(s.label) + " "
                                                  ),
                                                ]
                                              )
                                            : e._e(),
                                          i("LabelCopy", {
                                            style: {
                                              marginLeft:
                                                (s.label ? 0 : 5) + "px",
                                            },
                                            attrs: {
                                              text: s.value,
                                            },
                                          }),
                                        ],
                                  ],
                                  2
                                );
                              }),
                              0
                            ),
                          ]
                        );
                      }),
                      0
                    );
                  })
                : "interact" === e.data.type
                ? e._l(e.showList, function (t, s) {
                    return i(
                      "div",
                      {
                        key: s,
                      },
                      e._l(t, function (t, s) {
                        return i(
                          "div",
                          {
                            key: s,
                            staticClass: "observe-info__cell",
                          },
                          [
                            i(
                              "div",
                              {
                                staticClass: "observe-info__label",
                              },
                              [
                                t.icon
                                  ? i(t.icon, {
                                      tag: "component",
                                      staticStyle: {
                                        "margin-right": "9px",
                                      },
                                      attrs: {
                                        size: "14",
                                      },
                                    })
                                  : e._e(),
                                t.label
                                  ? i(
                                      "span",
                                      {
                                        class: {
                                          "observe-info__subtitle":
                                            "subtitle" === t.type,
                                        },
                                      },
                                      [e._v(" " + e._s(t.label) + " ")]
                                    )
                                  : e._e(),
                              ],
                              1
                            ),
                            i(
                              "div",
                              {
                                staticClass: "observe-info__content",
                              },
                              e._l(t.values, function (t, s) {
                                return i(
                                  "span",
                                  {
                                    key: s,
                                  },
                                  [
                                    t.label
                                      ? i(
                                          "span",
                                          {
                                            staticClass:
                                              "observe-info__content-label text-tran-30",
                                          },
                                          [e._v(" " + e._s(t.label) + " ")]
                                        )
                                      : e._e(),
                                    "link" === t.type && null == t.url
                                      ? i(
                                          "span",
                                          {
                                            staticClass:
                                              "observe-info__content-value",
                                            class: {
                                              "observe-info__content-link":
                                                "link" === t.type,
                                            },
                                            style: {
                                              marginLeft:
                                                (t.label ? 0 : 5) + "px",
                                            },
                                            on: {
                                              click: t.callback,
                                            },
                                          },
                                          [e._v(" " + e._s(t.value) + " ")]
                                        )
                                      : "link" === t.type && null != t.url
                                      ? i(
                                          "span",
                                          {
                                            staticClass:
                                              "observe-info__content-value",
                                            class: {
                                              "observe-info__content-link":
                                                "link" === t.type,
                                            },
                                            style: {
                                              marginLeft:
                                                (t.label ? 0 : 5) + "px",
                                            },
                                          },
                                          [
                                            i(
                                              "a",
                                              {
                                                attrs: {
                                                  href: t.url,
                                                },
                                              },
                                              [e._v(e._s(t.value))]
                                            ),
                                          ]
                                        )
                                      : i(
                                          "span",
                                          {
                                            staticClass:
                                              "observe-info__content-value",
                                            class: {
                                              "observe-info__content-disable":
                                                "disable" === t.type,
                                            },
                                            style: {
                                              marginLeft:
                                                (t.label ? 0 : 5) + "px",
                                            },
                                          },
                                          [e._v(" " + e._s(t.value) + " ")]
                                        ),
                                  ]
                                );
                              }),
                              0
                            ),
                          ]
                        );
                      }),
                      0
                    );
                  })
                : e._l(e.showList, function (t, s) {
                    return i(
                      "div",
                      {
                        key: s,
                        staticClass: "observe-info__cell",
                      },
                      [
                        "text" === t.valueType
                          ? [
                              i(
                                "div",
                                {
                                  staticClass: "observe-code text-content",
                                },
                                [
                                  i(
                                    "div",
                                    {
                                      staticClass: "observe-code-content",
                                    },
                                    [
                                      i(
                                        "div",
                                        {
                                          staticClass:
                                            "observe-code-item transition",
                                        },
                                        [
                                          i(
                                            "div",
                                            {
                                              staticClass: "textconent",
                                              on: {
                                                mouseup: function (i) {
                                                  return e.handleCopyText(
                                                    t.values[0].value
                                                  );
                                                },
                                              },
                                            },
                                            [
                                              i(
                                                "CopyTip",
                                                {
                                                  staticStyle: {
                                                    display: "inline-block",
                                                  },
                                                },
                                                [e._v(e._s(t.values[0].value))]
                                              ),
                                            ],
                                            1
                                          ),
                                        ]
                                      ),
                                    ]
                                  ),
                                ]
                              ),
                            ]
                          : [
                              i(
                                "div",
                                {
                                  staticClass: "observe-info__label",
                                },
                                [
                                  "adjustVisualPanel" === t.valueType
                                    ? i("VisualPanel", {
                                        staticStyle: {
                                          width: "66px",
                                          height: "66px",
                                        },
                                        attrs: {
                                          width: e.widthAdjustValue,
                                          height: e.heightAdjustValue,
                                          widthOptions: e.WidthOptions,
                                          heightOptions: e.HeightOptions,
                                          disable: !0,
                                        },
                                      })
                                    : e._e(),
                                  t.label
                                    ? i(
                                        "span",
                                        {
                                          directives: [
                                            {
                                              name: "tip",
                                              rawName: "v-tip",
                                              value: {
                                                content:
                                                  "<div style='max-width: 193px; word-wrap:break-word;'>" +
                                                  t.label +
                                                  "</div>",
                                                overflowDisplay: !0,
                                                offsetX: 0,
                                              },
                                              expression:
                                                "{\n            content: `<div style='max-width: 193px; word-wrap:break-word;'>${property.label}</div>`,\n            overflowDisplay: true,\n            offsetX: 0\n          }",
                                            },
                                          ],
                                          staticClass: "observe-info__text",
                                        },
                                        [e._v(" " + e._s(t.label) + " ")]
                                      )
                                    : e._e(),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass: "observe-info__content",
                                },
                                e._l(t.values, function (s, o) {
                                  return i(
                                    "span",
                                    {
                                      key: o,
                                    },
                                    [
                                      t.valueType
                                        ? "gradient" === t.valueType
                                          ? [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "observe-info__gradient-wrap",
                                                },
                                                e._l(s.value, function (t, s) {
                                                  return i("colorInfo", {
                                                    key: s,
                                                    attrs: {
                                                      color: t,
                                                      colorFormat:
                                                        e.colorFormatType,
                                                      isLine: !0,
                                                    },
                                                  });
                                                }),
                                                1
                                              ),
                                            ]
                                          : "applicationStyle" === t.valueType
                                          ? [
                                              i("styleInfo", {
                                                attrs: {
                                                  isOverflow: s.isOverflow,
                                                  maxWidth: s.maxWidth,
                                                  value: s.value,
                                                  colorIcon: t.colorIcon,
                                                  icon: t.icon,
                                                },
                                              }),
                                            ]
                                          : "color" === t.valueType
                                          ? [
                                              i("colorInfo", {
                                                attrs: {
                                                  color: s.value,
                                                  colorFormat:
                                                    e.colorFormatType,
                                                  isLine: !1,
                                                },
                                              }),
                                            ]
                                          : "adjustVisualPanel" === t.valueType
                                          ? [
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "observe-info__content-adjust",
                                                  staticStyle: {
                                                    "margin-bottom": "6px",
                                                  },
                                                },
                                                [
                                                  i(
                                                    e.widthSelectIcons[
                                                      e.widthAdjustValue
                                                    ],
                                                    {
                                                      tag: "component",
                                                      staticStyle: {
                                                        "margin-right": "9px",
                                                      },
                                                      attrs: {
                                                        size: "14",
                                                      },
                                                    }
                                                  ),
                                                  i("span", [
                                                    e._v(e._s(e.getWidth)),
                                                  ]),
                                                ],
                                                1
                                              ),
                                              i(
                                                "div",
                                                {
                                                  staticClass:
                                                    "observe-info__content-adjust",
                                                },
                                                [
                                                  i(
                                                    e.heightSelectIcons[
                                                      e.heightAdjustValue
                                                    ],
                                                    {
                                                      tag: "component",
                                                      staticStyle: {
                                                        "margin-right": "9px",
                                                      },
                                                      attrs: {
                                                        size: "14",
                                                      },
                                                    }
                                                  ),
                                                  i("span", [
                                                    e._v(e._s(e.getHeight)),
                                                  ]),
                                                ],
                                                1
                                              ),
                                            ]
                                          : e._e()
                                        : [
                                            i(
                                              "div",
                                              {
                                                staticStyle: {
                                                  display: "flex",
                                                },
                                              },
                                              [
                                                s.label
                                                  ? i(
                                                      "span",
                                                      {
                                                        staticClass:
                                                          "observe-info__content-label text-tran-30",
                                                      },
                                                      [e._v(e._s(s.label))]
                                                    )
                                                  : e._e(),
                                                i("LabelCopy", {
                                                  style: {
                                                    marginLeft:
                                                      (s.label ? 0 : 5) + "px",
                                                  },
                                                  attrs: {
                                                    text: s.value,
                                                    isOverflow: s.isOverflow,
                                                    maxWidth: s.maxWidth,
                                                  },
                                                }),
                                              ],
                                              1
                                            ),
                                          ],
                                    ],
                                    2
                                  );
                                }),
                                0
                              ),
                            ],
                      ],
                      2
                    );
                  }),
              e.showAll
                ? e._e()
                : i(
                    "div",
                    {
                      staticClass: "observe-info__show-all",
                      on: {
                        click: e.handleShowAll,
                      },
                    },
                    [
                      e._v(
                        " 查看全部 " +
                          e._s(e.data.properties.length) +
                          " 种" +
                          e._s("color" === e.data.type ? "颜色" : "样式") +
                          " "
                      ),
                    ]
                  ),
            ],
            2
          );
        },
        Gb = [],
        Kb = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "color-info",
              class: {
                "color-line": e.isLine,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "color-child",
                },
                [
                  i("ColorItem", {
                    staticClass: "color-item",
                    attrs: {
                      data: e.colorItemValue,
                      opacity: e.innerColorAlpha,
                      type: 0,
                    },
                  }),
                  i("LabelCopy", {
                    staticClass: "color-pure",
                    attrs: {
                      text: e.innerColor,
                    },
                  }),
                ],
                1
              ),
              e.alphaVisible
                ? i(
                    "div",
                    {
                      staticClass: "color-child",
                    },
                    [
                      i("LabelCopy", {
                        staticClass: "color-alpha",
                        attrs: {
                          text:
                            Math.round((e.innerColorAlpha / 255) * 100) + "%",
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
            ]
          );
        },
        Qb = [];
      let Yb = class extends n["g"] {
        get colorValue() {
          return "string" === typeof this.color
            ? parseInt(this.color, 10)
            : this.color;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: [Number, String],
          }),
        ],
        Yb.prototype,
        "color",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          Yb.prototype,
          "isLine",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              default: Gi["a"].HEX,
              required: !1,
            }),
          ],
          Yb.prototype,
          "colorFormat",
          void 0
        ),
        (Yb = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                LabelCopy: $b,
                ColorItem: jt["a"],
              },
              computed: {
                innerColor() {
                  return Object(Gi["g"])(this.colorValue, this.colorFormat);
                },
                colorItemValue() {
                  return Object(Gi["g"])(this.colorValue, Gi["a"].HEX).slice(1);
                },
                innerColorAlpha() {
                  return Object(Gi["h"])(this.colorValue);
                },
                alphaVisible() {
                  return (
                    (this.isLine || 255 !== this.innerColorAlpha) &&
                    this.colorFormat === Gi["a"].HEX
                  );
                },
              },
            }),
          ],
          Yb
        ));
      var Xb = Yb,
        Zb = Xb,
        Jb = (i("eeb3"), Object(_["a"])(Zb, Kb, Qb, !1, null, null, null)),
        ev = Jb.exports,
        tv = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "visual-panel",
            },
            [
              i(
                "div",
                {
                  staticClass: "icon-container",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "height-icon-container",
                      on: {
                        click: function (t) {
                          return e.innerHandleAdjustChangeToNext("height");
                        },
                        mouseenter: function (t) {
                          e.heightIconHighlight = !0;
                        },
                        mouseleave: function (t) {
                          e.heightIconHighlight = !1;
                        },
                      },
                    },
                    [
                      i("svg-plugin", {
                        staticClass: "horizontal-icon icon",
                        class: {
                          highlight: e.heightIconHighlight && !e.disable,
                        },
                        attrs: {
                          width: 24,
                          height: 6,
                          name: e.heightAdjustIcons[2 * e.height],
                        },
                      }),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass: "width-icon-container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "align-center",
                          on: {
                            click: function (t) {
                              return e.innerHandleAdjustChangeToNext("width");
                            },
                            mouseenter: function (t) {
                              e.widthIconHighlight = !0;
                            },
                            mouseleave: function (t) {
                              e.widthIconHighlight = !1;
                            },
                          },
                        },
                        [
                          i("svg-plugin", {
                            staticClass: "vertical-icon icon",
                            class: {
                              highlight: e.widthIconHighlight && !e.disable,
                            },
                            attrs: {
                              name: e.widthAdjustIcons[2 * e.width],
                            },
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "align-center",
                          on: {
                            click: function (t) {
                              return e.innerHandleAdjustChangeToNext("width");
                            },
                            mouseenter: function (t) {
                              e.widthIconHighlight = !0;
                            },
                            mouseleave: function (t) {
                              e.widthIconHighlight = !1;
                            },
                          },
                        },
                        [
                          i("svg-plugin", {
                            staticClass: "vertical-icon icon",
                            class: {
                              highlight: e.widthIconHighlight && !e.disable,
                            },
                            attrs: {
                              name: e.widthAdjustIcons[2 * e.width + 1],
                            },
                          }),
                        ],
                        1
                      ),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "height-icon-container",
                      on: {
                        click: function (t) {
                          return e.innerHandleAdjustChangeToNext("height");
                        },
                        mouseenter: function (t) {
                          e.heightIconHighlight = !0;
                        },
                        mouseleave: function (t) {
                          e.heightIconHighlight = !1;
                        },
                      },
                    },
                    [
                      i("svg-plugin", {
                        staticClass: "horizontal-icon icon",
                        class: {
                          highlight: e.heightIconHighlight && !e.disable,
                        },
                        attrs: {
                          name: e.heightAdjustIcons[2 * e.height + 1],
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "area-indictor",
                  style: {
                    width: e.sizeMap[e.width] + "px",
                    height: e.sizeMap[e.height] + "px",
                  },
                },
                [e._m(0)]
              ),
            ]
          );
        },
        iv = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "area-indictor-bars",
              },
              [
                i("div", {
                  staticClass: "bar1",
                }),
                i("div", {
                  staticClass: "bar2",
                }),
                i("div", {
                  staticClass: "bar3",
                }),
              ]
            );
          },
        ];
      let sv = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.sizeMap = [44, 32, 60]),
            (this.heightAdjustIcons = [
              "horizontal",
              "horizontal",
              "bottom",
              "top",
              "top",
              "bottom",
            ]),
            (this.widthAdjustIcons = [
              "vertical",
              "vertical",
              "right",
              "left",
              "left",
              "right",
            ]),
            (this.heightIconHighlight = !1),
            (this.widthIconHighlight = !1);
        }
        innerHandleAdjustChangeToNext(e) {
          this.disable || this.handleAdjustChangeToNext(e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        sv.prototype,
        "width",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          sv.prototype,
          "height",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          sv.prototype,
          "widthOptions",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          sv.prototype,
          "heightOptions",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          sv.prototype,
          "handleAdjustChangeToNext",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          sv.prototype,
          "disable",
          void 0
        ),
        (sv = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: Mi["a"],
                MasterSelector: Pe["e"],
                BasicLeftIcon: Qs["a"],
                Bounced: Ys["a"],
                AlignIconGrid: nr,
                MSelector: Pe["b"],
              },
            }),
          ],
          sv
        ));
      var ov = sv,
        av = ov,
        nv =
          (i("bb60"), Object(_["a"])(av, tv, iv, !1, null, "efc4236e", null)),
        rv = nv.exports,
        cv = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "style-info",
            },
            [
              i(
                "div",
                {
                  staticClass: "style-child",
                },
                [
                  e.icon
                    ? i(e.icon, {
                        tag: "component",
                        staticStyle: {
                          "margin-right": "9px",
                          flex: "0 0 14px",
                        },
                        attrs: {
                          size: "14",
                        },
                      })
                    : e._e(),
                  e.colorIcon
                    ? i("ColorIcon", {
                        staticStyle: {
                          "padding-left": "0px",
                        },
                        attrs: {
                          isStyle: !0,
                          data: e.colorIcon,
                          disable: !0,
                        },
                      })
                    : e._e(),
                  i("LabelCopy", {
                    staticClass: "color-pure",
                    attrs: {
                      text: e.value,
                      isOverflow: e.isOverflow,
                      maxWidth: e.maxWidth,
                    },
                  }),
                ],
                1
              ),
            ]
          );
        },
        lv = [];
      let dv = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: [String],
          }),
        ],
        dv.prototype,
        "value",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
            }),
          ],
          dv.prototype,
          "colorIcon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          dv.prototype,
          "icon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          dv.prototype,
          "isOverflow",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
            }),
          ],
          dv.prototype,
          "maxWidth",
          void 0
        ),
        (dv = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                LabelCopy: $b,
                ColorIcon: jt["a"],
              },
              computed: {},
            }),
          ],
          dv
        ));
      var uv,
        hv = dv,
        pv = hv,
        mv = (i("c026"), Object(_["a"])(pv, cv, lv, !1, null, null, null)),
        gv = mv.exports;
      (function (e) {
        (e["normal"] = "normal"),
          (e["color"] = "color"),
          (e["font"] = "font"),
          (e["interact"] = "interact");
      })(uv || (uv = {}));
      let bv = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.showAll = !0),
            (this.showList = [[]]),
            (this.isSend = !1),
            (this.widthSelectIcons = [
              "LineAltHIcon",
              "ArrowCompressionHIcon",
              "ArrowsAltHIcon",
            ]),
            (this.heightSelectIcons = [
              "LineAltVIcon",
              "ArrowCompressionVIcon",
              "ArrowsAltVIcon",
            ]);
        }
        getName(e, t) {
          let i;
          for (const { value: s, label: o } of t) s === e && (i = o);
          return i;
        }
        get getWidth() {
          return this.getName(this.widthAdjustValue, this.WidthOptions);
        }
        get getHeight() {
          return this.getName(this.heightAdjustValue, this.HeightOptions);
        }
        get isAutoLayoutLayer() {
          return this.selectItem.isAllAutoLayout;
        }
        get isInAutoLayoutLayer() {
          return this.selectItem.isAllInAL;
        }
        get WidthOptions() {
          return this.getOptions(ys["g"], this.selectItem.widthResizing);
        }
        get HeightOptions() {
          return this.getOptions(ys["e"], this.selectItem.heightResizing);
        }
        get widthAdjustValue() {
          return this.WidthOptions.length
            ? this.selectItem.widthResizing
            : null;
        }
        get heightAdjustValue() {
          return this.HeightOptions.length
            ? this.selectItem.heightResizing
            : null;
        }
        getOptions(e, t) {
          if (!this.selectItem.isALrelevant) return [];
          let i = e.map((e) => Object.assign({}, e));
          if (
            (this.isInAutoLayoutLayer && this.isAutoLayoutLayer) ||
            this.selectItem.type === se["o"].Text
          );
          else {
            let e = [ys["b"].Fix];
            this.isInAutoLayoutLayer &&
              !this.isAutoLayoutLayer &&
              (e = [ys["b"].Fix, ys["b"].Stretch]),
              this.isAutoLayoutLayer && (e = [ys["b"].Fix, ys["b"].Auto]),
              (i = i.filter((t) => e.includes(t.value))),
              this.showConstraint && i.length && (i[i.length - 1].divid = !0);
          }
          return (
            -1 === t &&
              i.unshift({
                label: "多个值",
                value: -1,
                divid: !0,
                disabled: !0,
              }),
            i
          );
        }
        handleDataChange(e) {
          e.limit && e.properties.length > e.limit
            ? ((this.showList = e.properties.slice(0, e.limit)),
              (this.showAll = !1))
            : ((this.showAll = !0), (this.showList = e.properties));
        }
        handleShowAll() {
          (this.showAll = !0), (this.showList = this.data.properties);
        }
        handleCopyText(e) {
          var t;
          (null === (t = window.getSelection()) || void 0 === t
            ? void 0
            : t.toString()) ||
            (this.isSend || (this.isSend = !0), Object(Z["s"])(e));
        }
      };
      Object(a["__decorate"])(
        [Object(n["e"])({})],
        bv.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["e"])({})],
          bv.prototype,
          "colorFormatType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data", {
              immediate: !0,
            }),
          ],
          bv.prototype,
          "handleDataChange",
          null
        ),
        (bv = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                LabelCopy: $b,
                colorInfo: ev,
                CopyTip: Bb,
                ColorIcon: jt["a"],
                VisualPanel: rv,
                StyleInfo: gv,
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  fill: (e) => e.basicProps.item.fills || {},
                  selectItem: (e) => e.basicProps.item,
                })
              ),
            }),
          ],
          bv
        ));
      var vv = bv,
        fv = vv,
        yv = (i("5584"), Object(_["a"])(fv, Wb, Gb, !1, null, null, null)),
        _v = yv.exports;
      let Cv = "css";
      var Sv;
      (function (e) {
        (e[(e["Pure"] = 0)] = "Pure"),
          (e[(e["Gradient"] = 1)] = "Gradient"),
          (e[(e["Radial"] = 2)] = "Radial"),
          (e[(e["Conic"] = 3)] = "Conic"),
          (e[(e["Diamond"] = 4)] = "Diamond"),
          (e[(e["Picture"] = 5)] = "Picture");
      })(Sv || (Sv = {}));
      const Iv = new Map([
          [
            1,
            {
              type: Sv.Gradient,
              title: "线性渐变",
              key: "gradient",
            },
          ],
          [
            2,
            {
              type: Sv.Radial,
              title: "径向渐变",
              key: "gradient",
            },
          ],
          [
            3,
            {
              type: Sv.Conic,
              title: "旋转渐变",
              key: "gradient",
            },
          ],
          [
            4,
            {
              type: Sv.Diamond,
              title: "菱形渐变",
              key: "gradient",
            },
          ],
        ]),
        Ov = new Map([
          [se["N"].ON_CLICK, "点击"],
          [se["N"].ON_HOVER, "悬停"],
          [se["N"].ON_PRESS, "按下"],
          [se["N"].ON_DRAG, "拖拽"],
          [se["N"].MOUSE_DOWN, "按下鼠标"],
          [se["N"].MOUSE_UP, "抬起鼠标"],
          [se["N"].MOUSE_ENTER, "光标移入"],
          [se["N"].MOUSE_LEAVE, "光标移出"],
          [se["N"].AFTER_DELAY, "延时"],
        ]),
        kv = new Map([
          [Ub["FlowActionType"].None, "无"],
          [Ub["FlowActionType"].NavigateTo, "前往"],
          [Ub["FlowActionType"].BackTo, "返回上一级"],
          [Ub["FlowActionType"].OpenLink, "打开链接"],
          [Ub["FlowActionType"].OpenOverlay, "打开浮层"],
          [Ub["FlowActionType"].CloseOverlay, "关闭浮层"],
          [Ub["FlowActionType"].SwapOverlay, "替换浮层"],
        ]),
        wv = new Map([
          [se["M"].INSTANT, "即时"],
          [se["M"].DISSOLVE, "溶解"],
          [se["M"].SLIDE_IN, "滑入"],
          [se["M"].SLIDE_OUT, "滑出"],
          [se["M"].MOVE_IN, "移入"],
          [se["M"].MOVE_OUT, "移出"],
          [se["M"].PUSH, "推入"],
          [se["M"].SMART_ANIMATE, "智能动画"],
        ]),
        xv = new Map([
          [se["h"].LINEAR, "线性渐变"],
          [se["h"].EASE_IN, "缓入"],
          [se["h"].EASE_OUT, "缓出"],
          [se["h"].EASE_IN_AND_OUT, "缓入缓出"],
          [se["h"].EASE_IN_BACK, "后撤缓入"],
          [se["h"].EASE_OUT_BACK, "停滞缓出"],
          [se["h"].EASE_IN_AND_OUT_BACK, "弹性渐变"],
        ]),
        Lv = new Map([
          [se["L"].LEFT, "向左"],
          [se["L"].RIGHT, "向右"],
          [se["L"].TOP, "向上"],
          [se["L"].BOTTOM, "向下"],
        ]),
        Av = new Map([
          [se["M"].MOVE_IN, !0],
          [se["M"].MOVE_OUT, !0],
          [se["M"].PUSH, !0],
          [se["M"].SLIDE_IN, !0],
          [se["M"].SLIDE_OUT, !0],
        ]),
        Tv = function (e, t) {
          if (e === se["a"].NONE) return Ub["FlowActionType"].None;
          if (e === se["a"].BACK) return Ub["FlowActionType"].BackTo;
          if (e === se["a"].URL) return Ub["FlowActionType"].OpenLink;
          if (e === se["a"].NODE) {
            if (t === se["v"].SWAP) return Ub["FlowActionType"].SwipTo;
            if (t === se["v"].NAVIGATE) return Ub["FlowActionType"].NavigateTo;
            if (t === se["v"].OVERLAY) return Ub["FlowActionType"].OpenOverlay;
            if (t === se["v"].SWAP_OVERLAY)
              return Ub["FlowActionType"].SwapOverlay;
          }
          return e === se["a"].CLOSE ? Ub["FlowActionType"].CloseOverlay : -1;
        },
        jv = new Map([
          [se["f"].NONE, "无"],
          [se["f"].SQUARE, "突出"],
          [se["f"].ROUND, "胶囊"],
        ]);
      let Mv = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.tab = "mark"),
            (this.exportList = []),
            (this.exportAll = !1),
            (this.exportItem = {}),
            (this.layerIcon = p["p"]),
            (this.exportResults = []),
            (this.fontManager = Vb["a"]),
            (this.text = ""),
            (this.pixelRatio = 1),
            (this.copyContent = ""),
            (this.FREAM_CODE_TYPE_LIST = [
              {
                value: "css",
                label: "Web",
              },
              {
                value: "ios",
                label: "iOS",
              },
              {
                value: "android",
                label: "Android",
                divid: !0,
              },
              {
                value: 0.5,
                label: "0.5x",
              },
              {
                value: 1,
                label: "1x",
              },
              {
                value: 2,
                label: "2x",
              },
            ]),
            (this.FREAM_COLOR_TYPE_LIST = [
              {
                value: Z["a"].HEX,
                label: "HEX",
              },
              {
                value: Z["a"].RGBA,
                label: "RGB",
              },
              {
                value: Z["a"].HSLA,
                label: "HSLA",
              },
              {
                value: Z["a"].HSBA,
                label: "HSBA",
              },
              {
                value: Z["a"].SCSS,
                label: "SCSS",
              },
              {
                value: Z["a"].AHEX,
                label: "AHEX",
              },
            ]),
            (this.codeTypeMap = {
              css: {
                language: "css",
                codeGenerator: zb["b"],
                unit: "px",
                selectorLabel: "Web",
              },
              android: {
                language: "xml",
                codeGenerator: zb["a"],
                unit: "dp",
                selectorLabel: "Android",
              },
              ios: {
                language: "swift",
                codeGenerator: zb["c"],
                unit: "pt",
                selectorLabel: "iOS",
              },
            }),
            (this.codeType = "css"),
            (this.colorType = Z["a"].HEX),
            (this.alignList = ["左对齐", "右对齐", "居中对齐", "两边对齐"]),
            (this.alignHorizontal = ["左对齐", "右对齐", "居中对齐"]),
            (this.alignVertical = ["顶对齐", "居中对齐", "底对齐"]),
            (this.cssAlign = ["", "right", "center", "justify"]),
            (this.strokeList = ["中心描边", "内描边", "外描边"]),
            (this.effectList = ["内阴影", "外阴影", "高斯模糊", "背景模糊"]),
            (this.blendTypeList = Object(Ub["LAYER_BLENDTYPE_LIST"])().reduce(
              (e, t) => (
                (e[t.value] = {
                  title: t.label,
                }),
                e
              ),
              {}
            )),
            (this.isSend = !1),
            (this.isShowExportAllDialog = !1),
            (this.decodePageName = Z["x"]),
            (this.preSelectDom = null);
        }
        mounted() {
          this.codeChooseLog();
        }
        get toolTips() {
          return this.currentComponent.isExternal
            ? "跳转到团队库组件"
            : this.currentComponent.isHidden
            ? "组件丢失"
            : "跳转到组件";
        }
        get instanceDisabled() {
          return (
            !this.currentComponent.isExternal && this.currentComponent.isHidden
          );
        }
        get selectingName() {
          var e, t;
          if (this.isMultiSelecting) return "已选择多个图层";
          if (this.isComponentStatus) {
            const i = this.selectBasic.layerId,
              s =
                null === (e = this.component.componentMap[i]) || void 0 === e
                  ? void 0
                  : e.parentId;
            return null === (t = this.component.componentMap[s]) || void 0 === t
              ? void 0
              : t.name;
          }
          if (!this.selectBasic) return "";
          const i = this.selectBasic;
          return i.name;
        }
        get isSelectingGroup() {
          var e;
          return (
            9 ===
            (null === (e = this.selectBasic) || void 0 === e ? void 0 : e.type)
          );
        }
        get routerInfo() {
          return this.getDescription;
        }
        get isStatus() {
          return this.component.componentStatus.length > 0;
        }
        get isComponent() {
          return this.selectBasic.isComponent;
        }
        get isComponentStatus() {
          return this.isStatus && this.isComponent;
        }
        get isComponentInstance() {
          return this.selectBasic.isInstance;
        }
        get isComponentInstanceStatus() {
          return this.isComponentInstance && this.isStatus;
        }
        get isComponentSet() {
          return this.selectBasic.isComponentSet;
        }
        get isShowComponentDesc() {
          const e = 1 === this.selectIds.length,
            t = null != this.routerInfo && "" !== this.routerInfo;
          return t && e;
        }
        get isPartOfComponentSet() {
          var e;
          return (
            1 === this.selectIds.length &&
            !!(null === (e = Object(j["d"])()[this.selectIds]) || void 0 === e
              ? void 0
              : e.isPartOfComponentSet)
          );
        }
        getSelectData() {
          const e = this.selectIds.length,
            t = [];
          if (this.isMultiSelecting)
            for (let i = 0; i < e && i < 10; i++)
              t.push(
                this.formatData(Ct["b"].getLayerPropertyById(this.selectIds[i]))
              );
          else t.push(this.selectBasic);
          return t;
        }
        get codeString() {
          const e = this.getSelectData();
          let t = "";
          return (
            e.forEach((e, i) => {
              var s, o, a, n, r;
              const c = Ct["b"].Module.getParentId(e.layerId);
              let l,
                d = e;
              if (
                ((null === (s = this.variantProperties) || void 0 === s
                  ? void 0
                  : s.length) &&
                  this.isComponentStatus &&
                  (d = Object.assign(Object.assign({}, d), {
                    name: this.variantProperties
                      .map((e) => e.property + " = " + e.value)
                      .join(", "),
                  })),
                this.isShowComponentDesc &&
                  (d = Object.assign(Object.assign({}, d), {
                    description: this.routerInfo,
                  })),
                c)
              ) {
                const t = Object(j["d"])()[c],
                  i = (
                    null !==
                      (o = null === t || void 0 === t ? void 0 : t.children) &&
                    void 0 !== o
                      ? o
                      : []
                  ).indexOf(e.layerId);
                (l = Ct["b"].getLayerPropertyById(c)),
                  (d = Object.assign(Object.assign({}, d), {
                    order: i,
                    parentChildrenLen: (null !==
                      (a = null === t || void 0 === t ? void 0 : t.children) &&
                    void 0 !== a
                      ? a
                      : []
                    ).length,
                    parentItemSpacing:
                      null !==
                        (n =
                          null === l || void 0 === l
                            ? void 0
                            : l.itemSpacing) && void 0 !== n
                        ? n
                        : 0,
                    parentItemReverseZIndex:
                      null !==
                        (r =
                          null === l || void 0 === l
                            ? void 0
                            : l.itemReverseZIndex) &&
                      void 0 !== r &&
                      r,
                  }));
              }
              const u = this.codeTypeMap[this.codeType].codeGenerator.emit(d, {
                pixelRatio: this.pixelRatio,
                font: this.isMultiSelecting
                  ? this.getFont(d)
                  : this.font || this.getFont(d),
                style: this.style,
                parentId: c,
                parentProperty: l,
                documentId: this.documentId,
                description: this.routerInfo,
              });
              t += 0 === i ? u : "\n\n" + u;
            }),
            this.setCodeMaskLayer(),
            t
          );
        }
        get observeData() {
          const {
              paintStyle: e,
              textStyle: t,
              paints: i,
            } = this.inspectCollection,
            s = Ct["b"].getLayerPrototype(),
            o = [
              this.buildComponentStatus(),
              this.buildLayerData(),
              this.buildTextContentData(),
              this.buildFontData(t),
              this.buildColorData(e, i),
              ...this.buildStrokDataList(e),
              ...this.buildEffectData(),
              this.interactionData(s.data.interactions),
            ].filter((e) => null != e);
          return o;
        }
        setCodeMaskLayer() {
          this.$nextTick(() => {
            var e, t;
            const i = document.querySelector("#codeMaskLayer");
            i.innerHTML = "";
            const s = document.querySelector("#code-box code"),
              o = Array.from(s.childNodes);
            let a = [],
              n = "";
            const r =
              (null ===
                (t =
                  null === (e = document.querySelector("#code-box")) ||
                  void 0 === e
                    ? void 0
                    : e.getBoundingClientRect()) || void 0 === t
                ? void 0
                : t.top) || 0;
            let c = o;
            "xml" === this.language &&
              (c = o.filter(
                (e) =>
                  "token comment" === e.className || "token tag" === e.className
              ));
            const l = c.length;
            for (let d = 0; d < l; d++) {
              const e = c[d];
              let t = "";
              if (
                ("#text" === e.nodeName.toLowerCase()
                  ? (t = e.data)
                  : "span" === e.nodeName.toLowerCase() && (t = e.innerText),
                (n += t),
                a.push(e),
                "token comment" === e.className ||
                  "token tag" === e.className ||
                  ";" === t.trim())
              ) {
                const t = document.createElement("div"),
                  s = a.find((e) => "span" === e.nodeName.toLowerCase()),
                  o = (null === s || void 0 === s
                    ? void 0
                    : s.getBoundingClientRect()) || {
                    top: 0,
                  },
                  c = (null === e || void 0 === e
                    ? void 0
                    : e.getBoundingClientRect()) || {
                    height: 0,
                  };
                (t.style.position = "absolute"),
                  (t.style.top = o.top - r - 2 + "px"),
                  (t.style.left = "0"),
                  (t.style.width = "100%"),
                  (t.style.height = c.top + c.height - o.top + 5 + "px"),
                  (t.style.background = "transparent"),
                  (t.dataset.content = n),
                  (n = ""),
                  i.appendChild(t),
                  (a = []);
              }
            }
          });
        }
        handleMouseUp(e) {
          const t = window.getSelection(),
            i = t.toString();
          if ((this.initPreDom(), i))
            return (
              t.addRange(t.getRangeAt(0)),
              document.execCommand("Copy"),
              void this.copyLog()
            );
          const { pageY: s } = e,
            o = document.querySelector("#codeMaskLayer"),
            a = Array.from(o.childNodes).filter(
              (e) => "div" === e.nodeName.toLowerCase()
            );
          for (let n = 0; n < a.length; n++) {
            const e = a[n];
            if (!e) return;
            const t = (null === e || void 0 === e
                ? void 0
                : e.getBoundingClientRect()) || {
                height: 0,
              },
              { top: i, height: o } = t,
              r = o + i;
            s >= i && s <= r
              ? ((this.preSelectDom = e),
                (e.style.backgroundColor = "rgba(68, 110, 243, 0.2)"),
                this.copyAll(e.dataset.content.trim()))
              : (e.style.background = "transparent");
          }
        }
        initPreDom() {
          this.preSelectDom &&
            (this.preSelectDom.style.background = "transparent");
        }
        formatData(e) {
          if (!e) return {};
          const t = Object(Ia["c"])();
          return (
            Object.keys(t).forEach((i) => {
              e[i] || (e[i] = t[i]);
            }),
            e
          );
        }
        getFont(e) {
          var t;
          const i = Ct["b"].Module.getLayerDetail(e.layerId),
            { type: s } = i;
          if (25 !== s) return null;
          const o =
            null === (t = null === i || void 0 === i ? void 0 : i.blocks[0]) ||
            void 0 === t
              ? void 0
              : t.style;
          if (!o) return null;
          const { postscriptName: a } = o,
            { textAlignHorizontal: n, textAlignVertical: r } = o,
            c = Object(ab["a"])(a)[2];
          return Object.assign(Object.assign({}, o), {
            weight: c,
            textAlignHorizontal: n,
            textAlignVertical: r,
          });
        }
        beforeMount() {
          this.codeType = Cv;
        }
        copyText(e) {
          Object(Z["s"])(e);
        }
        fixNumber(e) {
          return +parseFloat(e).toFixed(2);
        }
        copyAll(e) {
          this.copyLog(), this.copyText(e);
        }
        copyLog() {
          d["a"].track(u["b"].COPY_CODERMESURE, {
            action_type: "code",
            code_type: this.language,
          });
        }
        codeChooseLog() {
          d["a"].track(u["b"].CODE_CHOOSE, {
            code_type: this.language,
            action_position: "canvas",
            action_parameter0: "inspect",
          });
        }
        checkCodeType(e) {
          return e.value === this.codeType || e.value === this.pixelRatio;
        }
        changeCodeType(e) {
          if ("string" === typeof e.value)
            return (
              (this.codeType = e.value),
              (Cv = this.codeType),
              void this.codeChooseLog()
            );
          this.pixelRatio = e.value;
        }
        getPixelSizeValue(e) {
          return null === e
            ? "多个值"
            : `${this.fixNumber(this.pixelRatio * e)}${
                this.codeTypeMap[this.codeType].unit
              }`;
        }
        handleLocate() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.instanceDisabled || (yield Object(p["e"])());
          });
        }
        buildComponentStatus() {
          if (!this.isComponentInstanceStatus && !this.isComponentStatus)
            return null;
          const e = {
            title: "组件状态",
            titleComponent: null,
            properties: this.variantProperties.map((e) => ({
              label: e.property,
              values: [
                {
                  label: "",
                  value: e.value,
                },
              ],
            })),
          };
          return e;
        }
        buildLayerData() {
          if (this.isMultiSelecting) return null;
          const {
              cornerRadius: e,
              rotation: t,
              blendMode: i,
              opacity: s,
              padding0: o,
              padding1: a,
              padding2: n,
              padding3: r,
              itemSpacing: c,
              mainAxisAlignItems: l,
            } = this.selectBasic,
            { x: d, y: u, width: h, height: p } = this.selectBasic.bound,
            m = "65px",
            g = [
              {
                label: "位置",
                values: [
                  {
                    label: "X",
                    value: this.getPixelSizeValue(d),
                    isOverflow: !0,
                    maxWidth: m,
                  },
                  {
                    label: "Y",
                    value: this.getPixelSizeValue(u),
                    isOverflow: !0,
                    maxWidth: m,
                  },
                ],
              },
              {
                label: "尺寸",
                values: [
                  {
                    label: "W",
                    value: this.getPixelSizeValue(h),
                    isOverflow: !0,
                    maxWidth: m,
                  },
                  {
                    label: "H",
                    value: this.getPixelSizeValue(p),
                    isOverflow: !0,
                    maxWidth: m,
                  },
                ],
              },
            ];
          if (
            (this.selectBasic.isAllAutoLayout &&
              (g.push({
                label: "边距",
                values: [
                  {
                    label: "",
                    value: `${this.getPixelSizeValue(
                      o
                    )}, ${this.getPixelSizeValue(a)}, ${this.getPixelSizeValue(
                      n
                    )}, ${this.getPixelSizeValue(r)}`,
                  },
                ],
              }),
              g.push({
                label: "间距",
                values: [
                  {
                    label: "",
                    value: this.getPixelSizeValue(c),
                  },
                ],
              })),
            l === ys["c"].SpacingBetween &&
              g.push({
                label: "对齐方式",
                values: [
                  {
                    label: "",
                    value: "分布式",
                  },
                ],
              }),
            e.length && null !== e[0])
          ) {
            const t = e.every((t) => t === e[0]);
            if (!t || 0 !== e[0]) {
              const i = {
                label: "圆角",
                values: [],
              };
              let s;
              (s = t
                ? [
                    {
                      label: "",
                      value: this.getPixelSizeValue(e[0]),
                    },
                  ]
                : e.map((e) => ({
                    label: "",
                    value: this.getPixelSizeValue(e),
                  }))),
                i.values.push(...s),
                g.push(i);
            }
          }
          this.fixNumber(t) &&
            g.push({
              label: "角度",
              values: [
                {
                  label: "",
                  value: this.fixNumber(t) + "deg",
                },
              ],
            }),
            1 !== s &&
              null !== s &&
              void 0 !== s &&
              g.push({
                label: "不透明度",
                values: [
                  {
                    label: "",
                    value: Math.round(100 * s) + "%",
                  },
                ],
              }),
            Number.isInteger(i) &&
              255 !== i &&
              g.push({
                label: "混合模式",
                values: [
                  {
                    label: "",
                    value: this.blendTypeList[i].title,
                  },
                ],
              }),
            this.selectBasic.isAllAutoLayout &&
              g.push({
                label: "",
                isAdjustVisualPanel: !0,
                valueType: "adjustVisualPanel",
                values: [
                  {
                    label: "",
                    value: "",
                  },
                ],
              });
          const b = {
            title: "图层",
            titleComponent: null,
            properties: g,
          };
          return b;
        }
        buildTextContentData() {
          if (this.isMultiSelecting) return null;
          if (25 !== this.selectBasic.type) return null;
          const { characters: e } = this.selectBasic,
            t = [
              {
                label: "",
                valueType: "text",
                values: [
                  {
                    label: "",
                    value: e,
                  },
                ],
              },
            ];
          return {
            title: "内容",
            titleComponent: null,
            properties: t,
          };
        }
        buildFontData(e) {
          if (0 === e.length) return null;
          const t = [],
            { textAlignHorizontal: i, textAlignVertical: s } =
              this.selectBasic.style;
          return (
            e.forEach((e) => {
              const {
                  fontFamily: o,
                  fontSize: a,
                  height: n,
                  letterSpacing: r,
                  letterSpacingUnit: c,
                  postscriptName: l,
                  name: d,
                } = e,
                u = [];
              if (
                (u.push(
                  {
                    label: "字体",
                    values: [
                      {
                        label: "",
                        value: o,
                      },
                    ],
                  },
                  {
                    label: "字重",
                    values: [
                      {
                        label: "",
                        value: Object(ab["a"])(l)[2],
                      },
                    ],
                  },
                  {
                    label: "字号",
                    values: [
                      {
                        label: "",
                        value: this.getPixelSizeValue(a),
                      },
                    ],
                  }
                ),
                "Auto" !== n)
              ) {
                const { isPercent: e, calculateValue: t } = Object(qb["a"])(n),
                  i = e ? (+t / 100) * +a : t;
                u.push({
                  label: "行高",
                  values: [
                    {
                      label: "",
                      value: this.getPixelSizeValue(parseFloat(i + "")),
                    },
                  ],
                });
              }
              r &&
                u.push({
                  label: "字距",
                  values: [
                    {
                      label: "",
                      value: c ? r + "px" : r + "%",
                    },
                  ],
                }),
                i &&
                  u.push({
                    label: "水平对齐",
                    values: [
                      {
                        label: "",
                        value: this.alignHorizontal[i],
                      },
                    ],
                  }),
                s &&
                  u.push({
                    label: "垂直对齐",
                    values: [
                      {
                        label: "",
                        value: this.alignVertical[s],
                      },
                    ],
                  }),
                t.push(u),
                d &&
                  u.unshift({
                    label: "应用样式",
                    icon: "FontStyleIcon",
                    valueType: "applicationStyle",
                    values: [
                      {
                        label: "",
                        value: d,
                        isOverflow: !0,
                        maxWidth: "120px",
                      },
                    ],
                  });
            }),
            {
              title: "文字",
              titleComponent: null,
              type: uv.font,
              limit: 2,
              properties: t,
            }
          );
        }
        getStyleById(e) {
          const t = `${this.documentId}+${e}`;
          return this.style.styleMap[t];
        }
        handleFillsData(e, t) {
          let i = [];
          return (
            e.forEach((e) => {
              var t, s;
              let o;
              (o = e.isTeamLib
                ? null === (t = this.style.usedStyleMap[e.ukey]) || void 0 === t
                  ? void 0
                  : t.paints
                : null === (s = this.getStyleById(e.styleId)) || void 0 === s
                ? void 0
                : s.paints),
                o && (i = i.concat(o));
            }),
            t.forEach((e) => {
              i.push(e.itemInstance);
            }),
            i
          );
        }
        buildFills() {
          const e = this.getSelectData(),
            t = [],
            i = [];
          return (
            e.forEach((e) => {
              const { fillStyleId: s, fills: o } = e;
              s && i.push(s),
                o.forEach(({ id: e }) => {
                  t.push(e);
                });
            }),
            {
              fillStyleIdArr: i,
              fillId: t,
            }
          );
        }
        handleColor(e) {
          return e.map((e) => {
            var t, i;
            let s, o;
            const a = {
              lable: "",
              value: null,
            };
            if (e.type === Sv.Pure)
              ([s, o] = ["纯色", "color"]), (a.value = Object(Z["r"])(e.color));
            else if (
              e.type === Sv.Gradient ||
              e.type === Sv.Radial ||
              e.type === Sv.Conic ||
              e.type === Sv.Diamond
            ) {
              [s, o] = [
                null === (t = Iv.get(e.type)) || void 0 === t
                  ? void 0
                  : t.title,
                null === (i = Iv.get(e.type)) || void 0 === i ? void 0 : i.key,
              ];
              const n = e.alpha;
              a.value = e.gradient.gradientStops.map((e) => {
                const t = Object(c["cloneDeep"])(e.color);
                return (t.alpha *= n), Object(Z["r"])(t);
              });
            } else e.type === Sv.Picture && ([s, o] = ["图片", null]);
            const n = [a];
            return {
              label: s,
              valueType: o,
              values: n,
            };
          });
        }
        buildColorData(e, t) {
          var i;
          let s = [],
            o = [];
          if (this.isMultiSelecting) {
            s = this.handleFillsData(e, t);
            const { fillStyleIdArr: i, fillId: a } = this.buildFills();
            (s = s.filter((e) => a.includes(e.id))),
              (o = e
                .map((e) => {
                  let t;
                  return (
                    (t = e.isTeamLib
                      ? this.style.usedStyleMap[e.ukey]
                      : this.getStyleById(e.styleId)),
                    t && i.includes(t.id) ? t : null
                  );
                })
                .filter((e) => e));
          } else s = this.selectBasic.fills;
          if (((s = s.filter((e) => e.isVisible)), !s.length)) return null;
          const a = this.handleColor(s);
          return (
            !this.isMultiSelecting &&
              this.fillStyle &&
              a.unshift({
                label: "应用样式",
                colorIcon: this.fillStyle,
                valueType: "applicationStyle",
                values: [
                  {
                    label: "",
                    value:
                      null === (i = this.fillStyle) || void 0 === i
                        ? void 0
                        : i.name,
                    isOverflow: !0,
                    maxWidth: "120px",
                  },
                ],
              }),
            this.isMultiSelecting &&
              o.forEach((e) => {
                a.unshift({
                  label: "应用样式",
                  colorIcon: e,
                  valueType: "applicationStyle",
                  values: [
                    {
                      label: "",
                      value: null === e || void 0 === e ? void 0 : e.name,
                      isOverflow: !0,
                      maxWidth: "120px",
                    },
                  ],
                });
              }),
            {
              title: "填充",
              titleComponent: "colorFormatSelector",
              type: uv.color,
              limit: 5,
              properties: a,
              test: this.fillStyle,
            }
          );
        }
        buildStrokDataList(e) {
          const t = this.getSelectData();
          return (t || [])
            .map((t) => t && this.buildStrokData(t, e))
            .filter((e) => e);
        }
        buildStrokData(e, t) {
          const {
              strokeWeight: i,
              strokeAlign: s,
              dashCap: o,
              strokeDashes: a,
              strokeWidth: n,
              strokes: r,
              strokeStyleId: c,
            } = e,
            l = r.filter((e) => e.isVisible);
          if (!l.length) return null;
          const d = n && Array.isArray(n) && 4 === n.length,
            u = d
              ? [n[0], n[3], n[2], n[1]].map((e) => ({
                  label: "",
                  value: this.getPixelSizeValue(e),
                }))
              : [
                  {
                    label: "",
                    value: this.getPixelSizeValue(i),
                  },
                ],
            h = [
              {
                label: "粗细",
                values: u,
              },
            ],
            [p] = t
              .map((e) => {
                let t;
                return (
                  (t = e.isTeamLib
                    ? this.style.usedStyleMap[e.ukey]
                    : this.getStyleById(e.styleId)),
                  t && c === t.id ? t : null
                );
              })
              .filter((e) => e);
          if (
            (p &&
              h.unshift({
                label: "应用样式",
                colorIcon: p,
                valueType: "applicationStyle",
                values: [
                  {
                    label: "",
                    value: null === p || void 0 === p ? void 0 : p.name,
                    isOverflow: !0,
                    maxWidth: "120px",
                  },
                ],
              }),
            h.push(...this.handleColor(l)),
            (null !== a && void 0 !== a ? a : []).length)
          ) {
            const e = 1 === a.length ? `${a[0]}, ${a[0]}` : a.join(", "),
              t = {
                label: "虚线",
                values: [
                  {
                    label: "",
                    value: e,
                  },
                ],
              };
            h.push(t);
          }
          const m = jv.get(o),
            g = {
              label: "风格",
              values: [
                {
                  label: "",
                  value: m || "无样式",
                },
              ],
            };
          return (
            h.push(g),
            {
              title: this.strokeList[s - 1] || "描边",
              titleComponent: "colorFormatSelector",
              properties: h,
            }
          );
        }
        actionCallback(e, t, i) {
          return () => {
            k["a"].mergeStepStart(),
              k["a"].layers.select([e || ""]),
              k["a"].viewPort.fixedToLayer(),
              k["a"].mergeStepEnd();
            const s = () => {
              k["a"].mergeStepStart(),
                k["a"].layers.select(i),
                k["a"].viewPort.fixedToLayer(),
                k["a"].mergeStepEnd();
            };
            this.$toast({
              content: t,
              buttonInfo: "返回",
              buttonHandle: s,
              timeout: 5e3,
              position: "bottom",
              type: "highlight",
            });
          };
        }
        interactionData(e) {
          if (!e || 0 === e.length) return null;
          const t = e.map((e) => {
              var t, i, s, o, a, n, r, c, l, d, u, h, p, m, g;
              const b = e.trigger.type,
                v = null === (t = e.action) || void 0 === t ? void 0 : t.type,
                f =
                  null === (i = e.action) || void 0 === i
                    ? void 0
                    : i.destinationId,
                y =
                  null === (s = e.action) || void 0 === s
                    ? void 0
                    : s.navigation,
                _ =
                  null !==
                    (n =
                      null ===
                        (a =
                          null === (o = e.action) || void 0 === o
                            ? void 0
                            : o.transition) || void 0 === a
                        ? void 0
                        : a.direction) && void 0 !== n
                    ? n
                    : -1,
                C =
                  null !==
                    (l =
                      null ===
                        (c =
                          null === (r = e.action) || void 0 === r
                            ? void 0
                            : r.transition) || void 0 === c
                        ? void 0
                        : c.type) && void 0 !== l
                    ? l
                    : -1,
                S = e.trigger.delay,
                I =
                  null !==
                    (h =
                      null ===
                        (u =
                          null === (d = e.action) || void 0 === d
                            ? void 0
                            : d.transition) || void 0 === u
                        ? void 0
                        : u.easing.type) && void 0 !== h
                    ? h
                    : -1,
                O = kv.get(Tv(v, y)),
                k = Av.has(C) ? `${Lv.get(_)}${wv.get(C)}` : wv.get(C),
                w = xv.get(I),
                x = [],
                L = {
                  label: Ov.get(b),
                  type: "subtitle",
                  values: [
                    {
                      label: "",
                      value: "",
                    },
                  ],
                };
              if ((x.push(L), S)) {
                const e = {
                  label: "延时",
                  values: [
                    {
                      value: S + "ms",
                    },
                  ],
                };
                x.push(e);
              }
              if ("无" !== O && "关闭浮层" !== O && f) {
                const e = {
                  label: O,
                  values: [
                    {
                      type: "link",
                      callback: this.actionCallback(f, this.layerName, [
                        ...this.selectIds,
                      ]),
                      value: Ct["b"].getLayerPropertyById(f).name,
                    },
                  ],
                };
                x.push(e);
              } else if (
                "打开链接" === O &&
                (null === (p = e.action) || void 0 === p ? void 0 : p.url)
              ) {
                const t = {
                  label: O,
                  values: [
                    {
                      type: "link",
                      url: e.action.url,
                      value: "打开链接",
                    },
                  ],
                };
                x.push(t);
              } else {
                const e = {
                  label: O,
                  values: [
                    {
                      type: "disable",
                      value: "未设置",
                    },
                  ],
                };
                x.push(e);
              }
              const A = {
                label: "动画",
                values: [
                  {
                    value: k,
                  },
                ],
              };
              if ((x.push(A), C !== se["M"].INSTANT)) {
                const t = {
                  label: "效果",
                  values: [
                    {
                      value: w,
                    },
                  ],
                };
                x.push(t);
                const i = {
                  label: "持续时间",
                  values: [
                    {
                      value:
                        (null ===
                          (g =
                            null === (m = e.action) || void 0 === m
                              ? void 0
                              : m.transition) || void 0 === g
                          ? void 0
                          : g.duration) + "ms",
                    },
                  ],
                };
                x.push(i);
              }
              return x;
            }),
            i = {
              title: "交互",
              type: uv.interact,
              properties: t,
            };
          return i;
        }
        buildEffectData() {
          const e = this.selectBasic.effects.filter((e) => e.isVisible);
          return e.map((e) => {
            var t, i;
            const s = [],
              o = {
                label: "应用样式",
                icon: "ShadowIcon",
                valueType: "applicationStyle",
                values: [
                  {
                    label: "",
                    value:
                      null === (t = this.effectStyle) || void 0 === t
                        ? void 0
                        : t.name,
                    isOverflow: !0,
                    maxWidth: "120px",
                  },
                ],
              };
            return (
              (null === (i = this.effectStyle) || void 0 === i
                ? void 0
                : i.name) && s.push(o),
              e.type === se["j"].LAYER_BLUR ||
              e.type === se["j"].BACKGROUND_BLUR
                ? s.push({
                    label: "模糊值",
                    values: [
                      {
                        label: "",
                        value: this.getPixelSizeValue(e.radius),
                      },
                    ],
                  })
                : s.push(
                    {
                      label: "距离",
                      values: [
                        {
                          label: "X",
                          value: this.getPixelSizeValue(e.x),
                        },
                        {
                          label: "Y",
                          value: this.getPixelSizeValue(e.y),
                        },
                      ],
                    },
                    {
                      label: "半径",
                      values: [
                        {
                          label: "",
                          value: this.getPixelSizeValue(e.radius),
                        },
                      ],
                    },
                    {
                      label: "颜色",
                      valueType: "color",
                      values: [
                        {
                          value: Object(Z["r"])(e.color),
                        },
                      ],
                    }
                  ),
              {
                title: this.effectList[e.type],
                titleComponent: "colorFormatSelector",
                properties: s,
              }
            );
          });
        }
        exportAllHandler() {
          this.$eventBus.$emit("toggleExportAllDialog", !0),
            d["a"].track(u["b"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "inspect",
              action_parameter1: "export_item",
              action_detail: "view_allslices",
            });
        }
      };
      Mv = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterButtonIcon: Mi["a"],
              LabelCopy: $b,
              ExportPlugin: is,
              MasterSelector: Pe["e"],
              colorInfo: ev,
              VuePrism: wb["a"],
              MasterMenu: Pe["d"],
              ObserveItem: _v,
              newscroll: St["a"],
              CopyTip: Bb,
              ExportDialog: X,
              MasterToolButton: Go["a"],
            },
            computed: Object.assign(
              Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        {},
                        Object(r["e"])({
                          selectBasic: (e) => e.basicProps.item,
                          selectIds: (e) => e.basicState.selectIds,
                          layerName: (e) => e.basicProps.item.name,
                          isSelect: (e) => e.basicState.isSelect,
                          variantProperties: (e) =>
                            e.component.variantProperties,
                          component: (e) => e.component,
                          fontMap: (e) => e.resources.fontMap,
                          style: (e) => e.style,
                          actionList: (e) => e.prototype.actionList,
                          documentId: (e) => {
                            var t;
                            return null === (t = e.app.currentDocument) ||
                              void 0 === t
                              ? void 0
                              : t.id;
                          },
                        })
                      ),
                      Object(r["c"])("pages", ["currentPage"])
                    ),
                    Object(r["c"])("style", [
                      "fillStyle",
                      "strokeStyle",
                      "effectStyle",
                      "textStyle",
                    ])
                  ),
                  Object(r["c"])("basicProps", ["getDescription"])
                ),
                Object(r["c"])("basicProps", ["currentComponent"])
              ),
              {
                inspectCollection() {
                  return this.selectIds.length
                    ? Ct["b"].Module.getInspectCollection()
                    : {};
                },
                font() {
                  const { type: e } = this.selectBasic;
                  if (25 !== e) return null;
                  const t = this.inspectCollection.textStyle[0];
                  if (!t) return null;
                  const { postscriptName: i } = t,
                    { textAlignHorizontal: s, textAlignVertical: o } =
                      this.selectBasic.style,
                    a = Object(ab["a"])(i)[2],
                    n = Object.assign(Object.assign({}, t), {
                      weight: a,
                      textAlignHorizontal: s,
                      textAlignVertical: o,
                    });
                  return n;
                },
                isMultiSelecting() {
                  var e;
                  return (
                    (null === (e = this.selectIds) || void 0 === e
                      ? void 0
                      : e.length) > 1
                  );
                },
                language() {
                  return this.codeTypeMap[this.codeType].language;
                },
              }
            ),
          }),
        ],
        Mv
      );
      var Ev = Mv,
        Pv = Ev,
        Dv =
          (i("d54c"), Object(_["a"])(Pv, Ob, kb, !1, null, "23533048", null)),
        Bv = Dv.exports,
        Nv = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right_container",
            },
            [
              i(
                "div",
                {
                  staticClass: "version-bar__top",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "version-bar__title",
                    },
                    [e._v("历史版本")]
                  ),
                  i(
                    "master-dropdown",
                    {
                      on: {
                        command: e.filterChange,
                      },
                    },
                    [
                      i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "筛选",
                            expression: "'筛选'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          slot: "dropButton",
                          icon: "FilterIcon",
                        },
                        slot: "dropButton",
                      }),
                      i("master-menu", {
                        attrs: {
                          slot: "dropMenu",
                          list: e.filterList,
                          getChecked: e.getChecked,
                        },
                        slot: "dropMenu",
                      }),
                    ],
                    1
                  ),
                  e.disableUpdateLayer
                    ? e._e()
                    : i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "添加到历史版本",
                            expression: "'添加到历史版本'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        staticClass: "version-bar__add",
                        attrs: {
                          icon: "PlusIcon",
                        },
                        on: {
                          click: e.addHistory,
                        },
                      }),
                  i("MasterButtonIcon", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: "关闭",
                        expression: "'关闭'",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    staticClass: "rightbar__gobackbtn",
                    attrs: {
                      icon: "TimesIcon",
                    },
                    nativeOn: {
                      click: function (t) {
                        return e.goBackClose(t);
                      },
                    },
                  }),
                ],
                1
              ),
              i("AddVersion", {
                ref: "AddVersion",
                on: {
                  addSuccess: e.addLoadList,
                  editSuccess: e.onEditorSuccess,
                },
              }),
              e.loading
                ? i("div", {
                    staticClass: "version-bar__loading",
                  })
                : [
                    e.list.length
                      ? e._e()
                      : i(
                          "div",
                          {
                            staticClass: "version-bar__hotKeyTip",
                          },
                          [e._v(e._s(e.hotKeyStr))]
                        ),
                    i(
                      "div",
                      {
                        staticClass: "version-bar__con",
                      },
                      [
                        i("VersionItem", {
                          attrs: {
                            item: Object.assign({}, e.userInfo, {
                              id: -1,
                              fromNow: "现在",
                              desc: "当前版本",
                            }),
                            version: e.version,
                          },
                          on: {
                            changeVersion: e.changeVersion,
                            moreClickHandler: e.moreClickHandler,
                          },
                        }),
                        e._l(e.list, function (t, s) {
                          return [
                            t.isAutoGroup
                              ? [
                                  1 === t.children.length
                                    ? i("VersionItem", {
                                        key: t.children[0].id,
                                        attrs: {
                                          item: t.children[0],
                                          version: e.version,
                                          type:
                                            1 === t.children[0].saveType
                                              ? "auto"
                                              : "manual",
                                        },
                                        on: {
                                          changeVersion: e.changeVersion,
                                          moreClickHandler: e.moreClickHandler,
                                        },
                                      })
                                    : [
                                        i(
                                          "div",
                                          {
                                            key: s,
                                            staticClass: "version-bar__box",
                                            on: {
                                              click: function (e) {
                                                t.open = !t.open;
                                              },
                                            },
                                          },
                                          [
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "version-bar__line",
                                              },
                                              [
                                                i("div", {
                                                  staticClass:
                                                    "version-bar__line__top",
                                                }),
                                                i("div", {
                                                  staticClass:
                                                    "version-bar__line__ball",
                                                }),
                                                i("div", {
                                                  staticClass:
                                                    "version-bar__line__bottom",
                                                }),
                                              ]
                                            ),
                                            i(
                                              "div",
                                              {
                                                staticClass:
                                                  "version-bar__item",
                                              },
                                              [
                                                e._v(" 自动保存 "),
                                                i("CaretDownIcon", {
                                                  staticClass: "svg-icon",
                                                  attrs: {
                                                    rotate: t.open
                                                      ? "0"
                                                      : "-90",
                                                    size: "14",
                                                  },
                                                }),
                                              ],
                                              1
                                            ),
                                          ]
                                        ),
                                        t.open
                                          ? e._l(t.children, function (t) {
                                              return i("VersionItem", {
                                                key: t.id,
                                                attrs: {
                                                  inGroup: !0,
                                                  item: t,
                                                  version: e.version,
                                                  type:
                                                    1 === t.saveType
                                                      ? "auto"
                                                      : "manual",
                                                },
                                                on: {
                                                  changeVersion:
                                                    e.changeVersion,
                                                  moreClickHandler:
                                                    e.moreClickHandler,
                                                },
                                              });
                                            })
                                          : e._e(),
                                      ],
                                ]
                              : i("VersionItem", {
                                  key: t.id,
                                  attrs: {
                                    item: t,
                                    version: e.version,
                                    type: 1 === t.saveType ? "auto" : "manual",
                                  },
                                  on: {
                                    changeVersion: e.changeVersion,
                                    moreClickHandler: e.moreClickHandler,
                                  },
                                }),
                          ];
                        }),
                        e.offset
                          ? i(
                              "div",
                              {
                                staticClass: "collapse",
                                on: {
                                  click: e.loadList,
                                },
                              },
                              [e._v("展开更多")]
                            )
                          : e._e(),
                      ],
                      2
                    ),
                  ],
            ],
            2
          );
        },
        Fv = [],
        Rv = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "mas-avator",
            },
            [
              i(
                "div",
                {
                  staticClass: "avatar",
                },
                [
                  e.user.avatar
                    ? i("img", {
                        staticClass: "custom_avatar",
                        attrs: {
                          src: e.user.avatar,
                        },
                      })
                    : i(
                        "div",
                        {
                          class: e.user.avatar ? "" : "default_avatar h6",
                        },
                        [i("span", [e._v(e._s(e.name))])]
                      ),
                ]
              ),
            ]
          );
        },
        Hv = [];
      let $v = class extends n["g"] {
        get name() {
          const e = this.user.name;
          return Object(Z["X"])(e)
            ? e.length > 2
              ? e.slice(1, 3)
              : e.slice(1, 2)
            : "+" === e[0]
            ? e
            : e.slice(0, 1).toUpperCase();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            default: () => {},
            required: !0,
          }),
        ],
        $v.prototype,
        "user",
        void 0
      ),
        ($v = Object(a["__decorate"])([n["a"]], $v));
      var Vv = $v,
        zv = Vv,
        Uv =
          (i("12b3"), Object(_["a"])(zv, Rv, Hv, !1, null, "1ea88d53", null)),
        qv = Uv.exports,
        Wv = i("5a0c"),
        Gv = i.n(Wv),
        Kv = i("4208"),
        Qv = i.n(Kv),
        Yv =
          (i("a471"),
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "version-bar__box hover--bg-tran-6",
                class: {
                  active: e.version === e.item.id,
                  "version-bar__box--ingroup": e.inGroup,
                },
              },
              [
                e._m(0),
                i(
                  "div",
                  {
                    staticClass: "version-bar__item",
                    on: {
                      click: function (t) {
                        return e.changeVersion(e.item.id);
                      },
                    },
                  },
                  [
                    i(
                      "div",
                      {
                        staticClass: "top",
                      },
                      [
                        -1 === e.item.id
                          ? [e._v("当前版本")]
                          : 1 === e.item.saveType
                          ? [e._v(e._s(e.item.timeStr))]
                          : [e._v(e._s(e.item.name))],
                      ],
                      2
                    ),
                    -1 !== e.item.id
                      ? [
                          i(
                            "div",
                            {
                              staticClass: "bottom",
                            },
                            [
                              i(
                                "div",
                                {
                                  ref: "ellipsis",
                                  staticClass: "ellipsis version__desc",
                                  class: {
                                    show: !e.show,
                                  },
                                },
                                [e._v(e._s(e.item.desc) + " ")]
                              ),
                              i(
                                "div",
                                {
                                  ref: "normal",
                                  staticClass: "version__desc",
                                  class: {
                                    show: e.show,
                                  },
                                },
                                [e._v(e._s(e.item.desc) + " ")]
                              ),
                            ]
                          ),
                          e.canShow
                            ? i(
                                "div",
                                {
                                  staticClass: "collapse",
                                  on: {
                                    click: function (t) {
                                      e.show = !e.show;
                                    },
                                  },
                                },
                                [e._v(e._s(e.show ? "收起" : "展开更多"))]
                              )
                            : e._e(),
                          e.item.operators && e.item.operators.length
                            ? [
                                e.operatorsShowMore ||
                                e.item.operators.length <= e.operatorsShowNum
                                  ? e._l(e.item.operators, function (t) {
                                      return i(
                                        "div",
                                        {
                                          key: t.userId,
                                          staticClass: "man",
                                        },
                                        [
                                          i("Portrait", {
                                            staticClass: "portrait",
                                            attrs: {
                                              info: t,
                                              size: "small",
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              staticClass: "man__name",
                                            },
                                            [e._v(e._s(t.name))]
                                          ),
                                        ],
                                        1
                                      );
                                    })
                                  : e._l(e.operatorsShowNumArr, function (t) {
                                      return i(
                                        "div",
                                        {
                                          key: e.item.operators[t].userId,
                                          staticClass: "man",
                                        },
                                        [
                                          i("Portrait", {
                                            staticClass: "portrait",
                                            attrs: {
                                              info: e.item.operators[t],
                                              size: "small",
                                            },
                                          }),
                                          i(
                                            "div",
                                            {
                                              staticClass: "man__name",
                                            },
                                            [
                                              e._v(
                                                e._s(e.item.operators[t].name)
                                              ),
                                            ]
                                          ),
                                        ],
                                        1
                                      );
                                    }),
                              ]
                            : 2 === e.item.saveType && e.item.updateUserName
                            ? i(
                                "div",
                                {
                                  staticClass: "man",
                                },
                                [
                                  i("Portrait", {
                                    staticClass: "portrait",
                                    attrs: {
                                      info: {
                                        name: e.item.updateUserName,
                                        avatar: e.item.updateUserAvatar,
                                      },
                                      size: "small",
                                    },
                                  }),
                                  i(
                                    "div",
                                    {
                                      staticClass: "man__name",
                                    },
                                    [e._v(e._s(e.item.updateUserName))]
                                  ),
                                ],
                                1
                              )
                            : e._e(),
                          e.item.operators &&
                          e.item.operators.length > e.operatorsShowNum
                            ? i(
                                "div",
                                {
                                  staticClass: "collapse",
                                  on: {
                                    click: function (t) {
                                      e.operatorsShowMore =
                                        !e.operatorsShowMore;
                                    },
                                  },
                                },
                                [
                                  e._v(
                                    e._s(
                                      e.operatorsShowMore ? "收起" : "展开更多"
                                    )
                                  ),
                                ]
                              )
                            : e._e(),
                          2 === e.item.saveType
                            ? i(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: e.item.timeStr,
                                      expression: "item.timeStr",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  staticClass: "manual-time",
                                },
                                [e._v(e._s(e.item.timeDistanceStr))]
                              )
                            : e._e(),
                        ]
                      : e._e(),
                  ],
                  2
                ),
                i(
                  "div",
                  {
                    staticClass: "version-bar__more",
                  },
                  [
                    ~e.item.id
                      ? i("VersionMore", {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: "更多",
                              expression: "'更多'",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "version-bar__more--options",
                          attrs: {
                            item: e.item,
                          },
                          on: {
                            change: function (t) {
                              return e.moreClickHandler(t, e.item, e.type);
                            },
                          },
                        })
                      : e._e(),
                  ],
                  1
                ),
              ]
            );
          }),
        Xv = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "version-bar__line",
              },
              [
                i("div", {
                  staticClass: "version-bar__line__top",
                }),
                i("div", {
                  staticClass: "version-bar__line__ball",
                }),
                i("div", {
                  staticClass: "version-bar__line__bottom",
                }),
              ]
            );
          },
        ],
        Zv = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            [
              i(
                "master-dropdown",
                {
                  on: {
                    command: e.changeCurrent,
                  },
                },
                [
                  i("MasterButtonIcon", {
                    attrs: {
                      slot: "dropButton",
                      icon: "EllipsisHIcon",
                    },
                    slot: "dropButton",
                  }),
                  i("master-menu", {
                    attrs: {
                      slot: "dropMenu",
                      list: e.versionList,
                    },
                    slot: "dropMenu",
                  }),
                ],
                1
              ),
            ],
            1
          );
        },
        Jv = [];
      let ef = class extends n["g"] {
        get versionList() {
          const e = Pe["d"].dictionaries.VERSION_LIST();
          return (
            e.forEach((e) => {
              "editVersion" === e.value &&
                (1 === this.item.saveType
                  ? (e.label = "命名版本")
                  : (e.label = "重命名版本")),
                this.disableUpdateLayer
                  ? "copyVersion" === e.value && this.document.allowOnlookerCopy
                    ? (e.disabled = !1)
                    : (e.disabled = !0)
                  : (e.disabled = !1);
            }),
            e
          );
        }
        changeCurrent(e) {
          this.$emit("change", e.value);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
          }),
        ],
        ef.prototype,
        "item",
        void 0
      ),
        (ef = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterMenu: Pe["d"],
              },
              computed: Object(r["e"])(
                Object.assign(
                  {
                    document: (e) => e.app.currentDocument,
                  },
                  Object(r["c"])(["disableUpdateLayer"])
                )
              ),
            }),
          ],
          ef
        ));
      var tf = ef,
        sf = tf,
        of = Object(_["a"])(sf, Zv, Jv, !1, null, null, null),
        af = of.exports,
        nf = i("bbf1");
      let rf = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.show = !1),
            (this.canShow = !1),
            (this.operatorsShowMore = !1),
            (this.operatorsShowNum = 5);
        }
        get operatorsShowNumArr() {
          const e = [];
          let t;
          for (t = 0; t < this.operatorsShowNum; t++) e.push(t);
          return e;
        }
        descHandler() {
          this.$nextTick(() => {
            const e = this.$refs.ellipsis,
              t = this.$refs.normal;
            this.canShow = !(!e || !t) && e.offsetHeight !== t.offsetHeight;
          });
        }
        moreClickHandler(e, t, i) {
          this.$emit("moreClickHandler", e, t, i);
        }
        changeVersion(e) {
          this.$emit("changeVersion", e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            required: !1,
          }),
        ],
        rf.prototype,
        "inGroup",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          rf.prototype,
          "item",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          rf.prototype,
          "version",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !1,
            }),
          ],
          rf.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("item.desc", {
              immediate: !0,
            }),
          ],
          rf.prototype,
          "descHandler",
          null
        ),
        (rf = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Portrait: nf["a"],
                VersionMore: af,
              },
            }),
          ],
          rf
        ));
      var cf = rf,
        lf = cf,
        df =
          (i("68da"), Object(_["a"])(lf, Yv, Xv, !1, null, "34c0f6df", null)),
        uf = df.exports;
      Gv.a.locale("zh-cn"), Gv.a.extend(Qv.a);
      let hf = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.loading = !1),
            (this.version = -2),
            (this.manualCollose = !0),
            (this.autoCollose = !1),
            (this.manualMore = !1),
            (this.autoMore = !1),
            (this.manualList = []),
            (this.autoList = []),
            (this.oriList = []),
            (this.list = []),
            (this.filterList = [
              {
                label: "所有版本",
                value: "all",
                checked: !0,
              },
              {
                label: "我的版本",
                value: "my",
                divid: !0,
                checked: !1,
              },
              {
                label: "自动保存版本",
                value: "auto",
                checked: !0,
              },
            ]),
            (this.hotKeyStr = Object(Z["hb"])()
              ? "使用快捷键 ⌘ + ⌥ + S 添加到历史版本"
              : "使用快捷键 Ctrl + Alt + S 添加到历史版本"),
            (this.limit = 30);
        }
        getChecked(e) {
          return e.checked;
        }
        get documentId() {
          return this.$store.getters.document.id;
        }
        filterChange(e) {
          ("auto" !== e.value && e.checked) ||
            ("my" === e.value
              ? ((this.filterList[0].checked = !1),
                (this.filterList[1].checked = !0),
                d["a"].track(u["b"].EVENT_CLICK, {
                  action_position: "canvas",
                  action_parameter0: "history_version",
                  action_parameter1: "filter",
                  action_type: "filter_self",
                }))
              : "all" === e.value
              ? ((this.filterList[0].checked = !0),
                (this.filterList[1].checked = !1),
                d["a"].track(u["b"].EVENT_CLICK, {
                  action_position: "canvas",
                  action_parameter0: "history_version",
                  action_parameter1: "filter",
                  action_type: "filter_all",
                }))
              : "auto" === e.value &&
                ((this.filterList[2].checked = !this.filterList[2].checked),
                d["a"].track(u["b"].EVENT_CLICK, {
                  action_position: "canvas",
                  action_parameter0: "history_version",
                  action_parameter1: "filter",
                  action_type: "filter_auto",
                })),
            (this.offset = void 0),
            this.loadList());
        }
        mounted() {
          (this.currentPages = this.currentDocument),
            document.addEventListener("keydown", this.onkeydown),
            this.loadList(),
            this.$eventBus.$on("refreshHistoryVersion", this.addLoadList),
            this.changeVersion(-1);
        }
        beforeDestroy() {
          document.removeEventListener("keydown", this.onkeydown),
            this.$eventBus.$off("refreshHistoryVersion", this.addLoadList);
        }
        onkeydown(e) {
          (27 !== e.keyCode && 27 !== e.which) || this.goBack();
        }
        onEditorSuccess(e) {
          let t, i, s, o;
          for (t = 0; t < this.list.length; t++) {
            if (!this.list[t].isAutoGroup && this.list[t].id === e) return;
            if (this.list[t].isAutoGroup) {
              for (i = 0; i < this.list[t].children.length; i++)
                if (this.list[t].children[i].id === e) {
                  (s = t), (o = i);
                  break;
                }
              if (void 0 !== o) break;
            }
          }
          void 0 !== s &&
            void 0 !== o &&
            (0 === o
              ? (this.list.splice(s, 0, this.list[s].children.splice(o, 1)[0]),
                0 === this.list[s + 1].children.length
                  ? this.list.splice(s + 1, 1)
                  : (this.list[s + 1].open = !1))
              : o === this.list[s].children.length - 1
              ? (this.list.splice(
                  s + 1,
                  0,
                  this.list[s].children.splice(o, 1)[0]
                ),
                (this.list[s].open = !1))
              : (this.list.splice(
                  s + 1,
                  0,
                  this.list[s].children.splice(o, 1)[0]
                ),
                this.list.splice(s + 2, 0, {
                  isAutoGroup: !0,
                  open: !1,
                  children: this.list[s].children.splice(
                    o,
                    this.list[s].children.length - o
                  ),
                }),
                (this.list[s].open = !1),
                (this.list[s + 2].open = !1)));
        }
        addLoadList() {
          (this.offset = void 0), this.loadList();
        }
        loadList() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.offset ||
              ((this.list = []), (this.oriList = []), (this.loading = !0)),
              Object(ie["E"])("get", {
                documentId: this.documentId,
                offset: this.offset,
                limit: this.limit,
                collaborators: this.filterList[1].checked
                  ? this.userInfo.id
                  : void 0,
                noAutoSave: !this.filterList[2].checked || void 0,
              })
                .then((e) => {
                  const { data: t, meta: i } = e;
                  (this.offset = i.nextPos),
                    this.processList(t),
                    (this.loading = !1);
                })
                .catch((e) => {
                  (this.loading = !1), console.error(e);
                });
          });
        }
        processList(e) {
          if (!e) return;
          const t = Gv()().locale("en"),
            i = t.format("YYYY"),
            s = t.format("YYYYMD");
          e.forEach((e, t) => {
            e.name = e.name || "手动保存";
            const o = Gv()(e.createAt).locale("en"),
              a = o.format("YYYY"),
              n = o.format("YYYYMD");
            (e.timeStr = o.format(
              `${a !== i ? "YYYY年" : ""}${n !== s ? "M月D日 " : ""}HH:mm`
            )),
              (e.timeDistanceStr = Gv()(e.createAt)
                .subtract(10, "s")
                .fromNow()),
              1 === e.saveType
                ? (this.list.length &&
                  this.list[this.list.length - 1].isAutoGroup &&
                  0 === t
                    ? (this.list[this.list.length - 1].open = !0)
                    : (this.list.length &&
                        this.list[this.list.length - 1].isAutoGroup) ||
                      this.list.push({
                        isAutoGroup: !0,
                        children: [],
                        open: !1,
                      }),
                  this.list[this.list.length - 1].children.push(e))
                : this.list.push(e),
              this.oriList.push(e);
          });
        }
        changeVersion(e) {
          e !== this.version &&
            (-1 === e
              ? (this.changeDocument(this.currentPages), (this.version = -1))
              : Object(ie["E"])("get", {
                  documentId: this.documentId,
                  versionId: e,
                })
                  .then(({ data: t }) => {
                    this.toggleDisableWebsocket(!0),
                      this.changeDocument(t),
                      (this.version = e);
                  })
                  .catch((e) => {
                    console.error(e);
                  }));
        }
        deleteVersion(e) {
          Object(ie["E"])("delete", {
            documentId: this.documentId,
            versionId: e,
          })
            .then(() => {
              const t = this.oriList,
                i = t.findIndex((t) => t.id === e);
              ~i &&
                (t.splice(i, 1),
                (this.list = []),
                (this.oriList = []),
                this.processList(t),
                this.$toast({
                  content: "删除版本成功",
                  timeout: 3e3,
                  position: "top",
                }));
            })
            .catch((e) => {
              console.error(e),
                this.$toast({
                  content: "删除版本失败",
                  timeout: 3e3,
                  position: "top",
                });
            });
        }
        setVersion(e) {
          x["n"].setLog("INFO", "userAction", "restore file to version", {
            source: "history version",
            originalId: this.documentId,
            versionId: e,
          }),
            Object(ie["D"])({
              documentId: this.documentId,
              dvId: e,
            })
              .then(() => {
                this.$toast({
                  content: "已恢复至此版本，页面即将刷新",
                  timeout: 1e3,
                  position: "top",
                }),
                  setTimeout(() => {
                    Object(p["s"])("已恢复至此版本，页面即将刷新");
                  }, 1e3);
              })
              .catch((t) => {
                x["n"].setLog("INFO", "userAction", "restore file to version", {
                  source: "history version",
                  originalId: this.documentId,
                  versionId: e,
                  error: t.message,
                }),
                  this.$toast({
                    content: "恢复版本失败",
                    timeout: 1e3,
                    position: "top",
                  });
              });
        }
        moreClickHandler(e, t) {
          switch (e) {
            case "editVersion":
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "item_menu",
                action_type:
                  1 === t.saveType
                    ? "name_history_version"
                    : "rename_history_version",
              }),
                this.$refs.AddVersion.showAddVersion(t.id, t.desc, t);
              break;
            case "setVersion":
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "item_menu",
                action_type: "recover_history_version",
              }),
                this.setVersion(t.id);
              break;
            case "delVersion":
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "item_menu",
                action_type: "delete_history_version",
              }),
                this.deleteVersion(t.id);
              break;
            case "copyVersion":
              d["a"].track(u["b"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "history_version",
                action_parameter1: "item_menu",
                action_type: "create_replica_version",
              }),
                x["n"].setLog("INFO", "userAction", "create file copy", {
                  source: "history version",
                  originalId: this.documentId,
                  versionId: t.id,
                }),
                Object(ie["r"])(this.documentId, {
                  versionId: t.id,
                })
                  .then(({ data: e }) => {
                    this.$toast({
                      content: "创建副本成功",
                      timeout: 3e3,
                      position: "top",
                    });
                    const t = e.id,
                      i = this.$router.resolve({
                        path: "/file/" + t,
                      });
                    Object(Z["qb"])(i.href, "_blank");
                  })
                  .catch((e) => {
                    this.$toast({
                      content: "创建副本失败",
                      timeout: 3e3,
                      position: "top",
                    }),
                      x["n"].setLog("ERROR", "userAction", "create file copy", {
                        source: "history version",
                        originalId: this.documentId,
                        versionId: t.id,
                        error: e.message,
                      });
                  });
              break;
            default:
              break;
          }
        }
        goBackClose() {
          d["a"].track(u["b"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "history_version",
            action_parameter1: "close_btn",
            action_type: "close",
          }),
            this.goBack();
        }
        goBack() {
          this.setVersionType(0),
            this.toggleDisableWebsocket(!1),
            this.changeDocument();
        }
        addHistory() {
          d["a"].track(u["b"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "history_version",
            action_parameter1: "history_version_panel",
            action_parameter2: "add_history_version",
            action_type: "add",
          }),
            this.$refs.AddVersion.showAddVersion();
        }
      };
      hf = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              AddVersion: Td,
              Avator: qv,
              VersionItem: uf,
              MasterDialog: b["a"],
              MasterMenu: Pe["d"],
            },
            methods: Object.assign(
              Object.assign({}, Object(r["b"])("file", ["setVersionType"])),
              Object(r["b"])(["toggleDisableWebsocket"])
            ),
            computed: Object(r["e"])(
              Object.assign(
                {
                  userInfo: (e) => e.main.userInfo,
                  currentDocument: (e) => e.app.currentDocument,
                },
                Object(r["c"])(["disableUpdateLayer"])
              )
            ),
            inject: ["changeDocument", "IS_PRI"],
          }),
        ],
        hf
      );
      var pf = hf,
        mf = pf,
        gf =
          (i("75f3"), Object(_["a"])(mf, Nv, Fv, !1, null, "24571e52", null)),
        bf = gf.exports,
        vf = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "right__container--scroll",
            },
            [
              i(
                "newscroll",
                {
                  staticClass: "list_item",
                  attrs: {
                    type: "original",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "right__container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "prototype",
                        },
                        [
                          "prototypeSettings" === e.tab
                            ? i("PrototypeSettings")
                            : i("PrototypeProperties"),
                        ],
                        1
                      ),
                    ]
                  ),
                ]
              ),
            ],
            1
          );
        },
        ff = [],
        yf = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "prototype-settings",
            },
            [
              i(
                "div",
                {
                  staticClass: "prototype-settings__background panel-wrap",
                },
                [
                  i(
                    "div",
                    {
                      staticClass:
                        "prototype-settings__background__title mb-12",
                    },
                    [
                      e._v(" 演示背景色 "),
                      i("InfoColorIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.right",
                            value: {
                              content:
                                "<div class='prototype-settings__tips'>在演示原型时，展示在页面后的背景颜色</div>",
                            },
                            expression:
                              "{\n          content: `<div class='prototype-settings__tips'>在演示原型时，展示在页面后的背景颜色</div>`\n        }",
                            modifiers: {
                              right: !0,
                            },
                          },
                        ],
                        staticClass:
                          "prototype-settings__background__title__info",
                        attrs: {
                          size: "14",
                        },
                      }),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass:
                        "default__props--item prototype-settings__background__content",
                    },
                    [
                      i("ColorItem", {
                        staticClass:
                          "prototype-settings__background__content__info",
                        attrs: {
                          offset: "13",
                          data: {
                            color: e.deviceBackgroundColor,
                            type: 0,
                            isVisible: e.pagebkvisible,
                          },
                          title: "原型背景色",
                          showEye: !1,
                        },
                        on: {
                          change: e.prototypeBkChange,
                        },
                      }),
                      i("MasterButtonIcon", {
                        directives: [
                          {
                            name: "tip",
                            rawName: "v-tip.bottom",
                            value: "恢复为默认背景色",
                            expression: "'恢复为默认背景色'",
                            modifiers: {
                              bottom: !0,
                            },
                          },
                        ],
                        attrs: {
                          icon: "ReturnIcon",
                          focusable: "",
                        },
                        nativeOn: {
                          click: function (t) {
                            return e.resetBkColor(t);
                          },
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "prototype-settings__device panel-wrap",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "mb-12",
                    },
                    [e._v("设备模型")]
                  ),
                  i("MSelector", {
                    attrs: {
                      options: e.deviceList,
                      value: e.colorFormatDeviceId,
                      offset: -6,
                    },
                    on: {
                      change: e.deviceTypeChange,
                    },
                  }),
                  e.colorList
                    ? i("MSelector", {
                        staticClass: "prototype-settings__device__color",
                        attrs: {
                          options: e.colorList,
                          value: e.deviceId,
                          offset: -6,
                        },
                        on: {
                          change: e.colorDeviceTypeChange,
                        },
                      })
                    : e._e(),
                  e.showDeviceDirection
                    ? i("MasterFilter", {
                        staticClass: "prototype-settings__direction",
                        attrs: {
                          showLabel: !0,
                          list: e.deviceDirectionList,
                          current: e.deviceDirection,
                        },
                        on: {
                          changeVal: e.deviceDirectionChange,
                        },
                      })
                    : e._e(),
                  999 === e.deviceId
                    ? i(
                        "div",
                        {
                          staticClass: "prototype-settings__device__wh",
                        },
                        [
                          i("master-input", {
                            attrs: {
                              value: e.deviceWidth,
                              focusSelectAll: !0,
                              validate: e.validate.checkWH,
                              valueDecorator: e.valueDecorator.numDecorator,
                            },
                            on: {
                              change: e.changeDeviceWidth,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i("BasicLeftIcon", {
                                        attrs: {
                                          disabled: !1,
                                          masterIconName: "LabelWIcon",
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.changeDeviceWidth(
                                              e.deviceWidth + t,
                                              e.deviceWidth
                                            );
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              995959100
                            ),
                          }),
                          i("master-input", {
                            attrs: {
                              value: e.deviceHeight,
                              focusSelectAll: !0,
                              validate: e.validate.checkWH,
                              valueDecorator: e.valueDecorator.numDecorator,
                            },
                            on: {
                              change: e.changeDeviceHeight,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i("BasicLeftIcon", {
                                        attrs: {
                                          disabled: !1,
                                          masterIconName: "LabelHIcon",
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.changeDeviceHeight(
                                              e.deviceHeight + t,
                                              e.deviceHeight
                                            );
                                          },
                                        },
                                      }),
                                    ];
                                  },
                                  proxy: !0,
                                },
                              ],
                              null,
                              !1,
                              368021722
                            ),
                          }),
                        ],
                        1
                      )
                    : e._e(),
                ],
                1
              ),
              e.deviceId < 999
                ? i(
                    "div",
                    {
                      staticClass: "panel-wrap",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "mb-12",
                        },
                        [e._v("预览")]
                      ),
                      i(
                        "div",
                        {
                          staticClass: "prototype-settings__image",
                          style: {
                            backgroundColor: e.deviceBackgound,
                          },
                        },
                        [
                          i("div", {
                            style: {
                              backgroundImage: e.deviceUrl,
                              backgroundSize: e.deviceSize,
                              transform:
                                "rotate(" +
                                (e.currentDeviceDirection ? "-90deg" : "0") +
                                ") translateZ(0)",
                            },
                          }),
                        ]
                      ),
                    ]
                  )
                : e._e(),
              i(
                "div",
                {
                  ref: "flows",
                  staticClass: "prototype-settings__flows panel-wrap",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "mb-12",
                    },
                    [e._v("流程")]
                  ),
                  i("StyleTodoList", {
                    attrs: {
                      list: e.flows || [],
                      type: "flows",
                      simpleStyle: !0,
                      disabledSort: !1,
                    },
                    on: {
                      resort: e.resortFlows,
                    },
                    scopedSlots: e._u([
                      {
                        key: "default",
                        fn: function (t) {
                          return [
                            i(
                              "div",
                              {
                                key: t.data.index,
                                staticClass: "prototype-settings__flows__item",
                                on: {
                                  contextmenu: function (i) {
                                    return (
                                      i.preventDefault(),
                                      e.contextmenuHandler(i, t.data)
                                    );
                                  },
                                },
                              },
                              [
                                i(
                                  "div",
                                  {
                                    directives: [
                                      {
                                        name: "tip",
                                        rawName: "v-tip.bootom",
                                        value: "演示",
                                        expression: "'演示'",
                                        modifiers: {
                                          bootom: !0,
                                        },
                                      },
                                    ],
                                    staticClass:
                                      "prototype-settings__flows__item__icon",
                                    on: {
                                      click: function (i) {
                                        return e.goPrototypePreview(t.data);
                                      },
                                    },
                                  },
                                  [
                                    i("PlayIcon", {
                                      attrs: {
                                        size: "14",
                                      },
                                    }),
                                  ],
                                  1
                                ),
                                i(
                                  "div",
                                  {
                                    staticClass:
                                      "prototype-settings__flows__item__content",
                                    on: {
                                      dblclick: function (i) {
                                        return e.focusFlowName(i, t.data.id);
                                      },
                                    },
                                  },
                                  [
                                    i("master-input", {
                                      directives: [
                                        {
                                          name: "show",
                                          rawName: "v-show",
                                          value:
                                            e.editStatusFlowId === t.data.id,
                                          expression:
                                            "editStatusFlowId === scope.data.id",
                                        },
                                      ],
                                      ref: "input" + t.data.id,
                                      staticClass:
                                        "prototype-settings__flows__item__input",
                                      attrs: {
                                        focusSelectAll: !0,
                                        value: t.data.name,
                                      },
                                      on: {
                                        change: function (i) {
                                          return e.updateFlow(t.data, i);
                                        },
                                        blur: function (i) {
                                          return e.blurHandler(t.data);
                                        },
                                      },
                                    }),
                                    i(
                                      "div",
                                      {
                                        directives: [
                                          {
                                            name: "show",
                                            rawName: "v-show",
                                            value:
                                              e.editStatusFlowId !== t.data.id,
                                            expression:
                                              "editStatusFlowId !== scope.data.id",
                                          },
                                        ],
                                        staticClass:
                                          "prototype-settings__flows__item__content__name",
                                      },
                                      [e._v(" " + e._s(t.data.name) + " ")]
                                    ),
                                  ],
                                  1
                                ),
                                e.editStatusFlowId &&
                                e.editStatusFlowId === t.data.id
                                  ? e._e()
                                  : i(
                                      "div",
                                      {
                                        staticClass:
                                          "prototype-settings__flows__item__footer",
                                      },
                                      [
                                        i(
                                          "div",
                                          {
                                            directives: [
                                              {
                                                name: "tip",
                                                rawName: "v-tip.bootom",
                                                value: "定位起始页面",
                                                expression: "'定位起始页面'",
                                                modifiers: {
                                                  bootom: !0,
                                                },
                                              },
                                            ],
                                            staticClass:
                                              "prototype-settings__flows__item__icon",
                                            on: {
                                              click: function (i) {
                                                return e.locateFrame(
                                                  t.data.flowId
                                                );
                                              },
                                            },
                                          },
                                          [
                                            i("LocationIcon", {
                                              attrs: {
                                                size: "14",
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                        i(
                                          "div",
                                          {
                                            directives: [
                                              {
                                                name: "tip",
                                                rawName: "v-tip.bootom",
                                                value: "复制链接",
                                                expression: "'复制链接'",
                                                modifiers: {
                                                  bootom: !0,
                                                },
                                              },
                                            ],
                                            staticClass:
                                              "prototype-settings__flows__item__icon",
                                            on: {
                                              click: function (i) {
                                                return e.copyLink(t.data);
                                              },
                                            },
                                          },
                                          [
                                            i("LinkIcon", {
                                              attrs: {
                                                size: "14",
                                              },
                                            }),
                                          ],
                                          1
                                        ),
                                      ]
                                    ),
                              ]
                            ),
                          ];
                        },
                      },
                    ]),
                  }),
                  e.flows.length
                    ? e._e()
                    : i(
                        "div",
                        {
                          staticClass: "prototype-settings__flows__tips",
                        },
                        [
                          i("p", [e._v("当前页面还未设置任何流程")]),
                          i("p", [e._v("选中一级容器，在右侧属性栏添加流程")]),
                        ]
                      ),
                ],
                1
              ),
            ]
          );
        },
        _f = [],
        Cf = i("ab7d");
      let Sf = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.validate = ut),
            (this.valueDecorator = Cs),
            (this.defaultBgcolor = {
              dark: Object(Gi["c"])(4278190080),
              light: Object(Gi["e"])("ffffffff"),
            }),
            (this.editStatusFlowId = ""),
            (this.deviceList = Cf["d"]);
        }
        get activeFlows() {
          return "flows" !== this.selectType
            ? []
            : this.flows.filter((e) => this.selectList.includes(e.id));
        }
        get deviceUrl() {
          var e;
          const t =
            null === (e = Cf["e"][this.deviceId]) || void 0 === e
              ? void 0
              : e.previewUrl;
          return t ? `url(${t})` : "";
        }
        get deviceBackgound() {
          return `rgba(${~~(255 * this.deviceBackgroundColor.red)},${~~(
            255 * this.deviceBackgroundColor.green
          )},${~~(255 * this.deviceBackgroundColor.blue)},${
            this.deviceBackgroundColor.alpha
          })`;
        }
        get deviceSize() {
          var e, t, i, s;
          const o =
              null !==
                (t =
                  null === (e = Cf["e"][this.deviceId]) || void 0 === e
                    ? void 0
                    : e.width) && void 0 !== t
                ? t
                : 0,
            a =
              null !==
                (s =
                  null === (i = Cf["e"][this.deviceId]) || void 0 === i
                    ? void 0
                    : i.height) && void 0 !== s
                ? s
                : 0;
          return o > a ? "190px auto" : "auto 140px";
        }
        get colorFormatDeviceId() {
          return this.deviceId === Cf["a"].APPLE_WATCH_44_MM_SILVER
            ? Cf["a"].APPLE_WATCH_44_MM_GRAY
            : this.deviceId === Cf["a"].APPLE_WATCH_45_MM_STARLIGHT
            ? Cf["a"].APPLE_WATCH_45_MM_MIDNIGNT
            : this.deviceId;
        }
        get colorList() {
          return Cf["c"][this.colorFormatDeviceId];
        }
        get showDeviceDirection() {
          var e;
          return (
            this.deviceId &&
            this.deviceId < 999 &&
            !1 !==
              (null === (e = Cf["e"][this.deviceId]) || void 0 === e
                ? void 0
                : e.supportHorizontalScreen)
          );
        }
        get deviceDirectionList() {
          return [
            {
              key: se["g"].VERTICAL,
              value: this.isAppleWatch ? "AppleWatchIcon" : "IphoneIcon",
              label: "竖屏",
            },
            {
              key: se["g"].HORIZONTAL,
              value: this.isAppleWatch ? "AppleWatchIcon" : "IphoneIcon",
              label: "横屏",
            },
          ];
        }
        get isAppleWatch() {
          return (
            this.deviceId === Cf["a"].APPLE_WATCH_44_MM_GRAY ||
            this.deviceId === Cf["a"].APPLE_WATCH_44_MM_SILVER ||
            this.deviceId === Cf["a"].APPLE_WATCH_45_MM_MIDNIGNT ||
            this.deviceId === Cf["a"].APPLE_WATCH_45_MM_STARLIGHT
          );
        }
        get currentDeviceDirection() {
          var e;
          return !1 !==
            (null === (e = Cf["e"][this.deviceId]) || void 0 === e
              ? void 0
              : e.supportHorizontalScreen)
            ? this.deviceDirection
            : se["g"].VERTICAL;
        }
        editStatusFlowIdHandler(e) {
          e &&
            requestAnimationFrame(() => {
              this.$nextTick(() => {
                const t = this.$refs["input" + e];
                t[0] && t[0].focus();
              });
            });
        }
        mounted() {
          this.$keyWatcher.addListener("esc", this.keydownHandler, !1),
            this.$keyWatcher.addListener("del", this.keydownHandler, !1);
        }
        beforeDestroy() {
          this.$keyWatcher.removeListener("esc", this.keydownHandler, !1),
            this.$keyWatcher.removeListener("del", this.keydownHandler, !1);
        }
        prototypeBkChange(e) {
          "undefined" !== typeof e.color &&
            (k["a"].setFlowDeviceBackground(e.color),
            "debounce" === e.manualType && Ki["a"].setTag("pagebkcolor"));
        }
        resetBkColor() {
          const e = this.$store.state.main.isDark;
          e &&
          JSON.stringify(this.deviceBackgroundColor) !==
            JSON.stringify(this.defaultBgcolor.dark)
            ? k["a"].setFlowDeviceBackground(this.defaultBgcolor.dark)
            : e ||
              JSON.stringify(this.deviceBackgroundColor) ===
                JSON.stringify(this.defaultBgcolor.light) ||
              k["a"].setFlowDeviceBackground(this.defaultBgcolor.dark);
        }
        deviceTypeChange(e) {
          if (
            (e !== Cf["a"].APPLE_WATCH_44_MM_GRAY ||
              (this.deviceId !== Cf["a"].APPLE_WATCH_44_MM_GRAY &&
                this.deviceId !== Cf["a"].APPLE_WATCH_44_MM_SILVER)) &&
            (e !== Cf["a"].APPLE_WATCH_45_MM_MIDNIGNT ||
              (this.deviceId !== Cf["a"].APPLE_WATCH_45_MM_MIDNIGNT &&
                this.deviceId !== Cf["a"].APPLE_WATCH_45_MM_STARLIGHT))
          ) {
            if (e === Cf["a"].CUSTOM_SIZE) {
              const e = Cf["e"][this.deviceId];
              e
                ? (k["a"].setDeviceWidth(e.width),
                  k["a"].setDeviceHeight(e.height))
                : (k["a"].setDeviceWidth(512), k["a"].setDeviceHeight(512));
            }
            k["a"].setFlowDevice(e);
          }
        }
        colorDeviceTypeChange(e) {
          k["a"].setFlowDevice(e);
        }
        deviceDirectionChange(e) {
          k["a"].setFlowDeviceDirection(e);
        }
        blurHandler() {
          this.editStatusFlowId = "";
        }
        updateFlow(e, t) {
          k["a"].updateFlow(e.flowId, t, e.description);
        }
        updateFlowDescription(e) {
          k["a"].updateFlow(this.flow.flowId, this.flow.name, e);
        }
        goPrototypePreview(e) {
          const [t, i] = this.getProtoTypePreviewLink(e);
          Object(Z["qb"])(t, i);
        }
        getProtoTypePreviewLink(e) {
          return Object($t["a"])({
            path: "/prototype/" + this.$route.params.id,
            query: {
              flowId: e.flowId,
              pageId: k["a"].pageState.currentPageId,
            },
          });
        }
        locateFrame(e) {
          k["a"].layers.select([e]), k["a"].viewPort.zoomToSelection();
        }
        copyLink(e) {
          const [t] = this.getProtoTypePreviewLink(e);
          x["p"].shareCurrentDocumentLink({
            link: window.location.origin + t,
            fileInfo: this.$store.state.app.currentDocument,
            eventParams: {
              action_position: "canvas",
              action_parameter0: "prototype",
              action_parameter1: "flow_list",
              action_parameter2: "copy_flowlink",
            },
            params: {
              scene: "flow_preview_share",
              short: !0,
              isProto: !0,
            },
          });
        }
        contextmenuHandler(e, t) {
          const i = this.activeFlows.find((e) => e.id === t.id),
            s = [
              {
                title: "删除",
                type: "delete",
                icon: "trash",
                masterIcon: "TrashIcon",
                current: !1,
                disabled: !1,
                key: "delete",
              },
            ];
          i || this.activeFlows.splice(0, this.activeFlows.length, t),
            ((i && 1 === this.activeFlows.length) || !i) &&
              s.unshift({
                title: "重命名",
                type: "edit",
                icon: "edit",
                masterIcon: "EditIcon",
                current: !1,
                disabled: !1,
                key: "edit",
              });
          const o = {
            event: e,
            list: s,
            handler: this.contextHandler,
          };
          this.$eventBus.$emit("contentMenu", o);
        }
        focusFlowName(e) {
          (this.editStatusFlowId = this.activeFlows[0].id),
            e.preventDefault(),
            this.$nextTick(() => {
              this.$refs["input" + this.editStatusFlowId].focus();
            });
        }
        contextHandler(e) {
          "edit" === e &&
            ((this.editStatusFlowId = this.activeFlows[0].id),
            this.$nextTick(() => {
              this.$refs["input" + this.editStatusFlowId].focus();
            })),
            "delete" === e && this.keydownHandler();
        }
        deleteFlow(e) {
          k["a"].deleteFlow(e);
        }
        resortFlows(e, t) {
          k["a"].sortFlow(e, t);
        }
        keydownHandler() {
          k["a"].mergeStepStart();
          while (this.activeFlows.length)
            this.deleteFlow(this.activeFlows[0].flowId),
              this.activeFlows.shift();
          k["a"].mergeStepEnd();
        }
        changeDeviceWidth(e, t) {
          const i = ut["_checkWH"](e, t);
          k["a"].setDeviceWidth(i);
        }
        changeDeviceHeight(e, t) {
          const i = ut["_checkWH"](e, t);
          k["a"].setDeviceHeight(i);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("editStatusFlowId")],
        Sf.prototype,
        "editStatusFlowIdHandler",
        null
      ),
        (Sf = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MSelector: Pe["b"],
                StyleTodoList: _a,
                ColorItem: Yi["a"],
                BasicLeftIcon: Qs["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  pagebkcolor: (e) => Object(Gi["c"])(e.basicState.pagebkcolor),
                  pagebkvisible: (e) => e.basicState.pagebkvisible,
                  flows: (e) => e.prototype.flows,
                  deviceId: (e) => e.prototype.deviceId,
                  deviceHeight: (e) => e.prototype.deviceHeight,
                  deviceWidth: (e) => e.prototype.deviceWidth,
                  deviceDirection: (e) => e.prototype.deviceDirection,
                  deviceBackgroundColor: (e) =>
                    Object(Gi["c"])(e.prototype.deviceBackgroundColor),
                  flow: (e) => e.prototype.flow,
                  selectType: (e) => e.basicState.selectProps.type,
                  selectList: (e) => e.basicState.selectProps.list,
                })
              ),
            }),
          ],
          Sf
        ));
      var If = Sf,
        Of = If,
        kf =
          (i("bb2f"),
          i("06f5"),
          Object(_["a"])(Of, yf, _f, !1, null, "24305787", null)),
        wf = kf.exports,
        xf = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "prototype-properties",
            },
            [
              e.showFlow
                ? i(
                    "div",
                    {
                      staticClass: "prototype-properties__flow panel-wrap",
                    },
                    [
                      i("div", [e._v("流程起始点")]),
                      e.flow.id
                        ? i(
                            "div",
                            {
                              staticClass:
                                "prototype-properties__flow__content",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass:
                                    "prototype-properties__flow__content__item",
                                },
                                [
                                  e.flowNameEditStatus
                                    ? i("master-input", {
                                        ref: "flowNameInput",
                                        staticClass:
                                          "prototype-properties__flow__content__item__input",
                                        attrs: {
                                          focusSelectAll: !0,
                                          value: e.flow.name,
                                        },
                                        on: {
                                          change: function (t) {
                                            return e.updateFlow(e.flow, t);
                                          },
                                          blur: function (t) {
                                            e.flowNameEditStatus = !1;
                                          },
                                        },
                                      })
                                    : e._e(),
                                  e.flowNameEditStatus
                                    ? e._e()
                                    : i(
                                        "div",
                                        {
                                          staticClass:
                                            "prototype-properties__flow__content__item__text",
                                          on: {
                                            dblclick:
                                              e.flowNameDoubleClickHandler,
                                          },
                                        },
                                        [e._v(" " + e._s(e.flow.name) + " ")]
                                      ),
                                  i(
                                    "div",
                                    {
                                      staticClass:
                                        "prototype-properties__flow__content__item__operation",
                                      on: {
                                        click: function (t) {
                                          return e.deleteFlow(e.flow.flowId);
                                        },
                                      },
                                    },
                                    [
                                      i("MasterButtonIcon", {
                                        attrs: {
                                          icon: "MinusIcon",
                                        },
                                      }),
                                    ],
                                    1
                                  ),
                                ],
                                1
                              ),
                              i(
                                "div",
                                {
                                  staticClass:
                                    "prototype-properties__flow__content__textarea",
                                },
                                [
                                  i("master-input", {
                                    staticClass:
                                      "prototype-properties__flow__content__textarea__area",
                                    attrs: {
                                      textarea: !0,
                                      placeholder:
                                        "在此处添加流程备注，演示时观看者可以看到",
                                      focusSelectAll: !0,
                                      value: e.flow.description,
                                      maxlength: "500",
                                    },
                                    on: {
                                      change: e.updateFlowDescription,
                                    },
                                  }),
                                ],
                                1
                              ),
                            ]
                          )
                        : i(
                            "div",
                            {
                              staticClass: "prototype-properties__flow__add",
                            },
                            [
                              e._v(" 给选中的容器添加起始点 "),
                              i("MasterButtonIcon", {
                                attrs: {
                                  icon: "PlusIcon",
                                },
                                on: {
                                  click: e.addFlow,
                                },
                              }),
                            ],
                            1
                          ),
                    ]
                  )
                : e._e(),
              e.showFlow && e.showInteraction
                ? i("div", {
                    staticClass: "prototype-divid",
                  })
                : e._e(),
              e.showInteraction
                ? i(
                    "div",
                    {
                      staticClass:
                        "prototype-properties__action panel-wrap only-list",
                    },
                    [
                      i("StyleTodoList", {
                        attrs: {
                          list: e.interactionList,
                          type: "frame",
                          disabledSort: !0,
                          disabledAdd: e.isComponentSet,
                          enableSelect: !(e.selectIds.length > 1),
                        },
                        on: {
                          add: e.addInteraction,
                          del: e.delInteraction,
                          selectItem: e.selectInteractionItem,
                        },
                        scopedSlots: e._u(
                          [
                            {
                              key: "header",
                              fn: function () {
                                return [
                                  i(
                                    "div",
                                    {
                                      staticClass: "panel_title",
                                    },
                                    [
                                      i(
                                        "span",
                                        {
                                          staticStyle: {
                                            flex: "1",
                                          },
                                        },
                                        [e._v("交互")]
                                      ),
                                      e.interationFull
                                        ? i("InfoColorIcon", {
                                            directives: [
                                              {
                                                name: "tip",
                                                rawName: "v-tip.bottom",
                                                value: {
                                                  content:
                                                    "该对象已添加所有类型的触发行为",
                                                },
                                                expression:
                                                  "{\n              content: '该对象已添加所有类型的触发行为'\n            }",
                                                modifiers: {
                                                  bottom: !0,
                                                },
                                              },
                                            ],
                                            staticClass:
                                              "prototype-properties__action__tip",
                                            attrs: {
                                              size: "14",
                                            },
                                          })
                                        : e._e(),
                                      e.isInstance && e.isOverride
                                        ? i("MasterButtonIcon", {
                                            directives: [
                                              {
                                                name: "tip",
                                                rawName: "v-tip.bottom",
                                                value: {
                                                  content: "重置组件交互",
                                                },
                                                expression:
                                                  "{\n              content: '重置组件交互'\n            }",
                                                modifiers: {
                                                  bottom: !0,
                                                },
                                              },
                                            ],
                                            attrs: {
                                              icon: "ResetInstanceIcon",
                                              isLocalIcon: !1,
                                              focusable: "",
                                              size: "14",
                                            },
                                            nativeOn: {
                                              click: function (t) {
                                                return (
                                                  t.stopPropagation(),
                                                  e.resetReactions(t)
                                                );
                                              },
                                            },
                                          })
                                        : e._e(),
                                    ],
                                    1
                                  ),
                                ];
                              },
                              proxy: !0,
                            },
                            {
                              key: "default",
                              fn: function (t) {
                                return [
                                  i("InteractionItem", {
                                    key: t.data.id,
                                    attrs: {
                                      scope: t,
                                      type: "frame",
                                      trigger:
                                        e.selectIds.length < 2
                                          ? "manual"
                                          : "click",
                                    },
                                    nativeOn: {
                                      mousedown: function (i) {
                                        return e.interactionItemMousedown(i, t);
                                      },
                                    },
                                  }),
                                ];
                              },
                            },
                          ],
                          null,
                          !1,
                          4251546611
                        ),
                      }),
                      e.changeToInteractionList.length
                        ? i("StyleTodoList", {
                            staticStyle: {
                              "margin-top": "10px",
                            },
                            attrs: {
                              list: e.changeToInteractionList,
                              type: "frame",
                              maxSize: e.protoEventList.length,
                              disabledSort: !0,
                              disabledAdd: !0,
                            },
                            on: {
                              del: e.delInteraction,
                              resort: e.resortInteraction,
                            },
                            scopedSlots: e._u(
                              [
                                {
                                  key: "header",
                                  fn: function () {
                                    return [
                                      i(
                                        "div",
                                        {
                                          staticClass: "panel_title",
                                        },
                                        [i("span", [e._v("组件状态交互")])]
                                      ),
                                    ];
                                  },
                                  proxy: !0,
                                },
                                {
                                  key: "default",
                                  fn: function (e) {
                                    return [
                                      i("InteractionItem", {
                                        key: e.data.id,
                                        attrs: {
                                          scope: e,
                                          type: "frame",
                                        },
                                      }),
                                    ];
                                  },
                                },
                              ],
                              null,
                              !1,
                              3300417763
                            ),
                          })
                        : e._e(),
                    ],
                    1
                  )
                : e._e(),
              e.isFrame && (e.showFlow || e.showInteraction)
                ? i("div", {
                    staticClass: "prototype-divid",
                  })
                : e._e(),
              e.isFrame
                ? i(
                    "div",
                    {
                      staticClass: "prototype-properties__overflow panel-wrap",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "prototype-properties_title",
                        },
                        [e._v("溢出行为")]
                      ),
                      i("MasterSelector", {
                        staticClass: "label_select",
                        attrs: {
                          value: e.overflowDirection,
                          options: e.scrollList,
                          active: e.scrollList[e.overflowDirection].active,
                          mode: "masterPopover",
                        },
                        on: {
                          change: e.changeHandler,
                        },
                        scopedSlots: e._u(
                          [
                            {
                              key: "header",
                              fn: function () {
                                return [
                                  e.overflowCheck
                                    ? i("InfoColorIcon", {
                                        directives: [
                                          {
                                            name: "tip",
                                            rawName: "v-tip.bottom",
                                            value: {
                                              content:
                                                "<div class='" +
                                                e.overflowCheck.class +
                                                "'>" +
                                                e.overflowCheck.text +
                                                "</div>",
                                            },
                                            expression:
                                              "{\n            content: `<div class='${overflowCheck.class}'>${overflowCheck.text}</div>`\n          }",
                                            modifiers: {
                                              bottom: !0,
                                            },
                                          },
                                        ],
                                        staticClass:
                                          "prototype-properties__tip",
                                        attrs: {
                                          size: "14",
                                        },
                                      })
                                    : e._e(),
                                ];
                              },
                              proxy: !0,
                            },
                          ],
                          null,
                          !1,
                          2588183462
                        ),
                      }),
                    ],
                    1
                  )
                : e._e(),
            ]
          );
        },
        Lf = [],
        Af = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("Bounced", {
            attrs: {
              title: "交互",
              offsetLeft: 16,
              width: "252",
              trigger: e.trigger,
              open: e.openInteraction,
            },
            on: {
              "update:open": function (t) {
                e.openInteraction = t;
              },
              close: e.close,
              open: e.open,
              trigger: e.triggerHandler,
            },
            scopedSlots: e._u([
              {
                key: "button",
                fn: function () {
                  return [
                    i(
                      "div",
                      {
                        staticClass: "frame-item transition",
                      },
                      [
                        i("div", [e._v(e._s(e.scope.data.eventType))]),
                        e.frameInfo[0]
                          ? i(
                              "div",
                              {
                                staticClass: "frame-icon",
                              },
                              [
                                i(e.frameInfo[0], {
                                  tag: "component",
                                }),
                              ],
                              1
                            )
                          : e._e(),
                        i(
                          "div",
                          {
                            staticClass: "frame-name",
                          },
                          [e._v(e._s(e.frameInfo[1]))]
                        ),
                        e.scope.data.conflict
                          ? i("InfoColorIcon", {
                              directives: [
                                {
                                  name: "tip",
                                  rawName: "v-tip.bottom",
                                  value: {
                                    content:
                                      "<div style='width:176px;padding: 10px 0;'>" +
                                      e.scope.data.conflict +
                                      "</div>",
                                    offsetX: 9,
                                  },
                                  expression:
                                    "{\n          content: `<div style='width:176px;padding: 10px 0;'>${scope.data.conflict}</div>`,\n          offsetX: 9\n        }",
                                  modifiers: {
                                    bottom: !0,
                                  },
                                },
                              ],
                              staticClass: "frame-item__tip",
                              attrs: {
                                size: "14",
                              },
                            })
                          : e._e(),
                      ],
                      1
                    ),
                  ];
                },
                proxy: !0,
              },
              {
                key: "content",
                fn: function () {
                  return [
                    i("Interaction", {
                      attrs: {
                        openInteraction: e.openInteraction,
                        actionInfo: e.scope.data,
                      },
                      on: {
                        "update:openInteraction": function (t) {
                          e.openInteraction = t;
                        },
                        "update:open-interaction": function (t) {
                          e.openInteraction = t;
                        },
                        change: function (t) {
                          return e.changeInteraction(t, e.scope.data.index);
                        },
                      },
                    }),
                  ];
                },
                proxy: !0,
              },
            ]),
          });
        },
        Tf = [],
        jf = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "Newscroll",
            {
              staticClass: "interaction-content-scroll",
              attrs: {
                refreshByInnerHeight: !0,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "interaction-content",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "interaction-content-item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "interaction-content-item-title",
                        },
                        [e._v("触发")]
                      ),
                      i("MasterSelector", {
                        staticClass: "label_select",
                        attrs: {
                          value: e.actionInfo.trigger.type,
                          options: e.protoEventList,
                          masterIcon: e.iconMap[e.actionInfo.trigger.type],
                          mode: "masterPopover",
                        },
                        on: {
                          change: e.changeEventTypeHandler,
                        },
                      }),
                      e.showDelay
                        ? i("master-input", {
                            staticClass: "interaction-content__delayinput",
                            attrs: {
                              focusSelectAll: !0,
                              value: e.actionInfo.trigger.delay,
                              validate: e.checkSecond,
                              valueDecorator: e.SecondDecorator,
                            },
                            on: {
                              change: function (t) {
                                return e.updateTriggerDelay(t);
                              },
                              keydown: e.keyUpDownHandler,
                            },
                          })
                        : e._e(),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass: "interaction-content-item",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "interaction-content-item-title",
                        },
                        [e._v("动作")]
                      ),
                      i("MasterSelector", {
                        staticClass: "label_select",
                        attrs: {
                          mode: "masterPopover",
                          value: e.actionType,
                          options: e.protoActionList,
                          masterIcon: e.actionMap[e.actionType],
                        },
                        on: {
                          change: e.changeActionTypeHandler,
                        },
                      }),
                      e.showLink
                        ? i("master-input", {
                            ref: "actionUrl",
                            staticClass:
                              "interaction-content__delayinput interaction-content__linkinput",
                            attrs: {
                              placeholder: "链接地址",
                              focusSelectAll: !0,
                              value: e.actionInfo.action.url,
                            },
                            on: {
                              change: e.updateTriggerUrl,
                            },
                          })
                        : e._e(),
                    ],
                    1
                  ),
                  e.showChangeToArea
                    ? i(
                        "div",
                        {
                          staticClass: "interaction-content-item",
                          staticStyle: {
                            height: "auto",
                            overflow: "hidden",
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "interaction-content-item-title",
                              staticStyle: {
                                opacity: "0",
                              },
                            },
                            [e._v("目标")]
                          ),
                          i("VariantItem", {
                            staticClass: "label_select",
                            staticStyle: {
                              width: "181px",
                            },
                            attrs: {
                              variantData: e.currentVariantProp,
                              fullData: e.currentComponentStatus,
                              paddingRight: 0,
                              isInstance: !0,
                            },
                            on: {
                              change: e.handleVariantChange,
                            },
                          }),
                        ],
                        1
                      )
                    : e.targetVisible
                    ? i(
                        "div",
                        {
                          staticClass: "interaction-content-item",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "interaction-content-item-title",
                            },
                            [e._v("目标")]
                          ),
                          i("MasterSelector", {
                            staticClass: "label_select",
                            attrs: {
                              value: e.actionInfo.action.destinationId,
                              options:
                                e.actionType === e.FlowActionTypeScrollTo
                                  ? e.tagertScrollToList
                                  : e.tagertFrameList,
                              popoverStyle: {
                                "max-width": "200px",
                                "min-width": "100px",
                              },
                              mode: "masterPopover",
                              mismatchLabel: "无效图层",
                              placeholder: "无",
                            },
                            on: {
                              change: e.changeFrame,
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                  e.actionType === e.FlowActionTypeScrollTo
                    ? i(
                        "div",
                        {
                          staticClass: "interaction-content-item",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "interaction-content-item-title",
                            },
                            [e._v("缩进")]
                          ),
                          i("IconInput", {
                            attrs: {
                              validate: e.checkScrollToOffset,
                              valueDecorator: e.valueDecorator.numDecorator,
                              value: e.actionInfo.action.scrollToYOffset,
                              iconDisabled: !1,
                              iconName: "ScrollToOffsetYIcon",
                              tip: "Y轴缩进",
                            },
                            on: {
                              change: function (t) {
                                return e.changeScrollToYOffset(t);
                              },
                            },
                          }),
                          i("IconInput", {
                            staticStyle: {
                              "margin-left": "7px",
                            },
                            attrs: {
                              validate: e.checkScrollToOffset,
                              valueDecorator: e.valueDecorator.numDecorator,
                              value: e.actionInfo.action.scrollToXOffset,
                              iconDisabled: !1,
                              iconName: "ScrollToOffsetXIcon",
                              tip: "X轴缩进",
                            },
                            on: {
                              change: function (t) {
                                return e.changeScrollToXOffset(t);
                              },
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                  e.overlaySettingVisible && e.actionInfo
                    ? [
                        i("OverLaySetting", {
                          attrs: {
                            overlay: e.actionInfo.overlay || {
                              backgroundInteraction: 0,
                              backgroundType: 0,
                              overlayPositionType: 1,
                            },
                            destinationId: e.actionInfo.action.destinationId,
                          },
                        }),
                      ]
                    : e._e(),
                  e.showAnimation
                    ? i(
                        "div",
                        {
                          staticClass: "interaction-content__layout",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "interaction-content-item",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "interaction-content-item-title",
                                },
                                [e._v("动画设置")]
                              ),
                            ]
                          ),
                          [
                            i("DynamicEffect", {
                              ref: "dynamicEffect",
                              attrs: {
                                transitionDirection: e.transitionDirection,
                                transitionType: e.transitionType,
                                transitionEasing: e.transitionEasing,
                                easingFunctionCubicBezier:
                                  e.easingFunctionCubicBezier,
                                transitionDuration: e.transitionDuration,
                              },
                            }),
                          ],
                          i(
                            "div",
                            {
                              staticClass: "interaction-content-item",
                            },
                            [
                              i(
                                "div",
                                {
                                  staticClass: "interaction-content-item-title",
                                },
                                [e._v("动画")]
                              ),
                              i("MasterSelector", {
                                staticClass: "label_select",
                                attrs: {
                                  mode: "masterPopover",
                                  value: e.transitionType,
                                  options:
                                    e.actionType === e.FlowActionTypeScrollTo
                                      ? e.protoScrollToTransitionList
                                      : e.protoTransitionList,
                                  masterIcon:
                                    e.actionType === e.FlowActionTypeScrollTo
                                      ? e.transitionScrollToMap[
                                          e.transitionType
                                        ]
                                      : e.transitionMap[e.transitionType],
                                },
                                on: {
                                  change: e.changeTransitionTypeHandler,
                                  close: e.blurOrClose,
                                },
                              }),
                              e.directionVisible
                                ? i("MasterSelector", {
                                    staticClass:
                                      "interaction-content__delayinput",
                                    attrs: {
                                      value: e.transitionDirection,
                                      options: e.protoAnimationDirection,
                                    },
                                    on: {
                                      change:
                                        e.changeTransitionDirectionHandler,
                                      close: e.blurOrClose,
                                    },
                                  })
                                : e._e(),
                            ],
                            1
                          ),
                          e.transitionVisible
                            ? [
                                i(
                                  "div",
                                  {
                                    staticClass: "interaction-content-item",
                                  },
                                  [
                                    i(
                                      "div",
                                      {
                                        staticClass:
                                          "interaction-content-item-title",
                                      },
                                      [e._v("效果")]
                                    ),
                                    i("MasterSelector", {
                                      staticClass: "label_select",
                                      attrs: {
                                        mode: "masterPopover",
                                        value: e.transitionEasing,
                                        options: e.protoAnimationList,
                                        masterIcon:
                                          e.easingMap[e.transitionEasing],
                                      },
                                      on: {
                                        change: e.changeTransitionEasingHandler,
                                        close: e.blurOrClose,
                                      },
                                    }),
                                    i("master-input", {
                                      staticClass:
                                        "interaction-content__delayinput",
                                      attrs: {
                                        placeholder: "时间",
                                        focusSelectAll: !0,
                                        value: e.transitionDuration,
                                        validate: e.checkSecond,
                                        valueDecorator: e.SecondDecorator,
                                      },
                                      on: {
                                        keydown: e.keyUpDownHandler,
                                        change:
                                          e.changeTransitionDurationHandler,
                                        blur: e.blurOrClose,
                                      },
                                    }),
                                  ],
                                  1
                                ),
                                7 === e.transitionEasing
                                  ? i("CustomBezier", {
                                      attrs: {
                                        value: e.customBesierValue,
                                      },
                                      on: {
                                        change: e.changeTransitionCustomBezier,
                                      },
                                    })
                                  : e._e(),
                              ]
                            : e._e(),
                        ],
                        2
                      )
                    : e._e(),
                ],
                2
              ),
            ]
          );
        },
        Mf = [],
        Ef = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass:
                  "interaction-content-item interaction-content-noLimit",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "interaction-content__background",
                  },
                  [
                    i("div", {
                      ref: "mask",
                      staticClass: "interaction-content__mask",
                    }),
                    i(
                      "div",
                      {
                        ref: "wrapper",
                        staticClass: "interaction-content__wrapper",
                      },
                      [
                        0 === e.transitionType
                          ? [
                              i(
                                "div",
                                {
                                  ref: "containerB",
                                  staticClass:
                                    "interaction-content__containerHide",
                                },
                                [e._v("B")]
                              ),
                              i(
                                "div",
                                {
                                  ref: "containerA",
                                  staticClass:
                                    "interaction-content__containerA",
                                },
                                [e._v("A")]
                              ),
                              i("div", {
                                ref: "containerC",
                                staticClass:
                                  "interaction-content__containerHide",
                              }),
                            ]
                          : 2 !== e.transitionType
                          ? [
                              i(
                                "div",
                                {
                                  ref: "containerB",
                                  staticClass:
                                    "interaction-content__containerB",
                                },
                                [e._v("B")]
                              ),
                              i(
                                "div",
                                {
                                  ref: "containerA",
                                  staticClass:
                                    "interaction-content__containerA",
                                },
                                [e._v("A")]
                              ),
                              i("div", {
                                ref: "containerC",
                                staticClass: "interaction-content__containerC",
                              }),
                            ]
                          : 2 === e.transitionType
                          ? [
                              i("div", {
                                ref: "containerB",
                                staticClass:
                                  "interaction-content__containerB__smart",
                              }),
                              i(
                                "div",
                                {
                                  ref: "containerA",
                                  staticClass:
                                    "interaction-content__containerA__smart",
                                },
                                [
                                  i("div", {
                                    staticClass:
                                      "interaction-content__containerA__smart__childA",
                                  }),
                                  i("div", {
                                    staticClass:
                                      "interaction-content__containerA__smart__childB",
                                  }),
                                ]
                              ),
                              i("div", {
                                ref: "containerC",
                                staticClass: "interaction-content__containerC",
                              }),
                            ]
                          : e._e(),
                      ],
                      2
                    ),
                  ]
                ),
              ]
            ),
          ]);
        },
        Pf = [];
      const Df = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {
                left: "-56px",
              },
            },
            top: {
              originalStates: {},
              finalStates: {
                top: "-64px",
              },
            },
            right: {
              originalStates: {},
              finalStates: {
                left: "56px",
              },
            },
            bottom: {
              originalStates: {},
              finalStates: {
                top: "64px",
              },
            },
            all: {
              originalStates: {
                top: "0",
                left: "0",
                border: "unset",
                zIndex: "2",
                background: "var(--color-dynamic-effect-container)",
              },
              finalStates: {},
            },
          },
          containerB: {
            left: {
              originalStates: {
                left: "12px",
              },
              finalStates: {},
            },
            top: {
              originalStates: {
                top: "14px",
              },
              finalStates: {},
            },
            right: {
              originalStates: {
                left: "-12px",
              },
              finalStates: {},
            },
            bottom: {
              originalStates: {
                top: "-14px",
              },
              finalStates: {},
            },
            all: {
              originalStates: {
                background: "var(--theme-color-gray-0)",
                opacity: 0.4,
              },
              finalStates: {
                left: "0",
                top: "0",
                opacity: 1,
              },
            },
          },
        },
        Bf = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {
                left: "-12px",
              },
            },
            top: {
              originalStates: {},
              finalStates: {
                top: "-14px",
              },
            },
            right: {
              originalStates: {},
              finalStates: {
                left: "12px",
              },
            },
            bottom: {
              originalStates: {},
              finalStates: {
                top: "14px",
              },
            },
            all: {
              originalStates: {
                top: 0,
                left: 0,
                opacity: 1,
              },
              finalStates: {
                opacity: 0.4,
              },
            },
          },
          containerB: {
            left: {
              originalStates: {
                left: "56px",
              },
              finalStates: {},
            },
            top: {
              originalStates: {
                top: "64px",
              },
              finalStates: {},
            },
            right: {
              originalStates: {
                left: "-56px",
              },
              finalStates: {},
            },
            bottom: {
              originalStates: {
                top: "-64px",
              },
              finalStates: {},
            },
            all: {
              originalStates: {
                border: "unset",
                zIndex: "2",
              },
              finalStates: {
                left: "0",
                top: "0",
              },
            },
          },
        },
        Nf = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {
                left: "-55px",
              },
            },
            top: {
              originalStates: {},
              finalStates: {
                top: "-63px",
              },
            },
            right: {
              originalStates: {},
              finalStates: {
                left: "55px",
              },
            },
            bottom: {
              originalStates: {},
              finalStates: {
                top: "63px",
              },
            },
            all: {
              originalStates: {
                left: "0",
                top: "0",
                opacity: 1,
              },
              finalStates: {
                opacity: 0.4,
              },
            },
          },
          containerB: {
            left: {
              originalStates: {
                left: "56px",
              },
              finalStates: {},
            },
            top: {
              originalStates: {
                top: "64px",
              },
              finalStates: {},
            },
            right: {
              originalStates: {
                left: "-56px",
              },
              finalStates: {},
            },
            bottom: {
              originalStates: {
                top: "-64px",
              },
              finalStates: {},
            },
            all: {
              originalStates: {
                border: "unset",
              },
              finalStates: {
                left: "0",
                top: "0",
              },
            },
          },
        },
        Ff = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {
                opacity: 0.4,
              },
              finalStates: {
                opacity: 1,
              },
            },
          },
          containerB: {
            left: {
              originalStates: {},
              finalStates: {
                left: "-56px",
              },
            },
            top: {
              originalStates: {},
              finalStates: {
                top: "-64px",
              },
            },
            right: {
              originalStates: {},
              finalStates: {
                left: "56px",
              },
            },
            bottom: {
              originalStates: {},
              finalStates: {
                top: "64px",
              },
            },
            all: {
              originalStates: {
                zIndex: "2",
                top: "0",
                left: "0",
                border: "unset",
              },
              finalStates: {},
            },
          },
        },
        Rf = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {
                opacity: 1,
              },
              finalStates: {
                opacity: 0.4,
              },
            },
          },
          containerB: {
            left: {
              originalStates: {
                left: "56px",
              },
              finalStates: {},
            },
            top: {
              originalStates: {
                top: "64px",
              },
              finalStates: {},
            },
            right: {
              originalStates: {
                left: "-56px",
              },
              finalStates: {},
            },
            bottom: {
              originalStates: {
                top: "-64px",
              },
              finalStates: {},
            },
            all: {
              originalStates: {
                border: "unset",
                zIndex: "2",
              },
              finalStates: {
                left: "0",
                top: "0",
              },
            },
          },
        },
        Hf = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {},
              finalStates: {},
            },
          },
          containerB: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {
                opacity: 0,
                zIndex: "2",
              },
              finalStates: {
                opacity: 1,
              },
            },
          },
        },
        $f = {
          containerA: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {
                top: "0",
              },
              finalStates: {
                top: "12px",
              },
            },
          },
          containerB: {
            left: {
              originalStates: {},
              finalStates: {},
            },
            top: {
              originalStates: {},
              finalStates: {},
            },
            right: {
              originalStates: {},
              finalStates: {},
            },
            bottom: {
              originalStates: {},
              finalStates: {},
            },
            all: {
              originalStates: {},
              finalStates: {
                height: "22px",
                background: "var(--color-blue-600)",
              },
            },
          },
        },
        Vf = {
          slideOut: Df,
          slideIn: Bf,
          push: Nf,
          moveOut: Ff,
          moveIn: Rf,
          dissolve: Hf,
          smartAnimate: $f,
        },
        zf = [
          [0, 0, 1, 1],
          [0.42, 0, 1, 1],
          [0, 0, 0.58, 1],
          [0.42, 0, 0.58, 1],
          [0.6, -0.28, 0.735, 0.045],
          [0.175, 0.885, 0.32, 1.275],
          [0.68, -0.55, 0.265, 1.55],
        ];
      let Uf = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.transitionTypeMap = new Map([
              [yd["S"].DISSOLVE, "dissolve"],
              [yd["S"].SMART_ANIMATE, "smartAnimate"],
              [yd["S"].MOVE_IN, "moveIn"],
              [yd["S"].DISPLACE, "moveIn"],
              [yd["S"].MOVE_OUT, "moveOut"],
              [yd["S"].PUSH, "push"],
              [yd["S"].SLIDE_IN, "slideIn"],
              [yd["S"].SLIDE_OUT, "slideOut"],
            ])),
            (this.transitionDirectionMap = new Map([
              [se["L"].TOP, "top"],
              [se["L"].LEFT, "left"],
              [se["L"].RIGHT, "right"],
              [se["L"].BOTTOM, "bottom"],
            ])),
            (this.isHover = !1);
        }
        transitionFunc(e, t) {
          const [i, s, o, a] =
              this.transitionEasing !== se["h"].CUSTOM_CUBIC_BEZIER
                ? zf[this.transitionEasing]
                : [
                    this.easingFunctionCubicBezier.x1,
                    this.easingFunctionCubicBezier.y1,
                    this.easingFunctionCubicBezier.x2,
                    this.easingFunctionCubicBezier.y2,
                  ],
            n = this.transitionDuration;
          Object.assign(
            e.style,
            Object.assign(
              {
                transition: `all ${n}ms`,
                transitionTimingFunction: `cubic-bezier(${i}, ${s}, ${o}, ${a})`,
              },
              t
            )
          );
        }
        getState(e, t, i, s) {
          if (void 0 === e || void 0 === t) return;
          const o = Vf[e][i],
            a = o[t],
            n = o.all;
          return Object.assign(Object.assign({}, a[s]), n[s]);
        }
        forceCalculateFrame() {
          const e = this.$refs.containerA,
            t = this.$refs.containerB;
          e.getBoundingClientRect(), t.getBoundingClientRect();
        }
        unsetAnimation() {
          const e = this.$refs.containerA,
            t = this.$refs.containerB,
            i = this.$refs.containerC,
            s = this.transitionTypeMap.get(this.transitionType),
            o = this.transitionDirectionMap.get(this.transitionDirection),
            a = this.getState(s, o, "containerA", "originalStates"),
            n = this.getState(s, o, "containerB", "originalStates");
          (e.style = null),
            (t.style = null),
            (i.style = null),
            this.forceCalculateFrame(),
            Object.assign(e.style, a),
            Object.assign(t.style, n);
        }
        playAnimation() {
          const e = this.$refs.containerA,
            t = this.$refs.containerB,
            i = this.transitionTypeMap.get(this.transitionType),
            s = this.transitionDirectionMap.get(this.transitionDirection),
            o = this.getState(i, s, "containerA", "finalStates"),
            a = this.getState(i, s, "containerB", "finalStates");
          this.transitionFunc(e, o), this.transitionFunc(t, a);
        }
        animationGo(e) {
          this.unsetAnimation(),
            this.forceCalculateFrame(),
            this.playAnimationTimer && clearTimeout(this.playAnimationTimer),
            (this.playAnimationTimer = setTimeout(() => {
              clearTimeout(this.playAnimationTimer),
                ("hover" !== e || this.isHover) && this.playAnimation();
            }, 200));
        }
        mounted() {
          const e = this.$refs.wrapper,
            t = this.$refs.mask;
          let i;
          this.unsetAnimation(), this.forceCalculateFrame();
          const s = () => {
              (this.isHover = !0), this.animationGo("hover");
            },
            o = () => {
              clearTimeout(i), (this.isHover = !1), this.unsetAnimation();
            },
            a = () => {
              i && clearTimeout(i),
                (i = this.isHover
                  ? setTimeout(() => {
                      clearTimeout(i), this.animationGo("hover");
                    }, 1500)
                  : setTimeout(() => {
                      clearTimeout(i), !this.isHover && this.unsetAnimation();
                    }, 100));
            };
          t.addEventListener("mouseover", s),
            t.addEventListener("mouseleave", o),
            e.addEventListener("transitionend", a),
            this.$once("hook:beforeDestroy", () => {
              t.removeEventListener("mouseover", s),
                t.removeEventListener("mouseleave", o),
                e.removeEventListener("transitionend", a);
            });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        Uf.prototype,
        "transitionDuration",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Uf.prototype,
          "transitionDirection",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Uf.prototype,
          "transitionType",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Uf.prototype,
          "transitionEasing",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          Uf.prototype,
          "easingFunctionCubicBezier",
          void 0
        ),
        (Uf = Object(a["__decorate"])([n["a"]], Uf));
      var qf = Uf,
        Wf = qf,
        Gf =
          (i("bff0"), Object(_["a"])(Wf, Ef, Pf, !1, null, "477ea9ae", null)),
        Kf = Gf.exports,
        Qf = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "interaction-content__layout",
            },
            [
              e._m(0),
              i(
                "div",
                {
                  staticClass: "interaction-content-item",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "interaction-content-item-title",
                    },
                    [e._v("位置")]
                  ),
                  i("MasterSelector", {
                    staticClass: "label_select",
                    attrs: {
                      mode: "masterPopover",
                      placeholder: "自定义",
                      value: e.overlay.overlayPositionType || "",
                      options: e.protoOverlayLocationList,
                    },
                    on: {
                      change: e.changeOverlayPosition,
                    },
                  }),
                  i(
                    "ul",
                    {
                      staticClass: "preset-position",
                    },
                    e._l(e.iconList, function (t) {
                      return i(
                        "li",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.top",
                              value: {
                                content: "" + t.describe,
                              },
                              expression: "{ content: `${icon.describe}` }",
                              modifiers: {
                                top: !0,
                              },
                            },
                          ],
                          key: t.id,
                          staticClass: "preset-position__list",
                          class: {
                            "preset-position__list-item-selected":
                              t.id === e.overlay.overlayPositionType,
                          },
                          on: {
                            click: function (i) {
                              return e.changeOverlayPosition(t.id);
                            },
                          },
                        },
                        [
                          i(t.iconName, {
                            tag: "component",
                            attrs: {
                              size: "14",
                            },
                          }),
                        ],
                        1
                      );
                    }),
                    0
                  ),
                ],
                1
              ),
              i(
                "div",
                {
                  staticStyle: {
                    "padding-left": "39px",
                    "padding-right": "6px",
                  },
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "interaction-content-item",
                    },
                    [
                      i(
                        "BasicCheckbox",
                        {
                          attrs: {
                            checked: e.isOverlayBackgroundInteraction,
                          },
                          on: {
                            change: e.toggleClickOverlayOuterCloseOverlay,
                          },
                        },
                        [
                          i(
                            "span",
                            {
                              staticStyle: {
                                "margin-left": "8px",
                              },
                            },
                            [e._v("点击浮层外关闭浮层")]
                          ),
                        ]
                      ),
                    ],
                    1
                  ),
                  i(
                    "div",
                    {
                      staticClass: "interaction-content-item",
                    },
                    [
                      i(
                        "BasicCheckbox",
                        {
                          attrs: {
                            checked: e.isOverlayMask,
                          },
                          on: {
                            change: e.toggleAddMaskBehindOverlay,
                          },
                        },
                        [
                          i(
                            "span",
                            {
                              staticStyle: {
                                "margin-left": "8px",
                              },
                            },
                            [e._v("在浮层后添加遮罩")]
                          ),
                        ]
                      ),
                    ],
                    1
                  ),
                  e.isOverlayMask
                    ? i(
                        "div",
                        {
                          staticClass: "interaction-content-item",
                        },
                        [
                          i("ColorItem", {
                            attrs: {
                              offset: "46",
                              title: "浮层遮罩颜色",
                              showEye: !1,
                              data: {
                                color: this.overlay.color,
                                type: 0,
                                isVisible: !0,
                              },
                            },
                            on: {
                              change: e.changeMaskColor,
                            },
                          }),
                        ],
                        1
                      )
                    : e._e(),
                ]
              ),
            ]
          );
        },
        Yf = [
          function () {
            var e = this,
              t = e.$createElement,
              i = e._self._c || t;
            return i(
              "div",
              {
                staticClass: "interaction-content-item",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "interaction-content-item-title",
                  },
                  [e._v("浮层设置")]
                ),
              ]
            );
          },
        ];
      let Xf = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.protoOverlayLocationList =
              Pe["e"].dictionaries.PROTO_OVERLAY_LOCATION_LIST()),
            (this.iconList = [
              {
                iconName: "OverlayCenterIcon",
                id: 1,
                describe: "正中心",
              },
              {
                iconName: "OverlayTopLeftIcon",
                id: 2,
                describe: "左上角",
              },
              {
                iconName: "OverlayBottomCenterIcon",
                id: 6,
                describe: "底中心",
              },
            ]);
        }
        get baseNode() {
          return Qi["a"].getNodeById(this.destinationId);
        }
        get protoOverlayLocationType() {
          return this.overlay.overlayPositionType;
        }
        changeOverlayPosition(e) {
          this.overlay.overlayPositionType !== e &&
            (this.baseNode.setOverlayPosition(e),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "prototype",
              action_parameter1: "interaction",
              action_parameter2: "overlayPosition",
              action_type: se["z"][e],
            }));
        }
        get isOverlayBackgroundInteraction() {
          return 1 === this.overlay.backgroundInteraction;
        }
        toggleClickOverlayOuterCloseOverlay() {
          const e = this.isOverlayBackgroundInteraction
            ? se["x"].NONE
            : se["x"].CLOSE_ON_CLICK_OUTSIDE;
          this.baseNode.toggleClickOverlayOuterCloseOverlay(e);
        }
        get isOverlayMask() {
          return !(0 === this.overlay.backgroundType);
        }
        toggleAddMaskBehindOverlay() {
          const e = this.isOverlayMask ? se["y"].NONE : se["y"].SOLID;
          this.baseNode.toggleAddMaskBehindOverlay(e);
        }
        get overlayBackgroundColor() {
          return this.overlay.color;
        }
        changeMaskColor(e) {
          this.baseNode.setMaskColor(e.color);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        Xf.prototype,
        "destinationId",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          Xf.prototype,
          "overlay",
          void 0
        ),
        (Xf = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                ColorItem: Yi["a"],
                MasterSelector: Pe["e"],
                MasterInput: pe["a"],
                BasicCheckbox: z["a"],
              },
            }),
          ],
          Xf
        ));
      var Zf = Xf,
        Jf = Zf,
        ey = (i("72c9"), Object(_["a"])(Jf, Qf, Yf, !1, null, null, null)),
        ty = ey.exports,
        iy = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i("div", [
            i(
              "div",
              {
                staticClass: "interaction-bezier-drag",
              },
              [
                i("canvas", {
                  ref: "canvas",
                }),
              ]
            ),
            i(
              "div",
              {
                staticClass: "interaction-content-item",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "interaction-content-item-title",
                  },
                  [e._v("预设")]
                ),
                i(
                  "div",
                  {
                    staticClass: "interaction-content-item-preinstall",
                  },
                  e._l(e.protoAnimationList, function (t, s) {
                    return i(
                      "div",
                      {
                        key: s,
                        staticClass: "interaction-content-item-preinstall-item",
                        on: {
                          click: function (i) {
                            return e.onPreinstallClick(t.value);
                          },
                        },
                      },
                      [
                        i(t.masterIcon, {
                          tag: "component",
                          attrs: {
                            size: "14",
                          },
                        }),
                      ],
                      1
                    );
                  }),
                  0
                ),
              ]
            ),
            i(
              "div",
              {
                staticClass: "interaction-content-item",
              },
              [
                i(
                  "div",
                  {
                    staticClass: "interaction-content-item-title",
                  },
                  [e._v("参数")]
                ),
                i("master-input", {
                  staticClass: "interaction-content__custominput",
                  attrs: {
                    placeholder: "",
                    focusSelectAll: !0,
                    value: e.value,
                    validate: e.validateBezierValue,
                    valueDecorator: e.valueDecorator.numDecorator,
                    dragAccuracy: 0.1,
                  },
                  on: {
                    change: e.onChangeValue,
                  },
                }),
              ],
              1
            ),
          ]);
        },
        sy = [];
      const oy = function (e, t, i) {
        let s,
          o,
          a = !1;
        for (s = 0; s < i.length; s++) {
          if (((o = (s + 1) % i.length), i[s][1] === i[o][1])) {
            if (t !== i[s][1]) continue;
            a =
              (e >= i[s][0] && e <= i[o][0]) || (e <= i[s][0] && e >= i[o][0]);
            break;
          }
          ((t >= i[s][1] && t <= i[o][1]) || (t <= i[s][1] && t >= i[o][1])) &&
            (i[s][0] * (t - i[o][1]) - i[o][0] * (t - i[s][1])) /
              (i[s][1] - i[o][1]) <=
              e &&
            (a = !a);
        }
        return a;
      };
      class ay {
        constructor({ x: e, y: t, r: i = 3, fillStyle: s }) {
          (this._x = e), (this._y = t), (this._r = i), (this.fillStyle = s);
        }
        get x() {
          return this._x * ny.scale;
        }
        set x(e) {
          this._x = e;
        }
        get y() {
          return this._y * ny.scale;
        }
        set y(e) {
          this._y = e;
        }
        get r() {
          return this._r * ny.scale;
        }
        set r(e) {
          this._r = e;
        }
      }
      class ny {
        constructor({
          canvas: e,
          value: t = [0, 0, 1, 1],
          left: i = 0,
          top: s = 0,
          width: o = 100,
          isDark: a = !1,
          limitY: n = 1e4,
          callback: r = () => {},
          dragStartCallback: c = () => {},
          dragEndCallback: l = () => {},
        }) {
          (this.themes = {
            dark: {
              coordColor: "hsla(0, 0%, 100%, 0.3)",
              lineColor: "#DEDEDE",
            },
            light: {
              coordColor: "hsla(0, 0%, 0%, 0.33)",
              lineColor: "#212121",
            },
          }),
            (this.actionColor = "#0256FF"),
            (this.lineBi = 1),
            (this.dragType = ""),
            (this.p1Rect = []),
            (this.p2Rect = []),
            (this.needUpdateValue = !1),
            (this.onMouseDown = (e) => {
              const t = this.canvas.getBoundingClientRect(),
                i = (e.clientX - t.left) * ny.scale,
                s = (e.clientY - t.top) * ny.scale;
              if (this.checkInPoint(i, s, this.p1))
                return (
                  this.option.dragStartCallback(),
                  (this.dragType = "p1"),
                  (this.p1.fillStyle = this.actionColor),
                  void this.draw()
                );
              if (this.checkInPoint(i, s, this.p2))
                return (
                  this.option.dragStartCallback(),
                  (this.dragType = "p2"),
                  (this.p2.fillStyle = this.actionColor),
                  void this.draw()
                );
              if (oy(i, s, this.p1Rect)) {
                this.option.dragStartCallback();
                const e = Math.sqrt(
                    (i - this.coord00.x) * (i - this.coord00.x) +
                      (s - this.coord00.y) * (s - this.coord00.y)
                  ),
                  t = Math.sqrt(
                    (i - this.p1.x) * (i - this.p1.x) +
                      (s - this.p1.y) * (s - this.p1.y)
                  );
                return (
                  (this.lineBi = e / (e + t)),
                  (this.dragType = "p1Line"),
                  (this.p1.fillStyle = this.actionColor),
                  void this.draw()
                );
              }
              if (oy(i, s, this.p2Rect)) {
                this.option.dragStartCallback();
                const e = Math.sqrt(
                    (i - this.coord11.x) * (i - this.coord11.x) +
                      (s - this.coord11.y) * (s - this.coord11.y)
                  ),
                  t = Math.sqrt(
                    (i - this.p2.x) * (i - this.p2.x) +
                      (s - this.p2.y) * (s - this.p2.y)
                  );
                return (
                  (this.lineBi = e / (e + t)),
                  (this.dragType = "p2Line"),
                  (this.p2.fillStyle = this.actionColor),
                  void this.draw()
                );
              }
              this.dragType = "";
            }),
            (this.onMouseUp = () => {
              this.dragType &&
                ((this.dragType = ""),
                this.needUpdateValue
                  ? ((this.needUpdateValue = !1), this.initElement())
                  : ((this.p1Rect = this.createRect(this.coord00, this.p1)),
                    (this.p2Rect = this.createRect(this.coord11, this.p2))),
                (this.p1.fillStyle = ""),
                (this.p2.fillStyle = ""),
                this.draw(),
                setTimeout(() => {
                  this.option.dragEndCallback();
                }, 200));
            }),
            (this.onMouseMove = (e) => {
              if (!this.dragType) return;
              const t = this.canvas.getBoundingClientRect(),
                i = e.clientX - t.left,
                s = e.clientY - t.top,
                o = (e) => {
                  const t = this.option.limitY;
                  let i;
                  return (
                    (i =
                      (this.option.width - (e - this.option.top)) /
                        this.option.width >
                      t
                        ? this.option.width -
                          this.option.width * t +
                          this.option.top
                        : (this.option.width - (e - this.option.top)) /
                            this.option.width <
                          -t
                        ? this.option.width +
                          t * this.option.width +
                          this.option.top
                        : e),
                    i
                  );
                },
                a = (e) => {
                  let t;
                  return (
                    (t =
                      e < this.coord00._x
                        ? this.coord00._x
                        : e > this.coord10._x
                        ? this.coord10._x
                        : e),
                    t
                  );
                };
              "p1" === this.dragType &&
                ((this.p1.x = a(i)), (this.p1.y = o(s)), this.draw()),
                "p2" === this.dragType &&
                  ((this.p2.x = a(i)), (this.p2.y = o(s)), this.draw()),
                "p1Line" === this.dragType &&
                  ((this.p1.x = a(
                    (i - this.coord00._x) / this.lineBi + this.coord00._x
                  )),
                  (this.p1.y = o(
                    this.coord00._y - (this.coord00._y - s) / this.lineBi
                  )),
                  this.draw()),
                "p2Line" === this.dragType &&
                  ((this.p2.x = a(
                    (i - this.coord11._x) / this.lineBi + this.coord11._x
                  )),
                  (this.p2.y = o(
                    this.coord11._y - (this.coord11._y - s) / this.lineBi
                  )),
                  this.draw()),
                void 0 === this.throttleT &&
                  (this.throttleT = setTimeout(() => {
                    this.option.callback(
                      this.canvasCoordToMathCoord(
                        this.p1._x,
                        this.p1._y,
                        this.p2._x,
                        this.p2._y
                      ).map((e) => parseFloat(e.toFixed(2)))
                    ),
                      (this.throttleT = void 0);
                  }, 100));
            }),
            (e.width = e.clientWidth * ny.scale),
            (e.height = e.clientHeight * ny.scale),
            (this.canvas = e),
            (this.option = {
              canvas: e,
              value: t,
              left: i,
              top: s,
              width: o,
              callback: r,
              isDark: a,
              limitY: n,
              dragStartCallback: c,
              dragEndCallback: l,
            }),
            (this.ctx = e.getContext("2d")),
            (this.theme = a ? this.themes.dark : this.themes.light),
            this.initElement(),
            this.draw(),
            e.addEventListener("mousedown", this.onMouseDown),
            document.addEventListener("mouseup", this.onMouseUp),
            document.addEventListener("mousemove", this.onMouseMove);
        }
        destory() {
          this.canvas.removeEventListener("mousedown", this.onMouseDown),
            document.removeEventListener("mouseup", this.onMouseUp),
            document.removeEventListener("mousemove", this.onMouseMove);
        }
        setValue(e) {
          (this.option.value = e),
            this.dragType
              ? (this.needUpdateValue = !0)
              : (this.initElement(), this.draw());
        }
        setTheme(e) {
          (this.theme = e ? this.themes.dark : this.themes.light), this.draw();
        }
        initElement() {
          (this.coord00 = new ay({
            x: this.option.left,
            y: this.option.top + this.option.width,
          })),
            (this.coord01 = new ay({
              x: this.option.left,
              y: this.option.top,
            })),
            (this.coord10 = new ay({
              x: this.option.left + this.option.width,
              y: this.option.top + this.option.width,
            })),
            (this.coord11 = new ay({
              x: this.option.left + this.option.width,
              y: this.option.top,
            })),
            (this.p1 = new ay({
              x: this.option.left + this.option.value[0] * this.option.width,
              y:
                this.option.top +
                this.option.width -
                this.option.value[1] * this.option.width,
              r: 5,
            })),
            (this.p2 = new ay({
              x: this.option.left + this.option.value[2] * this.option.width,
              y:
                this.option.top +
                this.option.width -
                this.option.value[3] * this.option.width,
              r: 5,
            })),
            (this.p1Rect = this.createRect(this.coord00, this.p1)),
            (this.p2Rect = this.createRect(this.coord11, this.p2));
        }
        createRect(e, t) {
          const i = t.x - e.x,
            s = t.y - e.y,
            o = Math.sqrt(i * i + s * s),
            a = i / o,
            n = s / o;
          return [
            [t.x - t.r * n, t.y + t.r * a],
            [t.x + t.r * n, t.y - t.r * a],
            [e.x + t.r * n, e.y - t.r * a],
            [e.x - t.r * n, e.y + t.r * a],
          ];
        }
        draw() {
          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height),
            this.drawBg(),
            this.drawMain();
        }
        drawBg() {
          this.drawPoint(this.coord00),
            this.drawPoint(this.coord11),
            this.ctx.save(),
            (this.ctx.lineWidth = 1 * ny.scale),
            (this.ctx.strokeStyle = this.theme.coordColor),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord00.x, this.coord00.y),
            this.ctx.lineTo(this.coord01.x, this.coord01.y),
            this.ctx.stroke(),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord01.x, this.coord01.y),
            this.ctx.setLineDash([20, 5]),
            this.ctx.lineTo(this.coord11.x, this.coord11.y),
            this.ctx.stroke(),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord11.x, this.coord11.y),
            this.ctx.setLineDash([20, 5]),
            this.ctx.lineTo(this.coord10.x, this.coord10.y),
            this.ctx.stroke(),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord10.x, this.coord10.y),
            this.ctx.setLineDash([]),
            this.ctx.lineTo(this.coord00.x, this.coord00.y),
            this.ctx.stroke(),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord00.x, this.coord00.y),
            this.ctx.setLineDash([]),
            this.ctx.lineTo(this.coord11.x, this.coord11.y),
            this.ctx.stroke(),
            this.ctx.restore();
        }
        drawPoint(e) {
          this.ctx.save(),
            (this.ctx.lineWidth = 1 * ny.scale),
            this.ctx.beginPath(),
            this.ctx.arc(e.x, e.y, e.r, 0, 2 * Math.PI),
            this.ctx.closePath(),
            (e !== this.p1 && e !== this.p2) ||
              (this.ctx.strokeStyle = this.theme.lineColor),
            e.fillStyle
              ? (this.ctx.fillStyle = e.fillStyle)
              : (this.ctx.fillStyle = this.theme.lineColor),
            this.ctx.fill(),
            this.ctx.stroke(),
            this.ctx.restore();
        }
        drawPointLine(e) {
          this.ctx.save(),
            (this.ctx.lineWidth = 1 * ny.scale),
            this.ctx.beginPath(),
            (this.ctx.strokeStyle = this.theme.lineColor),
            1 === e
              ? (this.ctx.moveTo(this.coord00.x, this.coord00.y),
                this.ctx.lineTo(this.p1.x, this.p1.y))
              : (this.ctx.moveTo(this.coord11.x, this.coord11.y),
                this.ctx.lineTo(this.p2.x, this.p2.y)),
            this.ctx.stroke(),
            this.ctx.restore();
        }
        drawBezier() {
          this.ctx.save(),
            (this.ctx.lineWidth = 1 * ny.scale),
            (this.ctx.strokeStyle = this.theme.lineColor),
            this.ctx.beginPath(),
            this.ctx.moveTo(this.coord00.x, this.coord00.y),
            this.ctx.bezierCurveTo(
              this.p1.x,
              this.p1.y,
              this.p2.x,
              this.p2.y,
              this.coord11.x,
              this.coord11.y
            ),
            this.ctx.stroke(),
            this.ctx.restore();
        }
        drawPointLineRect(e) {
          this.ctx.save(),
            this.ctx.beginPath(),
            e.forEach((e, t) => {
              0 === t
                ? this.ctx.moveTo(e[0], e[1])
                : this.ctx.lineTo(e[0], e[1]);
            }),
            this.ctx.closePath(),
            this.ctx.stroke(),
            this.ctx.restore();
        }
        drawMain() {
          this.drawPointLine(1),
            this.drawPoint(this.p1),
            this.drawPointLine(2),
            this.drawPoint(this.p2),
            this.drawBezier();
        }
        checkInPoint(e, t, i) {
          const s = i.x - e,
            o = i.y - t;
          return s * s + o * o <= i.r * i.r;
        }
        canvasCoordToMathCoord(e, t, i, s) {
          return [
            (e - this.option.left) / this.option.width,
            (this.option.width - (t - this.option.top)) / this.option.width,
            (i - this.option.left) / this.option.width,
            (this.option.width - (s - this.option.top)) / this.option.width,
          ];
        }
      }
      ny.scale = 3;
      const ry = [
        [0, 0, 1, 1],
        [0.42, 0, 1, 1],
        [0, 0, 0.58, 1],
        [0.42, 0, 0.58, 1],
        [0.6, -0.28, 0.735, 0.045],
        [0.175, 0.885, 0.32, 1.275],
        [0.68, -0.55, 0.265, 1.55],
      ];
      let cy = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.valueDecorator = Cs),
            (this.limitY = 1e4),
            (this.protoAnimationList = Object(
              Ub["PROTO_ANIMATION_LIST"]
            )().slice(1, 7));
        }
        mounted() {
          this.bezierDragPlugin = new ny({
            canvas: this.$refs.canvas,
            value: this.value,
            width: 100,
            left: 64,
            top: 64,
            isDark: this.isDark,
            limitY: this.limitY,
            callback: (e) => {
              this.emitValue(e);
            },
            dragStartCallback: () => {
              k["a"].mergeStepStart();
            },
            dragEndCallback: () => {
              k["a"].mergeStepEnd();
            },
          });
        }
        beforeDestroy() {
          this.bezierDragPlugin.destory();
        }
        validateBezierValue(e, t, i) {
          const s = +e;
          return Number.isNaN(s)
            ? t[i]
            : 0 === i || 2 === i
            ? s < 0
              ? 0
              : s > 1
              ? 1
              : s
            : s > this.limitY
            ? this.limitY
            : s < -this.limitY
            ? -this.limitY
            : s;
        }
        isDarkHandler() {
          this.bezierDragPlugin.setTheme(this.isDark);
        }
        valueHandler() {
          this.bezierDragPlugin.setValue(this.value);
        }
        onPreinstallClick(e) {
          this.emitValue(ry[e]);
        }
        onChangeValue(e, t, i) {
          const s = [...this.value];
          (s[i] = parseFloat(e)), this.emitValue(s);
        }
        emitValue(e) {
          const t = {
            x1: e[0],
            y1: e[1],
            x2: e[2],
            y2: e[3],
          };
          this.$emit("change", t);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !0,
          }),
        ],
        cy.prototype,
        "value",
        void 0
      ),
        Object(a["__decorate"])(
          [Object(n["h"])("isDark")],
          cy.prototype,
          "isDarkHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("value", {
              deep: !0,
            }),
          ],
          cy.prototype,
          "valueHandler",
          null
        ),
        (cy = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(r["e"])({
                  isDark: (e) => e.main.isDark,
                })
              ),
            }),
          ],
          cy
        ));
      var ly = cy,
        dy = ly,
        uy =
          (i("3468"), Object(_["a"])(dy, iy, sy, !1, null, "885745a8", null)),
        hy = uy.exports;
      const py = [
        [0, 0, 1, 1],
        [0.42, 0, 1, 1],
        [0, 0, 0.58, 1],
        [0.42, 0, 0.58, 1],
        [0.6, -0.28, 0.735, 0.045],
        [0.175, 0.885, 0.32, 1.275],
        [0.68, -0.55, 0.265, 1.55],
      ];
      let my = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.valueDecorator = Cs),
            (this.FlowActionTypeScrollTo = Ub["FlowActionType"].ScrollTo),
            (this.tagertScrollToList = []),
            (this.protoAnimationList =
              Pe["e"].dictionaries.PROTO_ANIMATION_LIST()),
            (this.protoAnimationDirection =
              Pe["e"].dictionaries.DIRECTION_TRANSITION_LIST()),
            (this.checkSecond = ut["checkSecond"]),
            (this.SecondDecorator = Cs["SecondDecorator"]),
            (this.keyUpDownHandler = (e, t, i) => Object(Z["ob"])(e, t, i, 10)),
            (this.currentVariantProp = []),
            (this.currentComponentStatus = []),
            (this.openTarget = !1);
        }
        createTagertScrollToList(e) {
          var t, i;
          let s = this.actionInfo.layerId;
          const o = Object(j["d"])(),
            a = [];
          while (s) {
            const e = null === (t = o[s]) || void 0 === t ? void 0 : t.parent;
            if (!e) break;
            s = e;
          }
          function n(e) {
            return !(
              9 !== e.type ||
              e.isFrame ||
              e.isComponent ||
              e.isComponentSet ||
              e.isInstance
            );
          }
          let r;
          const c = (e, t, i, s) => {
            var a, l;
            const d = o[e];
            d &&
              (t[i] || (t[i] = []),
              s &&
              9 === d.type &&
              d.isFrame &&
              !d.isComponentSet &&
              d.children &&
              d.children.length
                ? (t[i].push({
                    value: d.id + ":scrollToTitle",
                    label: d.name,
                    disabled: !0,
                  }),
                  d.children.forEach((e, s) => {
                    const a = o[e];
                    e === this.actionInfo.layerId ||
                      n(a) ||
                      (t[i].push({
                        value: a.id,
                        label: a.name,
                        divid: s === d.children.length - 1,
                      }),
                      a.id === this.actionInfo.action.destinationId &&
                        (r = !0)),
                      c(a.id, t, i + 1);
                  }))
                : 9 === d.type &&
                  d.isFrame &&
                  !d.isComponentSet &&
                  d.children &&
                  d.children.length &&
                  0 !==
                    (null ===
                      (l =
                        null === (a = I["b"].getLayerPrototypeById(d.id)) ||
                        void 0 === a
                          ? void 0
                          : a.data) || void 0 === l
                      ? void 0
                      : l.overflowDirection) &&
                  (t[i].push({
                    value: d.id + ":scrollToTitle",
                    label: d.name,
                    disabled: !0,
                  }),
                  d.children.forEach((e, s) => {
                    const a = o[e];
                    e === this.actionInfo.layerId ||
                      n(a) ||
                      (t[i].push({
                        value: a.id,
                        label: a.name,
                        divid: s === d.children.length - 1,
                      }),
                      a.id === this.actionInfo.action.destinationId &&
                        (r = !0)),
                      c(a.id, t, i + 1);
                  })));
          };
          if (
            (c(s, a, 0, !0), e && this.actionInfo.action.destinationId && !r)
          ) {
            let e = this.actionInfo.action.destinationId;
            while (e) {
              const t = null === (i = o[e]) || void 0 === i ? void 0 : i.parent;
              if (!t) break;
              e = t;
            }
            if (!a[0].length)
              if (this.actionInfo.action.destinationId === e)
                a[0] = [
                  {
                    value: "none:scrollToTitle",
                    label: "其他图层",
                    disabled: !0,
                  },
                ];
              else {
                const t = o[e];
                a[0] = [
                  {
                    value: t.id + ":scrollToTitle",
                    label: t.name,
                    disabled: !0,
                  },
                ];
              }
            const t = o[this.actionInfo.action.destinationId];
            (a[0][a[0].length - 1].divid = !1),
              a[0].push({
                value: t.id,
                label: t.name,
                divid: !0,
              });
          }
          return a.flat();
        }
        checkScrollToOffset(e, t) {
          const i = +e;
          return Number.isNaN(i) ? t : Number(i.toFixed(2));
        }
        changeScrollToXOffset(e) {
          this.$emit("change", {
            action: {
              scrollToXOffset: e,
            },
          });
        }
        changeScrollToYOffset(e) {
          this.$emit("change", {
            action: {
              scrollToYOffset: e,
            },
          });
        }
        get protoEventList() {
          const e = {};
          this.actionList.forEach((t) => {
            e[t.trigger.type] = !0;
          });
          const t = Pe["e"].dictionaries.PROTO_EVENT_LIST();
          return (
            t.forEach((t) => {
              t.disabled =
                !!e[t.value] && t.value !== this.actionInfo.trigger.type;
            }),
            (t[t.length - 1].disabled =
              !this.frameList.includes(this.actionInfo.layerId) &&
              !this.allPartOfCompoentSet),
            t
          );
        }
        get actionType() {
          if (this.actionInfo.action.type === se["a"].NONE)
            return Ub["FlowActionType"].None;
          if (this.actionInfo.action.type === se["a"].BACK)
            return Ub["FlowActionType"].BackTo;
          if (this.actionInfo.action.type === se["a"].URL)
            return Ub["FlowActionType"].OpenLink;
          if (this.actionInfo.action.type === se["a"].NODE) {
            if (this.actionInfo.action.navigation === se["v"].SWAP)
              return Ub["FlowActionType"].SwipTo;
            if (this.actionInfo.action.navigation === se["v"].NAVIGATE)
              return Ub["FlowActionType"].NavigateTo;
            if (this.actionInfo.action.navigation === se["v"].OVERLAY)
              return Ub["FlowActionType"].OpenOverlay;
            if (this.actionInfo.action.navigation === se["v"].SWAP_OVERLAY)
              return Ub["FlowActionType"].SwapOverlay;
            if (this.actionInfo.action.navigation === se["v"].SCROLL_TO)
              return Ub["FlowActionType"].ScrollTo;
            if (this.actionInfo.action.navigation === se["v"].CHANGE_TO)
              return Ub["FlowActionType"].ChangeTo;
          }
          return this.actionInfo.action.type === se["a"].CLOSE
            ? Ub["FlowActionType"].CloseOverlay
            : -1;
        }
        get showChangeToArea() {
          return this.actionType === Ub["FlowActionType"].ChangeTo;
        }
        get iconMap() {
          const e = this.protoEventList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.masterIcon;
            }),
            t
          );
        }
        get actionMap() {
          const e = this.protoActionList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.masterIcon;
            }),
            t
          );
        }
        get transitionMap() {
          const e = this.protoTransitionList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.masterIcon;
            }),
            t
          );
        }
        get transitionScrollToMap() {
          const e = this.protoScrollToTransitionList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.masterIcon;
            }),
            t
          );
        }
        get easingMap() {
          const e = this.protoAnimationList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.masterIcon;
            }),
            t
          );
        }
        get showDelay() {
          return this.actionInfo.trigger.type === se["N"].AFTER_DELAY;
        }
        get showLink() {
          return this.actionInfo.action.type === se["a"].URL;
        }
        get protoScrollToTransitionList() {
          return Pe["e"].dictionaries.PROTO_SCROLL_TO_TRANSITION_LIST();
        }
        get protoTransitionList() {
          return Pe["e"].dictionaries.PROTO_TRANSITION_LIST(
            this.actionInfo.action.navigation
          );
        }
        get protoActionList() {
          return Pe["e"].dictionaries.PROTO_ACTION_LIST(!this.currentNodeId);
        }
        get overlaySettingNotClose() {
          return !(this.actionInfo.action.type === se["a"].CLOSE);
        }
        get overlaySettingVisible() {
          const e = this.actionInfo.action.type === se["a"].CLOSE,
            t = this.actionInfo.action.navigation === se["v"].OVERLAY,
            i = this.actionInfo.action.type === se["a"].NODE,
            s = "" === this.actionInfo.action.destinationId;
          return !e && !s && i && t;
        }
        get showAnimation() {
          return (
            this.actionInfo.action.type !== se["a"].URL &&
            this.actionInfo.action.type !== se["a"].BACK &&
            this.overlaySettingNotClose
          );
        }
        get targetVisible() {
          return (
            this.actionInfo.action.type === se["a"].NODE &&
            this.overlaySettingNotClose
          );
        }
        get transitionVisible() {
          var e;
          return (
            (null === (e = this.actionInfo.action) || void 0 === e
              ? void 0
              : e.transition.type) !== se["M"].INSTANT
          );
        }
        get directionVisible() {
          var e;
          return [
            se["M"].MOVE_IN,
            se["M"].MOVE_OUT,
            se["M"].PUSH,
            se["M"].SLIDE_IN,
            se["M"].SLIDE_OUT,
          ].includes(
            null === (e = this.actionInfo.action) || void 0 === e
              ? void 0
              : e.transition.type
          );
        }
        get transitionType() {
          var e;
          return null === (e = this.actionInfo.action) || void 0 === e
            ? void 0
            : e.transition.type;
        }
        get transitionEasing() {
          var e;
          return null === (e = this.actionInfo.action) || void 0 === e
            ? void 0
            : e.transition.easing.type;
        }
        mounted() {
          this.actionType === Ub["FlowActionType"].ScrollTo &&
            (this.tagertScrollToList = this.createTagertScrollToList(!0));
        }
        get easingFunctionCubicBezier() {
          var e;
          return null === (e = this.actionInfo.action) || void 0 === e
            ? void 0
            : e.transition.easing.easingFunctionCubicBezier;
        }
        get customBesierValue() {
          return [
            this.easingFunctionCubicBezier.x1,
            this.easingFunctionCubicBezier.y1,
            this.easingFunctionCubicBezier.x2,
            this.easingFunctionCubicBezier.y2,
          ];
        }
        get transitionDirection() {
          var e;
          return null === (e = this.actionInfo.action) || void 0 === e
            ? void 0
            : e.transition.direction;
        }
        get transitionDuration() {
          var e;
          return null === (e = this.actionInfo.action) || void 0 === e
            ? void 0
            : e.transition.duration;
        }
        get currentFrame() {
          let e = "";
          return (
            (e =
              0 === this.actionInfo.action.type
                ? "-1"
                : this.actionInfo.action.destinationId),
            this.tagertFrameList.find((t) => t.value === e) || {}
          );
        }
        currentVariantPropHandler() {
          var e, t, i, s;
          try {
            const o = Object(j["d"])();
            let a = o[this.actionInfo.layerId],
              n = !1;
            while (a && !a.isInstance && !a.isComponent)
              (a = o[a.parent]), (n = !0);
            const r = a.id,
              c = I["b"].getLayerPropertyById(r);
            let l;
            c.isInstance
              ? (l = c.componentSetKey)
              : c.isComponent && (l = this.componentMap[r].parentId);
            const d = this.actionInfo.action.destinationId,
              u =
                (null === (e = this.componentMap[d]) || void 0 === e
                  ? void 0
                  : e.parentId) ||
                (null === (t = this.libraryComponentSetMap[d]) || void 0 === t
                  ? void 0
                  : t.parentId);
            let h;
            (h =
              u === l && I["b"].getLayerPropertyById(u).isComponentSet ? d : r),
              (this.currentNodeId = h),
              (this.currentVariantProp =
                (null === (i = I["b"].getVariantPropertiesById(h)) ||
                void 0 === i
                  ? void 0
                  : i.data) || []),
              n && k["a"].layers.select([]),
              (this.currentComponentStatus =
                (null === (s = I["b"].getComponentSetListValById(h)) ||
                void 0 === s
                  ? void 0
                  : s.data) || []),
              n && k["a"].layers.select(this.selectIds);
          } catch (o) {
            (this.currentNodeId = ""),
              (this.currentVariantProp = []),
              (this.currentComponentStatus = []);
          }
        }
        hideMenu() {
          (this.openTarget = !1), this.$emit("update:openInteraction", !1);
        }
        changeEventTypeHandler(e) {
          const t = {
            type: e,
          };
          e === se["N"].AFTER_DELAY &&
            0 === this.actionInfo.trigger.delay &&
            (t.delay = 800),
            this.$emit("change", {
              trigger: t,
            }),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "prototype",
              action_parameter1: "interaction",
              action_parameter2: "trigger",
              action_type: se["N"][e],
            });
        }
        updateTriggerDelay(e) {
          this.$emit("change", {
            trigger: {
              delay: +e,
            },
          });
        }
        updateTriggerUrl(e) {
          this.$emit("change", {
            action: {
              url: e,
            },
          });
        }
        changeTransitionDurationHandler(e) {
          this.$emit("change", {
            action: {
              duration: 0 === e ? 1 : +e,
            },
          });
        }
        changeActionTypeHandler(e) {
          if (e === this.actionType) return;
          const t = this.transitionType;
          ((this.actionType === Ub["FlowActionType"].ScrollTo &&
            e !== Ub["FlowActionType"].ScrollTo &&
            t === se["M"].DISPLACE) ||
            (e === Ub["FlowActionType"].ScrollTo &&
              this.actionType !== Ub["FlowActionType"].ScrollTo &&
              t !== se["M"].INSTANT)) &&
            this.changeTransitionTypeHandler(0),
            this.actionType === Ub["FlowActionType"].BackTo &&
              this.$emit("change", {
                action: {
                  destinationId: "",
                },
              });
          let i = this.actionInfo.action.destinationId;
          switch (
            (this.actionInfo.action.navigation === se["v"].CHANGE_TO &&
              (i = ""),
            this.actionType === Ub["FlowActionType"].ScrollTo && (i = ""),
            e)
          ) {
            case Ub["FlowActionType"].None:
              this.$emit("change", {
                action: {
                  type: se["a"].NONE,
                  destinationId: i,
                },
              });
              break;
            case Ub["FlowActionType"].NavigateTo:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].NAVIGATE,
                  destinationId: i,
                  mine: "hello",
                },
              });
              break;
            case Ub["FlowActionType"].SwipTo:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].SWAP,
                  destinationId: i,
                },
              });
              break;
            case Ub["FlowActionType"].BackTo:
              this.$emit("change", {
                action: {
                  type: se["a"].BACK,
                  destinationId: i,
                },
              });
              break;
            case Ub["FlowActionType"].OpenLink:
              this.$emit("change", {
                action: {
                  type: se["a"].URL,
                  destinationId: i,
                },
              }),
                O["a"].nextFrame(() => {
                  this.$nextTick(() => {
                    const e = this.$refs.actionUrl;
                    e && e.focus && e.focus();
                  });
                });
              break;
            case Ub["FlowActionType"].OpenOverlay:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].OVERLAY,
                  destinationId: i,
                },
              }),
                Ub["openOverlayDisable"].has(t) &&
                  this.changeTransitionTypeHandler(0);
              break;
            case Ub["FlowActionType"].CloseOverlay:
              this.$emit("change", {
                action: {
                  type: se["a"].CLOSE,
                  destinationId: i,
                },
              });
              break;
            case Ub["FlowActionType"].SwapOverlay:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].SWAP_OVERLAY,
                  destinationId: i,
                },
              }),
                Ub["swapOverlayDisable"].has(t) &&
                  this.changeTransitionTypeHandler(0);
              break;
            case Ub["FlowActionType"].ScrollTo:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].SCROLL_TO,
                  destinationId: "",
                },
              });
              break;
            case Ub["FlowActionType"].ChangeTo:
              this.$emit("change", {
                action: {
                  type: se["a"].NODE,
                  navigation: se["v"].CHANGE_TO,
                  destinationId: "",
                },
              });
              break;
            default:
              break;
          }
          _e["c"].track(_e["a"].EVENT_CLICK, {
            action_position: "canvas",
            action_parameter0: "prototype",
            action_parameter1: "interaction",
            action_parameter2: "action",
            action_type: Ub["FlowActionType"][e],
          });
        }
        actionTypeHandler(e) {
          e === Ub["FlowActionType"].ScrollTo &&
            (this.tagertScrollToList = this.createTagertScrollToList());
        }
        overlaySettingVisibleHandler(e) {
          if (e) {
            let e;
            (e = this.actionInfo.overlay
              ? se["z"][this.actionInfo.overlay.overlayPositionType]
              : se["z"][1]),
              _e["c"].track(_e["a"].EVENT_CLICK, {
                action_position: "canvas",
                action_parameter0: "prototype",
                action_parameter1: "interaction",
                action_parameter2: "overlayPosition",
                action_type: e,
              });
          }
        }
        changeTransitionTypeHandler(e) {
          const t = {
            transitionType: e,
            direction: se["L"].LEFT,
          };
          e === se["M"].SMART_ANIMATE &&
            x["n"].setLog("INFO", "userAction", "prototype set smart"),
            e === se["M"].INSTANT ||
              this.actionInfo.action.duration ||
              (t.duration = 300),
            this.$emit("change", {
              action: t,
            }),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "prototype",
              action_parameter1: "interaction",
              action_parameter2: "animationType",
              action_type: se["M"][e],
            });
        }
        changeTransitionDirectionHandler(e) {
          this.$emit("change", {
            action: {
              direction: e,
            },
          });
        }
        changeTransitionEasingHandler(e) {
          x["n"].setLog(
            "INFO",
            "userAction",
            "prototype set transition easing"
          ),
            7 === e && 7 !== this.transitionEasing
              ? this.$emit("change", {
                  action: {
                    easingType: e,
                    easingFunctionCubicBezier: {
                      x1: py[this.transitionEasing][0],
                      y1: py[this.transitionEasing][1],
                      x2: py[this.transitionEasing][2],
                      y2: py[this.transitionEasing][3],
                    },
                  },
                })
              : this.$emit("change", {
                  action: {
                    easingType: e,
                  },
                }),
            _e["c"].track(_e["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "prototype",
              action_parameter1: "interaction",
              action_parameter2: "animation",
              action_type: se["h"][e],
            });
        }
        changeTransitionCustomBezier(e) {
          this.$emit("change", {
            action: {
              easingFunctionCubicBezier: e,
            },
          });
        }
        changeFrame(e) {
          this.$emit("change", {
            action: {
              destinationId: e,
            },
          });
        }
        blurOrClose() {
          const e = this.$refs.dynamicEffect;
          requestAnimationFrame(() => {
            setTimeout(() =>
              null === e || void 0 === e ? void 0 : e.animationGo("noHover")
            );
          });
        }
        handleVariantChange(e, t) {
          var i;
          const s = t.property,
            o =
              (null ===
                (i = I["b"].getVariantPropertiesById(this.currentNodeId)) ||
              void 0 === i
                ? void 0
                : i.data) || [],
            a = I["b"].getLayerPropertyById(this.currentNodeId),
            n = a.isComponent ? a.parent : a.componentSetKey,
            r = o.find((e) => e.property === s);
          r.value = e;
          let c = 0,
            l = "";
          Object.values(this.componentMap).forEach((e) => {
            if (e.parentId === n) {
              const t = Object(Z["o"])(e.name),
                i = o.reduce(
                  (e, i) => e + Number(i.value === t[i.property]),
                  0
                );
              i > c && ((c = i), (l = e.id));
            }
          }),
            Object.keys(this.libraryComponentSetMap).forEach((e) => {
              const t = this.libraryComponentSetMap[e];
              if (t.parentId === n) {
                const i = Object(Z["o"])(t.name),
                  s = o.reduce(
                    (e, t) => e + Number(t.value === i[t.property]),
                    0
                  );
                s > c && ((c = s), (l = e));
              }
            }),
            l && this.changeFrame(l === this.actionInfo.layerId ? "" : l);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        my.prototype,
        "openInteraction",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !0,
            }),
          ],
          my.prototype,
          "actionInfo",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
              default: () => [],
            }),
          ],
          my.prototype,
          "actionList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("actionInfo.action.destinationId", {
              immediate: !0,
            }),
          ],
          my.prototype,
          "currentVariantPropHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("actionType")],
          my.prototype,
          "actionTypeHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("overlaySettingVisible")],
          my.prototype,
          "overlaySettingVisibleHandler",
          null
        ),
        (my = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterSelector: Pe["e"],
                MasterMenu: Pe["d"],
                DynamicEffect: Kf,
                OverLaySetting: ty,
                IconInput: Xs["a"],
                VariantItem: Da,
                CustomBezier: hy,
                Newscroll: St["a"],
              },
              computed: Object.assign(
                Object.assign(
                  {},
                  Object(r["e"])({
                    frameList: (e) => e.newLayer.frameList,
                    flows: (e) => e.prototype.flows,
                    selectIds: (e) => e.basicState.selectIds,
                    componentMap: (e) => e.component.componentMap,
                    libraryComponentSetMap: (e) =>
                      e.component.libraryComponentSetMap,
                    versionCatlog: (e) => e.component.versionCatlog,
                    componentStatus: (e) => e.component.componentStatus,
                    variantProperties: (e) => e.component.variantProperties,
                    childrenMap: (e) => e.newLayer.childrenMap,
                    layerMap: (e) => e.newLayer.layerMap,
                    allPartOfCompoentSet: (e) =>
                      e.basicProps.item.allPartOfCompoentSet,
                  })
                ),
                {
                  tagertFrameList() {
                    var e, t;
                    let i = this.actionInfo.layerId;
                    const s = Object(j["d"])();
                    while (i) {
                      const t =
                        null === (e = s[i]) || void 0 === e ? void 0 : e.parent;
                      if (!t) break;
                      i = t;
                    }
                    const o = this.frameList
                      .filter((e) => e !== i)
                      .map((e) => {
                        var t;
                        return {
                          value: e,
                          label:
                            null === (t = s[e]) || void 0 === t
                              ? void 0
                              : t.name,
                        };
                      });
                    return (
                      o.length !== this.frameList.length &&
                        (o[o.length - 1] && (o[o.length - 1].divid = !0),
                        o.push({
                          value: i,
                          label:
                            null === (t = s[i]) || void 0 === t
                              ? void 0
                              : t.name,
                          disabled: !0,
                        })),
                      o
                    );
                  },
                }
              ),
            }),
          ],
          my
        ));
      var gy = my,
        by = gy,
        vy =
          (i("073e"), Object(_["a"])(by, jf, Mf, !1, null, "23322e5c", null)),
        fy = vy.exports;
      let yy = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.ActionType = se["a"]),
            (this.openInteraction = !1);
        }
        currentReactionhandler(e, t) {
          e &&
            this.isDifferent(e, t) &&
            this.$nextTick(() => {
              1 === e.length && e[0] === this.scope.data.id && this.show(),
                e.length > 1 && this.hide();
              const t = e.indexOf(this.scope.data.id),
                i = this.selectList.indexOf(this.scope.data.id);
              !~t && ~i
                ? this.selectList.splice(i, 1)
                : ~t &&
                  !~i &&
                  (this.setSelectProps({
                    type: this.type,
                    styleId: this.styleId,
                    styleItemId: "",
                  }),
                  this.selectList.push(this.scope.data.id));
            });
        }
        get frameInfo() {
          var e, t, i, s;
          const o = Object(j["d"])(),
            a = this.scope.data.action.type,
            n = this.scope.data.action.navigation,
            r =
              (null === (e = o[this.scope.data.action.destinationId]) ||
              void 0 === e
                ? void 0
                : e.name) ||
              (this.scope.data.action.destinationId ? "(missing)" : "");
          if (a === se["a"].NONE) return ["", ""];
          if (a === se["a"].BACK) return ["BackToIcon", "返回上一级"];
          if (a === se["a"].URL)
            return ["OpenLinkIcon", this.scope.data.action.url];
          if (a === se["a"].CLOSE) return ["OverlayCloseIcon", "关闭浮层"];
          if (a === se["a"].NODE && n === se["v"].SCROLL_TO)
            return ["ScrollToNewIcon", r];
          if (a === se["a"].NODE && n === se["v"].OVERLAY)
            return ["OverlayOpenIcon", r];
          if (a === se["a"].NODE && n === se["v"].SWAP_OVERLAY)
            return ["OverlaySwapIcon", r];
          if (a === se["a"].NODE && n === se["v"].CHANGE_TO) {
            let e = "";
            if (this.scope.data.action.destinationId) {
              const s = Object(ti["c"])(
                (null ===
                  (t =
                    this.componentMap[this.scope.data.action.destinationId]) ||
                void 0 === t
                  ? void 0
                  : t.name) ||
                  (null ===
                    (i =
                      this.usedComponentMap[
                        this.versionCatlog[this.scope.data.action.destinationId]
                      ]) || void 0 === i
                    ? void 0
                    : i.name) ||
                  "(missing)"
              );
              e = Object.values(s).join(",");
            }
            return ["ChangeToIcon", e];
          }
          return [
            "NavigateToIcon",
            (null === (s = o[this.scope.data.action.destinationId]) ||
            void 0 === s
              ? void 0
              : s.name) ||
              (this.scope.data.action.destinationId ? "(missing)" : ""),
          ];
        }
        changeInteraction(e, t) {
          k["a"].selector.reactions.updateItem(
            Object.assign(Object.assign({}, e), {
              index: String(t),
            })
          );
        }
        show() {
          this.openInteraction || (this.openInteraction = !0);
        }
        hide() {
          this.openInteraction && (this.openInteraction = !1);
        }
        close() {}
        open() {}
        triggerHandler(e) {
          this.currentReaction.length < 2 &&
            !e &&
            k["a"].setCurrentReactions([]);
        }
        isDifferent(e, t) {
          if (!e || !t || e.length !== t.length) return !0;
          const i = {};
          for (let s = 0; s < e.length; s++) i[e[s]] = !0;
          for (let s = 0; s < t.length; s++) if (!i[t[s]]) return !0;
          return !1;
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            default: !1,
            required: !1,
          }),
        ],
        yy.prototype,
        "scope",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "frame",
              required: !1,
            }),
          ],
          yy.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "click",
              required: !1,
            }),
          ],
          yy.prototype,
          "trigger",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          yy.prototype,
          "styleId",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("currentReaction", {
              immediate: !0,
            }),
          ],
          yy.prototype,
          "currentReactionhandler",
          null
        ),
        (yy = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                Interaction: fy,
                Bounced: Ys["a"],
              },
              computed: Object.assign(
                {},
                Object(r["e"])({
                  currentReaction: (e) => e.prototype.currentReaction,
                  selectList: (e) => e.basicState.selectProps.list,
                  componentMap: (e) => e.component.componentMap,
                  usedComponentMap: (e) => e.component.usedComponentMap,
                  versionCatlog: (e) => e.component.versionCatlog,
                })
              ),
              methods: Object.assign(
                {},
                Object(r["b"])("basicState", ["setSelectProps"])
              ),
            }),
          ],
          yy
        ));
      var _y = yy,
        Cy = _y,
        Sy =
          (i("b6ea"), Object(_["a"])(Cy, Af, Tf, !1, null, "af8bbdee", null)),
        Iy = Sy.exports;
      let Oy = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.openFlow = !1),
            (this.id = -1),
            (this.flowNameEditStatus = !1),
            (this.protoEventList = Pe["e"].dictionaries.PROTO_EVENT_LIST()),
            (this.isMac = Object(Z["hb"])()),
            (this.scrollList = Pe["e"].dictionaries.SCROLL_LIST());
        }
        get interationFull() {
          const e = new Set();
          return (
            this.actionList.forEach((t) => {
              e.add(t.trigger.type);
            }),
            e.size >= this.protoEventList.length
          );
        }
        get overflowCheck() {
          const e =
              Math.abs(this.positionLeft) + this.contentWidth <=
                this.layerWidth && this.positionLeft >= 0,
            t =
              Math.abs(this.positionTop) + this.contentHeight <=
                this.layerHeight && this.positionTop >= 0;
          return this.overflowDirection === se["w"].VERTICAL && t
            ? {
                class: "prototype-overflow__tip prototype-overflow__tip__v",
                text: "为了让滚动在这个页面中可用，内容需要比画框大",
              }
            : this.overflowDirection === se["w"].HORIZONTAL && e
            ? {
                class: "prototype-overflow__tip prototype-overflow__tip__h",
                text: "为了让滚动在这个页面中可用，内容需要比画框大",
              }
            : this.overflowDirection === se["w"].BOTH && t && e
            ? {
                class: "prototype-overflow__tip prototype-overflow__tip__b",
                text: "为了让滚动在这个页面中可用，内容需要比画框大",
              }
            : null;
        }
        get eventList() {
          const e = this.protoEventList,
            t = {};
          return (
            e.forEach((e) => {
              t[e.value] = e.label;
            }),
            t
          );
        }
        get showInteraction() {
          return this.selectIds.length > 0;
        }
        get showFlow() {
          return (
            1 === this.selectIds.length &&
            this.frameList.includes(this.selectIds[0])
          );
        }
        get isAddFlow() {
          return (
            !this.selectIds || 0 === this.selectIds.length || this.isFlowAdd
          );
        }
        get isFlowAdd() {
          return (
            1 === this.selectIds.length &&
            this.frameList.includes(this.selectIds[0]) &&
            (!this.flow || !this.flow.flowId)
          );
        }
        flowNameDoubleClickHandler() {
          (this.flowNameEditStatus = !0),
            this.$nextTick(() => {
              const e = this.$refs.flowNameInput;
              e && e.focus && e.focus();
            });
        }
        changeHandler(e) {
          k["a"].setFrameScrollDirection(+e);
        }
        addInteraction() {
          k["a"].selector.reactions.addItem(Object(On["d"])());
        }
        delInteraction(e) {
          k["a"].selector.reactions.deleteItems(e.map((e) => e.id));
        }
        resortInteraction() {}
        goPrototypePreview(e) {
          const [t, i] = this.getProtoTypePreviewLink(e);
          Object(Z["qb"])(t, i);
        }
        copyLink(e) {
          const [t] = this.getProtoTypePreviewLink(e);
          Object(Z["s"])(window.location.origin + t),
            x["r"].show("复制成功", "top", "highlight");
        }
        locateFrame(e) {
          k["a"].layers.select([e]);
        }
        addFlow() {
          x["n"].setLog("INFO", "userAction", "prototype set flow"),
            k["a"].addFlow(this.selectIds[0]);
        }
        updateFlow(e, t) {
          k["a"].updateFlow(e.flowId, t, t.description);
        }
        updateFlowDescription(e) {
          k["a"].updateFlow(this.flow.flowId, this.flow.name, e);
        }
        deleteFlow(e) {
          k["a"].deleteFlow(e);
        }
        resetReactions(e) {
          k["a"].resetInstanceReactions(), e.stopPropagation();
        }
        getProtoTypePreviewLink(e) {
          return Object($t["a"])({
            path: "/prototype/" + this.$route.params.id,
            query: {
              flowId: e.flowId,
              pageId: this.currentPageId,
            },
          });
        }
        selectInteractionItem() {
          var e;
          k["a"].setCurrentReactions(
            null !== (e = this.selectList) && void 0 !== e ? e : []
          );
        }
        interactionItemMousedown(e, t) {
          if (this.selectIds.length > 1) return;
          const i = this.isMac ? e.metaKey : e.ctrlKey,
            s = t.data.id,
            o = t.index;
          this.setSelectProps({
            type: "frame",
            styleId: "",
            styleItemId: "",
          });
          const a = this.selectList.indexOf(s);
          if (i) ~a ? this.selectList.splice(a, 1) : this.selectList.push(s);
          else if (e.shiftKey) {
            let e = this.interactionList.findIndex(
              (e) => e.id === this.selectList[0]
            );
            ~e || (e = o);
            const t = Math.min(o, e),
              i = Math.max(o, e);
            for (let s = t; s <= i; s++)
              ~this.selectList.indexOf(this.interactionList[s].id) ||
                this.selectList.push(this.interactionList[s].id);
          } else this.selectList.splice(0, this.selectList.length, s);
          this.selectInteractionItem();
        }
      };
      Oy = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MSelector: Pe["b"],
              TodoList: ss["a"],
              StyleTodoList: _a,
              Bounced: Ys["a"],
              MasterSelector: Pe["e"],
              MasterButtonIcon: Mi["a"],
              InteractionItem: Iy,
            },
            computed: Object.assign(
              Object.assign(
                {},
                Object(r["e"])({
                  frameList: (e) => e.newLayer.frameList,
                  actionList: (e) => e.prototype.actionList,
                  overflowDirection: (e) => e.prototype.overflowDirection,
                  flows: (e) => e.prototype.flows,
                  flow: (e) => e.prototype.flow,
                  contentHeight: (e) => e.prototype.contentHeight,
                  contentWidth: (e) => e.prototype.contentWidth,
                  isOverride: (e) => e.prototype.isOverride,
                  positionLeft: (e) => e.prototype.positionLeft,
                  positionTop: (e) => e.prototype.positionTop,
                  selectIds: (e) => e.basicState.selectIds,
                  isFrame: (e) => e.basicProps.item.isFrame,
                  layerWidth: (e) => e.basicProps.item.bound.width,
                  layerHeight: (e) => e.basicProps.item.bound.height,
                  isInstance: (e) => e.basicProps.item.isInstance,
                  isComponentSet: (e) => e.basicProps.item.isComponentSet,
                  currentPageId: (e) => e.basicState.currentPageId,
                  componentMap: (e) => e.component.componentMap,
                  selectList: (e) => e.basicState.selectProps.list,
                })
              ),
              {
                interactionList() {
                  const e = Object.create(null),
                    t = Object.create(null),
                    i = this.actionList.filter(
                      (e) =>
                        !(
                          e.action.navigation === se["v"].CHANGE_TO &&
                          e.action.type === se["a"].NODE &&
                          !this.componentMap[e.layerId]
                        )
                    );
                  return (
                    i.forEach((t) => {
                      e[t.trigger.type] = !0;
                    }),
                    i.map((i) => {
                      let s = "";
                      return (
                        ((i.trigger.type === se["N"].ON_CLICK &&
                          (e[se["N"].MOUSE_DOWN] || e[se["N"].MOUSE_UP])) ||
                          (i.trigger.type === se["N"].ON_HOVER &&
                            e[se["N"].MOUSE_ENTER])) &&
                          (s =
                            "由于设置的触发行为存在重叠，另一个行为会被先触发。"),
                        t[`${i.layerId}&&${i.trigger.type}`] &&
                          (s =
                            "由于设置的触发行为存在重叠，另一个行为会被先触发。"),
                        (t[`${i.layerId}&&${i.trigger.type}`] = !0),
                        Object.assign(Object.assign({}, i), {
                          conflict: s,
                          eventType:
                            null === i.action.destination
                              ? "MIX"
                              : this.eventList[i.trigger.type],
                        })
                      );
                    })
                  );
                },
                changeToInteractionList() {
                  const e = Object.create(null),
                    t = Object.create(null);
                  return (
                    this.interactionList.forEach((t) => {
                      e[t.trigger.type] = !0;
                    }),
                    this.actionList
                      .filter(
                        (e) =>
                          e.action.navigation === se["v"].CHANGE_TO &&
                          e.action.type === se["a"].NODE &&
                          !this.componentMap[e.layerId]
                      )
                      .map((i) => {
                        let s = "";
                        return (
                          t[i.trigger.type] &&
                            (s =
                              "由于设置的触发行为存在重叠，另一个行为会被先触发。"),
                          e[i.trigger.type] &&
                            (s =
                              "此组件的触发事件与实例发生冲突，因而不会被触发"),
                          (t[i.trigger.type] = !0),
                          Object.assign(Object.assign({}, i), {
                            conflict: s,
                            eventType:
                              null === i.action.destination
                                ? "MIX"
                                : this.eventList[i.trigger.type],
                          })
                        );
                      })
                  );
                },
              }
            ),
            methods: Object.assign(
              {},
              Object(r["b"])("basicState", ["setSelectProps"])
            ),
          }),
        ],
        Oy
      );
      var ky = Oy,
        wy = ky,
        xy =
          (i("9872"),
          i("ebac"),
          Object(_["a"])(wy, xf, Lf, !1, null, "2fbf15aa", null)),
        Ly = xy.exports;
      let Ay = class extends n["g"] {
        get tab() {
          return this.selectIds.length > 0
            ? "prototypePreperties"
            : "prototypeSettings";
        }
        openFlow(e) {
          Object($t["b"])({
            path: "/prototype/" + this.$route.params.id,
            query: {
              flowId: e,
              pageId: k["a"].pageState.currentPageId,
            },
          });
        }
        mounted() {
          O["a"].addWasmEventListener(te["a"].OpenFlow, this.openFlow);
        }
        beforeDestroy() {
          O["a"].removeWasmEventListener(te["a"].OpenFlow, this.openFlow);
        }
      };
      Ay = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              newscroll: St["a"],
              PrototypeSettings: wf,
              PrototypeProperties: Ly,
            },
            computed: Object.assign(
              {},
              Object(r["e"])({
                selectIds: (e) => e.basicState.selectIds,
              })
            ),
          }),
        ],
        Ay
      );
      var Ty = Ay,
        jy = Ty,
        My =
          (i("53df"), Object(_["a"])(jy, vf, ff, !1, null, "7646585c", null)),
        Ey = My.exports;
      let Py = !1,
        Dy = class extends n["g"] {
          constructor(...e) {
            super(...e),
              (this.isMobile = Object(Z["ib"])()),
              (this.rateLimiting = !1),
              (this.isPreferencesDialog = !1),
              (this.rateLimitingDialog = {
                visible: !1,
                title: "",
                content: "",
                cancelLabel: "",
                onCancel: () => {},
                confirmLabel: "",
                onConfirm: () => {},
              }),
              (this.hasShowLayerFillDialog = {}),
              (this.layerFillFailedVisible = !1),
              (this.layerFillFailedId = ""),
              (this.forceBack = !1),
              (this.syncingShow = !1),
              (this.savingShow = !1),
              (this.kickOutShow = !1),
              (this.restoreShow = !1),
              (this.restoreId = ""),
              (this.editQueryPromise = Promise.resolve()),
              (this.lastSelectIds = []),
              (this.removeHelpKeyHandler = (e, t) => {
                ne["e"].removeListener(e, () => {
                  this.helpPopKeyHandler(e, t);
                });
              }),
              (this.helpPopKeyHandler = (e, t) =>
                Object(a["__awaiter"])(this, void 0, void 0, function* () {
                  const i = yield Ue["a"].onToursEmit(t);
                  i ||
                    (this.removeHelpKeyHandler(e, t),
                    t === Z["c"].CONTAINER && (Py = !0));
                })),
              (this.isShowExportAllDialog = !1),
              (this.loading = !0),
              (this.handles = ne["e"]),
              (this.wssTip = null),
              (this.forceUpdateVisible = !1),
              (this.logger = Object(I["e"])({
                type: "ViewFile",
              }));
          }
          checkRateLimiting() {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const [e, t] = yield this.fileWssBusiness.queryFileValid(
                this.$route.params.id
              );
              return (
                !(!e || t) &&
                ((this.rateLimiting = !0),
                (this.rateLimitingDialog = {
                  visible: !0,
                  title: e.data.hint_title,
                  content: e.data.hint_content,
                  cancelLabel: "返回首页",
                  onCancel: () => this.backToIndex(),
                  confirmLabel: "我知道了",
                  onConfirm: () => "",
                }),
                !0)
              );
            });
          }
          HandleRestoreComponent() {
            k["a"].selector.restoreComponent(this.restoreId),
              (this.restoreShow = !1),
              (this.restoreId = "");
          }
          layerFillFailedHandler(e) {
            x["n"].setLog("INFO", "layerFillFailed", e),
              O["a"].nextFrame(() => {
                setTimeout(() => {
                  this.hasShowLayerFillDialog[this.currentPageId] ||
                    ((this.hasShowLayerFillDialog[this.currentPageId] = !0),
                    (this.layerFillFailedVisible = !0),
                    (this.layerFillFailedId = e));
                });
              });
          }
          layerFillFailedSubmit() {
            k["a"].layers.select([this.layerFillFailedId]),
              (this.layerFillFailedId = ""),
              (this.layerFillFailedVisible = !1);
          }
          get documentID() {
            return Number.parseInt(this.$route.params.id, 10);
          }
          get queryIDs() {
            const {
              $route: {
                query: { page_id: e, layer_id: t, comp_id: i },
              },
            } = this;
            return {
              pageID: e,
              layerID: t,
              componentID: i,
            };
          }
          clearQuery() {}
          editQuery(e) {
            this.editQueryPromise = this.editQueryPromise.then(() =>
              Object(a["__awaiter"])(this, void 0, void 0, function* () {
                const t = Object(c["cloneDeep"])(this.$route.query);
                for (let i = 0; i < e.length; i++) {
                  const { key: s, value: o } = e[i];
                  t[s] && !o ? delete t[s] : o && (t[s] = o);
                }
                yield this.$router.replace({
                  query: Object.assign({}, t),
                });
              })
            );
          }
          fileKeyHandler(e) {
            if (
              "file" === this.$route.name &&
              !this.loading &&
              e !== this.$route.query.page_id
            ) {
              const t = Object(j["d"])();
              let i = "";
              1 === this.selectIds.length &&
                t[this.selectIds[0]] &&
                t[this.selectIds[0]].isFrame &&
                ((i = this.selectIds[0]), (this.changePageFlag = !0)),
                this.editQuery([
                  {
                    key: "layer_id",
                    value: i,
                  },
                  {
                    key: "page_id",
                    value: e,
                  },
                ]);
            }
          }
          selectIdsHandler() {
            if (
              (2 === this.viewMode &&
                this.lastSelectIds.length &&
                k["a"].clearReactions(this.lastSelectIds),
              this.selectIds.length > 1
                ? (this.lastSelectIds = [])
                : (this.lastSelectIds = this.selectIds.map((e) => e)),
              !this.loading)
            )
              if (
                (1 === this.selectIds.length &&
                  this.frameList.includes(this.selectIds[0]) &&
                  L["a"].send("FetchMirrorFrameSelected", {
                    documentID: parseInt(this.$route.params.id, 10),
                    pageID: this.currentPageId,
                    flieKey: this.fileKey,
                    containerID: this.selectIds[0],
                    userID: this.userInfo.id,
                  }),
                this.changePageFlag)
              )
                this.changePageFlag = !1;
              else {
                let e = !1;
                if (1 === this.selectIds.length) {
                  const t = Object(j["d"])(),
                    i = t[this.selectIds[0]];
                  i && i.isFrame
                    ? this.editQuery([
                        {
                          key: "layer_id",
                          value: i.id,
                        },
                      ])
                    : (e = !0);
                } else e = !0;
                e &&
                  this.editQuery([
                    {
                      key: "layer_id",
                      value: "",
                    },
                  ]);
              }
          }
          helpGuidePopHandler(e, t) {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              e === t ||
                Py ||
                ("default" === e
                  ? (ne["e"].addListener("F", () => {
                      this.helpPopKeyHandler("F", Z["c"].CONTAINER);
                    }),
                    ne["e"].addListener("ctrl+alt+G", () => {
                      this.helpPopKeyHandler("ctrl+alt+G", Z["c"].CONTAINER);
                    }),
                    ne["e"].removeListener("A", () => {
                      this.helpPopKeyHandler("A", Z["c"].CONTAINER);
                    }))
                  : "sketch" === e &&
                    (ne["e"].addListener("A", () => {
                      this.helpPopKeyHandler("A", Z["c"].CONTAINER);
                    }),
                    this.removeHelpKeyHandler("F", () => {
                      this.helpPopKeyHandler("F", Z["c"].CONTAINER);
                    }),
                    this.removeHelpKeyHandler("ctrl+alt+G", () => {
                      this.helpPopKeyHandler("ctrl+alt+G", Z["c"].CONTAINER);
                    })));
            });
          }
          showMenu(e) {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const t = {
                label: "同步到蓝湖",
                title: "同步到蓝湖",
                key: "exportToLanhu",
              };
              this.$nextTick(() =>
                Object(a["__awaiter"])(this, void 0, void 0, function* () {
                  var i;
                  let s = {
                    list: [],
                  };
                  if (k["a"].pageState.mouseInSelect || this.hoverId) {
                    const i = yield this.getSelectMenuList();
                    i.length && (i[i.length - 1].divid = !1),
                      !Object(w["isFeatureEnabled"])("exportToLanhu") ||
                        this.disableUpdateLayer ||
                        this.selectBasic.isAllSlice ||
                        this.appendMenuList(i, t),
                      (s = {
                        event: e,
                        list: i,
                        handler: this.contextHandler,
                        hoverHandler: this.contextHoverHandler,
                        actionType: "selected",
                      }),
                      d["a"].track(u["b"].MENU_LOAD, {
                        action_position: "contextmenu",
                        action_type: "selected",
                      });
                  } else {
                    let o = this.disableUpdateLayer
                      ? [...this.CANVAS_LIST_LOOKER]
                      : [...this.CANVAS_LIST];
                    if (
                      (o.push(
                        ...Object(Z["f"])(
                          [
                            Object.assign(
                              Object.assign(
                                {},
                                this.hotkeyDictionary.showCommentMark
                              ),
                              {
                                key: "commentMarkAutoShow",
                              }
                            ),
                          ],
                          !0
                        )
                      ),
                      o.forEach((e) => {
                        "fullScreen" === e.key &&
                          (e.title = this.isHideToolbar
                            ? "显示操作界面"
                            : "隐藏操作界面");
                      }),
                      this.disableUpdateLayer)
                    )
                      o[o.length - 1].divid = !1;
                    else {
                      const e = yield Object(p["d"])();
                      e || o.shift(),
                        "onlooker" ===
                          (null === (i = this.currentDocument) || void 0 === i
                            ? void 0
                            : i.roleName) &&
                          (o = o.filter((e) => "刷新封面" !== e.title));
                      const s = yield Object(p["m"])();
                      s && ((s.divid = !1), this.appendMenuList(o, s)),
                        !this.selectBasic.isAllSlice &&
                          Object(w["isFeatureEnabled"])("exportToLanhu") &&
                          this.appendMenuList(o, t);
                    }
                    s = {
                      event: e,
                      list: o,
                      handler: this.contextHandler,
                      hoverHandler: this.noSelectdContextHoverHandler,
                      actionType: "no-selectd",
                    };
                  }
                  d["a"].track(u["b"].MENU_LOAD, {
                    action_position: "contextmenu",
                    action_type: "non-selected",
                  }),
                    this.$eventBus.$emit("contentMenu", s);
                })
              );
            });
          }
          appendMenuList(e, t) {
            (e[e.length - 1].divid = !0), e.push(t);
          }
          contextHandler(e, t, i) {
            if ("hitTestLayer" === e) {
              const e = i.id,
                t = Object(j["d"])();
              if (!t[e]) return;
              k["a"].layers.select([e]);
            } else
              "exportToLanhu" === e &&
                (x["e"].$emit("export-to-lanhu-pri"),
                x["n"].setLog("INFO", "userAction", "export to lanhu", {
                  source: "canvas",
                }));
          }
          contextHoverHandler(e, t, i) {
            if ("hitTestLayer" === e) {
              const e = i.id,
                t = Object(j["d"])();
              if (!t[e]) return;
              k["a"].layers.hover(e);
            } else
              "plugin" === e &&
                d["a"].track(u["b"].MENU_LOAD, {
                  action_position: "plugin_menu",
                  action_type: "toolbar",
                });
          }
          noSelectdContextHoverHandler(e) {
            "plugin" === e &&
              d["a"].track(u["b"].MENU_LOAD, {
                action_position: "plugin_menu",
                action_type: "toolbar",
              });
          }
          getSelectMenuList() {
            var e;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              let t;
              if (
                ((null === (e = this.hitTestIds) || void 0 === e
                  ? void 0
                  : e.length) > 1 &&
                  (t = {
                    label: "选择图层",
                    title: "选择图层",
                    divid: !this.disableUpdateLayer,
                    child: this.hitTestIds.map((e) => {
                      const t = Object(j["d"])(),
                        i = t[e];
                      let s = "";
                      return (
                        (s = i.isPartOfComponentSet
                          ? Object(Z["n"])(i.name, !0)
                          : i.name),
                        {
                          label: s,
                          title: s,
                          id: i.id,
                          type: "switch",
                          current: this.selectIds.includes(e),
                          masterIcon: Object(p["p"])(i),
                          key: "hitTestLayer",
                        }
                      );
                    }),
                  }),
                this.disableUpdateLayer)
              )
                return [t].filter((e) => void 0 !== e);
              const i = yield Object(p["l"])(this.LAYER_LIST, "canvas");
              return [t, ...i].filter((e) => void 0 !== e);
            });
          }
          toggleExportAllDialogCallback(e) {
            this.isShowExportAllDialog = e;
          }
          exportAllDialogClose(e) {
            this.$eventBus.$emit("toggleExportAllDialog", e);
          }
          changeDocument(e) {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              yield this.dispose(),
                yield this.initTryCatch(
                  null === e || void 0 === e ? void 0 : e.fileKey
                );
            });
          }
          initTryCatch(e) {
            var t, i, s, o, n, r, c, l;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              try {
                yield this.init(e),
                  this.disableShowGridLayout &&
                    k["a"].pageState.setLayoutGridVisible(!1);
              } catch (a) {
                ze["c"].sendErrorLog(a);
                let e = !0,
                  u = "文件发生错误，无法打开",
                  h = "unknown";
                if (Object(Z["lb"])(a))
                  switch (
                    null ===
                      (i =
                        null === (t = a.response) || void 0 === t
                          ? void 0
                          : t.data) || void 0 === i
                      ? void 0
                      : i.code
                  ) {
                    case ie["a"].notFound:
                      (u = "该文件已被删除"), (h = "deleted");
                      break;
                    case ie["a"].noPermission:
                      (u = "你没有此文件的访问权限"),
                        (h = "noPermission"),
                        "lanhu_return" ===
                          (null ===
                            (o =
                              null === (s = this.$store.state) || void 0 === s
                                ? void 0
                                : s.register) || void 0 === o
                            ? void 0
                            : o.source) &&
                          (this.$router.push({
                            path: "/redirect/no-access",
                            query: {
                              id: this.$route.params.id,
                            },
                          }),
                          (h = "unknown"),
                          (e = !1));
                      break;
                    default:
                      403 ===
                        (null === (n = a.response) || void 0 === n
                          ? void 0
                          : n.status) && (u = "你没有此文件的访问权限");
                  }
                if ("deleted" === h || "noPermission" === h)
                  try {
                    const { userID: t, documentID: i } = this,
                      s = yield Object(re["c"])(t, i);
                    if (s.length > 0)
                      return (
                        (e = !1),
                        x["n"].setLog(
                          "INFO",
                          "ChangesetManager",
                          "processSyncFailedLog file init err",
                          {
                            userID: t,
                            documentID: i,
                            reason: h,
                          }
                        ),
                        void nt({
                          reason: h,
                          onReserve: this.backToIndex,
                          onDiscard: this.backToIndex,
                          changeSetArr: s,
                          logInfo: {
                            userID: t,
                            documentID: i,
                          },
                        })
                      );
                  } catch (d) {
                    console.error(d);
                  }
                if (e) {
                  const e =
                    null ===
                      (l =
                        null ===
                          (c =
                            null === (r = a) || void 0 === r
                              ? void 0
                              : r.response) || void 0 === c
                          ? void 0
                          : c.data) || void 0 === l
                      ? void 0
                      : l.meta;
                  this.backToIndex(u, h, e);
                }
              }
            });
          }
          backToIndex(e, t, i) {
            if (e) {
              const i = "deleted" === t ? void 0 : "InfoColorIcon",
                s = "deleted" === t ? "normal" : "destructive";
              this.$toast({
                content: e,
                icon: i,
                timeout: 3e3,
                position: "top",
                type: s,
              });
            }
            "deleted" === t && i
              ? Object(J["d"])(i.projectID)
              : "link_share" === this.source
              ? this.$router.push("/files/shared")
              : this.$router.push("/files/home");
          }
          init(e) {
            var t, i, s, o, n, r, c, l, d;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const {
                userID: u,
                documentID: p,
                queryIDs: { pageID: m, layerID: g, componentID: b },
              } = this;
              yield this.dispose();
              let v =
                null === (t = this.$route.query) || void 0 === t
                  ? void 0
                  : t.inviteBatchId;
              Array.isArray(v) && (v = v[0] || "");
              let f =
                null === (i = this.$route.query) || void 0 === i
                  ? void 0
                  : i.inviteDocumentId;
              Array.isArray(f) && (f = f[0] || "");
              const y = Object(h["a"])({
                element: document.getElementById("canvasArea") || document.body,
                userID: u,
                documentID: p,
                pageID: m,
                layerID: g,
                componentID: b,
                offlineMode: !!e,
                fileKey: e,
              });
              this.editorSession = y;
              const { init: _, on: C } = y;
              if (
                ((this.loading = !0),
                O["a"].addListener("masterTask-frame-draw", this.onFirstDraw),
                this.$store.commit("SET_PAGE_LOADED", !1),
                e)
              )
                return void (yield _());
              const S = {
                userRole: "onlooker",
              };
              C("documentInfoLoaded", (e) => {
                if (this.userId) {
                  if ((this.getTeamInfo(e), f || v)) {
                    Object(Z["zb"])(We["j"].INVITE_TOKEN);
                    const { shouldReplace: e, newQueries: t } = Object(qe["b"])(
                      ["inviteBatchId", "inviteDocumentId"]
                    );
                    e &&
                      this.$router.replace({
                        query: t,
                      });
                  }
                } else e.roleName = "tourist";
                this.$store.dispatch("setCurDocument", e),
                  this.$store.dispatch("file/setFile", e),
                  (S.userRole = e.roleName),
                  (this.documentInfo = e),
                  L["a"].enterDocument({
                    documentID: e.id,
                    projectID: e.projectId,
                    teamID: e.teamId,
                  }),
                  L["a"].enterPage("FILE"),
                  Ze.init({
                    docs: [e.id],
                    projects: [e.projectId],
                    teams: [e.teamId],
                  });
              }),
                C("documentConfigLoaded", (e) => {
                  this.$store.commit("file/setFileSettings", e.settings);
                }),
                C("fileMounted", this.setDocumentConfig),
                C("wssStatusChanged", this.setWssStatus),
                C("changeSetCreated", (e) =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    (this.fileWssBusiness = new at()),
                      this.fileWssBusiness.register(y, e),
                      this.initWssEvents(),
                      (S.isRateLimiting = yield this.checkRateLimiting()),
                      this.$store.dispatch("file/setRole", S);
                  })
                ),
                C("changeSetCreated", this.initChangeSetEvents),
                yield _(),
                yield this.initCanvas(),
                this.userId
                  ? (this.needTeamlibrary = !0)
                  : (this.needTeamlibrary = !1);
              try {
                this.needTeamlibrary &&
                  (this.setUsedComponentList(+this.$route.params.id),
                  this.setUsedStyleList(+this.$route.params.id));
              } catch (T) {}
              yield this.initSelect(),
                ne["f"].setHotkeyAction(ne["c"]),
                (
                  null === (s = this.editorSession.getWss()) || void 0 === s
                    ? void 0
                    : s.status().isJoined
                )
                  ? null === (o = this.fileWssBusiness) ||
                    void 0 === o ||
                    o.sendCanvasReady(this.userId)
                  : null === (n = this.editorSession.getWss()) ||
                    void 0 === n ||
                    n.once("joined-room", () => {
                      var e;
                      null === (e = this.fileWssBusiness) ||
                        void 0 === e ||
                        e.sendCanvasReady(this.userId);
                    });
              const I = [
                  this.$store.dispatch("teamLibrary/getPublishedData", p),
                  this.$store.dispatch("teamLibrary/getPresetLibraryList", {
                    force: !1,
                  }),
                ],
                w =
                  (null === (r = this.documentInfo) || void 0 === r
                    ? void 0
                    : r.permissions) &&
                  (null === (c = this.documentInfo) || void 0 === c
                    ? void 0
                    : c.permissions["get-team-library"]);
              (w ||
                "onlooker" !==
                  (null === (l = this.documentInfo) || void 0 === l
                    ? void 0
                    : l.roleName)) &&
                I.push(
                  this.$store.dispatch("teamLibrary/getTeamLibraryList", {
                    documentId: p,
                    force: !1,
                  })
                ),
                Promise.all(I)
                  .then(() => {
                    this.$store.dispatch("style/setSubscribedStyles", p);
                  })
                  .catch(() => {}),
                this.$store.dispatch("resources/getTeamFonts", p),
                O["a"].Module.setCoverFrameId(
                  (null === (d = this.$store.getters.document) || void 0 === d
                    ? void 0
                    : d.containerId) || ""
                ),
                this.documentInfo && this.initComments(this.documentInfo),
                Object(Ne["b"])();
              const x = "eval-instance",
                A = yield Object(Ne["a"])({
                  vmType: "eval",
                  pluginId: x,
                });
              Ne["c"].set(x, A),
                setTimeout(() => {
                  this.$nextTick(() => {
                    Ue["a"].handlePageLoaded();
                  }),
                    this.$emit("pageLoaded"),
                    k["a"].pageState[ee["a"].changeLooker](
                      this.disableUpdateLayer
                    ),
                    this.restoreId && (this.restoreShow = !0),
                    this.$store.commit("SET_PAGE_LOADED", !0);
                }, 50);
            });
          }
          getTeamInfo(e) {
            var t, i;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const s =
                  null === (t = e.organization) || void 0 === t
                    ? void 0
                    : t.roleName,
                o =
                  (s &&
                    (null === (i = e.organization) || void 0 === i
                      ? void 0
                      : i.id)) ||
                  0;
              o !== this.$store.state.org.currentOrgId &&
                (yield this.$store.dispatch("org/changeCurrentOrg", o));
              const a = {
                isPersonal: !1,
                isTeamMember: !1,
              };
              for (const t of this.userInfo.teams)
                if (t.id === e.teamId) {
                  let i;
                  for (const s of t.projects)
                    if (s.id === e.projectId) {
                      (i = s.name), (this.projectInfo = s), (this.userTeam = t);
                      break;
                    }
                  (e.projectName = i),
                    i && this.setFileProjectName(i),
                    (a.isTeamMember = !0);
                  break;
                }
              if (a.isTeamMember) {
                const t = yield Object(I["f"])(e.teamId);
                a.isPersonal = t.isPersonal;
              }
              this.$store.commit("file/setRole", a);
            });
          }
          initCanvas() {
            var e, t;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const i = O["a"].Module.getPageListVal() || [];
              let s = this.$route.query.page_id;
              const o = this.$route.query.layer_id;
              if (o) {
                const t =
                  null === (e = O["a"].Module.getLayerData(o)) || void 0 === e
                    ? void 0
                    : e.pageId;
                t &&
                  t !== s &&
                  (this.editQuery([
                    {
                      key: "page_id",
                      value: t,
                    },
                  ]),
                  (s = t));
              }
              if (!~i.findIndex((e) => e.id === s)) {
                if (s) {
                  const e =
                    "onlooker" ===
                    (null === (t = this.documentInfo) || void 0 === t
                      ? void 0
                      : t.roleName)
                      ? "查看"
                      : "编辑";
                  this.$toast({
                    content: `画板已被删除，你可以继续${e}此文件`,
                    buttonInfo: "",
                    timeout: 3e3,
                    position: "top",
                    type: "destructive",
                  });
                }
                s = i[0].id;
              }
            });
          }
          initSelect() {
            var e, t;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              k["a"].updateMasterData();
              const i = !1,
                s = this.$route.query.layer_id;
              if (this.$route.query.comp_id) {
                const t =
                    this.$store.state.component.componentMap[
                      this.$route.query.comp_id
                    ],
                  i = Object.assign({}, this.$route.query);
                delete i.comp_id,
                  this.$router.replace({
                    path: this.$route.path,
                    query: i,
                  }),
                  t && !t.isHidden
                    ? (k["a"].mergeStepStart(),
                      yield k["a"].pages.switchPage(t.pageId),
                      k["a"].layers.select([t.id]),
                      k["a"].viewPort.fixedToLayer(),
                      k["a"].mergeStepEnd())
                    : t &&
                      t.isHidden &&
                      "onlooker" ===
                        (null === (e = this.currentDocument) || void 0 === e
                          ? void 0
                          : e.roleName)
                    ? this.$toast({
                        content: "组件已被删除",
                        timeout: 5e3,
                        position: "bottom",
                        type: "destructive",
                      })
                    : t && (this.restoreId = t.id);
              } else if (s) {
                let e = "string" === typeof s ? s : s[0];
                e = null !== e && void 0 !== e ? e : "";
                const o = Object(j["d"])();
                if (o[e])
                  k["a"].mergeStepStart(),
                    k["a"].layers.select([e]),
                    k["a"].viewPort.zoomToSelection(),
                    i &&
                      O["a"].nextFrame(() => {
                        k["a"].viewPort.scaleCanvas(
                          k["a"].viewPort.zoom.zoomScale / 2
                        );
                      }),
                    k["a"].mergeStepEnd();
                else {
                  e &&
                    this.editQuery([
                      {
                        key: "layer_id",
                        value: "",
                      },
                    ]);
                  const i =
                    "onlooker" ===
                    (null === (t = this.documentInfo) || void 0 === t
                      ? void 0
                      : t.roleName)
                      ? "查看"
                      : "编辑";
                  this.$toast({
                    content: `容器已被删除，你可以继续${i}此文件`,
                    buttonInfo: "",
                    timeout: 3e3,
                    position: "top",
                    type: "destructive",
                  });
                }
              }
            });
          }
          wssHandler(e) {
            e &&
              (this.wssTipInstance = this.$toast(
                Object.assign(
                  {
                    persistent: !0,
                  },
                  e
                )
              ));
          }
          wssTipClear() {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              const { wssTipInstance: e } = this;
              e &&
                (yield e.clearToast(),
                this.wssTipInstance === e && (this.wssTipInstance = void 0));
            });
          }
          onChangesetUnloaded() {
            this.wssTipClear(), (this.needSync = !1);
          }
          initWssEvents() {
            this.editorSession.getWss().on("connect", this.onWssReconnect),
              this.editorSession
                .getWss()
                .on("joined-room", this.onWssJoinedRoom),
              this.editorSession
                .getWss()
                .on("FileVersionChange", this.handleFileVersionChange),
              this.fileWssBusiness.eventPublisher.on(
                "other-changeset-offline-synced",
                this.onOtherChangesetSynced
              ),
              this.fileWssBusiness.eventPublisher.on(
                "FileVersionChange",
                this.handleFileVersionChange
              ),
              this.fileWssBusiness.eventPublisher.on(
                "changeset-unloaded",
                this.onChangesetUnloaded
              );
          }
          initChangeSetEvents() {
            this.editorSession
              .getChangeSetManager()
              .on("changeset-loaded", this.onChangesetLoaded),
              this.editorSession
                .getChangeSetManager()
                .on("merged", this.onWssChangesetMerged),
              this.editorSession
                .getChangeSetManager()
                .on(
                  "getChangesetFileKeyDifferent",
                  this.onGetChangesetFileKeyDifferent
                ),
              this.editorSession
                .getChangeSetManager()
                .on("receiveChangesetMerged", this.onReceiveChangesetMerged);
          }
          onReceiveChangesetMerged(e) {
            0;
          }
          reloadWindow() {
            k["a"][ee["a"].changeSaveStatus](!1), Object(p["s"])("同步版本");
          }
          handleFileVersionChange() {
            (this.forceUpdateVisible = !0),
              k["a"][ee["a"].changeSaveStatus](!1);
          }
          onOtherChangesetSynced(e) {
            this.wssTip = {
              content: `协作者“${e.userName}”刚刚同步了离线编辑，文件已更新。如变动过大，可至历史版本查看并恢复其他版本`,
              position: "bottom",
              type: "highlight",
              buttonInfo: "我知道了",
              buttonHandle: this.wssTipClear,
            };
          }
          versionTypeHandler(e) {
            l["b"].versionType = e;
          }
          isHideToolbarHandler(e) {
            var t, i, s;
            const o =
              null === (t = this.$refs.main) || void 0 === t ? void 0 : t.$el;
            if (o) {
              if (e) {
                const { top: e, left: t, right: i, bottom: s } = o.style,
                  { offsetTop: a, offsetLeft: n } = o;
                (this.lastPosition = {
                  top: e,
                  left: t,
                  right: i,
                  bottom: s,
                  offsetTop: a,
                  offsetLeft: n,
                }),
                  (o.style.top = "0px"),
                  (o.style.left = "0px"),
                  (o.style.right = "0px"),
                  (o.style.bottom = "0px"),
                  (o.style.zIndex = "99"),
                  O["a"].resize(!1, a, n);
              } else
                (o.style.top = this.lastPosition.top),
                  (o.style.left = this.lastPosition.left),
                  (o.style.right = this.lastPosition.right),
                  (o.style.bottom = this.lastPosition.bottom),
                  (o.style.zIndex = "auto"),
                  O["a"].resize(
                    !1,
                    -this.lastPosition.offsetTop,
                    -this.lastPosition.offsetLeft
                  );
              if (e) {
                const e = Object(Z["hb"])() ? "⌘ \\" : "Ctrl \\";
                this.$toast({
                  content: `已隐藏操作界面，再次按下 ${
                    null !==
                      (s =
                        null === (i = this.hotkeyDictionary.fullScreen) ||
                        void 0 === i
                          ? void 0
                          : i.char) && void 0 !== s
                      ? s
                      : e
                  } 退出`,
                  buttonInfo: "我知道了",
                  timeout: 3e3,
                  position: "bottom",
                });
              }
            }
          }
          onWssReconnect() {
            var e, t, i, s;
            const o = this.editorSession.getWss().status().reconnectCount;
            if (0 === o) return;
            if ((x["i"].uploadPendingResource(), o <= J["a"])) return;
            this.reconnecting = !0;
            const a = !!(null ===
                (t =
                  null === (e = this.editorSession) || void 0 === e
                    ? void 0
                    : e.getChangeSetManager()) || void 0 === t
                ? void 0
                : t.status().storeAvailable),
              n =
                null ===
                  (s =
                    null === (i = this.editorSession) || void 0 === i
                      ? void 0
                      : i.getChangeSetManager()) || void 0 === s
                  ? void 0
                  : s.status().storeFull,
              r = o === J["a"] + 1,
              c = o > J["a"] + 1;
            r && a
              ? (this.wssTip = {
                  content:
                    "网络中断，您可继续编辑，数据会存在本地；网络恢复后将自动同步",
                  type: "highlight",
                  buttonInfo: "好的",
                  buttonHandle: this.wssTipClear,
                })
              : ((r && !a) ||
                  (c && a && n && !this.needSync && !this.storeLimit)) &&
                ((this.previousViewMode = k["a"].pageState.viewMode),
                k["a"].pageState.enterMarkMode(),
                k["a"].pageState[ee["a"].changeLooker](!0),
                (this.storeLimit = !0),
                (this.wssTip = {
                  content: `本地存储${
                    a ? "已满" : "不可用"
                  }，为防止数据丢失，已开启只读模式`,
                  position: "top",
                  type: "destructive",
                }));
          }
          onWssJoinedRoom() {
            if (this.reconnecting) {
              k["a"].pageState[ee["a"].changeLooker](this.disableUpdateLayer),
                this.previousViewMode &&
                  ((this.previousViewMode = void 0),
                  k["a"].pageState.setViewMode(this.previousViewMode));
              const e = this.editorSession
                .getChangeSetManager()
                .status().mergingCount;
              !this.needSync &&
                e >= A["a"] &&
                ((this.needCopy = !0),
                (this.wssTip = {
                  content: "有未同步的离线编辑，正在同步至云端",
                }),
                x["h"].open({
                  title: "离线编辑正在同步...",
                  desc: "若同步后和其他协作者的版本有较大差异，可在历史版本中查看",
                  type: "gray",
                  confirmLabel: "好的",
                  hideCancel: !0,
                })),
                !this.needSync && this.storeLimit
                  ? ((this.storeLimit = !1),
                    (this.wssTip = {
                      content: "网络已恢复，您可继续编辑",
                      position: "top",
                      type: "standby",
                      persistent: !1,
                    }))
                  : this.wssTipClear();
            }
            (this.connecting = !1), (this.reconnecting = !1);
          }
          onChangesetLoaded() {
            const e = this.editorSession
              .getChangeSetManager()
              .status().mergingCount;
            e > 0 &&
              ((this.needSync = !0),
              (this.wssTip = {
                content: "有未同步的离线编辑，正在同步至云端",
              }));
          }
          onWssChangesetMerged() {
            const e = this.editorSession
              .getChangeSetManager()
              .status().mergingCount;
            0 === e &&
              (this.needSync
                ? ((this.wssTip = {
                    content: "离线编辑同步已完成，目前是最新版本",
                    position: "bottom",
                    type: "highlight",
                    buttonInfo: "我知道了",
                    buttonHandle: this.wssTipClear,
                  }),
                  (this.needSync = !1))
                : this.needCopy &&
                  ((this.wssTip = {
                    content:
                      "同步完成，若跟其他协作者的版本有较大差异， 可在历史版本查看并恢复为其它版本",
                    position: "bottom",
                    type: "highlight",
                    buttonInfo: "我知道了",
                    buttonHandle: this.wssTipClear,
                  }),
                  (this.needCopy = !1)));
          }
          onGetChangesetFileKeyDifferent() {
            x["r"].show("发生未知错误，页面即将刷新", "top", "destructive"),
              setTimeout(() => {
                k["a"][ee["a"].changeSaveStatus](!1),
                  Object(p["s"])("changeset的fileKey与当前不同");
              }, 1e3);
          }
          dispose() {
            var e;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              x["q"].resetState();
              const { editorSession: t, hotkey: i } = this;
              i && ((this.hotkey = void 0), i.destroy()),
                t &&
                  ((this.editorSession = void 0),
                  null === (e = this.fileWssBusiness) ||
                    void 0 === e ||
                    e.unregister(),
                  (this.fileWssBusiness = void 0),
                  yield t.dispose());
            });
          }
          onFirstDraw() {
            (this.loading = !1),
              O["a"].removeListener("masterTask-frame-draw", this.onFirstDraw);
          }
          created() {
            Object(Z["ab"])() &&
              ((this.electronPosition = this.electronPosition.bind(this)),
              oe["a"].addEventListener("position", this.electronPosition),
              oe["a"].sendPluginData("getPluginList", !0));
          }
          mounted() {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              this.setVersionType(0),
                yield this.initTryCatch(),
                O["a"].addListener("canvas-contextmenu", this.showMenu),
                O["a"].addWasmEventListener(
                  te["a"].LayerFillFailed,
                  this.layerFillFailedHandler
                ),
                ne["e"].addListener("shift+g", this.changeGridLayout, !1, !0, [
                  ae["a"].EditPen,
                  ae["a"].ImageEdit,
                  ae["a"].LineEdit,
                  ae["a"].Normal,
                  ae["a"].OnLooker,
                  ae["a"].PencilEdit,
                ]),
                this.$eventBus.$on(
                  "toggleExportAllDialog",
                  this.toggleExportAllDialogCallback
                ),
                this.$eventBus.$on(
                  "togglePreferencesDialog",
                  this.togglePreferencesCallback
                );
              const e = yield Ue["a"].getToursListenList();
              (null === e || void 0 === e
                ? void 0
                : e.helpGuideComponentScene) &&
                ne["e"].addListener("ctrl+alt+K", () => {
                  this.helpPopKeyHandler("ctrl+alt+K", Z["c"].COMPONENT);
                }),
                (null === e || void 0 === e
                  ? void 0
                  : e.helpGuideContainerScene) &&
                  ("default" === ne["e"].mode
                    ? (ne["e"].addListener("F", () => {
                        this.helpPopKeyHandler("F", Z["c"].CONTAINER);
                      }),
                      ne["e"].addListener("ctrl+alt+G", () => {
                        this.helpPopKeyHandler("ctrl+alt+G", Z["c"].CONTAINER);
                      }))
                    : "sketch" === ne["e"].mode &&
                      ne["e"].addListener("A", () => {
                        this.helpPopKeyHandler("A", Z["c"].CONTAINER);
                      })),
                (null === e || void 0 === e ? void 0 : e.helpGuidePenScene) &&
                  ne["e"].addListener("P", () => {
                    this.helpPopKeyHandler("P", Z["c"].PEN);
                  }),
                (null === e || void 0 === e
                  ? void 0
                  : e.helpGuideAutoLayoutScene) &&
                  ne["e"].addListener("shift+A", () => {
                    this.helpPopKeyHandler("shift+A", Z["c"].AUTO_LAYOUT);
                  }),
                (null === e || void 0 === e
                  ? void 0
                  : e.helpGuideConcatLineScene) &&
                  ne["e"].addListener("X", () => {
                    this.helpPopKeyHandler("X", Z["c"].CONCAT_LINE);
                  }),
                this.setLastCurrentAnchor();
            });
          }
          onDestory() {
            x["f"].destroy(),
              x["u"].clear(),
              ne["f"].deleteHotkeyAction(),
              delete window.MasterGo,
              this.fontLoadUnsubscribe && this.fontLoadUnsubscribe(),
              this.fontLoadTimeout && clearTimeout(this.fontLoadTimeout),
              this.$eventBus.$off(
                "toggleExportAllDialog",
                this.toggleExportAllDialogCallback
              ),
              this.$eventBus.$off(
                "togglePreferencesDialog",
                this.togglePreferencesCallback
              );
          }
          togglePreferencesCallback(e) {
            this.isPreferencesDialog = e;
          }
          closePreferencesDialog() {
            this.isPreferencesDialog = !1;
          }
          beforeDestroy() {
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              this.setVersionType(0),
                this.$eventBus.$off(
                  "toggleExportAllDialog",
                  this.toggleExportAllDialogCallback
                ),
                Object(Ne["f"])(),
                Object(Z["ab"])() &&
                  oe["a"].removeEventListener(
                    "position",
                    this.electronPosition
                  ),
                O["a"].removeListener(
                  "masterTask-frame-draw",
                  this.onFirstDraw
                ),
                O["a"].removeListener("canvas-contextmenu", this.showMenu),
                this.$store.commit("community/SET_PUB_INFO", null),
                this.$store.commit("community/SET_PUB_STATE", M["b"].Draft),
                this.offSessionEvent(),
                L["a"].exitDocument(),
                Ze.dispose(),
                yield this.dispose(),
                O["a"].removeWasmEventListener(
                  te["a"].LayerFillFailed,
                  this.layerFillFailedHandler
                ),
                ne["e"].removeListener("shift+g", this.changeGridLayout),
                this.wssTipClear();
              try {
                this.onDestory();
              } catch (e) {}
            });
          }
          changeGridLayout() {
            this.$toast({
              content:
                "布局网格已" + (this.layoutGridVisible ? "隐藏" : "显示"),
              buttonInfo: "",
              timeout: 3e3,
              position: "bottom",
            }),
              ne["d"].toggleLayoutGridVisible();
          }
          handleForceBack() {
            (this.forceBack = !0), this.$refs.navBar.backToIndex();
          }
          electronPosition(e, t) {
            var i;
            return Object(a["__awaiter"])(this, void 0, void 0, function* () {
              try {
                const e = decodeURIComponent(t).match(/page_id=([^&#]+)/),
                  s = e
                    ? e[1]
                    : null === (i = this.pageIdList) || void 0 === i
                    ? void 0
                    : i[0],
                  o = decodeURIComponent(t).match(/layer_id=([^&#]+)/),
                  a = o ? o[1] : "";
                s !== this.currentPageId && (yield k["a"].pages.switchPage(s));
                const n = Object(j["d"])(),
                  r = decodeURIComponent(t).match(/comp_id=([^&#]+)/),
                  c = r ? r[1] : "",
                  l = this.$store.state.component.componentMap[c];
                n[a]
                  ? (yield k["a"].layers.select([a]),
                    k["a"].viewPort.zoomToSelection())
                  : l &&
                    (yield k["a"].pages.switchPage(l.pageId),
                    yield k["a"].layers.select([l.id]),
                    k["a"].viewPort.zoomToSelection());
              } catch (e) {}
            });
          }
          offSessionEvent() {
            this.editorSession &&
              this.editorSession.getWss() &&
              (this.editorSession.getWss().off("connect", this.onWssReconnect),
              this.editorSession
                .getWss()
                .off("joined-room", this.onWssJoinedRoom),
              this.editorSession
                .getWss()
                .off("FileVersionChange", this.handleFileVersionChange)),
              this.fileWssBusiness &&
                (this.fileWssBusiness.eventPublisher.off(
                  "other-changeset-offline-synced",
                  this.onOtherChangesetSynced
                ),
                this.fileWssBusiness.eventPublisher.off(
                  "FileVersionChange",
                  this.handleFileVersionChange
                ),
                this.fileWssBusiness.eventPublisher.off(
                  "changeset-unloaded",
                  this.onChangesetUnloaded
                )),
              this.editorSession &&
                this.editorSession.getChangeSetManager() &&
                (this.editorSession
                  .getChangeSetManager()
                  .off("changeset-loaded", this.onChangesetLoaded),
                this.editorSession
                  .getChangeSetManager()
                  .off("merged", this.onWssChangesetMerged),
                this.editorSession
                  .getChangeSetManager()
                  .off(
                    "getChangesetFileKeyDifferent",
                    this.onGetChangesetFileKeyDifferent
                  ),
                this.editorSession
                  .getChangeSetManager()
                  .off(
                    "receiveChangesetMerged",
                    this.onReceiveChangesetMerged
                  ));
          }
          setDocumentConfig() {
            const e = this.$store.state.file.settings;
            Object.keys(e).forEach((t) => {
              switch (t) {
                case "showCoordination":
                  this.$store.dispatch("basicState/setBasicState", {
                    showCoordination: e[t],
                  });
                  break;
                case "gridAlign":
                  k["a"].pageState.setGridAlign(e[t]);
                  break;
                case "gridVisible":
                  k["a"].pageState.setGridVisible(e[t]);
                  break;
                case "layoutGridVisible":
                  this.disableShowGridLayout
                    ? k["a"].pageState.setLayoutGridVisible(!1)
                    : k["a"].pageState.setLayoutGridVisible(e[t]);
                  break;
                case "rulerVisible":
                  k["a"].pageState.setRulerVisible(e[t]);
                  break;
                case "sliceVisible":
                  k["a"].pageState.setSliceVisible(e[t]);
                  break;
                default:
                  break;
              }
            });
          }
          initComments(e) {
            Object(w["isFeatureEnabled"])("comment") &&
              e &&
              this.$store
                .dispatch("comments/initComment", e)
                .then(() => {
                  if (!this.$store.state.file.isRateLimiting) {
                    let e = !1;
                    const t = Object(ie["K"])().maxUnresolvedCommentsNum,
                      i = this.currentPageUnresolvedCommentCount;
                    i < t && (e = !0),
                      void 0 !== this.fileSettings.showCommentMark &&
                        (e = this.fileSettings.showCommentMark),
                      e &&
                        this.$store.dispatch("basicState/setBasicState", {
                          showCommentMark: e,
                        });
                  }
                  const e = this.$route.query.commentID;
                  if (
                    e &&
                    !Object(Z["jb"])(this.userInfo.id) &&
                    !this.$store.state.file.isRateLimiting
                  ) {
                    this.$store.dispatch("comments/setFocusCommentId", e),
                      k["a"].pageState.setState(se["r"].CommentView);
                    const t = this.$store.state.comments.allComments.find(
                        (t) => t.id === e
                      ),
                      i = this.$route.query.replyID;
                    if (t) {
                      if (i) {
                        const e = t.replies.find((e) => e.id === Number(i));
                        e ||
                          x["r"].show("该 回复 已被删除", "top", "destructive");
                      }
                    } else x["r"].show("该 评论/校对/圈话 已被删除", "top");
                  }
                })
                .catch((e) =>
                  x["n"].setLog(
                    "ERROR",
                    "comment",
                    "comment store init failed",
                    e
                  )
                );
          }
        };
      Object(a["__decorate"])(
        [Object(n["h"])("fileKey")],
        Dy.prototype,
        "fileKeyHandler",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectIds", {
              immediate: !0,
              deep: !0,
            }),
          ],
          Dy.prototype,
          "selectIdsHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("$store.state.hotkey.currentMode")],
          Dy.prototype,
          "helpGuidePopHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("wssTip")],
          Dy.prototype,
          "wssHandler",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("versionType", {
              immediate: !0,
            }),
          ],
          Dy.prototype,
          "versionTypeHandler",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isHideToolbar")],
          Dy.prototype,
          "isHideToolbarHandler",
          null
        ),
        (Dy = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MMessage: R,
                Toast: H["a"],
                TopBar: vu,
                NavBar: Ib,
                MiddleMain: fu["a"],
                LeftBar: Gp,
                BoserveRightBar: Bv,
                VersionRightBar: bf,
                PrototypeRightBar: Ey,
                NewRightBar: Fl,
                TouristBar: ft,
                MasterDialog: b["a"],
                EditpageSkeletonScreen: rt["a"],
                CommentSideBar: ld,
                FrameArea: ql,
                ExportDialog: X,
                LimitingDaliog: S,
                PreferencesDialog: je,
                PluginDock: Ve,
                BackInstance: bd,
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        Object.assign(
                          {},
                          Object(r["e"])({
                            userInfo: (e) => e.main.userInfo,
                            userID: (e) => e.main.userInfo.id,
                            isHistoryView: (e) => 1 === e.file.versionType,
                            userId: (e) => e.main.userInfo.id,
                            email: (e) => e.main.userInfo.email,
                            wssStatus: (e) => e.file.wssStatus,
                            fileStatusStage: (e) => e.file.stage,
                            wsOfflineReadonly: (e) => e.file.offlineReadonly,
                            currentDocument: (e) => e.app.currentDocument,
                            viewMode: (e) => e.basicState.viewMode,
                            versionType: (e) => e.file.versionType,
                            hoverId: (e) => e.basicState.hoverId,
                            isHideToolbar: (e) => e.file.isHideToolbar,
                            selectBasic: (e) => e.basicProps.item,
                            fileKey: (e) => e.basicState.fileKey,
                            hitTestIds: (e) => e.basicState.hitTestIds,
                            selectIds: (e) => e.basicState.selectIds,
                            canvasState: (e) => e.basicState.state,
                            layoutGridVisible: (e) =>
                              e.basicState.layoutGridVisible,
                            frameList: (e) => e.newLayer.frameList,
                            currentPageId: (e) => e.basicState.currentPageId,
                            pageIdList: (e) => e.pages.list,
                            hotkeyDictionary: (e) =>
                              e.dictionary.HOTKEY_DICTIONARY,
                          })
                        ),
                        Object(r["c"])([
                          "disableUpdateLayer",
                          "disableShowToolbar",
                          "disableShowGridLayout",
                        ])
                      ),
                      Object(r["c"])("basicState", ["viewType"])
                    ),
                    Object(r["c"])("comments", [
                      "currentPageUnresolvedCommentCount",
                    ])
                  ),
                  Object(r["c"])("file", ["fileSettings"])
                ),
                Object(r["c"])("dictionary", [
                  "CANVAS_LIST",
                  "CANVAS_LIST_LOOKER",
                  "LAYER_LIST",
                ])
              ),
              methods: Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(
                      Object.assign(
                        Object.assign(
                          {},
                          Object(r["b"])("file", [
                            "setWssStatus",
                            "setVersionType",
                            "setFileProjectName",
                          ])
                        ),
                        Object(r["b"])("style", [
                          "setSubscribedStyles",
                          "setUsedStyleList",
                        ])
                      ),
                      Object(r["b"])("component", ["setUsedComponentList"])
                    ),
                    Object(r["b"])("teamLibrary", [
                      "getPublishedData",
                      "getTeamLibraryList",
                      "getPresetLibraryList",
                    ])
                  ),
                  Object(r["b"])("resources", ["getTeamFonts"])
                ),
                Object(r["d"])("basicState", ["setLastCurrentAnchor"])
              ),
              provide() {
                return {
                  changeDocument: this.changeDocument,
                };
              },
              beforeRouteLeave(e, t, i) {
                this.$eventBus.$emit("hideContentDropMenu"),
                  O["a"].Module.isSaving &&
                  !this.forceBack &&
                  "kickout" === e.query.reason
                    ? ((this.kickOutShow = !0), i(!1))
                    : this.editorSession &&
                      this.editorSession.getWss() &&
                      "connected" !==
                        this.editorSession.getWss().status().connectStatus &&
                      O["a"].Module.isSaving &&
                      !this.forceBack
                    ? i()
                    : this.editorSession &&
                      this.editorSession.getWss() &&
                      "connected" ===
                        this.editorSession.getWss().status().connectStatus &&
                      !this.editorSession.getWss().status()
                        .noAccessPermission &&
                      !this.disableUpdateLayer &&
                      (this.editorSession.getChangeSetManager().status()
                        .mergingCount > 0 ||
                        this.needSync) &&
                      !this.forceBack
                    ? ((this.syncingShow = !0), i(!1))
                    : (this.forceBack && k["a"][ee["a"].changeSaveStatus](!1),
                      i());
              },
            }),
          ],
          Dy
        ));
      var By = Dy,
        Ny = By,
        Fy =
          (i("145c"),
          i("afaa"),
          Object(_["a"])(Ny, s, o, !1, null, "0d00815c", null));
      t["default"] = Fy.exports;
    },
    d42b: function (e, t, i) {},
    d43f: function (e, t, i) {
      "use strict";
      i("24f7");
    },
    d48c: function (e, t, i) {},
    d4bf: function (e, t, i) {
      "use strict";
      i("891b");
    },
    d4cfc: function (e, t, i) {
      "use strict";
      i("3485");
    },
    d54c: function (e, t, i) {
      "use strict";
      i("e776");
    },
    d897: function (e, t, i) {},
    d9b4: function (e, t, i) {
      "use strict";
      i("57bc");
    },
    db6d: function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-architercture.28f6031a.jpg";
    },
    db76: function (e, t, i) {
      "use strict";
      i("352b");
    },
    db96: function (e, t, i) {
      "use strict";
      i("9bf4");
    },
    db99: function (e, t, i) {
      "use strict";
      i("b689");
    },
    dcb8: function (e, t, i) {},
    dcd5: function (e, t, i) {
      "use strict";
      i("ace9");
    },
    dd04: function (e, t, i) {},
    dd7a: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            [
              e._l(e.inputList, function (t) {
                return [
                  i("master-input", {
                    key: t,
                    staticClass: "master__input--mutil",
                    attrs: {
                      focusSelectAll: !0,
                      value: e.inputValue[t].value,
                      placeholder: e.inputValue[t].placeholder,
                      validate: e.validate.checkPadding,
                      valueDecorator: e.valueDecorator.paddingDecorator,
                    },
                    on: {
                      change: function (i) {
                        return e.handlePaddingChange(t, i);
                      },
                      keydown: e.keydownHandler,
                      mousedown: function (t) {
                        return e.$emit("mousedown", t);
                      },
                      blur: function (i) {
                        return e.onBlur(t);
                      },
                      dragup: function (i) {
                        return e.onInputBlur(t, "drag");
                      },
                    },
                    scopedSlots: e._u(
                      [
                        {
                          key: "header",
                          fn: function () {
                            return [
                              i("BasicLeftIcon", {
                                attrs: {
                                  masterIconName: e.PaddingIcon[t],
                                  disabledDrag: e.inputValue[t].disabled,
                                },
                                on: {
                                  change: function (i) {
                                    return e.handlePaddingOrArrayChange(
                                      t,
                                      e.inputValue[t].value,
                                      i
                                    );
                                  },
                                  mouseup: function (i) {
                                    return e.onInputBlur(t, "drag");
                                  },
                                },
                              }),
                            ];
                          },
                          proxy: !0,
                        },
                      ],
                      null,
                      !0
                    ),
                  }),
                ];
              }),
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d257"),
        c = i("8ece"),
        l = i("43c3"),
        d = i("3759"),
        u = i("e0b5"),
        h = i("c296"),
        p = i("0e0c"),
        m = i("691a"),
        g = i("b4a6");
      let b = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.keydownHandler = r["ob"]),
            (this.validate = p),
            (this.valueDecorator = m),
            (this.PaddingIcon = g["a"]);
        }
        get paddingTop() {
          var e;
          return null === this.selectItem.padding0
            ? null
            : null !== (e = this.selectItem.padding0) && void 0 !== e
            ? e
            : "";
        }
        get paddingRight() {
          var e;
          return null === this.selectItem.padding1
            ? null
            : null !== (e = this.selectItem.padding1) && void 0 !== e
            ? e
            : "";
        }
        get paddingBottom() {
          var e;
          return null === this.selectItem.padding2
            ? null
            : null !== (e = this.selectItem.padding2) && void 0 !== e
            ? e
            : "";
        }
        get paddingLeft() {
          var e;
          return null === this.selectItem.padding3
            ? null
            : null !== (e = this.selectItem.padding3) && void 0 !== e
            ? e
            : "";
        }
        get inputValue() {
          const e = [
              this.paddingTop,
              this.paddingRight,
              this.paddingBottom,
              this.paddingLeft,
            ],
            t = e.some((e) => null === e),
            i = [this.paddingTop, this.paddingBottom],
            s = [this.paddingLeft, this.paddingRight],
            o = i.some((e) => null === e),
            a = s.some((e) => null === e);
          return {
            [g["c"].Top]: this.formatValue(
              this.paddingTop,
              null === this.paddingTop
            ),
            [g["c"].Right]: this.formatValue(
              this.paddingRight,
              null === this.paddingRight
            ),
            [g["c"].Bottom]: this.formatValue(
              this.paddingBottom,
              null === this.paddingBottom
            ),
            [g["c"].Left]: this.formatValue(
              this.paddingLeft,
              null === this.paddingLeft
            ),
            [g["c"].TopBottom]: this.formatValue(i.join(","), o),
            [g["c"].LeftRight]: this.formatValue(s.join(","), a),
            [g["c"].Full]: this.formatValue(e.join(","), t),
          };
        }
        formatValue(e, t) {
          return {
            value: t ? "" : e,
            placeholder: t ? "多个值" : "",
            disabled: t,
          };
        }
        handlePaddingChange(e, t) {
          var i, s;
          if (!(t.length < 1))
            if (e !== g["c"].Full || 1 !== t.length)
              if (e !== g["c"].Full)
                if (e !== g["c"].TopBottom)
                  if (e !== g["c"].LeftRight)
                    this.setPadding(t.slice(0, 1)[0], g["b"][e]);
                  else {
                    const e = t.slice(0, 2);
                    (1 === e.length ? [e[0], e[0]] : e).forEach((e, t) =>
                      this.setPadding(e, 3 - 2 * t)
                    );
                  }
                else {
                  const e = t.slice(0, 2);
                  (1 === e.length ? [e[0], e[0]] : e).forEach((e, t) =>
                    this.setPadding(e, 2 * t)
                  );
                }
              else {
                const e = t.slice(0, 4);
                [
                  e[0],
                  e[1],
                  null !== (i = e[2]) && void 0 !== i ? i : e[0],
                  null !== (s = e[3]) && void 0 !== s ? s : e[1],
                ].forEach((e, t) => this.setPadding(e, t));
              }
            else this.setPadding(t[0], -1);
        }
        handlePaddingOrArrayChange(e, t, i) {
          e === g["c"].Full &&
            "string" === typeof t &&
            t
              .split(",")
              .forEach((e, t) => this.setPadding(Math.max(+e + i, 0) + "", t)),
            e === g["c"].TopBottom &&
              "string" === typeof t &&
              t
                .split(",")
                .forEach((e, t) =>
                  this.setPadding(Math.max(+e + i, 0) + "", 2 * t)
                ),
            e !== g["c"].LeftRight || "string" !== typeof t
              ? this.setPadding(Math.max(+t + i, 0) + "", g["b"][e])
              : t
                  .split(",")
                  .forEach((e, t) =>
                    this.setPadding(Math.max(+e + i, 0) + "", 3 - 2 * t)
                  );
        }
        setPadding(e, t) {
          const i = this.parseInputValue(e);
          null !== i &&
            (d["a"].setTag("padding"),
            c["a"].selector[l["a"].setAutoLayout]({
              index: t,
              padding: i,
            }));
        }
        parseInputValue(e) {
          const t = "string" === typeof e ? parseFloat(e) : e;
          return Number.isNaN(t) ? null : parseFloat(t.toFixed(2));
        }
        onBlur(e) {
          this.onInputBlur(e, "click"), this.$emit("blur");
        }
        onInputBlur(e, t) {
          if (!e) return;
          if ("canvas" === this.position && "drag" === t) return;
          let i = "";
          (i =
            "canvas" === this.position
              ? "click" === t
                ? "canvas_input"
                : "canvas_icon"
              : "click" === t
              ? "input_box"
              : "icon"),
            u["c"].track(
              "click" === t ? u["a"].EVENT_CLICK : u["a"].DRAG_ICON,
              {
                action_position: "canvas",
                action_parameter0: "design",
                action_parameter1: "autolayout",
                action_parameter2: i,
                action_detail: g["d"][e],
              }
            );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        b.prototype,
        "selectItem",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          b.prototype,
          "inputList",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          b.prototype,
          "position",
          void 0
        ),
        (b = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                BasicLeftIcon: h["a"],
              },
            }),
          ],
          b
        ));
      var v = b,
        f = v,
        y = i("2877"),
        _ = Object(y["a"])(f, s, o, !1, null, "3d9eead0", null);
      t["a"] = _.exports;
    },
    dd94: function (e, t, i) {
      "use strict";
      i("74f8");
    },
    de7f: function (e, t, i) {
      "use strict";
      i("4ef6");
    },
    e0f2: function (e, t, i) {
      e.exports = i.p + "static/img/master_only_logo.cc64744e.svg";
    },
    e0f3: function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-nature.756c8ebe.jpg";
    },
    e0fc: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "reason",
            },
            [
              i(
                "div",
                {
                  ref: "targetEl",
                  staticClass: "reason__wrapper",
                },
                [e._t("target")],
                2
              ),
              i(
                "div",
                {
                  ref: "contentEl",
                  staticClass: "reason__wrapper",
                },
                [e._t("content")],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("6f9a");
      i("0b38");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments), (this.tippyInstance = null);
        }
        handlePropsChange(e) {
          this.tippyInstance &&
            this.tippyInstance.setProps({
              placement: e,
            });
        }
        mounted() {
          this.tippyInstance = Object(r["a"])(this.$refs.targetEl, {
            content: this.$refs.contentEl,
            duration: 0,
            trigger: this.trigger,
            placement: this.placement,
            hideOnClick: this.hideOnClick,
            zIndex: 9999999999,
            interactive: this.interactive,
            arrow: r["b"],
            appendTo: () => document.body,
          });
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "mouseenter",
          }),
        ],
        c.prototype,
        "trigger",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "bottom",
            }),
          ],
          c.prototype,
          "placement",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: [String, Boolean],
              default: !0,
            }),
          ],
          c.prototype,
          "hideOnClick",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !0,
            }),
          ],
          c.prototype,
          "interactive",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("placement")],
          c.prototype,
          "handlePropsChange",
          null
        ),
        (c = Object(a["__decorate"])([n["a"]], c));
      var l = c,
        d = l,
        u = (i("8457"), i("8b63"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "6074364e", null);
      t["a"] = h.exports;
    },
    e18d: function (e, t, i) {
      e.exports = i.p + "static/img/placeholder-img.d8a150fe.png";
    },
    e1cb: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.tip.content && !e.isPri
            ? i("div", [
                "fileOpen" === e.type
                  ? i(
                      "div",
                      {
                        staticClass: "dynamic_tip_wrapper fileOpen",
                        on: {
                          click: e.openTip,
                        },
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "dynamic_tip",
                          },
                          [e._v(e._s("MasterGo 使用攻略：" + e.tip.content))]
                        ),
                        i(
                          "div",
                          {
                            staticClass: "check_button",
                          },
                          [e._v("立即查看")]
                        ),
                      ]
                    )
                  : i(
                      "div",
                      {
                        staticClass: "dynamic_tip_wrapper dialog",
                        on: {
                          click: e.openTip,
                        },
                      },
                      [
                        i(
                          "div",
                          {
                            staticClass: "dynamic_tip",
                          },
                          [e._v(e._s("MasterGo 使用攻略：" + e.tip.content))]
                        ),
                      ]
                    ),
              ])
            : e._e();
        },
        o = [],
        a = i("9ab4"),
        n = i("2ef0"),
        r = i("e0b5"),
        c = i("60a3"),
        l = i("cef3");
      let d = class extends c["g"] {
        constructor() {
          super(...arguments),
            (this.tips = []),
            (this.index = 0),
            (this.isPri = !1);
        }
        openTip() {
          r["c"].track(r["a"].DYNAMIC_TIPS, {
            action_position:
              "fileOpen" === this.type ? "file_open" : "import_dialog",
            action_type: "click",
            action_successed: !0,
            action_parameter0: JSON.stringify(this.tip),
          }),
            window.open(this.tip.url);
        }
        startCarousel() {
          this.timer && clearInterval(this.timer),
            (this.timer = setInterval(() => {
              this.index++,
                this.index === this.tips.length &&
                  ((this.index = 0),
                  r["c"].track(r["a"].DYNAMIC_TIPS, {
                    action_position:
                      "fileOpen" === this.type ? "file_open" : "import_dialog",
                    action_type: "show",
                    action_successed: !0,
                    action_parameter0: JSON.stringify(this.tip),
                  }));
            }, 6e3));
        }
        beforeDestroy() {
          clearInterval(this.timer);
        }
      };
      Object(a["__decorate"])(
        [
          Object(c["e"])({
            type: Array,
            default: [0],
            required: !1,
          }),
        ],
        d.prototype,
        "scene",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(c["e"])({
              type: String,
              default: "dialog",
              required: !1,
            }),
          ],
          d.prototype,
          "type",
          void 0
        ),
        (d = Object(a["__decorate"])(
          [
            Object(c["a"])({
              computed: {
                tip() {
                  return this.tips[this.index] || {};
                },
              },
              watch: {
                scene: {
                  immediate: !0,
                  handler(e, t) {
                    Object(n["isEqual"])(e, t) ||
                      ((this.tips = Object(l["b"])(this.scene)),
                      this.startCarousel());
                  },
                },
              },
            }),
          ],
          d
        ));
      var u = d,
        h = u,
        p = (i("4cac"), i("2877")),
        m = Object(p["a"])(h, s, o, !1, null, "2424970c", null);
      t["a"] = m.exports;
    },
    e1e6: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "transition",
              class: [
                "mas-button-switch-" + e.type,
                e.checkVal ? "mas-button-switch-selected-" + e.type : "",
                e.disabled ? "disableButton" : "",
              ],
              attrs: {
                tabindex: e.focusable ? "0" : "",
              },
              on: {
                mousedown: function (t) {
                  return t.preventDefault(), e.changeStatus(t);
                },
                keydown: [
                  function (t) {
                    return !t.type.indexOf("key") &&
                      e._k(t.keyCode, "space", 32, t.key, [" ", "Spacebar"])
                      ? null
                      : e.changeStatus(t);
                  },
                  function (t) {
                    return !t.type.indexOf("key") &&
                      e._k(t.keyCode, "enter", 13, t.key, "Enter")
                      ? null
                      : e.changeStatus(t);
                  },
                ],
                focus: e.suspendHotkey,
                blur: e.resumeHotkey,
              },
            },
            [
              e.isMasterIcon
                ? [
                    i(e.icon, {
                      tag: "component",
                      staticClass: "mas-tool-button-icon",
                      attrs: {
                        size: "14",
                      },
                    }),
                  ]
                : [
                    "normal" === e.type || "trans" === e.type
                      ? i("svg-plugin", {
                          staticStyle: {
                            "font-size": "14",
                          },
                          attrs: {
                            name: e.icon,
                          },
                        })
                      : e._e(),
                    "round" === e.type
                      ? i("svg-plugin", {
                          staticStyle: {
                            "font-size": "14",
                          },
                          attrs: {
                            name: e.icon,
                          },
                        })
                      : e._e(),
                  ],
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3");
      let r = class extends n["g"] {
        constructor() {
          super(...arguments), (this.suspendKeyCodes = [32, 13]);
        }
        changeStatus() {
          this.disabled ||
            (this.$emit("update:checkVal", !this.checkVal),
            this.$emit("click"));
        }
        get isMasterIcon() {
          return /^[A-Z]/.test(this.icon);
        }
        suspendHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.suspendKeydown(e);
        }
        resumeHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.resumeKeydown(e);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            default: !1,
            required: !1,
          }),
        ],
        r.prototype,
        "disabled",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          r.prototype,
          "icon",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          r.prototype,
          "checkVal",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "normal",
              required: !1,
            }),
          ],
          r.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          r.prototype,
          "focusable",
          void 0
        ),
        (r = Object(a["__decorate"])([n["a"]], r));
      var c = r,
        l = c,
        d = (i("81d0"), i("2877")),
        u = Object(d["a"])(l, s, o, !1, null, "fb92fbe4", null);
      t["a"] = u.exports;
    },
    e22a: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "container",
            },
            [
              e.simpleStyle
                ? e._e()
                : i(
                    "div",
                    {
                      staticClass: "todolist__header transition",
                      class: {
                        header_null: !e.list.length,
                      },
                      attrs: {
                        "data-tours-name": e.headToursName,
                      },
                      on: {
                        click: e.firstAdd,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "todolist__header--content",
                        },
                        [e._t("header")],
                        2
                      ),
                      e.styleItem
                        ? [
                            i(
                              "div",
                              {
                                staticClass: "todolist__header--desc",
                              },
                              [e._v(e._s(e.styleItem.description))]
                            ),
                          ]
                        : [
                            (!~e.maxSize ||
                              e.list.length < e.maxSize ||
                              e.maxToast) &&
                            !e.disabledAdd
                              ? i(
                                  "div",
                                  {
                                    staticClass: "todolist__header--aside",
                                  },
                                  [
                                    i("MasterButtonIcon", {
                                      class: "add-" + e.type + "-item-button",
                                      attrs: {
                                        icon: "PlusIcon",
                                        isLocalIcon: !1,
                                        "data-selectprop": "true",
                                        focusable: "",
                                      },
                                      on: {
                                        toggle: e.addItem,
                                      },
                                      nativeOn: {
                                        click: function (t) {
                                          return (
                                            t.stopPropagation(), e.addItem(t)
                                          );
                                        },
                                      },
                                    }),
                                  ],
                                  1
                                )
                              : e._e(),
                          ],
                    ],
                    2
                  ),
              i(
                "div",
                {
                  ref: "todoListContent",
                  staticClass: "todolist__content",
                },
                [
                  e.styleItem
                    ? e._t("style")
                    : [
                        e._l(e.list, function (t, s) {
                          return i(
                            "div",
                            {
                              key: s,
                              ref: "todoListItem",
                              refInFor: !0,
                              staticClass: "todolist__item",
                              class: {
                                todolist__item__simple: e.simpleStyle,
                                todolist__item__active:
                                  e.selectType && e.selectList.includes(t.id),
                              },
                              attrs: {
                                "data-selectprop": "true",
                              },
                              on: {
                                mousedown: function (i) {
                                  return e.mousedownHandler(i, t, s);
                                },
                              },
                            },
                            [
                              !e.disabledSort &&
                              e.list.length > 1 &&
                              !e.simpleStyle
                                ? i(
                                    "div",
                                    {
                                      staticClass: "todolist__item__drag-icon",
                                      style: {
                                        cursor: e.isMouseDown
                                          ? "grabbing"
                                          : "grab",
                                      },
                                      on: {
                                        mouseenter: function (t) {
                                          return e.dragIconMouseenterHandler(s);
                                        },
                                        mouseleave: e.dragIconMouseleaveHandler,
                                      },
                                    },
                                    [
                                      i("div", {
                                        directives: [
                                          {
                                            name: "show",
                                            rawName: "v-show",
                                            value:
                                              e.dragIconMouseenterIndex === s,
                                            expression:
                                              "dragIconMouseenterIndex === i",
                                          },
                                        ],
                                        staticClass:
                                          "todolist__item__drag-icon__item",
                                      }),
                                      i("div", {
                                        directives: [
                                          {
                                            name: "show",
                                            rawName: "v-show",
                                            value:
                                              e.dragIconMouseenterIndex === s,
                                            expression:
                                              "dragIconMouseenterIndex === i",
                                          },
                                        ],
                                        staticClass:
                                          "todolist__item__drag-icon__item",
                                      }),
                                      i("div", {
                                        directives: [
                                          {
                                            name: "show",
                                            rawName: "v-show",
                                            value:
                                              e.dragIconMouseenterIndex === s,
                                            expression:
                                              "dragIconMouseenterIndex === i",
                                          },
                                        ],
                                        staticClass:
                                          "todolist__item__drag-icon__item",
                                      }),
                                    ]
                                  )
                                : e._e(),
                              e.simpleStyle
                                ? i(
                                    "div",
                                    {
                                      staticClass: "todolist__item--content",
                                    },
                                    [
                                      e._t("default", null, {
                                        data: t,
                                        index: s,
                                      }),
                                    ],
                                    2
                                  )
                                : i(
                                    "div",
                                    {
                                      staticClass: "todolist__item--content",
                                      on: {
                                        mousedown: function (e) {
                                          e.stopPropagation();
                                        },
                                      },
                                    },
                                    [
                                      e._t("default", null, {
                                        data: t,
                                        index: s,
                                      }),
                                    ],
                                    2
                                  ),
                              e.disabledDelete || e.simpleStyle
                                ? e._e()
                                : i(
                                    "div",
                                    {
                                      staticClass: "todolist__item--aside",
                                      on: {
                                        mousedown: function (e) {
                                          e.stopPropagation();
                                        },
                                      },
                                    },
                                    [
                                      i("MasterButtonIcon", {
                                        attrs: {
                                          icon: "MinusIcon",
                                          focusable: "",
                                        },
                                        on: {
                                          click: function (i) {
                                            return e.delItem(t);
                                          },
                                        },
                                      }),
                                    ],
                                    1
                                  ),
                            ]
                          );
                        }),
                        e.isDrag
                          ? i("div", {
                              staticClass: "tree_drag__line",
                              style: {
                                top: e.dragLine.posY + "px",
                                left: 18 * e.dragLine.offsetLeft + "px",
                              },
                            })
                          : e._e(),
                      ],
                ],
                2
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("d257"),
        c = i("2f62"),
        l = i("dc0f"),
        d = i("0613"),
        u = i("b29f");
      const h = l["d"].getCanvas();
      (h.dataset.selectprop = "true"),
        document.addEventListener("mousedown", (e) => {
          var t, i;
          if (
            (null === (t = d["a"].state.basicState.selectProps) || void 0 === t
              ? void 0
              : t.list.length) &&
            !(null === (i = e.target.dataset) || void 0 === i
              ? void 0
              : i.selectprop) &&
            !e.path.some((e) => {
              var t;
              return null ===
                (t = null === e || void 0 === e ? void 0 : e.dataset) ||
                void 0 === t
                ? void 0
                : t.selectprop;
            })
          ) {
            const e = d["a"].state.basicState.selectProps.list;
            if ("frame" === d["a"].state.basicState.selectProps.type) return;
            e.splice(0, e.length);
          }
        });
      let p = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.isMac = Object(r["hb"])()),
            (this.dragIconMouseenterIndex = -1),
            (this.currentMouseenterIndex = -1),
            (this.isMouseDown = !1),
            (this.startNode = {
              containerX: 0,
              containerY: 0,
              containerHeight: 0,
              startX: 0,
              startY: 0,
              itemX: 0,
              itemY: 0,
              itemHeight: 0,
              oldIndex: -1,
              newIndex: -1,
              itemData: {},
            }),
            (this.dragLine = {
              offset: 0,
              startY: 0,
              posY: 0,
            }),
            (this.isDrag = !1);
        }
        watchSelectList() {
          this.$emit(
            "select",
            this.list.filter((e) => this.selectList.includes(e.id))
          );
        }
        mousedownHandler(e, t, i) {
          if (this.disabledSort && !this.enableSelect) return;
          this.disabledSort || (this.isMouseDown = !0),
            this.setSelectProps({
              type: this.type,
              styleId: this.styleId,
              styleItemId: "",
            });
          const s = this.isMac ? e.metaKey : e.ctrlKey,
            o = this.selectList.indexOf(t.id);
          if (s) ~o ? this.selectList.splice(o, 1) : this.selectList.push(t.id);
          else if (e.shiftKey) {
            let e = this.list.findIndex((e) => e.id === this.selectList[0]);
            ~e || (e = i);
            const t = Math.min(i, e),
              s = Math.max(i, e);
            for (let i = t; i <= s; i++)
              ~this.selectList.indexOf(this.list[i].id) ||
                this.selectList.push(this.list[i].id);
          } else
            ~this.selectList.indexOf(t.id) ||
              this.selectList.splice(0, this.selectList.length, t.id);
          if ((this.$emit("selectItem"), this.disabledSort)) return;
          const a = this.$refs.todoListContent,
            n = this.$refs.todoListItem[i],
            { clientX: r, clientY: c } = e;
          (this.startNode.startX = r), (this.startNode.startY = c);
          const l = a.getBoundingClientRect();
          (this.startNode.containerX = l.x),
            (this.startNode.containerY = l.y),
            (this.startNode.containerHeight = l.height);
          const d = n.getBoundingClientRect();
          (this.startNode.itemX = d.x),
            (this.startNode.itemY = d.y),
            (this.startNode.itemHeight = d.height),
            (this.dragLine.startY =
              this.startNode.itemY - this.startNode.containerY),
            (this.dragLine.posY = this.dragLine.startY),
            (this.dragLine.offset = 0),
            document.addEventListener("mousemove", this.mousemoveHandler),
            document.addEventListener("mouseup", this.mouseupHandler),
            (this.startNode.itemData = t),
            (this.startNode.oldIndex = i);
        }
        mousemoveHandler(e) {
          const { clientY: t } = e;
          if (!this.dragLine.offset) {
            if (!(Math.abs(t - this.startNode.startY) > 5)) return;
            this.dragLine.offset = 1;
          }
          let i;
          (this.isDrag = !0), (this.dragLine.offset = 1);
          const s = t - this.startNode.itemY;
          (i =
            Math.round(s / this.startNode.itemHeight) *
              this.startNode.itemHeight +
            this.dragLine.startY),
            i < 0
              ? (i = 0)
              : i > this.startNode.containerHeight &&
                (i = this.startNode.containerHeight),
            (this.dragLine.posY = i),
            (this.startNode.newIndex = i / this.startNode.itemHeight);
        }
        mouseupHandler(e) {
          var t;
          if (
            (document.removeEventListener("mousemove", this.mousemoveHandler),
            document.removeEventListener("mouseup", this.mouseupHandler),
            (this.isMouseDown = !1),
            (this.dragIconMouseenterIndex = this.currentMouseenterIndex),
            -1 !== this.startNode.newIndex)
          )
            this.resortItem(
              this.selectList,
              null === (t = this.list[~~this.startNode.newIndex]) ||
                void 0 === t
                ? void 0
                : t.index
            ),
              (this.startNode.newIndex = -1);
          else {
            const t = this.isMac ? e.metaKey : e.ctrlKey;
            1 === this.selectList.length ||
              t ||
              e.shiftKey ||
              this.selectList.splice(
                0,
                this.selectList.length,
                this.list[this.startNode.oldIndex].id
              );
          }
          this.isDrag = !1;
        }
        addItem() {
          this.disabledAdd ||
            (~this.maxSize && this.list.length >= this.maxSize
              ? this.$toast({
                  content: this.maxToast,
                  timeout: 1e3,
                  position: "top",
                })
              : this.$emit("add"));
        }
        resortItem(e, t = "") {
          this.$emit(
            "resort",
            this.list.filter((t) => e.includes(t.id)).map((e) => e.index),
            t
          );
        }
        delItem(e) {
          if ((this.$emit("del", [e]), this.type === this.selectType)) {
            const t = this.selectList.indexOf(e.id);
            ~t && this.selectList.splice(t, 1);
          }
        }
        dragIconMouseenterHandler(e) {
          (this.currentMouseenterIndex = e),
            this.isMouseDown ||
              (this.dragIconMouseenterIndex = this.currentMouseenterIndex);
        }
        dragIconMouseleaveHandler() {
          (this.currentMouseenterIndex = -1),
            this.isMouseDown ||
              (this.dragIconMouseenterIndex = this.currentMouseenterIndex);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            default: "",
          }),
        ],
        p.prototype,
        "headToursName",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: [String, Number],
              required: !1,
            }),
          ],
          p.prototype,
          "type",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          p.prototype,
          "styleId",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          p.prototype,
          "list",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: -1,
              required: !1,
            }),
          ],
          p.prototype,
          "maxSize",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              default: "",
              required: !1,
            }),
          ],
          p.prototype,
          "maxToast",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "disabledSort",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "enableSelect",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "simpleStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              required: !1,
            }),
          ],
          p.prototype,
          "styleItem",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "disabledDelete",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
              required: !1,
            }),
          ],
          p.prototype,
          "disabledAdd",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("selectList")],
          p.prototype,
          "watchSelectList",
          null
        ),
        (p = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterButtonIcon: u["a"],
              },
              computed: Object.assign(
                {},
                Object(c["e"])({
                  selectType: (e) => e.basicState.selectProps.type,
                  selectList: (e) => e.basicState.selectProps.list,
                })
              ),
              methods: Object.assign(
                Object.assign(
                  {},
                  Object(c["b"])("basicState", ["setSelectProps"])
                ),
                {
                  firstAdd() {
                    this.list.length || this.disabledAdd || this.$emit("add");
                  },
                }
              ),
              beforeDestroy() {
                document.removeEventListener("keydown", this.keydownHandler),
                  document.removeEventListener("mousedown", this.clickHandler);
              },
            }),
          ],
          p
        ));
      var m = p,
        g = m,
        b = (i("74e4"), i("2877")),
        v = Object(b["a"])(g, s, o, !1, null, null, null);
      t["a"] = v.exports;
    },
    e2e6: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "middleContainer",
              staticClass: "middle_container",
              attrs: {
                id: "middleContainer",
              },
              on: {
                dragover: e.ondragover,
                mouseenter: function (t) {
                  e.isInCanvas = !0;
                },
                mouseleave: function (t) {
                  e.isInCanvas = !1;
                },
              },
            },
            [
              e._t("default"),
              i(
                "div",
                {
                  staticClass: "appmain_container",
                },
                [
                  i(
                    "div",
                    {
                      ref: "content",
                      attrs: {
                        id: "content",
                      },
                    },
                    [
                      i("WaitLoading"),
                      i("div", {
                        ref: "canvas",
                        staticStyle: {
                          width: "100%",
                          height: "100%",
                        },
                        attrs: {
                          id: "canvasArea",
                        },
                        on: {
                          mousedown: e.handleMouseDown,
                          mousemove: e.handleMouseMove,
                        },
                      }),
                      i("input", {
                        key: "masterInput",
                        ref: "masterInput",
                        staticClass: "textInput",
                        attrs: {
                          id: "masterInput",
                          type: "text",
                          spellcheck: "false",
                          autocomplete: "off",
                        },
                        on: {
                          blur: e.endEdit,
                          compositionupdate: e.compositionupdate,
                          compositionstart: e.compositionstart,
                          compositionend: e.compositionend,
                          input: e.oninput,
                          keypress: e.onpress,
                          keydown: e.keydown,
                        },
                      }),
                      i("input", {
                        ref: "masterInputDumb",
                        staticClass: "textInput",
                        attrs: {
                          type: "text",
                          autocomplete: "off",
                          spellcheck: "false",
                        },
                      }),
                      e.textLinkVisible
                        ? i("TextLinkPanel", {
                            ref: "texLinkPanel",
                            attrs: {
                              point: e.textLinkPanelPosition,
                              link: e.textLink,
                              superLinkLayerId: e.superLinkLayerId,
                              editing: e.isLinkEditing,
                              userRole: e.userRole,
                            },
                            on: {
                              change: e.handleTextLinkChange,
                              blur: e.handleLinkPanelBlur,
                              startEdit: e.handleStartEdit,
                              isTextLinkVisible: e.handleTextLinkVisible,
                            },
                          })
                        : e._e(),
                      e.autolayout
                        ? i("AutolayoutInput", {
                            attrs: {
                              selectItem: e.selectItem,
                              selectIds: e.selectIds,
                              centerX: e.basicState.center.x,
                              centerY: e.basicState.center.y,
                              scale: e.basicState.scale,
                              data: e.autolayout,
                            },
                            on: {
                              blur: e.onAutolayoutBlur,
                            },
                          })
                        : e._e(),
                      i("loading", {
                        attrs: {
                          waitTime: 3e5,
                          callback: e.callbackFun,
                        },
                      }),
                      e.showCommentContainer ? i("VirtualSyncBoard") : e._e(),
                      e.isCircleTalk && e.isCircleMode
                        ? i("CircleBoard")
                        : e._e(),
                      e.layerCount
                        ? i("div", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip",
                                value: {
                                  content: e.toastText,
                                  show: !0,
                                  type: "manual",
                                },
                                expression:
                                  "{\n          content: toastText,\n          show: true,\n          type: 'manual'\n        }",
                              },
                            ],
                            staticClass: "middle-toast",
                            style: {
                              transform:
                                "translate(" +
                                e.toastPos[0] +
                                "px, " +
                                e.toastPos[1] +
                                "px)",
                            },
                          })
                        : e._e(),
                    ],
                    1
                  ),
                ]
              ),
            ],
            2
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "transition",
            {
              attrs: {
                name: "loadingfade",
              },
            },
            [
              e.loadingAppear
                ? i(
                    "div",
                    {
                      staticClass: "loading__mask",
                    },
                    [
                      i("toast", {
                        attrs: {
                          content: "画布内容加载中...",
                          position: "top",
                          type: "normal",
                        },
                      }),
                    ],
                    1
                  )
                : e._e(),
            ]
          );
        },
        c = [],
        l = i("866d"),
        d = i("2f62");
      let u = class extends n["g"] {
        mounted() {
          window.addEventListener("focus", this.focusHandle),
            window.addEventListener("blur", this.blurHandle);
        }
        beforeDestroy() {
          window.removeEventListener("focus", this.focusHandle),
            window.removeEventListener("blur", this.blurHandle);
        }
        blurHandle() {
          this.leaveTime = Date.now();
        }
        focusHandle() {
          if (
            "number" === typeof this.leaveTime &&
            Date.now() - this.leaveTime >= this.waitTime
          ) {
            this.$store.commit("mask/loadingStatus");
            const e = this.callback(),
              t = Date.now();
            if (!(e instanceof Promise))
              throw Error("callback must be a Promise");
            e.then(() => {
              const e = Date.now() - t;
              e < 500
                ? setTimeout(() => {
                    this.$store.commit("mask/loadingStatus");
                  }, 500 - e)
                : this.$store.commit("mask/loadingStatus"),
                (this.leaveTime = null);
            });
          }
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Number,
            default: "",
            required: !1,
          }),
        ],
        u.prototype,
        "waitTime",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              default: () => {},
              required: !1,
            }),
          ],
          u.prototype,
          "callback",
          void 0
        ),
        (u = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                toast: l["a"],
              },
              computed: Object.assign(
                {},
                Object(d["e"])({
                  loadingAppear: (e) => e.app.mask.loadingAppear,
                })
              ),
            }),
          ],
          u
        ));
      var h = u,
        p = h,
        m = (i("f031"), i("2877")),
        g = Object(m["a"])(p, r, c, !1, null, "2507fd4e", null),
        b = g.exports,
        v = i("8ece"),
        f = i("9a7c"),
        y = i("43c3"),
        _ = i("d257"),
        C = i("dc0f"),
        S = i("1320"),
        I = i("2ef0"),
        O = i("3759"),
        k = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              class: [
                "circle-board",
                (e.isPlaying || e.isRecording) && "circle-board-active",
              ],
            },
            [
              e.isRecodMode
                ? i("RecorderControler", {
                    attrs: {
                      state: e.circleState,
                      startRecord: e.startRecord,
                      stopRecord: e.stopRecord,
                      play: e.play,
                      clear: e.clear,
                    },
                  })
                : e.isPlayMode
                ? i("PlayerControler", {
                    attrs: {
                      state: e.circleState,
                      play: e.play,
                      stop: e.stop,
                      clear: e.clear,
                      playingCircleId: e.playingCircleId,
                    },
                  })
                : e._e(),
              i(
                "CircleCanvas",
                {
                  attrs: {
                    isPlaying: e.isPlaying,
                    isRecording: e.isRecording,
                  },
                },
                [
                  i("canvas", {
                    ref: "canvas",
                    attrs: {
                      width: "800",
                      height: "600",
                    },
                    on: {
                      contextmenu: function (e) {
                        e.stopPropagation();
                      },
                    },
                  }),
                ]
              ),
            ],
            1
          );
        },
        w = [],
        x = i("70e2"),
        L = i("50e2"),
        A = i("79f6c"),
        T = i("5a67"),
        j = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: e.isPlaying || e.isRecording,
                  expression: "isPlaying || isRecording",
                },
              ],
              class: [
                "circle-canvas",
                e.isPlaying && "circle-canvas-playing",
                e.isRecording && "circle-canvas-recording",
              ],
            },
            [e._t("default")],
            2
          );
        },
        M = [];
      let E = class extends n["g"] {};
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
          }),
        ],
        E.prototype,
        "isPlaying",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
            }),
          ],
          E.prototype,
          "isRecording",
          void 0
        ),
        (E = Object(a["__decorate"])([Object(n["a"])({})], E));
      var P = E,
        D = P,
        B = (i("0761"), Object(m["a"])(D, j, M, !1, null, "2416c092", null)),
        N = B.exports,
        F = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "circle-control",
              class: {
                "large-distance": e.rulerVisible,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "circle-control-btngroup",
                },
                [
                  i(
                    "button",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.genBottomTip("结束录制"),
                          expression: "genBottomTip('结束录制')",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      on: {
                        "~click": function (t) {
                          return e.stop(t);
                        },
                      },
                    },
                    [i("CircleStopStrokeIcon")],
                    1
                  ),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "circle-control-progress",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "circle-control__progressbar",
                    },
                    [
                      i("div", {
                        staticClass: "circle-control__progressinner recording",
                        style: e.percentStyle,
                      }),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "circle-control__progresstime",
                    },
                    [e._v(e._s(e.currentTimestamp) + "s")]
                  ),
                ]
              ),
              i("div", {
                staticClass: "circle-control-decollator",
              }),
              i(
                "div",
                {
                  staticClass: "circle-control-actgroup",
                },
                [
                  i(
                    "button",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.genBottomTip("取消录制"),
                          expression: "genBottomTip('取消录制')",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      on: {
                        click: e.close,
                      },
                    },
                    [i("CircleCloseIcon")],
                    1
                  ),
                ]
              ),
            ]
          );
        },
        R = [],
        H = i("1614");
      let $ = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.totalTimestamp = 15),
            (this.currentTimestamp = this.totalTimestamp);
        }
        get percentStyle() {
          return {
            width: (this.currentTimestamp / this.totalTimestamp) * 100 + "%",
          };
        }
        process() {
          this.timer = setInterval(() => {
            if (this.state === T["c"].Done || 0 === this.currentTimestamp)
              return clearInterval(this.timer), void (this.timer = null);
            this.currentTimestamp--;
          }, 1e3);
        }
        reset() {
          this.totalTimestamp = 15;
        }
        close() {
          this.setCircleMode({
            mode: T["a"].None,
          }),
            this.clear(),
            this.$eventBus.$emit("circle-mark-clear");
        }
        start() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            yield this.startRecord({
              duration: this.totalTimestamp,
            }),
              this.process();
          });
        }
        stop() {
          this.stopRecord(),
            this.setCircleState({
              state: T["c"].Done,
            });
        }
        beforeDestroy() {
          this.timer && clearInterval(this.timer);
        }
        mounted() {
          this.$nextTick(() => this.start());
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        $.prototype,
        "state",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
            }),
          ],
          $.prototype,
          "startRecord",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !0,
            }),
          ],
          $.prototype,
          "stopRecord",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !0,
            }),
          ],
          $.prototype,
          "clear",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              default: 15,
            }),
          ],
          $.prototype,
          "totalTimestamp",
          void 0
        ),
        ($ = Object(a["__decorate"])(
          [
            Object(n["a"])({
              methods: Object.assign(
                {},
                Object(d["b"])("circletalk", [
                  "setCircleState",
                  "setCircleMode",
                  "setCircleSource",
                ])
              ),
              computed: Object.assign(
                {},
                Object(d["e"])({
                  microphonePermission: (e) =>
                    e.circletalk.microphonePermission,
                  rulerVisible: (e) => e.basicState.rulerVisible,
                })
              ),
              mixins: [H["a"]],
            }),
          ],
          $
        ));
      var V = $,
        z = V,
        U = (i("7ec2"), Object(m["a"])(z, F, R, !1, null, "623c5656", null)),
        q = U.exports,
        W = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "circle-control",
              class: {
                "large-distance": e.rulerVisible,
              },
            },
            [
              i(
                "div",
                {
                  staticClass: "circle-control-btngroup",
                },
                [
                  i("button", {
                    directives: [
                      {
                        name: "tip",
                        rawName: "v-tip.bottom",
                        value: e.voiceMsg && e.genBottomTip(e.voiceMsg),
                        expression: "voiceMsg && genBottomTip(voiceMsg)",
                        modifiers: {
                          bottom: !0,
                        },
                      },
                    ],
                    class: e.source.audioUrl
                      ? {
                          true: "circle-control__volice",
                          false: "circle-control__novolice",
                        }[e.hasVoice && e.voice]
                      : "circle-control__novolice_disabled",
                  }),
                  e.isStop
                    ? i(
                        "button",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: e.genBottomTip("开始播放"),
                              expression: "genBottomTip('开始播放')",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          staticClass: "circle-control__play",
                          on: {
                            click: function () {
                              return e.play(e.source);
                            },
                          },
                        },
                        [i("CirclePlayStrokeIcon")],
                        1
                      )
                    : e.isPlaying
                    ? i(
                        "button",
                        {
                          directives: [
                            {
                              name: "tip",
                              rawName: "v-tip.bottom",
                              value: e.genBottomTip("结束播放"),
                              expression: "genBottomTip('结束播放')",
                              modifiers: {
                                bottom: !0,
                              },
                            },
                          ],
                          on: {
                            click: e.stop,
                          },
                        },
                        [i("CircleStopStrokeIcon")],
                        1
                      )
                    : e._e(),
                ]
              ),
              i(
                "div",
                {
                  staticClass: "circle-control-progress",
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "circle-control__progressbar",
                    },
                    [
                      i("div", {
                        staticClass: "circle-control__progressinner playing",
                        style:
                          e.isPlaying && e.totalTimestamp
                            ? {
                                width: 0,
                                transition: "width " + e.totalTimestamp + "s",
                              }
                            : {},
                      }),
                    ]
                  ),
                  i(
                    "div",
                    {
                      staticClass: "circle-control__progresstime",
                    },
                    [e._v(e._s(e.currentTimestamp) + "s")]
                  ),
                ]
              ),
              i("div", {
                staticClass: "circle-control-decollator",
              }),
              i(
                "div",
                {
                  staticClass: "circle-control-actgroup",
                },
                [
                  i(
                    "button",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.genBottomTip("评论"),
                          expression: "genBottomTip('评论')",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      staticClass: "circle-control__fallback",
                      on: {
                        click: e.fallback,
                      },
                    },
                    [i("FallbackStrokeIcon")],
                    1
                  ),
                  i(
                    "button",
                    {
                      directives: [
                        {
                          name: "tip",
                          rawName: "v-tip.bottom",
                          value: e.genBottomTip("取消播放"),
                          expression: "genBottomTip('取消播放')",
                          modifiers: {
                            bottom: !0,
                          },
                        },
                      ],
                      on: {
                        click: e.close,
                      },
                    },
                    [i("CircleCloseIcon")],
                    1
                  ),
                ]
              ),
            ]
          );
        },
        G = [];
      let K = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.totalTimestamp = 0),
            (this.currentTimestamp = 0);
        }
        sourceChange(e) {
          e && this.replay();
        }
        get isPlaying() {
          return this.state === T["b"].Playing;
        }
        get isStop() {
          return this.state === T["b"].Stop;
        }
        get hasVoice() {
          return !!this.source.audioUrl && !_["rb"]().isSafari;
        }
        get voiceMsg() {
          return _["rb"]().isSafari
            ? "Safari暂不支持播放声音"
            : this.source.audioUrl
            ? this.isPlaying && this.source.audioUrl && this.voice
              ? "正在播放声音"
              : null
            : "该圈话没有声音";
        }
        replay() {
          requestAnimationFrame(() => {
            this.clear(), this.play(this.source);
          });
        }
        setMuted() {
          _["rb"]().isSafari
            ? this.setVoice({
                voice: !1,
              })
            : this.setVoice({
                voice: !this.voice,
              });
        }
        clearPlayTimer() {
          this.playTimer &&
            (clearInterval(this.playTimer), (this.playTimer = null));
        }
        process() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.clearPlayTimer(),
              this.$nextTick(() => {
                (this.playTimer = setInterval(() => {
                  if (this.state === T["b"].Stop || 0 === this.currentTimestamp)
                    return (
                      (this.currentTimestamp = this.totalTimestamp),
                      void this.clearPlayTimer()
                    );
                  this.currentTimestamp--;
                }, 1e3)),
                  this.setCircleState({
                    state: T["b"].Playing,
                  });
              });
          });
        }
        fallback() {
          this.stop(),
            this.setFocusCommentId(this.playingCircleId),
            this.setCircleMode({
              mode: T["a"].None,
            });
        }
        close() {
          this.setCircleMode({
            mode: T["a"].None,
          }),
            this.setFocusCommentId(null);
        }
        reset() {
          this.currentTimestamp = this.totalTimestamp;
        }
        setTotalTimestamp(e) {
          (this.totalTimestamp = Math.floor(e / 1e3)),
            (this.totalTimestamp = Math.min(this.totalTimestamp, 15)),
            (this.currentTimestamp = this.totalTimestamp);
        }
        bindEvents() {
          this.$parent.circleManager.on("playstart", this.process),
            this.$parent.circleManager.on("playend", this.stop),
            this.$parent.circleManager.on(
              "totaltimestamp",
              this.setTotalTimestamp
            ),
            this.$eventBus.$on("notify-circletalk-replay", this.replay);
        }
        removeEvents() {
          this.$parent.circleManager.off("playstart", this.process),
            this.$parent.circleManager.off("playend", this.stop),
            this.$parent.circleManager.off(
              "totaltimestamp",
              this.setTotalTimestamp
            ),
            this.$eventBus.$off("notify-circletalk-replay", this.replay);
        }
        mounted() {
          this.$nextTick(() => {
            this.bindEvents(), this.play(this.source);
          });
        }
        beforeDestroy() {
          this.removeEvents();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: String,
            required: !0,
          }),
        ],
        K.prototype,
        "playingCircleId",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          K.prototype,
          "state",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !0,
            }),
          ],
          K.prototype,
          "play",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !0,
            }),
          ],
          K.prototype,
          "stop",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Function,
              required: !0,
            }),
          ],
          K.prototype,
          "clear",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("playingCircleId", {
              deep: !1,
              immediate: !1,
            }),
          ],
          K.prototype,
          "sourceChange",
          null
        ),
        (K = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(d["e"])({
                  activeType: (e) => e.comments.activeType,
                  source: (e) => e.circletalk.source,
                  voice: (e) => e.circletalk.voice,
                  rulerVisible: (e) => e.basicState.rulerVisible,
                })
              ),
              methods: Object.assign(
                Object.assign(
                  {},
                  Object(d["b"])("circletalk", [
                    "setCircleState",
                    "setCircleMode",
                    "setCirlceSource",
                    "setVoice",
                  ])
                ),
                Object(d["b"])("comments", ["setFocusCommentId"])
              ),
              mixins: [H["a"]],
            }),
          ],
          K
        ));
      var Q = K,
        Y = Q,
        X = (i("708e"), Object(m["a"])(Y, W, G, !1, null, "169cd450", null)),
        Z = X.exports,
        J = i("aa26");
      const ee = window.devicePixelRatio;
      let te = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.canvas = null),
            (this.circleManager = null);
        }
        get isCircleTalk() {
          return this.activeType === A["c"].CircleTalk;
        }
        get isRecodMode() {
          return this.circleMode === T["a"].Recording;
        }
        get isPlayMode() {
          return this.circleMode === T["a"].Playing;
        }
        get isPlaying() {
          return this.circleState === T["b"].Playing;
        }
        get isRecording() {
          return this.circleState === T["c"].Recording;
        }
        focusChange(e) {
          e.id !== this.playingCircleId &&
            this.setCircleMode({
              mode: T["a"].None,
            });
        }
        stateChange() {
          setTimeout(this.resizeCanvas, 0);
        }
        canvasModeChange(e) {
          e !== f["r"].CommentView &&
            this.setCircleMode({
              mode: T["a"].None,
            });
        }
        commentTypeChange(e) {
          e !== A["c"].CircleTalk &&
            this.setCircleMode({
              mode: T["a"].None,
            });
        }
        pageIDChange() {
          this.playingCircleId &&
            this.setCircleMode({
              mode: T["a"].None,
            });
        }
        hasDrawingChange(e) {
          e && Object(J["b"])();
        }
        startRecord() {
          this.setCircleState({
            state: T["c"].Recording,
          }),
            this.circleManager.startRecord(),
            (this.timer = setTimeout(() => {
              this.circleState === T["c"].Recording && this.stopRecord(),
                clearTimeout(this.timer),
                (this.timer = null);
            }, 15e3));
        }
        stopRecord() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.setCircleState({
              state: T["c"].Done,
            }),
              this.circleManager.stopRecord().then((e) => {
                this.submit(e);
              });
          });
        }
        submit(e) {
          this.$eventBus.$emit("comment-circletalk-confirm", e);
        }
        play(e) {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            this.circleManager.playCircle({
              audioUrl: this.voice ? e.audioUrl : "",
              pathStore: e.pathStore,
            });
          });
        }
        stop() {
          this.setCircleState({
            state: T["b"].Stop,
          }),
            this.circleManager.stop();
        }
        resizeCanvas() {
          var e, t, i, s;
          this.canvas &&
            ((this.canvas.width =
              Number(
                null ===
                  (t =
                    null === (e = this.canvas) || void 0 === e
                      ? void 0
                      : e.parentElement) || void 0 === t
                  ? void 0
                  : t.offsetWidth
              ) * ee),
            (this.canvas.height =
              Number(
                null ===
                  (s =
                    null === (i = this.canvas) || void 0 === i
                      ? void 0
                      : i.parentElement) || void 0 === s
                  ? void 0
                  : s.offsetHeight
              ) * ee));
        }
        clear() {
          this.stop(), this.circleManager.reset();
        }
        initialEvents() {
          this.$eventBus.$on("circle-player-start", this.play),
            L["a"].addListener("master-canvas-resize", this.resizeCanvas);
        }
        mounted() {
          (this.canvas = this.$refs.canvas),
            this.resizeCanvas(),
            (this.circleManager = new x["a"](this.canvas, {
              duration: 15e3,
              autoplay: !1,
              audio: this.microPhonePermission,
            })),
            this.initialEvents();
        }
        beforeDestroy() {
          L["a"].removeListener("master-canvas-resize", this.resizeCanvas),
            this.$eventBus.$off("circle-player-start", this.play),
            this.circleManager.destroy(),
            this.resetCircleState(),
            this.timer && clearTimeout(this.timer);
        }
      };
      Object(a["__decorate"])(
        [Object(n["h"])("focusComment")],
        te.prototype,
        "focusChange",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("circleState", {
              immediate: !0,
            }),
          ],
          te.prototype,
          "stateChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("canvasState")],
          te.prototype,
          "canvasModeChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("activeType")],
          te.prototype,
          "commentTypeChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("pageID")],
          te.prototype,
          "pageIDChange",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("circleManager.hasDrawing", {
              deep: !0,
            }),
          ],
          te.prototype,
          "hasDrawingChange",
          null
        ),
        (te = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                CircleCanvas: N,
                RecorderControler: q,
                PlayerControler: Z,
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(d["e"])({
                      canvasState: (e) => e.basicState.state,
                      pageID: (e) => e.basicState.currentPageId,
                      activeType: (e) => e.comments.activeType,
                      circleState: (e) => e.circletalk.state,
                      circleMode: (e) => e.circletalk.mode,
                      microPhonePermission: (e) =>
                        e.circletalk.microphonePermission,
                      voice: (e) => e.circletalk.voice,
                    })
                  ),
                  Object(d["c"])("comments", ["focusComment"])
                ),
                Object(d["c"])("circletalk", [
                  "playingCircleId",
                  "isCirclePlaying",
                ])
              ),
              methods: Object.assign(
                {},
                Object(d["b"])("circletalk", [
                  "setCircleState",
                  "setCirlceSource",
                  "resetCircleState",
                  "setCircleMode",
                ])
              ),
            }),
          ],
          te
        ));
      var ie = te,
        se = ie,
        oe = (i("28d6"), Object(m["a"])(se, k, w, !1, null, "0403f26f", null)),
        ae = oe.exports,
        ne = i("6aad"),
        re = i("163b"),
        ce = i("e0b5"),
        le = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.loading
            ? i(
                "div",
                {
                  staticClass: "mask",
                  style: e.getBackgroundColor,
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "loading_show",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "loading_svg",
                        },
                        [
                          i("div", [
                            i(
                              "svg",
                              {
                                attrs: {
                                  width: "30",
                                  height: "30",
                                },
                              },
                              [
                                i("circle", {
                                  attrs: {
                                    cx: "15",
                                    cy: "15",
                                    r: "14",
                                    "stroke-width": "2.4",
                                    stroke: e.loadingCircleBg,
                                    fill: "none",
                                  },
                                }),
                              ]
                            ),
                          ]),
                          i(
                            "div",
                            {
                              staticClass: "loading-svg__right",
                            },
                            [
                              i(
                                "svg",
                                {
                                  attrs: {
                                    width: "30",
                                    height: "30",
                                  },
                                },
                                [
                                  i("circle", {
                                    attrs: {
                                      cx: "15",
                                      cy: "15",
                                      r: "14",
                                      "stroke-width": "2",
                                      stroke: e.loadingCircle,
                                      fill: "none",
                                      "stroke-linecap": "round",
                                      "stroke-dasharray": "40.5 200",
                                    },
                                  }),
                                ]
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticStyle: {
                                transform: "rotate(90deg)",
                              },
                            },
                            [
                              i(
                                "svg",
                                {
                                  attrs: {
                                    width: "30",
                                    height: "30",
                                  },
                                },
                                [
                                  i("circle", {
                                    attrs: {
                                      cx: "15",
                                      cy: "15",
                                      r: "14",
                                      "stroke-width": "2.4",
                                      stroke: e.loadingCircleBg,
                                      fill: "none",
                                      "stroke-dasharray": "43.5 200",
                                    },
                                  }),
                                ]
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "loading-svg__left",
                            },
                            [
                              i(
                                "svg",
                                {
                                  attrs: {
                                    width: "30",
                                    height: "30",
                                  },
                                },
                                [
                                  i("circle", {
                                    attrs: {
                                      cx: "15",
                                      cy: "15",
                                      r: "14",
                                      "stroke-width": "2",
                                      stroke: e.loadingCircle,
                                      fill: "none",
                                      "stroke-linecap": "round",
                                      "stroke-dasharray": "40.5 200",
                                    },
                                  }),
                                ]
                              ),
                            ]
                          ),
                          i("div", [
                            i(
                              "svg",
                              {
                                attrs: {
                                  width: "30",
                                  height: "30",
                                },
                              },
                              [
                                i("circle", {
                                  attrs: {
                                    cx: "15",
                                    cy: "15",
                                    r: "14",
                                    "stroke-width": "2",
                                    stroke: e.loadingCircle,
                                    fill: "none",
                                    "stroke-linecap": "round",
                                    "stroke-dasharray": "0 200",
                                  },
                                }),
                              ]
                            ),
                          ]),
                        ]
                      ),
                    ]
                  ),
                ]
              )
            : e._e();
        },
        de = [];
      let ue = class extends n["g"] {};
      ue = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {},
            computed: Object.assign(
              Object.assign(
                {},
                Object(d["e"])({
                  loading: (e) => e.pages.loading,
                  loadingPageBgc: (e) => e.pages.loadingPageBgc,
                  loadingCircle: (e) => e.pages.loadingCircle,
                  loadingCircleBg: (e) => e.pages.loadingCircleBg,
                })
              ),
              {
                getBackgroundColor() {
                  return {
                    backgroundColor: this.loadingPageBgc,
                  };
                },
              }
            ),
          }),
        ],
        ue
      );
      var he = ue,
        pe = he,
        me =
          (i("192a"), Object(m["a"])(pe, le, de, !1, null, "61fe1e76", null)),
        ge = me.exports,
        be = function () {
          var e,
            t = this,
            i = t.$createElement,
            s = t._self._c || i;
          return s("div", [
            s(
              "div",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: t.showMenu,
                    expression: "showMenu",
                  },
                ],
                staticClass: "demo-board",
                style: {
                  top: t.top + "px",
                  left: t.left + "px",
                },
              },
              [
                s(
                  "div",
                  {
                    staticClass: "demo-board-line",
                  },
                  [
                    s(
                      "div",
                      {
                        staticClass: "demo-board-line__item",
                        class: [2 === t.current && "current"],
                      },
                      [
                        s("AlignTopIcon", {
                          attrs: {
                            size: "14",
                          },
                        }),
                        s(
                          "span",
                          {
                            staticClass: "name",
                          },
                          [t._v("顶对齐")]
                        ),
                      ],
                      1
                    ),
                  ]
                ),
                s(
                  "div",
                  {
                    staticClass: "demo-board-line center-line",
                  },
                  [
                    s(
                      "div",
                      {
                        staticClass: "demo-board-line__item",
                        class: [0 === t.current && "current"],
                      },
                      [
                        s("AlignLeftIcon", {
                          attrs: {
                            size: "14",
                          },
                        }),
                        s(
                          "span",
                          {
                            staticClass: "name",
                          },
                          [t._v("左对齐")]
                        ),
                      ],
                      1
                    ),
                    s(
                      "div",
                      {
                        staticClass: "mouse-center",
                        style:
                          ((e = {}),
                          (e[t.border[t.current]] = "18px solid #4571FB"),
                          e),
                      },
                      [
                        s("div", {
                          staticClass: "mouse-center-ring",
                        }),
                      ]
                    ),
                    s(
                      "div",
                      {
                        staticClass: "demo-board-line__item",
                        class: [1 === t.current && "current"],
                      },
                      [
                        s("AlignRightIcon", {
                          attrs: {
                            size: "14",
                          },
                        }),
                        s(
                          "span",
                          {
                            staticClass: "name",
                          },
                          [t._v("右对齐")]
                        ),
                      ],
                      1
                    ),
                  ]
                ),
                s(
                  "div",
                  {
                    staticClass: "demo-board-line",
                  },
                  [
                    s(
                      "div",
                      {
                        staticClass: "demo-board-line__item",
                        class: [3 === t.current && "current"],
                      },
                      [
                        s("AlignBottomIcon", {
                          attrs: {
                            size: "14",
                          },
                        }),
                        s(
                          "span",
                          {
                            staticClass: "name",
                          },
                          [t._v("底对齐")]
                        ),
                      ],
                      1
                    ),
                  ]
                ),
              ]
            ),
          ]);
        },
        ve = [],
        fe = i("207b");
      let ye = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.showMenu = !1),
            (this.guid = {
              1: {
                title: "触手可及的工具",
                desc: "使用工具最好的方法就是先了解它的界面，我们希望每个地方都各司其位",
                src: "",
              },
            }),
            (this.maxStep = 6),
            (this.top = -135),
            (this.left = -230),
            (this.current = -1),
            (this.lastOffsetX = 0),
            (this.lastOffsetY = 0),
            (this.lastX = 0),
            (this.lastY = 0),
            (this.border = [
              "border-left",
              "border-right",
              "border-top",
              "border-bottom",
            ]);
        }
        mounted() {
          !this.disableUpdateLayer &&
            document.addEventListener("keydown", this.showMouseMenu, !0);
        }
        beforeDestroy() {
          !this.disableUpdateLayer &&
            document.removeEventListener("keydown", this.showMouseMenu, !0);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Boolean,
            required: !0,
            default: !1,
          }),
        ],
        ye.prototype,
        "trigger",
        void 0
      ),
        (ye = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                Object.assign({}, Object(d["c"])(["disableUpdateLayer"])),
                Object(d["e"])({
                  userId: (e) => e.main.userInfo.id,
                })
              ),
              methods: {
                showMouseMenu(e) {
                  return Object(a["__awaiter"])(
                    this,
                    void 0,
                    void 0,
                    function* () {
                      if (
                        81 !== e.keyCode ||
                        !this.trigger ||
                        "INPUT" === e.target.nodeName
                      )
                        return;
                      (this.lastOffsetX = fe["b"].lastOffsetX),
                        (this.lastOffsetY = fe["b"].lastOffsetY),
                        (this.lastX = fe["b"].clientX),
                        (this.lastY = fe["b"].clientY),
                        (this.showMenu = !0),
                        (this.left += this.lastOffsetX),
                        (this.top += this.lastOffsetY),
                        document.removeEventListener(
                          "keydown",
                          this.showMouseMenu,
                          !0
                        ),
                        document.addEventListener("mousemove", this.mousemove),
                        document.addEventListener("keyup", this.hideMouseMenu);
                      const t = JSON.parse(
                        Object(_["J"])("guideStatus_" + this.userId) || ""
                      );
                      if (
                        "skip" !== t.special_guide_status &&
                        t.beginner_guide_step === this.maxStep
                      ) {
                        const e = Object.keys(t.special_guide_attributes).find(
                          (e) => "mouseMenu" === e
                        );
                        void 0 === e && this.$refs.guid.showGuid();
                      }
                    }
                  );
                },
                mousemove(e) {
                  const t = e.x - this.lastX,
                    i = this.lastY - e.y;
                  if (Math.abs(t) > 12 || Math.abs(i) > 12) {
                    const e = Math.abs(i / t);
                    this.current =
                      e > 1 || 1 === e
                        ? i > 0 || 0 === i
                          ? 2
                          : 3
                        : t > 0 || 0 === t
                        ? 1
                        : 0;
                  }
                },
                hideMouseMenu() {
                  document.removeEventListener("mousemove", this.mousemove),
                    document.removeEventListener("keyup", this.hideMouseMenu),
                    document.addEventListener(
                      "keydown",
                      this.showMouseMenu,
                      !0
                    ),
                    (this.showMenu = !1),
                    (this.left = -230),
                    (this.top = -135),
                    v["a"].alignSelection(this.current),
                    (this.current = -1);
                },
              },
            }),
          ],
          ye
        ));
      var _e = ye,
        Ce = _e,
        Se =
          (i("13af"), Object(m["a"])(Ce, be, ve, !1, null, "2c615c0a", null)),
        Ie = Se.exports,
        Oe = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "board_demo",
              class: [e.showDemo ? "active-demo" : "hide-demo"],
            },
            [
              i(
                "span",
                {
                  staticClass: "board_demo_arrow",
                  on: {
                    click: function (t) {
                      e.showDemo = !e.showDemo;
                    },
                  },
                },
                [e._v("||")]
              ),
            ]
          );
        },
        ke = [];
      let we = class extends n["g"] {
        constructor() {
          super(...arguments), (this.showDemo = !1);
        }
      };
      we = Object(a["__decorate"])([n["a"]], we);
      var xe = we,
        Le = xe,
        Ae =
          (i("6c09"), Object(m["a"])(Le, Oe, ke, !1, null, "0d837554", null)),
        Te = Ae.exports,
        je = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "self",
              staticClass: "tex-link-panel",
              style: {
                top: e.point.y + "px",
                left: e.point.x + "px",
              },
              on: {
                mousedown: e.handleMouseDownOnSelf,
              },
            },
            [
              i("div", {
                staticClass: "dumb",
              }),
              e.isEditing
                ? i("input", {
                    directives: [
                      {
                        name: "model",
                        rawName: "v-model",
                        value: e.formatedLinkValue,
                        expression: "formatedLinkValue",
                      },
                    ],
                    ref: "linkInput",
                    staticClass: "link-input",
                    attrs: {
                      placeholder: "粘贴或输入链接",
                    },
                    domProps: {
                      value: e.formatedLinkValue,
                    },
                    on: {
                      keydown: e.handleKeyDown,
                      input: function (t) {
                        t.target.composing ||
                          (e.formatedLinkValue = t.target.value);
                      },
                    },
                  })
                : e._e(),
              e.isEditing
                ? e._e()
                : i(
                    "div",
                    {
                      staticClass: "link-text-container",
                      on: {
                        mousedown: e.handleOpenLink,
                      },
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "link-text",
                          style: {
                            cursor: e.layerFlag ? "pointer" : "default",
                          },
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "link-text-icon",
                            },
                            [
                              i(e.linkTextContainer.icon, {
                                tag: "compnent",
                                staticClass: "icon",
                              }),
                            ],
                            1
                          ),
                          e.linkTextobj.useFlag
                            ? i(
                                "div",
                                {
                                  staticClass: "link-text-obj",
                                },
                                [
                                  i("div", [
                                    e._v(e._s(e.linkTextobj.pageName)),
                                  ]),
                                  i("DividerIcon", {
                                    staticClass: "icon-divider",
                                  }),
                                  i("div", [
                                    e._v(e._s(e.linkTextobj.layerName)),
                                  ]),
                                ],
                                1
                              )
                            : i("div", [
                                e._v(
                                  " " + e._s(e.linkTextContainer.linkText) + " "
                                ),
                              ]),
                        ]
                      ),
                      e.layerFlag
                        ? i(
                            "div",
                            {
                              staticClass: "link-container-split",
                            },
                            [
                              i("div", {
                                staticClass: "splitter",
                              }),
                              i(
                                "div",
                                {
                                  staticClass: "link-message",
                                },
                                [
                                  e._v(
                                    " " +
                                      e._s(e.linkTextContainer.linkMessage) +
                                      " "
                                  ),
                                ]
                              ),
                            ]
                          )
                        : e._e(),
                    ]
                  ),
              e.isEditing || "onlooker" === e.userRole
                ? e._e()
                : i(
                    "div",
                    {
                      staticClass: "button-container",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "button-container-split",
                          on: {
                            click: e.handleEdit,
                          },
                        },
                        [
                          i("div", {
                            staticClass: "splitter",
                          }),
                          i("PencilEditIcon", {
                            staticClass: "pencil-edit-icon",
                          }),
                          i("div", {
                            staticClass: "splitter",
                          }),
                        ],
                        1
                      ),
                      i(
                        "div",
                        {
                          staticClass: "last-button-conatiner",
                          on: {
                            click: e.handleDeleteLink,
                          },
                        },
                        [
                          i("UnlinkIcon", {
                            staticClass: "unlink-icon",
                          }),
                        ],
                        1
                      ),
                    ]
                  ),
            ]
          );
        },
        Me = [],
        Ee = i("3058"),
        Pe = i("f92b"),
        De = i("6b98");
      let Be = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.linkValue = ""),
            (this.isEditing = !0),
            (this.layerFlag = !0),
            (this.linkTextContainer = {
              linkFlag: "",
              linkText: "",
              linkMessage: "",
              pageId: "",
              layerId: "",
              icon: "",
              link: "",
            }),
            (this.linkTextobj = {
              useFlag: !1,
              pageName: "",
              layerName: "",
            });
        }
        get formatedLinkValue() {
          const e = this;
          return e.linkValue;
        }
        set formatedLinkValue(e) {
          const t = Object(_["Ab"])(e, window.location.host, _["d"]);
          this.linkValue = t;
        }
        getIsEditing() {
          return this.isEditing;
        }
        handleTextLinkVisible(e) {
          L["a"].nextFrame(() => {
            this.$nextTick(() => {
              this.$emit("isTextLinkVisible", e);
            });
          });
        }
        handleEditingChange(e) {
          e &&
            !this.editing &&
            (this.$emit("startEdit", e), this.$nextTick(this.selectInput));
        }
        handleEditlngPropsChange(e) {
          this.isEditing = e;
        }
        handleLink(e) {
          this.linkValue = this.handleLinkConfig(e);
        }
        mounted() {
          const e = this.handleLinkConfig(this.link);
          (this.linkValue = e),
            (this.isEditing = "" === e || this.editing),
            window.setTimeout(() => {
              document.addEventListener("mousedown", this.emitChange),
                this.selectInput();
            }, 0);
        }
        handleLinkConfig(e) {
          var t, i;
          let s = "";
          const o = /"([^"]*)":"([^"]*)"/g;
          let a = o.exec(e);
          while (null !== a)
            (this.linkTextContainer[a[1]] = a[2]), (a = o.exec(e));
          const {
            linkFlag: n,
            pageId: r,
            layerId: c,
            link: l,
          } = this.linkTextContainer;
          if (n === ne["v"].CURRPAGE || n === ne["v"].OTHERPAGE) {
            const e = this.$store.state.pages,
              o =
                null !==
                  (i =
                    null === (t = e.map[r]) || void 0 === t
                      ? void 0
                      : t.name) && void 0 !== i
                  ? i
                  : "",
              a = window.location.href.split("?")[0];
            if (((s = "" + a), "" !== c)) {
              let e = "";
              try {
                (e = Pe["a"].getNodeById(c).name),
                  n === ne["v"].OTHERPAGE &&
                    ((this.linkTextContainer.linkText = `${o}/${e}`),
                    (this.linkTextobj.useFlag = !0),
                    (this.linkTextobj.pageName = Object(_["x"])(o)),
                    (this.linkTextobj.layerName = e)),
                  (this.linkTextContainer.linkText = e),
                  (this.linkTextContainer.linkMessage = "前往容器"),
                  (this.linkTextContainer.icon = "FrameIcon");
              } catch (d) {
                (this.linkTextContainer.linkText = "链接对象已删除"),
                  (this.linkTextContainer.linkMessage = ""),
                  (this.linkTextContainer.icon = "LinkIcon"),
                  (this.layerFlag = !1);
              }
              s += `?page_id=${r}&layer_id=${c}`;
            } else
              "" !== r &&
                ((s += "?page_id=" + r),
                (this.linkTextContainer.linkText = o),
                (this.linkTextContainer.linkMessage = "前往页面"),
                (this.linkTextContainer.icon = "FileIcon"));
          } else
            (this.linkTextContainer.linkText = l),
              n === ne["v"].OUTFILE
                ? ((this.linkTextContainer.linkMessage = "打开文件"),
                  (this.linkTextContainer.icon = "DraftIcon"))
                : n === ne["v"].PROTOTYPE
                ? ((this.linkTextContainer.linkMessage = "打开原型"),
                  (this.linkTextContainer.icon = "PlayIcon"))
                : (n !== ne["v"].OTHERLINK && n !== ne["v"].OWNWEBSITE) ||
                  ((this.linkTextContainer.linkMessage = "打开链接"),
                  (this.linkTextContainer.icon = "LinkIcon")),
              (s = l);
          return s;
        }
        selectInput() {
          const e = this.$refs.linkInput;
          e && (e.select(), e.focus());
        }
        handleMouseDownOnSelf(e) {
          e.stopPropagation();
        }
        handleKeyDown(e) {
          const t = window.event || e,
            i = t.keyCode || t.which || t.charCode;
          13 === i && this.emitChange();
        }
        emitChange() {
          this.linkValue === this.handleLinkConfig(this.link)
            ? this.$emit("blur")
            : this.$emit("change", this.linkValue);
        }
        handleOpenLink() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            if (this.layerFlag) {
              const {
                linkFlag: e,
                pageId: t,
                layerId: i,
              } = this.linkTextContainer;
              if (e === ne["v"].CURRPAGE || e === ne["v"].OTHERPAGE)
                yield v["a"].pages.switchPage(t),
                  v["a"].layers.select([i]),
                  v["a"].viewPort.fixedToScale(),
                  this.handleTextLinkVisible(!1);
              else if (e === ne["v"].OUTFILE || e === ne["v"].PROTOTYPE) {
                const e = Object(_["y"])(this.linkValue);
                e
                  ? e.query
                    ? Object(De["b"])(`/${e.path}?${e.query}`)
                    : Object(De["b"])("/" + e.path)
                  : this.$toast({
                      content: "url解析失败",
                      timeout: 1e3,
                      position: "top",
                    });
              } else if (e === ne["v"].OWNWEBSITE)
                Object(_["qb"])(this.linkValue, "" + this.linkValue);
              else {
                const e = Object(_["y"])(this.linkValue),
                  t = this.$router.resolve({
                    name: "navigate-out",
                    query: {
                      target: this.linkValue,
                    },
                  });
                if (!e || !e.host)
                  return void Object(_["qb"])(t.href, "" + t.href);
                const i = Object(_["J"])("#master-allow-host:" + e.host);
                if (i)
                  return void Object(_["qb"])(
                    this.linkValue,
                    "" + this.linkValue
                  );
                Object(_["qb"])(t.href, "" + t.href);
              }
            }
          });
        }
        handleEdit() {
          (this.isEditing = !0),
            v["a"].layers.hover(this.superLinkLayerId),
            v["a"].layers.select([this.superLinkLayerId]),
            this.$nextTick(() => {
              const e = this.$refs.linkInput;
              e && e.focus();
            });
        }
        handleDeleteLink() {
          v["a"].layers.hover(this.superLinkLayerId),
            v["a"].layers.select([this.superLinkLayerId]),
            this.$emit("change", "");
        }
        beforeDestroy() {
          document.removeEventListener("mousedown", this.emitChange);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        Be.prototype,
        "point",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          Be.prototype,
          "link",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !0,
            }),
          ],
          Be.prototype,
          "editing",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          Be.prototype,
          "userRole",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: String,
              required: !0,
            }),
          ],
          Be.prototype,
          "superLinkLayerId",
          void 0
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("isEditing")],
          Be.prototype,
          "handleEditingChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("editing")],
          Be.prototype,
          "handleEditlngPropsChange",
          null
        ),
        Object(a["__decorate"])(
          [Object(n["h"])("link")],
          Be.prototype,
          "handleLink",
          null
        ),
        (Be = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterToolButton: Ee["a"],
              },
            }),
          ],
          Be
        ));
      var Ne,
        Fe,
        Re = Be,
        He = Re,
        $e =
          (i("e965"), Object(m["a"])(He, je, Me, !1, null, "32323186", null)),
        Ve = $e.exports,
        ze = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return e.autolayout
            ? i(
                "div",
                {
                  ref: "paddingInputRef",
                  staticClass: "padding_input",
                  style: {
                    opacity: e.isShowInput ? 1 : 0,
                    top: e.pointY + "px",
                    left: e.pointX + "px",
                    width: 4 === e.autolayout.count ? "115px" : "78px",
                  },
                },
                [
                  e.isAutolayoutGap
                    ? [
                        i("ItemSpacingInput", {
                          attrs: {
                            selectItem: e.selectItem,
                            position: "canvas",
                          },
                          on: {
                            blur: e.onPaddingBlur,
                          },
                        }),
                      ]
                    : [
                        i("PaddingInput", {
                          attrs: {
                            inputList: e.inputList,
                            selectItem: e.selectItem,
                            position: "canvas",
                          },
                          on: {
                            blur: e.onPaddingBlur,
                          },
                        }),
                      ],
                ],
                2
              )
            : e._e();
        },
        Ue = [],
        qe = i("dd7a"),
        We = i("6210"),
        Ge = i("b4a6");
      (function (e) {
        (e["TOP"] = "top"),
          (e["LEFT"] = "left"),
          (e["RIGHT"] = "right"),
          (e["BOTTOM"] = "bottom"),
          (e["GAP"] = "gap");
      })(Ne || (Ne = {})),
        (function (e) {
          (e[(e["ONE"] = 1)] = "ONE"),
            (e[(e["TWO"] = 2)] = "TWO"),
            (e[(e["FOUR"] = 4)] = "FOUR");
        })(Fe || (Fe = {}));
      const Ke = 0,
        Qe = 5;
      let Ye = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.pointX = 0),
            (this.pointY = 0),
            (this.autolayout = null),
            (this.isShowInput = !1),
            (this.focused = !1);
        }
        get isAutolayoutGap() {
          var e;
          return (
            (null === (e = this.autolayout) || void 0 === e
              ? void 0
              : e.type) === Ne.GAP
          );
        }
        get inputList() {
          const { type: e = Ne.TOP, count: t = Fe.ONE } = this.autolayout || {};
          return t === Fe.FOUR
            ? [Ge["c"].Full]
            : (e !== Ne.TOP && e !== Ne.BOTTOM) || t !== Fe.TWO
            ? (e !== Ne.LEFT && e !== Ne.RIGHT) || t !== Fe.TWO
              ? [e]
              : [Ge["c"].LeftRight]
            : [Ge["c"].TopBottom];
        }
        clickPadding() {
          this.data && (this.autolayout = this.data);
        }
        handler() {
          var e, t, i, s;
          if (this.selectIds.length <= 0) return;
          if (!this.autolayout) return;
          const o =
            null === (e = document.getElementById("canvasArea")) || void 0 === e
              ? void 0
              : e.getBoundingClientRect();
          if (!o) return;
          const a =
              null === (t = this.$refs.paddingInputRef) || void 0 === t
                ? void 0
                : t.getBoundingClientRect(),
            n = o.height,
            r = o.width,
            c = r / 2,
            l = n / 2,
            d = this.centerX,
            u = this.centerY,
            h = this.scale,
            p =
              null !== (i = null === a || void 0 === a ? void 0 : a.width) &&
              void 0 !== i
                ? i
                : 4 === this.autolayout.count
                ? 115
                : 78,
            m =
              null !== (s = null === a || void 0 === a ? void 0 : a.height) &&
              void 0 !== s
                ? s
                : 30,
            g = c - (d - this.autolayout.x1) * h,
            b = c - (d - this.autolayout.x2) * h,
            v = l - (u - this.autolayout.y1) * h,
            f = l - (u - this.autolayout.y2) * h,
            y = (b - g) / 2 + g,
            _ =
              this.autolayout.type === Ne.BOTTOM &&
              this.autolayout.count === Fe.ONE
                ? f + m + Qe
                : v - Qe;
          (f < 0 && v < 0) ||
          (v > n && f > n) ||
          (g < 0 && b < 0) ||
          (g > r && b > r)
            ? (this.isShowInput = !1)
            : ((this.isShowInput = !0),
              (this.pointX = Object(I["clamp"])(y, Ke + p / 2, r - p / 2 - Ke)),
              (this.pointY = Object(I["clamp"])(_, Ke + m, n - m / 2 - Ke)),
              this.focused ||
                this.$nextTick(() => {
                  this.focused = !0;
                  const e = document.querySelector(".padding_input input");
                  e && (e.focus(), e.setSelectionRange(0, -1));
                }));
        }
        onPaddingBlur() {
          (this.autolayout = null),
            (this.isShowInput = !1),
            (this.focused = !1),
            this.$emit("blur"),
            L["a"].Module.cancelAutoLayoutEdit &&
              L["a"].Module.cancelAutoLayoutEdit();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Object,
            required: !0,
          }),
        ],
        Ye.prototype,
        "selectItem",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Array,
              required: !0,
            }),
          ],
          Ye.prototype,
          "selectIds",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          Ye.prototype,
          "centerX",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          Ye.prototype,
          "centerY",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          Ye.prototype,
          "scale",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !0,
            }),
          ],
          Ye.prototype,
          "data",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data", {
              immediate: !0,
            }),
          ],
          Ye.prototype,
          "clickPadding",
          null
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("centerX"),
            Object(n["h"])("centerY"),
            Object(n["h"])("scale"),
            Object(n["h"])("autolayout", {
              immediate: !0,
            }),
          ],
          Ye.prototype,
          "handler",
          null
        ),
        (Ye = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                PaddingInput: qe["a"],
                ItemSpacingInput: We["a"],
              },
            }),
          ],
          Ye
        ));
      var Xe = Ye,
        Ze = Xe,
        Je =
          (i("7e3d"), Object(m["a"])(Ze, ze, Ue, !1, null, "9d981274", null)),
        et = Je.exports;
      function tt(e, t = !1) {
        v["a"].selector.texts &&
          (O["a"].setTag("text"), v["a"].selector.texts.inputText(e, t));
      }
      let it = class extends n["g"] {
        constructor(...e) {
          super(...e),
            (this.scrollMouseType = 0),
            (this.isInCanvas = !1),
            (this.currentCx = 0),
            (this.currentCy = 0),
            (this.canvasWidth = 0),
            (this.canvasHeight = 0),
            (this.keydata = ""),
            (this.isIM = !1),
            (this.masterInputID = ""),
            (this.keylist = [108, 8, 9, 37, 38, 39, 40]),
            (this.textLink = ""),
            (this.textLinkVisible = !1),
            (this.animationHanle = 0),
            (this.textLinkPanelPosition = {
              x: -1,
              y: -1,
            }),
            (this.textLinkOnMouseMove = !1),
            (this.textLinkOnMouseDown = !1),
            (this.autolayout = null),
            (this.cacheInput = ""),
            (this.timer = null),
            (this.layerCount = 0),
            (this.toastPosX = 0),
            (this.toastPosY = 0),
            (this.handleMouseUp = this.handleMouseUp.bind(this));
        }
        handlePointChange() {
          if (!Object(S["isFeatureEnabled"])("textLink")) return;
          let e = this.basicState.selectRangeMptX;
          const t = this.basicState.selectRangeMptY;
          if (
            (-1 === e && -1 === t) ||
            (void 0 === e && void 0 === t) ||
            (this.textLinkOnMouseMove && this.textLinkOnMouseDown)
          )
            this.textLinkVisible = !1;
          else {
            if (
              ((this.textLinkVisible = !0),
              void 0 !== this.basicState.superLinkUrl)
            )
              if (Object(_["nb"])(this.basicState.superLinkUrl)) {
                const e = this.handleLink(this.basicState.superLinkUrl);
                e
                  ? (this.textLink = JSON.stringify(e))
                  : ((this.textLink = ""),
                    this.$toast({
                      content: "链接解析失败",
                      timeout: 1e3,
                      position: "top",
                    }));
              } else this.textLink = this.basicState.superLinkUrl;
            this.$nextTick(() => {
              const i =
                  this.$refs.texLinkPanel.$el.getBoundingClientRect().width / 2,
                s = this.$refs.canvas.getBoundingClientRect().width;
              (e = Object(I["clamp"])(e, i, s - i)),
                (this.textLinkPanelPosition = {
                  x: e,
                  y: t,
                });
            });
          }
        }
        handleTextLinkVisible(e) {
          this.textLinkVisible = e;
        }
        get isLinkEditing() {
          return this.basicState.state === f["r"].TextEdit;
        }
        get showCommentContainer() {
          return (
            !!Object(S["isFeatureEnabled"])("comment") &&
            (this.isCommentMode || this.showCommentMark)
          );
        }
        get isCommentMode() {
          return this.basicState.state === f["r"].CommentView;
        }
        get isCircleTalk() {
          return (
            Object(S["isFeatureEnabled"])("commentCircleTalk") &&
            this.commentActiveType === A["c"].CircleTalk
          );
        }
        startEdit(e, t, i) {
          if (e) {
            const { offsetTop: e, offsetLeft: s } = this.$refs.middleContainer,
              o = t + s,
              a = i + e,
              n = this.$refs.masterInput;
            this.masterInputID = this.$store.state.basicProps.item.id;
            const r = this.$refs.masterInputDumb,
              c = document.activeElement;
            if (c && ("text" === c.type || "TEXTAREA" === c.tagName) && c !== n)
              return;
            if (c && "0" === c.getAttribute("tabindex")) return;
            this.isIM ||
              ((n.value = ""),
              (n.style.top = a + "px"),
              (n.style.left = o + "px"),
              (n.style.width = "20px"),
              (r.value = ""),
              (r.style.top = a + "px"),
              (r.style.left = o + "px"),
              (r.style.width = "20px"),
              n.focus());
          } else {
            const e = this.$refs.masterInput;
            e.blur();
          }
        }
        oninput(e) {
          "insertText" !== e.inputType ||
            e.isComposing ||
            ((this.cacheInput += e.data),
            null === this.timer &&
              (this.timer = setTimeout(() => {
                tt(this.cacheInput),
                  (this.cacheInput = ""),
                  (this.timer = null);
              }, 0)));
        }
        keydown(e) {
          this.isIM ||
            (v["a"][y["a"].setTextOperation](
              e.code,
              e.altKey,
              Object(_["rb"])().isMac ? e.metaKey : e.ctrlKey,
              e.shiftKey,
              e.key
            ),
            ((e.keyCode >= 37 && e.keyCode <= 40) || 9 === e.keyCode) &&
              (e.stopPropagation(), e.preventDefault()));
        }
        endEdit() {
          this.isIM = !1;
        }
        onpress(e) {
          if (13 !== e.keyCode) return;
          const t = e.shiftKey ? "\u2028" : "\n";
          tt(t);
        }
        compositionstart() {
          (this.isIM = !0),
            this.timeout && (clearTimeout(this.timeout), (this.timeout = null));
        }
        compositionend(e) {
          this.isIM &&
            (Object(_["rb"])().isSafari
              ? (this.timeout = setTimeout(() => {
                  (this.isIM = !1), tt(e.data.trim());
                }, 20))
              : ((this.isIM = !1), tt(e.data.trim())));
        }
        compositionupdate(e) {
          (this.keydata = e.data), tt(e.data.trim(), !0);
        }
        handleMouseDown() {
          (this.textLinkOnMouseDown = !0),
            document.addEventListener("mouseup", this.handleMouseUp);
          const e = v["a"].getBasicStateVal();
          if ([f["r"].TextEdit, f["r"].CreateText].includes(e.state)) {
            const e = this.$refs.masterInput,
              t = this.$refs.masterInputDumb;
            t.focus(), e.focus();
          }
        }
        handleMouseUp() {
          document.removeEventListener("mouseup", this.handleMouseUp),
            (this.textLinkOnMouseDown = !1),
            (this.textLinkOnMouseMove = !1);
        }
        handleMouseMove() {
          this.textLinkOnMouseDown && (this.textLinkOnMouseMove = !0);
        }
        ondragover(e) {
          e.preventDefault();
        }
        handleLinkPanelBlur() {
          v["a"].pageState.setEditTextLink(!1);
        }
        formatId(e) {
          let t = "string" === typeof e ? e : e[0];
          return (t = null !== t && void 0 !== t ? t : ""), t;
        }
        handleLink(e) {
          var t, i, s;
          const o = {
              linkFlag: ne["v"].CURRPAGE,
              pageId: "",
              layerId: "",
              link: "",
            },
            a = Object(_["y"])(e),
            n = Object(_["y"])(window.location.href);
          if (!a || !n)
            return (o.linkFlag = ne["v"].OTHERLINK), (o.link = e), o;
          const r =
              null === (t = a.href) || void 0 === t ? void 0 : t.split("?")[0],
            c =
              n &&
              (null === (i = n.href) || void 0 === i
                ? void 0
                : i.split("?")[0]),
            l = this.$router.resolve(`/${a.path}?${a.query}`),
            d = this.$router.resolve(`/${n.path}?${n.query}`),
            u = Object.assign(
              {
                layer_id: "",
                page_id: "M",
              },
              l.location.query
            ),
            h = Object.assign(
              {
                layer_id: "",
                page_id: "M",
              },
              d.location.query
            );
          (u.layer_id = this.formatId(u.layer_id)),
            (u.page_id = this.formatId(u.page_id)),
            (h.layer_id = this.formatId(h.layer_id)),
            (h.page_id = this.formatId(h.page_id));
          const p = this.$route.params.id === u.file;
          if (r === c || p)
            (o.pageId = u.page_id),
              (o.layerId = u.layer_id),
              u.page_id !== h.page_id && (o.linkFlag = ne["v"].OTHERPAGE);
          else if (a.host === n.host && a.path !== n.path) {
            o.link = e;
            const t =
                null === (s = l.location.params) || void 0 === s
                  ? void 0
                  : s.id,
              i = l.route.name,
              a = "prototype" === i || u.proto,
              n = ("file" === i && t) || u.file;
            o.linkFlag = a
              ? ne["v"].PROTOTYPE
              : n
              ? ne["v"].OUTFILE
              : ne["v"].OWNWEBSITE;
          } else (o.link = e), (o.linkFlag = ne["v"].OTHERLINK);
          return o;
        }
        handleTextLinkChange(e) {
          let t;
          if (e) {
            t = Object(_["nb"])(e) ? e : "https://" + e;
            const i = this.handleLink(t);
            i
              ? v["a"].setTextLink(JSON.stringify(i))
              : (v["a"].setTextLink(""), this.message.error("链接解析失败"));
          } else v["a"].setTextLink(e);
          v["a"].pageState.setEditTextLink(!1);
        }
        handleStartEdit(e) {
          v["a"].pageState.setEditTextLink(e);
        }
        clickPadding(e) {
          try {
            this.autolayout = JSON.parse(e);
          } catch (t) {
            console.error(t);
          }
        }
        onAutolayoutBlur() {
          this.autolayout = null;
        }
        componentSelectTrigger(e) {
          const t = JSON.parse(e);
          (this.layerCount = t.count),
            (this.toastPosX = t.x),
            (this.toastPosY = t.y);
        }
        canvasChangeHandler() {
          this.layerCount = 0;
        }
        get toastPos() {
          return this.layerCount
            ? [
                (this.toastPosX - this.centerX) * this.scale - 8,
                (this.toastPosY - this.centerY) * this.scale - 16,
              ]
            : [0, 0];
        }
        get toastText() {
          return `选中匹配的 ${
            this.layerCount + this.selectIds.length
          } 个图层<span>${this.INTELLIGENT_SELECT[0].char}</span>`;
        }
        convasMousedownHandler() {
          this.layerCount > 0 &&
            ce["c"].track(ce["a"].EVENT_CLICK, {
              action_position: "canvas",
              action_parameter0: "design",
              action_parameter1: "component_set",
              action_parameter2: "target_icon",
            });
        }
        mounted() {
          this.startEdit.bind(this),
            C["e"].$on("TextEdit", this.startEdit),
            L["a"].addWasmEventListener(re["a"].Autolayout, this.clickPadding),
            L["a"].addWasmEventListener(
              re["a"].ComponentSelect,
              this.componentSelectTrigger
            ),
            L["a"].addListener("canvas-mousedown", this.convasMousedownHandler);
        }
        beforeDestroy() {
          this.unWatch && this.unWatch(),
            C["e"].$off("TextEdit", this.startEdit),
            document.removeEventListener("mouseup", this.handleMouseUp),
            L["a"].removeWasmEventListener(
              re["a"].Autolayout,
              this.clickPadding
            ),
            L["a"].removeWasmEventListener(
              re["a"].ComponentSelect,
              this.componentSelectTrigger
            ),
            L["a"].removeListener(
              "canvas-mousedown",
              this.convasMousedownHandler
            );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["h"])("basicState.selectRangeMptX"),
          Object(n["h"])("basicState.superLinkUrl"),
          Object(n["h"])("basicState.selectRangeMptY"),
        ],
        it.prototype,
        "handlePointChange",
        null
      ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("selectIds.length"),
            Object(n["h"])("centerY"),
            Object(n["h"])("centerX"),
            Object(n["h"])("scale"),
          ],
          it.prototype,
          "canvasChangeHandler",
          null
        ),
        (it = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                loading: b,
                WaitLoading: ge,
                DemoBoard: Te,
                mouseMenu: Ie,
                TextLinkPanel: Ve,
                VirtualSyncBoard: () =>
                  i.e("chunk-473db15e").then(i.bind(null, "77fd")),
                CircleBoard: ae,
                AutolayoutInput: et,
              },
              computed: Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    Object(d["e"])({
                      scale: (e) => e.basicState.scale,
                      centerX: (e) => e.basicState.center.x,
                      centerY: (e) => e.basicState.center.y,
                      basicState: (e) => e.basicState,
                      selectIds: (e) => e.basicState.selectIds,
                      hoverId: (e) => e.basicState.hoverId,
                      superLinkLayerId: (e) => e.basicState.superLinklayerId,
                      userRole: (e) => e.file.userRole,
                      commentActiveType: (e) => e.comments.activeType,
                      selectItem: (e) => e.basicProps.item,
                      showCommentMark: (e) => e.basicState.showCommentMark,
                      commentInited: (e) => e.comments.inited,
                    })
                  ),
                  Object(d["c"])("circletalk", ["isCircleMode"])
                ),
                Object(d["c"])("dictionary", ["INTELLIGENT_SELECT"])
              ),
              methods: {
                callbackFun() {
                  return Promise.resolve(1);
                },
              },
            }),
          ],
          it
        ));
      var st = it,
        ot = st,
        at = (i("3a3d"), Object(m["a"])(ot, s, o, !1, null, "c69d6810", null));
      t["a"] = at.exports;
    },
    e348: function (e, t, i) {
      "use strict";
      i.d(t, "b", function () {
        return m;
      });
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "color__icon--box flex-c",
              class: {
                "hover--bg-tran-4": !e.disable,
                "focus-within--bg-tran-4": !e.disable,
              },
            },
            [
              e.isMissing
                ? i("QuestionColorRectIcon", {
                    staticClass: "master-font__warning",
                  })
                : -1 === e.iconType
                ? i("QuestionSolidIcon", {
                    staticClass: "color__icon--item",
                  })
                : e.size
                ? i(
                    "div",
                    {
                      staticClass: "color__icon--text",
                    },
                    [
                      i("StyleTextIcon", {
                        attrs: {
                          size: e.size + "",
                        },
                      }),
                    ],
                    1
                  )
                : i(
                    "div",
                    {
                      staticClass: "color__icon_bg",
                      class: e.needOpacity && "color__icon_bg--white",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "color__icon--item",
                          class: {
                            "need-after":
                              e.backgroundItem.icon &&
                              5 !== e.data.type &&
                              1 !== e.iconType &&
                              3 !== e.iconType,
                            noborder: !!e.data.effects,
                          },
                          style: Object.assign({}, e.styles),
                          attrs: {
                            tabindex: "0",
                          },
                          on: {
                            focus: e.suspendHotkey,
                            blur: e.resumeHotkey,
                            keydown: [
                              function (t) {
                                return !t.type.indexOf("key") &&
                                  e._k(t.keyCode, "space", 32, t.key, [
                                    " ",
                                    "Spacebar",
                                  ])
                                  ? null
                                  : e.toggleMenu(t);
                              },
                              function (t) {
                                return !t.type.indexOf("key") &&
                                  e._k(t.keyCode, "enter", 13, t.key, "Enter")
                                  ? null
                                  : e.toggleMenu(t);
                              },
                            ],
                          },
                        },
                        [
                          e.backgroundItem.icon &&
                          1 !== e.iconType &&
                          3 !== e.iconType
                            ? i("img", {
                                attrs: {
                                  src: e.backgroundItem.icon,
                                },
                              })
                            : e._e(),
                          1 === e.iconType || 3 === e.iconType
                            ? i(e.backgroundItem.icon, {
                                tag: "component",
                              })
                            : e._e(),
                          e.needOpacity
                            ? i("div", {
                                style: {
                                  background: "url(" + e.defaultBg + ")",
                                  opacity: e.needOpacity,
                                },
                              })
                            : e._e(),
                        ],
                        1
                      ),
                    ]
                  ),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("7ffc"),
        c = i("6aad"),
        l = i("d257"),
        d = i("2f62"),
        u = i("102a");
      const h = (e, t) => {
          if (0 === e) {
            if (0 === t) return "ShadowIcon";
            if (t > 0) return "DropShadowBIcon";
            if (t < 0) return "DropShadowTIcon";
          } else if (e < 0) {
            if (0 === t) return "DropShadowLIcon";
            if (t > 0) return "DropShadowBlIcon";
            if (t < 0) return "DropShadowTlIcon";
          } else {
            if (0 === t) return "DropShadowRIcon";
            if (t > 0) return "DropShadowBrIcon";
            if (t < 0) return "DropShadowTrIcon";
          }
          return "QuestionSolidIcon";
        },
        p = (e, t) => {
          if (0 === e) {
            if (0 === t) return "ShadowIcon";
            if (t > 0) return "InnerShadowTIcon";
            if (t < 0) return "InnerShadowBIcon";
          } else if (e < 0) {
            if (0 === t) return "InnerShadowRIcon";
            if (t > 0) return "InnerShadowTrIcon";
            if (t < 0) return "InnerShadowBrIcon";
          } else {
            if (0 === t) return "InnerShadowLIcon";
            if (t > 0) return "InnerShadowTlIcon";
            if (t < 0) return "InnerShadowBlIcon";
          }
          return "QuestionSolidIcon";
        };
      function m(e) {
        var t;
        const i = {
          iconType: 0,
          size: 0,
          styles: {},
          url: "",
          effectType: -1,
          needOpacity: 0,
          needFresh: !1,
          height: 0,
        };
        if (!e) return (i.iconType = -1), i;
        if ("string" === typeof e)
          return (
            (i.styles = {
              background: "#" + e,
            }),
            i
          );
        let s = e;
        if (
          (e.paints
            ? (s = e.paints)
            : e.effects
            ? (s = e.effects)
            : e.grids && (s = e.grids),
          s instanceof Array &&
            ((s = s.filter(
              (e) =>
                void 0 ===
                  (null === e || void 0 === e ? void 0 : e.isVisible) ||
                e.isVisible
            )),
            (s = s[s.length - 1])),
          e.effects)
        ) {
          switch (
            ((i.iconType = 1),
            (i.effectType = null === s || void 0 === s ? void 0 : s.type),
            null === s || void 0 === s ? void 0 : s.type)
          ) {
            case c["n"].BACKGROUND_BLUR:
              i.url = "BackgroundBlurIcon";
              break;
            case c["n"].LAYER_BLUR:
              i.url = "GaussianBlurIcon";
              break;
            case c["n"].DROP_SHADOW:
              i.url = h(s.x, s.y);
              break;
            case c["n"].INNER_SHADOW:
              i.url = p(s.x, s.y);
              break;
            default:
              i.url = "ShadowIcon";
              break;
          }
          i.styles = {
            boxShadow: "none",
          };
        } else if (e.fontFamily || e.postscriptName)
          (i.size = e.fontSize || 14), (i.height = e.height);
        else if (e.grids) {
          switch (
            ((i.iconType = 3),
            (i.effectType = null === s || void 0 === s ? void 0 : s.type),
            null === s || void 0 === s ? void 0 : s.gridType)
          ) {
            case 0:
              i.url = "GridIcon";
              break;
            case 1:
              i.url = "GridRowIcon";
              break;
            case 2:
              i.url = "GridColumnIcon";
              break;
            default:
              i.url = "GridIcon";
              break;
          }
          i.styles = {
            border: "none",
            borderRadius: "0",
          };
        } else
          switch (null === s || void 0 === s ? void 0 : s.type) {
            case c["E"].SOLID:
              (i.needOpacity = 1 - s.color.alpha),
                (i.styles = {
                  background: `rgb(${255 * s.color.red}, ${
                    255 * s.color.green
                  }, ${255 * s.color.blue})`,
                });
              break;
            case c["E"].GRADIENT_LINEAR:
              i.styles = {
                backgroundImage: Object(l["e"])(s),
              };
              break;
            case c["E"].GRADIENT_RADIAL:
              i.styles = {
                backgroundImage: Object(l["b"])(s, "radial"),
              };
              break;
            case c["E"].GRADIENT_ANGULAR:
              i.styles = {
                backgroundImage: Object(l["b"])(s, "conic"),
              };
              break;
            case c["E"].GRADIENT_DIAMOND:
              (i.needFresh = !0),
                (i.styles = {
                  background: Object(l["b"])(s, "diamond"),
                  backgroundSize: "50% 50%",
                  backgroundRepeat: "no-repeat",
                });
              break;
            case c["E"].IMAGE:
              (null === (t = s.image) || void 0 === t ? void 0 : t.imageRef)
                ? (i.url = s.image.imageRef)
                : (i.url = "default");
              break;
            default:
              break;
          }
        return i;
      }
      const g =
        "data:image/svg+xml;utf8,%3Csvg%20width%3D%226%22%20height%3D%226%22%20viewBox%3D%220%200%206%206%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M0%200H3V3H0V0Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M3%200H6V3H3V0Z%22%20fill%3D%22white%22/%3E%3Cpath%20d%3D%22M3%203H6V6H3V3Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M0%203H3V6H0V3Z%22%20fill%3D%22white%22/%3E%3C/svg%3E%0A";
      let b = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.defaultBg = g),
            (this.iconType = 0),
            (this.styles = {}),
            (this.needOpacity = 0),
            (this.size = 0),
            (this.fontSizeStone = [10, 13, 16, 19, 22, 25, 28, 1 / 0]),
            (this.iconSizeMap = [11, 12, 13, 14, 15, 16, 18, 19]),
            (this.backgroundItem = {}),
            (this.suspendKeyCodes = [32, 13]);
        }
        dataHandler(e) {
          let t;
          try {
            if (this.isLibrary && !e.isExternal) t = JSON.parse(e.cover);
            else if ((this.isStyle || this.isExternal) && 1 === e.type) {
              const i = e.paints.find((e) => e.isVisible);
              t = i
                ? 0 === i.type
                  ? {
                      effectType: -1,
                      styles: {
                        background: `rgba(${255 * i.color.red}, ${
                          255 * i.color.green
                        }, ${255 * i.color.blue}, ${i.color.alpha})`,
                        borderRadius: "50%",
                      },
                      needOpacity: 1 - i.color.alpha,
                    }
                  : {
                      url: "data:image/png;base64," + e.icon,
                      effectType: -1,
                    }
                : {
                    styles: {
                      background: "rgba(255, 255, 255)",
                      borderRadius: "50%",
                    },
                  };
            } else t = m(e);
          } catch (i) {
            return;
          }
          if (-1 !== t.iconType)
            if (
              ((this.iconType = t.iconType),
              (this.styles = {}),
              (this.backgroundItem = {}),
              (this.size = 0),
              ~t.effectType)
            )
              (this.backgroundItem = {
                icon: t.url,
              }),
                (this.styles = t.styles);
            else if (t.size) {
              const e = this.fontSizeStone.findIndex((e) => e > t.size);
              this.size = this.iconSizeMap[e];
            } else
              t.needFresh
                ? ((this.styles = ""),
                  this.$nextTick(() => {
                    this.styles = t.styles;
                  }))
                : t.url
                ? "default" === t.url
                  ? (this.backgroundItem = {
                      icon: r["r"],
                    })
                  : this.isLibrary || this.isStyle
                  ? (this.styles = {
                      backgroundImage: `url(${t.url})`,
                      backgroundOrigin: "border-box",
                      borderRadius: "50%",
                    })
                  : (this.thumbnailCache[t.url] ||
                      this.askForThumbnailSpace(t.url),
                    (this.backgroundItem = this.thumbnailCache[t.url]))
                : ((this.styles = t.styles),
                  (this.needOpacity = t.needOpacity));
          else this.iconType = -1;
        }
        toggleMenu() {
          this.$emit("toggle");
        }
        suspendHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.suspendKeydown(e);
        }
        resumeHotkey() {
          for (const e of this.suspendKeyCodes)
            this.$keyWatcher.resumeKeydown(e);
        }
        get isMissing() {
          if (3 !== this.data.type || !this.data.postscriptName) return !1;
          const e = this.usedFontMap[this.data.postscriptName];
          return (
            (null === e || void 0 === e ? void 0 : e.state) === u["a"].Missing
          );
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: [Array, Object, String],
          }),
        ],
        b.prototype,
        "data",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              default: !1,
            }),
          ],
          b.prototype,
          "isLibrary",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !1,
              default: !1,
            }),
          ],
          b.prototype,
          "isStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Boolean,
              required: !1,
              default: !1,
            }),
          ],
          b.prototype,
          "disable",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("data", {
              deep: !0,
              immediate: !0,
            }),
          ],
          b.prototype,
          "dataHandler",
          null
        ),
        (b = Object(a["__decorate"])(
          [
            Object(n["a"])({
              computed: Object.assign(
                {},
                Object(d["e"])("resources", ["thumbnailCache", "usedFontMap"])
              ),
              methods: Object.assign(
                {},
                Object(d["b"])("resources", ["askForThumbnailSpace"])
              ),
            }),
          ],
          b
        ));
      var v = b,
        f = v,
        y = (i("ad58"), i("2877")),
        _ = Object(y["a"])(f, s, o, !1, null, null, null);
      t["a"] = _.exports;
    },
    e3a1: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              ref: "slider",
              staticClass: "slider",
              style: {
                width: e.width + "px",
              },
              on: {
                mousedown: function (t) {
                  return t.preventDefault(), e.mousedownHandler(t);
                },
              },
            },
            [
              e.centerDecorationStyle
                ? i("div", {
                    staticClass: "slider-cenetr slider-cenetr-decoration",
                    style: e.centerDecorationStyle,
                  })
                : e._e(),
              i(
                "div",
                {
                  staticClass: "slider-content",
                  style: e.sliderContentStyle,
                },
                [
                  i(
                    "div",
                    {
                      staticClass: "slider-cenetr",
                      style: e.centerStyle,
                    },
                    [
                      i("div", {
                        staticClass: "slider-progress",
                        style: Object.assign(
                          {},
                          {
                            width: e.left + "px",
                          },
                          e.progressStyle
                        ),
                      }),
                    ]
                  ),
                ]
              ),
              i("div", {
                staticClass: "slider-stop",
                style: Object.assign(
                  {},
                  {
                    left: e.left + "px",
                  },
                  e.stopStyle
                ),
              }),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("8ece");
      let c = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.offsetX = 0),
            (this.startX = 0),
            (this.startClientX = 0);
        }
        updateValue() {
          const e = Math.round(
            (this.left * (this.maxNum - this.minNum)) / this.width
          );
          this.$emit("change", e);
        }
        get left() {
          return this.offsetX < 0
            ? 0
            : this.offsetX > this.width
            ? this.width
            : this.offsetX;
        }
        handleValueChange(e) {
          this.offsetX = Math.round(
            (e / (this.maxNum - this.minNum)) * this.width
          );
        }
        mousedownHandler(e) {
          (this.offsetX = e.offsetX),
            (this.startClientX = e.clientX),
            (this.startX = this.offsetX),
            window.addEventListener("mousemove", this.mousemoveHandler),
            window.addEventListener("mouseup", this.mouseupHandler),
            r["a"].mergeStepStart(),
            this.updateValue(),
            this.$emit("mousedown");
        }
        mousemoveHandler(e) {
          (this.offsetX = this.startX - this.startClientX + e.clientX),
            this.updateValue();
        }
        mouseupHandler() {
          window.removeEventListener("mousemove", this.mousemoveHandler),
            window.removeEventListener("mouseup", this.mouseupHandler),
            this.$emit("mouseup"),
            r["a"].mergeStepEnd();
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Number,
            required: !0,
          }),
        ],
        c.prototype,
        "width",
        void 0
      ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          c.prototype,
          "value",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          c.prototype,
          "minNum",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Number,
              required: !0,
            }),
          ],
          c.prototype,
          "maxNum",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: () => {},
            }),
          ],
          c.prototype,
          "sliderContentStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: () => {},
            }),
          ],
          c.prototype,
          "centerStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: () => {},
            }),
          ],
          c.prototype,
          "progressStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: () => {},
            }),
          ],
          c.prototype,
          "stopStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["e"])({
              type: Object,
              required: !1,
              default: () => {},
            }),
          ],
          c.prototype,
          "centerDecorationStyle",
          void 0
        ),
        Object(a["__decorate"])(
          [
            Object(n["h"])("value", {
              immediate: !0,
            }),
          ],
          c.prototype,
          "handleValueChange",
          null
        ),
        (c = Object(a["__decorate"])([n["a"]], c));
      var l = c,
        d = l,
        u = (i("5c4e"), i("2877")),
        h = Object(u["a"])(d, s, o, !1, null, "db84e5aa", null);
      t["a"] = h.exports;
    },
    e404: function (e, t, i) {
      "use strict";
      i("06bb");
    },
    e425: function (e, t, i) {
      "use strict";
      i("d42b");
    },
    e467: function (e, t, i) {
      "use strict";
      i("7d03");
    },
    e5b8: function (e, t, i) {
      "use strict";
      i("868c");
    },
    e689: function (e, t, i) {},
    e6f9: function (e, t, i) {},
    e739: function (e, t, i) {},
    e776: function (e, t, i) {},
    e858: function (e, t, i) {
      "use strict";
      i.r(t);
      var s = function () {
          var e = this,
            t = e.$createElement,
            s = e._self._c || t;
          return s(
            "div",
            {
              staticClass: "center-page",
            },
            [
              s(
                "div",
                {
                  staticClass: "logo_container",
                },
                [
                  s(
                    "div",
                    {
                      staticClass: "logo",
                    },
                    [
                      s("MasterGoLogo", {
                        attrs: {
                          isDark: e.isDark,
                        },
                      }),
                    ],
                    1
                  ),
                ]
              ),
              s(
                "div",
                {
                  staticClass: "middle",
                },
                [
                  s(
                    "div",
                    {
                      staticClass: "success",
                    },
                    [
                      s(
                        "div",
                        {
                          staticClass: "middle-wrap",
                        },
                        [
                          s("img", {
                            staticClass: "middle-img",
                            attrs: {
                              src: i("435d"),
                            },
                          }),
                          s(
                            "div",
                            {
                              staticClass: "title t1",
                            },
                            [e._v("此文件仅允许有权限的用户访问")]
                          ),
                          s(
                            "div",
                            {
                              staticClass: "desc p3 text-tran-50",
                              staticStyle: {
                                "margin-top": "16px",
                              },
                            },
                            [
                              e._v(" 你可以联系文件所有者"),
                              s(
                                "span",
                                {
                                  staticClass: "owner",
                                },
                                [e._v(e._s(e.owner))]
                              ),
                            ]
                          ),
                          s(
                            "div",
                            {
                              staticClass: "desc p3 text-tran-50",
                              staticStyle: {
                                "margin-top": "8px",
                              },
                            },
                            [
                              e._v(" 或点击此处 "),
                              s(
                                "span",
                                {
                                  staticClass: "button-text",
                                  on: {
                                    click: e.handleApply,
                                  },
                                },
                                [e._v("申请访问权限")]
                              ),
                            ]
                          ),
                        ]
                      ),
                    ]
                  ),
                ]
              ),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("79f6c"),
        c = i("257a");
      let l = class extends n["g"] {
        constructor() {
          var e;
          super(...arguments),
            (this.isDark = this.$store.state.main.isDark),
            (this.documentId =
              null === (e = this.$route.query) || void 0 === e ? void 0 : e.id),
            (this.owner = "nobody");
        }
        created() {
          return Object(a["__awaiter"])(this, void 0, void 0, function* () {
            const e = yield Object(r["O"])(this.documentId),
              {
                code: t,
                data: { owner: i },
              } = e;
            "OK" === t && (this.owner = i);
          });
        }
        handleApply() {
          this.$router.push({
            path: "/redirect/apply-access",
            query: {
              id: this.documentId,
            },
          });
        }
      };
      l = Object(a["__decorate"])(
        [
          Object(n["a"])({
            components: {
              MasterGoLogo: c["a"],
            },
          }),
        ],
        l
      );
      var d = l,
        u = d,
        h = (i("16b5"), i("2877")),
        p = Object(h["a"])(u, s, o, !1, null, "0b962d6a", null);
      t["default"] = p.exports;
    },
    e965: function (e, t, i) {
      "use strict";
      i("66bd");
    },
    e9cb: function (e, t, i) {
      "use strict";
      i("ab88");
    },
    e9ed: function (e, t, i) {
      "use strict";
      i("cfd7");
    },
    ea87: function (e, t, i) {},
    ea8c: function (e, t, i) {},
    ebac: function (e, t, i) {
      "use strict";
      i("5e37");
    },
    ecf4: function (e, t, i) {},
    ed7e: function (e, t, i) {
      "use strict";
      var s = function () {
          var e,
            t = this,
            s = t.$createElement,
            o = t._self._c || s;
          return o(
            "section",
            {
              staticClass: "pubres",
            },
            [
              t.pubState !== t.PubState.Draft
                ? o("CoverCard", {
                    staticClass: "pubres__card",
                    attrs: {
                      url: t.coverURL,
                      userName: t.userName,
                      resName: t.currentPubInfo.res_name,
                      displayUserInfo: t.pubState !== t.PubState.Draft,
                    },
                  })
                : o("img", {
                    staticClass: "pubres__illustration",
                    attrs: {
                      src: i("72cc"),
                    },
                  }),
              t.canDisplay
                ? o(
                    "footer",
                    {
                      staticClass: "pubres__footer",
                    },
                    [
                      o(
                        "div",
                        {
                          staticClass: "pubres__footer__content",
                        },
                        [
                          o("svg-plugin", {
                            staticClass: "pubres__footer__content__icon",
                            staticStyle: {
                              width: "14px",
                              height: "14px",
                            },
                            attrs: {
                              name: "tangram",
                            },
                          }),
                          o("div", [
                            o(
                              "h6",
                              {
                                staticClass: "pubres__footer__content__title",
                              },
                              [t._v(t._s(t.title))]
                            ),
                            t.isPublished
                              ? o(
                                  "a",
                                  {
                                    attrs: {
                                      target: "_blank",
                                      href:
                                        "/community/resource/" +
                                        t.currentPubInfo.res_id,
                                    },
                                  },
                                  [t._v(t._s(t.desc))]
                                )
                              : o(
                                  "p",
                                  {
                                    staticClass:
                                      "pubres__footer__content__desc",
                                    class: ((e = {}), (e[t.stateCls] = !0), e),
                                  },
                                  [t._v(t._s(t.desc))]
                                ),
                          ]),
                        ],
                        1
                      ),
                      t.isInDraft
                        ? o(
                            "MButton",
                            {
                              attrs: {
                                width: "104",
                              },
                              on: {
                                click: t.handlePublish,
                              },
                            },
                            [t._v("发布资源")]
                          )
                        : t.isInReviewing
                        ? o(
                            "MButton",
                            {
                              attrs: {
                                width: "104",
                                type: "destructive",
                              },
                              on: {
                                click: t.handleUnPublish,
                              },
                            },
                            [t._v("取消发布")]
                          )
                        : t.isRejected || t.isPublished
                        ? o(
                            "div",
                            {
                              staticClass: "btn-box",
                            },
                            [
                              o(
                                "MButton",
                                {
                                  attrs: {
                                    width: "104",
                                    type: "gray",
                                  },
                                  on: {
                                    click: t.handleUnPublish,
                                  },
                                },
                                [t._v("取消发布")]
                              ),
                              o(
                                "MButton",
                                {
                                  attrs: {
                                    width: "104",
                                  },
                                  on: {
                                    click: t.handleRePublish,
                                  },
                                },
                                [
                                  t._v(
                                    t._s(t.isRejected ? "重新发布" : "更新发布")
                                  ),
                                ]
                              ),
                            ],
                            1
                          )
                        : t._e(),
                    ],
                    1
                  )
                : t._e(),
            ],
            1
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("afe2"),
        c = i("1fe8"),
        l = i("0613"),
        d = i("79f6c"),
        u = i("d257");
      let h = class extends n["g"] {
        constructor() {
          super(...arguments), (this.PubState = c["b"]);
        }
        get currentPubInfo() {
          var e;
          return null !== (e = l["a"].state.community.currentPubInfo) &&
            void 0 !== e
            ? e
            : {};
        }
        get coverURL() {
          return Object(d["vd"])(
            l["a"].state.community.currentPubInfo.cover_url
          );
        }
        get userName() {
          return l["a"].getters.userinfo.name;
        }
        get canDisplay() {
          return l["a"].state.community.canDisplay;
        }
        get stateCls() {
          return c["b"][this.pubState].toLowerCase();
        }
        get isInDraft() {
          return this.pubState === c["b"].Draft;
        }
        get isInReviewing() {
          return this.pubState === c["b"].Reviewing;
        }
        get isRejected() {
          return this.pubState === c["b"].Reject;
        }
        get isPublished() {
          return this.pubState === c["b"].Published;
        }
        get title() {
          const e = l["a"].state.community.currentPubInfo;
          if (!e) return "";
          const t = Object(u["Hb"])(e.submit_time);
          return this.pubState === c["b"].Reviewing ||
            this.pubState === c["b"].Reject
            ? "提交于 " + t
            : this.pubState === c["b"].Published
            ? "发布于 " + t
            : "将此文件当前版本发布到社区，";
        }
        get desc() {
          return this.pubState === c["b"].Reviewing
            ? "审核中..."
            : this.pubState === c["b"].Reject
            ? "审核未通过"
            : this.pubState === c["b"].Published
            ? "打开社区链接"
            : "同时提供创建副本的服务。";
        }
        handlePublish() {
          l["a"].commit("community/SET_EDIT", !1), this.$emit("publish");
        }
        handleUnPublish() {
          l["a"].commit("community/SET_EDIT", !1), this.$emit("unpublish");
        }
        handleRePublish() {
          l["a"].commit("community/SET_EDIT", !0), this.$emit("publish");
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            type: Number,
            default: c["b"].Draft,
          }),
        ],
        h.prototype,
        "pubState",
        void 0
      ),
        (h = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                CoverCard: r["a"],
              },
            }),
          ],
          h
        ));
      var p = h,
        m = p,
        g = (i("77e3"), i("2877")),
        b = Object(g["a"])(m, s, o, !1, null, "b77a6a18", null);
      t["a"] = b.exports;
    },
    ee7f: function (e, t, i) {
      "use strict";
      i("d00e");
    },
    ee9c: function (e, t, i) {},
    eeb3: function (e, t, i) {
      "use strict";
      i("3288");
    },
    ef91: function (e, t, i) {},
    efab: function (e, t, i) {
      "use strict";
      i("aeb2");
    },
    f031: function (e, t, i) {
      "use strict";
      i("862c");
    },
    f250: function (e, t, i) {
      "use strict";
      i("3ad6");
    },
    f2c1: function (e, t, i) {
      "use strict";
      i("231c");
    },
    f2ea: function (e, t, i) {
      e.exports = i.p + "static/img/img-cover-arts.0b0e6c8b.jpg";
    },
    f3a9: function (e, t, i) {
      "use strict";
      i("5980");
    },
    f3b3: function (e, t, i) {},
    f4f3: function (e, t, i) {},
    f680: function (e, t, i) {
      "use strict";
      i("d48c");
    },
    f73b: function (e, t, i) {},
    f75d: function (e, t, i) {
      "use strict";
      i("6dab");
    },
    f781: function (e, t, i) {
      "use strict";
      i("4fc0");
    },
    f8b5: function (e, t, i) {
      "use strict";
      i("5397");
    },
    f8b6: function (e, t, i) {},
    f973: function (e, t, i) {},
    fac1: function (e, t, i) {
      "use strict";
      i("9a29");
    },
    fbb9c: function (e, t, i) {},
    fbe4: function (e, t, i) {},
    fc50: function (e, t, i) {
      "use strict";
      var s = function () {
          var e = this,
            t = e.$createElement,
            i = e._self._c || t;
          return i(
            "div",
            {
              staticClass: "icon-lib",
            },
            [
              i(
                "div",
                {
                  staticClass: "top-content",
                },
                [
                  i("master-input", {
                    ref: "input",
                    staticClass: "search",
                    attrs: {
                      placeholder: "搜索图标...",
                      debounceTime: 300,
                      noborder: !0,
                      enterFocus: !0,
                    },
                    on: {
                      "debounce-input": e.searchIcon,
                    },
                    scopedSlots: e._u([
                      {
                        key: "header",
                        fn: function () {
                          return [
                            e.currentSource
                              ? i(
                                  "MasterToolButton",
                                  {
                                    staticClass: "tool-button",
                                    attrs: {
                                      isImg: !0,
                                      current: e.currentSource,
                                      list: e.sourceList,
                                      icon: "RectangleSolidIcon",
                                    },
                                    on: {
                                      change: e.changeSource,
                                    },
                                  },
                                  [
                                    e.isSearching && e.searchValue
                                      ? i("div", {
                                          staticClass:
                                            "master-font__loading loading",
                                        })
                                      : e._e(),
                                  ]
                                )
                              : e._e(),
                          ];
                        },
                        proxy: !0,
                      },
                    ]),
                    model: {
                      value: e.searchValue,
                      callback: function (t) {
                        e.searchValue = t;
                      },
                      expression: "searchValue",
                    },
                  }),
                  i(
                    "div",
                    {
                      staticClass: "icon-lib-title",
                    },
                    [
                      i(
                        "div",
                        {
                          staticClass: "icon-lib-title__tips",
                        },
                        [
                          i(
                            "span",
                            {
                              staticClass: "resource",
                            },
                            [e._v(e._s(e.currentName))]
                          ),
                          i("InfoColorIcon", {
                            directives: [
                              {
                                name: "tip",
                                rawName: "v-tip.bottom",
                                value: "请拖拽置入图标",
                                expression: "'请拖拽置入图标'",
                                modifiers: {
                                  bottom: !0,
                                },
                              },
                            ],
                            attrs: {
                              size: "12",
                            },
                          }),
                        ],
                        1
                      ),
                      "normal" !== e.iconType
                        ? i(
                            "div",
                            {
                              directives: [
                                {
                                  name: "tip",
                                  rawName: "v-tip.bottom",
                                  value: {
                                    content:
                                      "line" === e.iconType
                                        ? "切换到实心图标"
                                        : "切换到线性图标",
                                  },
                                  expression:
                                    "{\n          content: iconType === 'line' ? '切换到实心图标' : '切换到线性图标',\n        }",
                                  modifiers: {
                                    bottom: !0,
                                  },
                                },
                              ],
                              staticClass: "icon-lib-title__type",
                              on: {
                                mousedown: e.changeIconType,
                              },
                            },
                            [
                              i(
                                "line" === e.iconType
                                  ? "StarIcon"
                                  : "StarSolidIcon",
                                {
                                  tag: "component",
                                  attrs: {
                                    size: "8",
                                    opacity: "0.7",
                                  },
                                }
                              ),
                            ],
                            1
                          )
                        : e._e(),
                    ]
                  ),
                ],
                1
              ),
              e.actualList.length
                ? i(
                    "div",
                    {
                      staticClass: "icon-lib-content",
                    },
                    e._l(e.actualList, function (t) {
                      return i(
                        "div",
                        {
                          key: t.name,
                          staticClass: "icon-lib-content_item",
                        },
                        [
                          i(
                            "div",
                            {
                              staticClass: "icon-lib-content_item__title",
                            },
                            [
                              i("div", {
                                staticClass: "dot",
                              }),
                              i(
                                "span",
                                {
                                  staticClass: "type",
                                },
                                [e._v(e._s(t.name))]
                              ),
                            ]
                          ),
                          i(
                            "div",
                            {
                              staticClass: "icon-lib-content_item__icons",
                            },
                            e._l(t.children, function (t) {
                              return i(
                                "div",
                                {
                                  directives: [
                                    {
                                      name: "tip",
                                      rawName: "v-tip.bottom",
                                      value: e.showTips && t.name,
                                      expression: "showTips&&item.name",
                                      modifiers: {
                                        bottom: !0,
                                      },
                                    },
                                  ],
                                  key: t.id,
                                  staticClass: "icon",
                                  attrs: {
                                    draggable: "true",
                                  },
                                  on: {
                                    dragstart: function (i) {
                                      return e.iconDragStart(i, t);
                                    },
                                    dragenter: e.iconDragenter,
                                  },
                                },
                                [
                                  i("div", {
                                    staticClass: "icon_content",
                                    domProps: {
                                      innerHTML: e._s(t.svg),
                                    },
                                  }),
                                ]
                              );
                            }),
                            0
                          ),
                        ]
                      );
                    }),
                    0
                  )
                : e._e(),
              i("div", {
                ref: "dragEle",
                staticClass: "dragEle",
                domProps: {
                  innerHTML: e._s(e.svgContent),
                },
              }),
            ]
          );
        },
        o = [],
        a = i("9ab4"),
        n = i("60a3"),
        r = i("3058"),
        c = i("79f6c"),
        l = i("0152"),
        d = i("8ece"),
        u = i("43c3"),
        h = i("50e2"),
        p = i("dc0f"),
        m = i("d257"),
        g = i("d91a"),
        b = i("1fc8"),
        v = i("9a7c");
      const f =
        "https://static.mastergo.com/bsu/icon_sets.json?time=" + Date.now();
      let y = class extends n["g"] {
        constructor() {
          super(...arguments),
            (this.searchValue = ""),
            (this.currentSource = ""),
            (this.svgContent = ""),
            (this.isSearching = !1),
            (this.iconType = ""),
            (this.showTips = !0),
            (this.sourceList = []),
            (this.iconLibMap = {}),
            (this.iconsList = {}),
            (this.actualList = []),
            (this.useCount = 0);
        }
        inputFocus() {
          const e = setTimeout(() => {
            this.$refs.input.focus(), clearTimeout(e);
          }, 400);
        }
        getList(e, t) {
          return Object(c["lb"])(e + t).then((e) => {
            this.iconLibMap[t] = e.data.children;
          });
        }
        changeSource(e) {
          (this.currentSource = e), this.configLib();
        }
        configLib() {
          var e;
          this.iconLibMap[this.currentSource].find(
            (e) => "normal" === e.name && e.children.length
          )
            ? (this.iconType = "normal")
            : (this.iconType = "fill"),
            (this.iconsList = this.iconLibMap[this.currentSource].find(
              (e) => e.name === this.iconType
            )),
            (this.actualList =
              (null === (e = this.iconsList) || void 0 === e
                ? void 0
                : e.children) || []),
            this.searchValue && (this.actualList = this.matchSearch());
        }
        searchIcon() {
          var e, t;
          this.searchValue
            ? (p["n"].setLog("INFO", "userAction", "search icon"),
              (this.actualList =
                ((null === (e = this.iconsList) || void 0 === e
                  ? void 0
                  : e.children) &&
                  this.matchSearch()) ||
                []))
            : (this.actualList =
                (null === (t = this.iconsList) || void 0 === t
                  ? void 0
                  : t.children) || []);
        }
        matchSearch() {
          this.isSearching = !0;
          const e = [];
          for (const t of this.iconsList.children) {
            const i = [];
            for (const e of t.children)
              (Object(m["T"])(e.name, this.searchValue) ||
                e.tag.some((e) => Object(m["T"])(e, this.searchValue))) &&
                i.push(e);
            i.length &&
              e.push({
                name: t.name,
                children: i,
              });
          }
          return (this.isSearching = !1), e;
        }
        changeIconType() {
          var e;
          (this.iconType = "fill" === this.iconType ? "line" : "fill"),
            (this.iconsList = this.iconLibMap[this.currentSource].find(
              (e) => e.name === this.iconType
            )),
            (this.actualList =
              (null === (e = this.iconsList) || void 0 === e
                ? void 0
                : e.children) || []),
            this.searchValue && (this.actualList = this.matchSearch());
        }
        iconDrop(e, t) {
          const { clientX: i, clientY: s } = e,
            { width: o, height: n } = this.$store.state.basicState,
            { offsetLeft: r, offsetTop: c } =
              document.getElementById("middleContainer"),
            h = r + o,
            m = c + n;
          if (r < i && i < h && c < s && s < m) {
            const e = d["a"].convertCoordinates(i - r, s - c),
              o = {
                name: t.name,
                center: {
                  x: Math.round(e.x),
                  y: Math.round(e.y),
                },
              };
            this.useCount ||
              ((this.useCount = 1),
              g["a"].track(b["b"].CONTENT_REEL, {
                action_type: "icon",
              })),
              Object(l["e"])(t.svg, o)
                .then((e) =>
                  Object(a["__awaiter"])(this, void 0, void 0, function* () {
                    var t;
                    d["a"].mergeStepStart();
                    const i = yield d["a"][u["a"].loadMasterData](
                      e,
                      v["e"].Drop
                    );
                    (null ===
                      (t = null === i || void 0 === i ? void 0 : i.selectIds) ||
                    void 0 === t
                      ? void 0
                      : t.length) && d["a"].layers.select(i.selectIds),
                      d["a"].mergeStepEnd();
                  })
                )
                .catch((e) => {
                  console.error(e),
                    p["n"].setLog("ERROR", "userAction", "import svg", {
                      source: "icon lib",
                      layerCount: this.$store.state.newLayer.layerSize,
                      error: e.message,
                    });
                });
          }
          (this.svgContent = ""), (this.showTips = !0);
        }
        iconDragStart(e, t) {
          (this.svgContent = t.svg),
            (this.showTips = !1),
            e.dataTransfer.setDragImage(this.$refs.dragEle, 9, 9),
            e.dataTransfer.setData("text/icon", JSON.stringify(t)),
            h["a"].removeListener("ondrop", this.ondropIconHandler),
            h["a"].addListener("ondrop", this.ondropIconHandler);
        }
        iconDragenter(e) {
          e.preventDefault();
        }
        ondropIconHandler(e) {
          var t;
          const i =
            null === (t = e.dataTransfer) || void 0 === t
              ? void 0
              : t.getData("text/icon");
          i && this.iconDrop(e, JSON.parse(i)),
            h["a"].removeListener("ondrop", this.ondropIconHandler);
        }
        beforeDestroy() {
          h["a"].removeListener("ondrop", this.ondropIconHandler);
        }
      };
      Object(a["__decorate"])(
        [
          Object(n["e"])({
            required: !1,
            default: !1,
          }),
        ],
        y.prototype,
        "dialog",
        void 0
      ),
        (y = Object(a["__decorate"])(
          [
            Object(n["a"])({
              components: {
                MasterToolButton: r["a"],
              },
              computed: {
                currentName() {
                  var e;
                  return (
                    (null ===
                      (e = this.sourceList.find(
                        (e) => e.value === this.currentSource
                      )) || void 0 === e
                      ? void 0
                      : e.label) || ""
                  );
                },
              },
              created() {
                Object(c["lb"])(f)
                  .then((e) => {
                    const t = [];
                    for (const i of e.data.iconSets)
                      if (i.enabled) {
                        const s = e.data.baseUrl;
                        t.push(this.getList(s, i.id));
                        const o = {};
                        (o.label = i.name),
                          (o.value = i.id),
                          (o.icon = i.thumbnail),
                          this.sourceList.push(o);
                      }
                    Promise.all(t).then(() => {
                      var e;
                      (this.currentSource =
                        (null === (e = this.sourceList[0]) || void 0 === e
                          ? void 0
                          : e.value) || ""),
                        this.configLib();
                    });
                  })
                  .catch((e) => {
                    console.error(e);
                  });
              },
            }),
          ],
          y
        ));
      var _ = y,
        C = _,
        S = (i("8d7a"), i("2877")),
        I = Object(S["a"])(C, s, o, !1, null, "3b193daf", null);
      t["a"] = I.exports;
    },
    fdef: function (e, t, i) {
      "use strict";
      i("73b4");
    },
    fea6: function (e, t, i) {},
    fed5: function (e, t, i) {},
  },
]);
